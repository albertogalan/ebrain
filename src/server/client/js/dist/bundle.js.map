{"version":3,"sources":["../../../../../../home/agalan/.npm-global/lib/node_modules/browserify/node_modules/browser-pack/_prelude.js","main.js","node_modules/ckeditor/ckeditor.js","node_modules/money/money.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACntCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","var ctrlI = false;\nvar fx = require('money');\n// var Speech = require('speak-tts')\n\n// Add an event listener\ndocument.addEventListener(\"name-of-event\", function(e) {\n    // console.log(e.detail); // Prints \"Example of an event\"\n});\n\n\n\n\n\n$(document).ready(function() {\n\n    // var b1 = document.getElementById(\"MW\");\n    // b1.tabIndex = 5; //change the default tabindex\n\n\n    function mobile (){\n\n\n   if ($(window).width() < 600) {\n    console.log('this is a mobile device')\nreturn true;\n   }\n   else\n   {\n    console.log('this is a big screen') \n    return false;\n   }\n\n    }\n\n if (mobile()) {\n\nconsole.log('aa')\n    $('#introduction').attr('contenteditable', false)\n  \n    require('ckeditor');\n    CKEDITOR.instances['introduction'].destroy();\n\n }\nelse {\n    \n    $('#introduction').attr('contenteditable', true)\n  \n    require('ckeditor');\n    CKEDITOR.instances['introduction'].destroy();\n    var editor = CKEDITOR.inline(\"introduction\");\n}\n\n    $('.jieba').on('click touchstart', function() {\n         if (mobile()) {\n        text = $(this).text()\n        console.log(text)\n        lang = 'zh'\n        langto = 'en'\n        console.log('doing translation')\n        translate_select(text)\n   \n}\n    });\n\n\n\n    $(\"#menupanel\").on('click touchstart', function() {\n\n        $(\"#commandArea\").show()\n\n    })\n\n\n\n    $(\"#commandArea\").on('click touchstart', function() {\n\n        ss = 600\n\n        if ($(window).width() < 600) {\n\n\n            $(\"#commandArea\").hide(ss / 3)\n\n\n        }\n\n    })\n\n    // $(\"#commandArea\").on('click touchstart', function() {\n    //     ss = 600\n    //     // $(this).css(\"z-index\",200)\n    //     $(\".fanyi\").animate({\n    //         \"top\": 186\n    //     }, ss);\n    // })\n\n    $(\".fanyi\").on('click touchstart', function() {\n\n        ss = 600\n\n        $(\".fanyi\").animate({\n            \"top\": 0\n        }, ss, function() {\n\n\n            $(this).hide(ss / 3)\n\n        });\n\n    })\n\n\n\n    var url = getParameterByName('url');\n    if (url) {\n\n        // console.log(url);\n\n        $(\"#tittle\").val(url);\n        $(\"#rename\").val(url);\n        //  read();\n        //$(\".first_editor\").focus();\n        // $(\"#tittle\").focus().select();\n    } else {\n        $(\"#tittle\").focus().select();\n    }\n\n\n    // loadautosearch(\"/resources/files2.json\");\n\n    window.addEventListener(\"keydown\", function(event) {\n        if (event.defaultPrevented) {\n            return; // Do nothing if the event was already processed\n        }\n\n        switch (event.key) {\n\n            case \"Escape\":\n                // Do something for \"esc\" key press.\n                console.log('press escape')\n                sel = window.getSelection();\n                console.log('sel ' + sel)\n                translate_select(sel);\n                break;\n            default:\n                return; // Quit when this doesn't handle the key event.\n        }\n\n        // Cancel the default action to avoid it being handled twice\n        event.preventDefault();\n    }, true);\n\n\n\n$(\"#small\").click (function(){\n\n$(\"#small\").css(\"background-color\",\"red\")\n$(\"#medium\").css(\"background-color\",\"grey\")\n$(\"#big\").css(\"background-color\",\"grey\")\n$(\".jieba\").css(\"font-size\",\"medium\")\n\n\n})\n\n\n\n$(\"#medium\").click (function(){\n\n$(\"#small\").css(\"background-color\",\"grey\")\n$(\"#medium\").css(\"background-color\",\"red\")\n$(\"#big\").css(\"background-color\",\"grey\")\n$(\".jieba\").css(\"font-size\",\"large\")\n\n\n})\n\n\n$(\"#big\").click (function(){\n\n$(\"#small\").css(\"background-color\",\"grey\")\n$(\"#medium\").css(\"background-color\",\"grey\")\n$(\"#big\").css(\"background-color\",\"red\")\n$(\".jieba\").css(\"font-size\",\"larger\")\n\n\n})\n\n\n    $(\"button#testspeech\").click(function() {\n\n        //if you use es5\n        // Speech.init({\n        //     'onVoicesLoaded': (data) => { console.log('voices', data.voices) },\n        //     'lang': 'zh-CN', // specify en-US language (no detection applied)\n        //     'volume': 0.5,\n        //     'rate': 0.8,\n        //     'pitch': 0.8,\n        //     'voice': 'Samantha'\n        // })\n        // Speech.speak({\n        //     text: 'Hello, how are you today ?',\n        //     onError: (e) => {console.log('sorry an error occurred.', e)}, // optionnal error callback\n        //     onEnd: () => {console.log('your text has successfully been spoken.')} // optionnal onEnd callback\n        // })\n        document.addEventListener(\"deviceready\", onDeviceReady, false);\n\n        function onDeviceReady() {\n\n            window.TTS.speak({\n                text: 'Welcome to the app!',\n                locale: 'en-GB',\n                rate: 0.75\n            }, function() {\n                alert('success');\n            }, function(reason) {\n                alert(reason);\n\n\n            });\n        }\n\n    })\n\n\n\n    function translate_select(texto) {\n        $(\".fanyi\").show()\n\n        console.log(texto)\n        lang = 'zh'\n        langto = 'en'\n        console.log('doing translation ..')\n        fanyi(texto, lang, langto).then(function(aa) {\n            aa.dst = aa.pinyin + \"<br>\" + aa.translate + aa.handi\n            var trad = aa.src + ': </br> ' + aa.pinyin + '</br>' + aa.translate + '</br> ' + aa.handi;\n            $('#fanyi55').html(trad)\n            $('#audiofanyi').attr('src', aa.audio)\n            $('#audiofanyi').attr('autoply', true)\n        });\n    }\n\n    $(\".jieba\").dblclick(function() {\n        // text = window.getSelection().toString()\n        if (! mobile())\n        {\n        text = $(this).text()\n        console.log(text)\n        translate_select(text)\n            \n        }\n    })\n\n    $(\"button#puttogether\").click(function() {\n        sel = editor.extractSelectedHtml()\n        aa = sel.getHtml().replace(/<br>/gm, '')\n        editor.insertHtml(aa);\n    })\n\n\n\n    // $('.jieba').on('click touchstart', function() {\n    //       text = $(this).text()\n    //       console.log(text)\n    //       lang = 'zh'\n    //       langto = 'en'\n    //       console.log('doing translation')\n    //       translate_select(text)\n    //   });\n\n\n\n\n\n    $(\"#editmode\").click(function() {\n        // CKEDITOR.instances['introduction'].destroy();\n        // var editor = CKEDITOR.inline(\"introduction\");\n\n        if ($('#editmode').is(':checked')) {\n            $('#introduction').attr('contenteditable', true)\n            // editor.readOnly = false\n        } else {\n            $('#introduction').attr('contenteditable', false)\n            // editor.readOnly = true\n\n            console.log('read mode')\n        }\n    })\n\n    $(\"button#jieba3\").click(function() {\n        // sel = editor.getSelection().getSelectedText()\n\n        console.log(\"click in jieba button\")\n        console.log(url)\n\n\n        $(\"div.page:eq(2)  span.line\").map(function(val, e) {\n            // console.log($(e).html())\n            let dd = {}\n            dd.data = $(e).html()\n            dd.i = val\n            console.log(val)\n            url = \"http://i487.lxc/ebrain/jieba\"\n            $.post(url, dd).done(function(resp) {\n                b = $.map(resp, function(n) {\n                    aa = $('<span class=\"jieba\"></span>').text(n)\n                    return aa.prop('outerHTML')\n                })\n                resultado = b.join(\"\")\n                // $(\"div.page:eq(2)  span.line:eq(\" + val + \")\").html(resultado)\n                console.log(resultado)\n            });\n\n\n\n        })\n    })\n\n\n    $(\"button#jieba2\").click(function() {\n        sel = editor.getSelection().getSelectedText()\n        url = \"http://i487.lxc/ebrain/jieba\"\n\n        console.log(\"click in jieba button\")\n        console.log(url)\n        let dd = {}\n        dd.data = sel\n        $.post(url, dd).done(function(resp) {\n            b = $.map(resp, function(n) {\n                aa = $('<span class=\"jieba\"></span>').text(n)\n                return aa.prop('outerHTML')\n            })\n\n            editor.insertHtml(b.join(\"\"))\n        });\n    })\n\n\n   $(\"button#jiebaauto\").click(function() {\n        $(\"p\").css('color', 'red')\n        let lang = 'zh'\n        let langto = 'en'\n        let selector=\"p:not(.converted):eq(0)\"\n        let sel = $(selector).text()\n\n          url = \"http://i487.lxc/ebrain/jieba\"\n\n        console.log(\"click in auto jieba button\")\n        console.log(url)\n        let dd = {}\n        dd.data = sel\n        $.post(url, dd).done(function(resp) {\n            b = $.map(resp, function(n) {\n                aa = $('<span class=\"jieba\"></span>').text(n)\n                return aa.prop('outerHTML')\n            })\n            $(selector).html(b.join(\"\"))\n            $(selector).attr(\"class\",\"converted\")\n\n            // editor.insertHtml(b.join(\"\"))\n        });\n\n    })\n\n    $(\"button#autotrans\").click(function() {\n        $(\"span[lang='zh-cn']\").css('color', 'red')\n        let lang = 'zh'\n        let langto = 'en'\n        let bb = $(\"span[lang='zh-cn']:eq(1)\").text()\n        console.log(`to translate: ${bb}`)\n        fanyi(bb, 'zh', 'en').then(function(aa) {\n            let translation = \"<span class='original' lang='\" + lang + \"' data-pseudo-content='\" + aa.src + \"' >&nbsp;</span><span class='translate'  lang='\" + langto + \"' >\" + aa.translate + \"</span>\"\n            console.log(aa.i)\n            $(\"span[lang='zh-cn']:eq(1)\").html(translation)\n            $(\"span[lang='zh-cn']:eq(1)\").attr('lang', '')\n        })\n\n    })\n\n\n\n    $(\"button#position\").click(function() {\n        console.log('clicked save position')\n        $(\"#scrollArea\").scrollTop()\n\n\n    });\n\n    $(\"button#trans\").click(function() {\n        console.log('clicked translate')\n        $(\".translate\").show();\n        $(\".original\").hide();\n\n\n    });\n\n    $(\"button#showtranslate\").click(function() {\n        console.log('clicked showtranslate')\n        $(\".translate\").show();\n        $(\".original\").show();\n\n    });\n\n\n    $(\"button#addabsolutepath\").click(function() {\n\n        console.log('clicked addabsolutepath2')\n\n\n        $('img').each(function(i, v) {\n            if ($(this).attr('src').includes(\"http\")) {\n                console.log('not change')\n\n            } else {\n                var aaa = document.location.origin + $(this).attr('src');\n                $(this).attr('src', aaa);\n                console.log($(this).attr('src'))\n            }\n        });\n\n    });\n\n    $(\"button#sharelink\").click(function() {\n\n\n        console.log('clicked sharelink ')\n        console.log(document.location.origin + \"/ebrain?url=\" + $('#tittle').val())\n\n        data = { url: $('#tittle').val() }\n        $.post('ebrain/sharelink', data).done(function(resp) {\n\n\n            $('#sharelink').attr('href', '/view.php?url=' + resp.hash)\n\n        })\n        // $.getJSON(?url=' + ,\n        //     function(data) {\n\n\n        //     })\n\n\n    });\n\n    $(\"button#updatecost\").click(function() {\n        console.log('clicked updatedcost ')\n\n        $.getJSON(\n            // NB: using Open Exchange Rates here, but you can use any source!\n            'https://openexchangerates.org/api/latest.json?app_id=960f0b8dca9344328b13ef816957d810',\n            function(data) {\n                // Check money.js has finished loading:\n                if (typeof fx !== \"undefined\" && fx.rates) {\n                    fx.rates = data.rates;\n                    fx.base = data.base;\n\n\n                    console.log('updating cost...')\n\n                    $('.cost').each(function(i, v) {\n                        aa = $(this).attr('data-cost')\n                        total = Math.round(fx(aa).from(\"CNY\").to(\"EUR\") / 0.0095) / 100;\n                        console.log(\"converting CNY into EUR\" + fx(1).from(\"CNY\").to(\"EUR\"));\n                        $(this).text(total)\n                    });\n\n                } else {\n                    // If not, apply  to fxSetup global:\n                    var fxSetup = {\n                        rates: data.rates,\n                        base: data.base\n                    }\n\n                }\n                var d = new Date();\n                var datetime = d.getFullYear() + '-' + d.getMonth() + '-' + d.getDate();\n                editor.insertHtml(\"<span class='information'> date: \" + datetime + \" CNY to EUR Convert rate is  \" + fx(1).from(\"CNY\").to(\"EUR\") + \"</span>\")\n            }\n        );\n\n\n\n\n\n\n    });\n    // https://openexchangerates.github.io/money.js/#download\n\n\n    $(\"#tittle\").focusout(function() {\n        // console.log('1');\n\n        console.log($(\"#tittle\").val());\n        $(\"#rename\").val($(\"#tittle\").val());\n        $('.first_editor').attr('id', $(\"#tittle\").val());\n        $('.first_editor').attr(\"contenteditable\", \"true\");\n        $('.first_editor').focus();\n        read();\n        // editor.setData($( \"#hidden\" ).html());  // load data in the editor\n\n        // hljs.initHighlightingOnLoad();\n\n    });\n\n\n\n\n    $(\"#rename\").focusout(function() {\n        // console.log('2');\n\n        if ($(\"#tittle\").val() == $(\"#rename\").val())\n\n            // editor.setData($( \"#hidden\" ).html());  // load data in the editor\n            read();\n        else {\n            rename();\n        }\n\n\n    });\n\n\n\n\n\n\n\n    document.addEventListener('paste', function(e) {\n        //    var html = e.clipboardData.getData (\"Text\");\n        // e.preventDefault();\n        //      if ( ctrlI ){\n        //        // CKEDITOR.instances['introduction'].destroy();\n        //        //\n        //        //    var editor = CKEDITOR.inline(\"introduction\");\n        //\n        //        console.log (\"paste event\");\n        //        // editor.insertHtml(html);\n        //      }\n        //    // var html = e.clipboardData.getData('text/html');\n        //    console.log(html);\n        //    // Whatever you want to do with the html\n    });\n\n\n    editor.on('paste', function(evt) {\n        evt.stop();\n        var data = evt.data.dataValue;\n\n        if (window.chrome || window.safari) {\n            // removing span wrapper on webkit browsers.\n            data = $(data).html();\n        }\n        evt.editor.insertHtml(data);\n    });\n\n\n\n    editor.on('key', function(evt) {\n        // console.log('3');\n        //http://stackoverflow.com/questions/4401469/how-to-select-a-text-range-in-ckeditor-programatically\n\n        var charCode = evt.data.keyCode; // at the moment this is wrong, keyCode needs to be properly converted to charCode\n        // var clipboardData = evt.data.dataValue;\n        console.log(charCode);\n        var tag = \"h1\";\n        //  console.log(selectedText);\n        switch (charCode) {\n            case 1114161: // Ctrl 1\n                tag = \"<h1></h1>\";\n                break;\n            case 1114162: // Ctrl 2\n                tag = \"<h2></h2>\";\n                break;\n            case 1114163: // Ctrl 3\n                tag = \"<h3></h3>\";\n                break;\n            case 1114164: // Ctrl 4\n                tag = \"<h4></h4>\";\n                break;\n            case 1114166: // Ctrl 6\n                tag = \"<h5></h5>\";\n                break;\n            case 1114169: // Ctrl 6\n                editor.insertHtml(\"<div class='savetofile'>put text</div>\");\n                break;\n\n            case 1114300: // Ctrl ,\n                console.log('convert Coin');\n\n                sel = editor.getSelection().getSelectedText()\n                console.log(sel)\n\n                editor.insertHtml(convertCoin(sel, \"yuan\", \"euro\"))\n                $('p:has(span.cost)').addClass('middle');\n\n                break;\n\n\n            case 1114304: // Ctrl `\n                console.log('request fanyi');\n                let lang = $(\"#lang\").val(),\n                    langto = $(\"#langto\").val()\n\n\n\n                sel = editor.getSelection().getSelectedText().replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, \"\");\n                if (sel.length > 0) {\n                    fanyi(sel, lang, langto).then(function(aa) {\n                        let translation = \"<span class='original' lang='\" + lang + \"' data-pseudo-content='\" + aa.src + \"' >&nbsp;</span><span class='translate'  lang='\" + langto + \"' >\" + aa.translate + \"</span>\"\n                        editor.insertHtml(translation);\n                    })\n                }\n\n\n\n                break;\n\n\n\n\n            case 5570638: // Ctrl Alt N\n                // tag=\"<b></b>\";\n                tag = \"<em></em>\"; //emphasis\n                break;\n\n            case 5570637: // Ctrl Alt M\n                tag = \"<mark></mark>\";\n                break;\n            case 5570628: // Ctrl Alt D\n                var d = new Date();\n                var datetime = d.getFullYear() + '-' + d.getMonth() + '-' + d.getDate();\n                tag = \"<del datetime=\" + datetime + \" title=\" + datetime + \"></div>\"; //del text\n                break;\n            case 5570633: // Ctrl Alt I\n                tag = \"<em></em>\"; //emphasis\n                break;\n            case 2228314: // Shift Z   Test\n                $(\"#cke_3_top\").toggle();\n                break;\n            case 3342408: // CTRL Shift H  Hide/show tool bar\n                // evt.data.stopPropagation();\n                // evt.data.preventDefault();\n                $(\"#cke_3_top\").toggle();\n                break;\n            case 1114195: //Ctrl S save a version\n                version();\n                if ($('.savetofile').length > 0)\n                    save(evt, \"savetofile\");\n\n                break;\n\n            case 3342404: // Ctrl Shift D  Insert detail/Summary html\n                var sel = editor.getSelection().getSelectedText();\n                if (sel.length > 0) {\n                    var details = new CKEDITOR.dom.element('details');\n                    details.setHtml(' <summary>' + sel + '</summary><p>More info about the details.</p>');\n                    editor.insertElement(details);\n                }\n                break;\n            case 1114191: // Ctrl O  Open codeSnippet dialog\n                editor.execCommand('codeSnippet'); //widget\n                break;\n\n            case 1114185: // Ctrl I  Inserthtml\n                // var sel = editor.getSelection().getSelectedText();\n                ctrlI = !ctrlI;\n\n                // evt.data.dataValue = evt.data.dataValue\n                // editor.fire( 'paste',editor);\n                // console.log(e.clipboardData.getData('text/html'));\n\n                // This code obviously will not preserve the case of the first and last letters.\n                // Let it be an exercise for the reader ;).\n                // editor.execCommand( 'inserthtml4x');  //widget\n\n                break;\n\n            case 1114182: // Ctrl F open dialog Find and replace\n                editor.execCommand('find');\n                break;\n\n            case 3342402: // Ctrl Shift B\n                editor.insertHtml(\"<br/>\");\n                break;\n                // case 7798868:// Ctrl ALT SHIT T\n                //   editor.insertHtml( \"<table class=table1Class' > <tbody> \\\n                //      <tr><td>1</td><td>2</td></tr><tr><td>1</td><td>2</td></tr> \\\n                //      </tbody></table>\");\n                //   //  editor.insertHtml( clipboardData);\n                //     // console.log(clipboardData);\n                //    break;\n            case 3342422: // Ctrol shift V\n                texto = 'Crtl + SHIFT V'; // Ctrl 1\n                // text = window.clipboardData.getData(\"Text\");\n                // console.log(texto);\n                // editor.insertHtml( clipboardData);\n                // console.log(texto);\n                break;\n            default:\n                texto = 'Other key';\n        }\n\n\n        var keypress = [1114161, 1114162, 1114163, 1114164, 1114166, 1114169, 5570637, 5570628, 5570633, 5570638];\n        // console.log(keypress.indexOf(charCode));\n        if (keypress.indexOf(charCode) > -1) { // retag the select area\n            var sel = editor.getSelection().getSelectedText();\n            if (sel.length > 0) {\n                //  var newElement = new CKEDITOR.dom.element(tag);\n                var newElement = CKEDITOR.dom.element.createFromHtml(tag)\n                // newElement.setAttributes({style: ''});\n                newElement.setText(sel);\n                editor.insertElement(newElement);\n            } else {\n                var newElement = new CKEDITOR.dom.element(tag);\n                // newElement.setAttributes({style: ''});\n                newElement.setText(sel);\n                //  editor.insertElement(newElement).selectElement();\n                //  editor.getSelection().selectElement(newElement);\n\n            }\n        }\n\n\n    });\n\n\n\n\n\n    // override shortcut firefox keyboard\n    $('.first_editor').keypress(function(event) {\n\n        // console.log('4');\n\n\n        // console.log('evento es: '+ event.key +'shift: '+event.ctrlKey + 'crtl: '+ event.ctrlKey);\n        var a = event.key;\n        var b = event.ctrlKey;\n        var c = event.shiftKey;\n        var d = event.altKey;\n        var response = event.key + event.ctrlKey + event.shiftKey + event.altKey;\n        //  console.log(response);\n        // console.log(b);\n        switch (true) {\n\n\n            case (a == 'F' && b && c && d):\n                var sel = editor.getSelection().getSelectedText();\n                sel = sel.replace(/\\s+/g, '+');; //replace any space with +\n                openInNewTab('https://en.wikipedia.org/w/index.php?search=' + sel);\n                // console.log(sel);\n                break;\n\n            case (a == 'F' && b && c):\n                var sel = editor.getSelection().getSelectedText();\n                sel = sel.replace(/\\s+/g, '+');; //replace any space with +\n                openInNewTab('https://www.google.com/search?q=' + sel);\n                // console.log(sel);\n                break;\n\n\n            case (a == 'H' && b && c):\n            case (a == 's' && b):\n                event.preventDefault(); //avoid other shortcut keys\n                break;\n\n                // case (a == 'L' && b  && c) : // Ctrl Shift L\n                //      event.preventDefault(); //avoid other shortcut keys\n                //     text = editor.getClipboardData(\"Text\");\n                //\n                //      console.log(text);\n                //\n                // break;\n\n\n\n\n            case (a == 'i' && b && d): //Ctrl Alt i\n                editor.execCommand('mathjax'); //widget\n                break;\n\n            case (a == 'i' && b):\n                // console.log('press ctrl I');\n                event.preventDefault(); //avoid other shortcut keys\n\n                editor.execCommand('inserthtml4x'); //widget\n                break;\n\n\n\n        }\n\n\n        // if (event.key === 'H' && event.ctrlKey && event.shiftKey  )\n        //     event.preventDefault();\n        // if (event.key === 's' && event.ctrlKey  )\n        //     event.preventDefault();\n    });\n\n\n    editor.on('paste', function(evt) {\n\n        //\n        // if ( ctrlI == 1){\n        //\n        //   // var html = editor.getClipboardData(\"Text\");\n        //   // console.log (\"paste event\" + html);\n        //   // editor.insertHtml(html);\n        //   ctrlI=0;\n        //   editor.getClipboardData( { title: 'Get my data' }, function( data ) {\n        //       if ( data )\n        //           console.log( 'data is: ' + data.dataValue );\n        //   } );\n        //\n        // }\n        //\n\n\n\n\n        // highlightjsworkers();\n    });\n\n\n    editor.on('focus', function(evt) {\n        //         // highlightjsworkers();\n        // console.log('loose focus command Area')\n        // $(\"#commandArea\").css(\"z-index\",0)\n        // $(\".fanyi\").css(\"z-index\",30)\n\n\n\n    });\n\n    editor.on('click', function(evt) {\n\n        console.log('click');\n\n    });\n\n    editor.on('doubleclick', function(evt) {\n        var element = evt.data.element;\n        //console.log('doubleclick');\n        classe = element.getAttribute(\"class\");\n        console.log('doubleclick in class ' + classe)\n        if (classe == 'jieba') {\n            var text = window.getSelection();\n            console.log(text)\n            translate_select(text);\n        }\n        if (classe == 'videolink') {\n            loadVideo(element);\n        }\n        classe = element.getAttribute(\"class\");\n        if (classe == 'videolink') {\n            loadVideo(element);\n        }\n        var tag = element.getName();\n        // console.log(tag);\n        if (tag == 'a') {\n            url = element.getAttribute(\"href\");\n            openInNewTab(url);\n            // console.log ('click link'+ url);\n        }\n\n    });\n\n    editor.on('blur', function(evt) {\n        console.log(\"blurr\");\n        save(evt, \"save\");\n    });\n\n    editor.on('change', function(evt) {\n        // console.log( 'Total bytes: ' + evt.editor.getData().length );\n        // console.log('saved'+$( \"#tittle\" ).val());\n        // $.post( \"/inc/save.php\", { editabledata: evt.editor.getData(), editorID: $( \"#tittle\" ).val() } );\n    });\n});\n\n\nfunction openInNewTab(url) {\n    var win = window.open(url, '_blank');\n    win.focus();\n}\n\nfunction hashCode(str) {\n    var hash = 0;\n    if (str.length == 0) return hash;\n    for (i = 0; i < str.length; i++) {\n        char = str.charCodeAt(i);\n        hash = ((hash << 5) - hash) + char;\n        hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n}\n\n\nfunction convertCoin(value, coin, tocoin) {\n    console.log('convertCoin')\n\n    let aa = \"<span data-cost='\" + value + \"' data-coin='\" + coin + \"' data-coin-convert='\" + tocoin + \"' class='cost'>To convert \" + coin + \" into \" + tocoin + \" \" + value + \"</span>\"\n    // $('td p:has(span.cost)').addClass('middle');\n    return aa\n}\n\n\nfunction doSomething() {\n    return new Promise((resolve, reject) => {\n        console.log(\"It is done.\");\n        // Succeed half of the time.\n        if (Math.random() > .5) {\n            resolve(\"SUCCESS\")\n        } else {\n            reject(\"FAILURE\")\n        }\n    })\n}\n\nfunction fanyi(text, lang, langto) {\n    return new Promise((resolve, reject) => {\n        var url = document.location.origin + '/fanyi'\n        var data = {\n            \"from\": lang,\n            \"to\": langto,\n            \"src\": text,\n            \"i\": '1'\n        };\n        var encode_params = $.param(data, true)\n        var url = url + '?' + encode_params\n\n        $.getJSON(url, function(data) {\n\n            resolve(data)\n        });\n\n\n    })\n\n\n}\n\n\n\n\n\n\n\n\nfunction message(str) {\n\n    $(\"#textinfo\").html(str).css({ opacity: 0.99 });\n    $(\"#textinfo\").animate({ opacity: 0 }, 1200);\n}\n\nfunction basename(path, suffix) {\n    var b = path\n    var lastChar = b.charAt(b.length - 1)\n\n    if (lastChar === '/' || lastChar === '\\\\') {\n        b = b.slice(0, -1)\n    }\n\n    b = b.replace(/^.*[\\/\\\\]/g, '')\n\n    if (typeof suffix === 'string' && b.substr(b.length - suffix.length) === suffix) {\n        b = b.substr(0, b.length - suffix.length)\n    }\n\n    return b\n}\n\n\nfunction dirname(path) {\n    return path.replace(/\\\\/g, '/').replace(/\\/[^\\/]*\\/?$/, '')\n}\n\nfunction agregatext(selector) {\n    var texts = '';\n\n    $(\".first_editor\").children(selector).each(function() {\n\n        $(this).children(\"p\").each(function() {\n\n            texts += $(this).text() + \"\\r\\n\";\n\n        });\n\n        var allListElements = $(\"li br\");\n\n        $(\".first_editor\").find(allListElements).each(function()\n            // $(this).nextAll(\"li\").each(function()\n            {\n                texts += \"  \" + $(this).contents().get(0).nodeValue + \"\\r\\n\";\n\n            });\n\n\n\n\n\n    });\n\n\n    return texts;\n}\n\n\n\n\n\n\nfunction save(evt, action) {\n\n\n    switch (action) {\n        case \"save\": // editor save content\n            console.log(\"editor save 2\");\n            $.post(\"/inc/save.php\", { action: \"save\", data: evt.editor.getData(), path: \"/data/rw1/m1\", file: $(\"#tittle\").val() });\n            //  to prevent time consuming\n            //  read();\n            message(\"file saved\");\n\n\n\n\n            break;\n        case \"savetofile\":\n            console.log(\"save text\");\n            var file = $(\".first_editor\").children(\".path\").text();\n            console.log(file);\n            message(\"file saved \" + file);\n\n\n            // var file = \"/data/m3/mm.mm\";\n            var path = dirname(file);\n            var file = basename(file, '');\n            // var data='';\n            // $(\"#savetofile\").each(function() {\n            //    data = data  +  $(this).val();\n            //    //code\n            // });\n            data = agregatext(\".savetofile\");\n            //  data=\"test\";\n            console.log(data);\n            console.log(path);\n            console.log(file);\n\n            $.post(\"/inc/save.php\", { action: \"save\", data: data, path: path, file: file });\n\n\n            // console.log(path.basename(str, '.html'));\n\n            break;\n        default:\n\n\n            console.log(\"save default\");\n\n    }\n\n\n\n\n    //  console.log(\"hascode is is: \" + hashCode($( \"#hidden\" ).text()));\n    // console.log (\"1 \" +hashCode($( \"#hidden\" ).text()));\n    // console.log (\"2 \" +$( \"#hash\" ).text());\n\n}\n\n\nfunction read() {\n\n\n\n    $.get('/m1/' + $(\"#tittle\").val(), { \"_\": $.now() }, function(data2) {\n        console.log(\"reading file \" + '/m1/' + $(\"#tittle\").val());\n\n\n        // console.log(data);\n        //  $('#hidden').html(data2);\n        $('.first_editor').html(data2);\n\n        highlightjsworkers();\n\n\n        // $('.first_editor').html(data);\n\n    }).done(function() {\n\n\n        // if (hashCode($( \"#hidden\" ).text()) == $( \"#hash\" ).text()   )\n        // message(\"no modifiations\");\n        // else {\n        //   message (\"saved!\")\n        //   $( \"#hash\" ).html(hashCode($( \"#hidden\" ).text()));}\n        //\n    }).fail(function() {\n        //$('.first_editor').html(\"<h1>error 404 no file</h1>\"); // or whatever\n    }, 'text');\n\n}\n\nfunction highlightjsworkers() {\n\n    // hljs.initHighlightingOnLoad();\n    $('pre code').each(function(i, block) {\n        hljs.highlightBlock(block);\n    });\n\n    //  var code = document.querySelector('pre code');\n    //  var worker = new Worker('/js/worker.js');\n    //  if (!worker.onmessage) {//avoid null object in case doesnt exists\n    //  worker.onmessage = function(event) { code.innerHTML = event.data; }\n    // // worker.postMessage(code.textContent);\n    // }\n};\n\n\n//rename file\nfunction rename() {\n\n    console.log(\"change this file: \" + $(\"#tittle\").val() + \" by this file: \" + $(\"#rename\").val());\n    $.post(\"/inc/save.php\", { action: \"rename\", file: $(\"#tittle\").val(), path: \"/data/rw1/m1\", fileout: $(\"#rename\").val() }, function() {\n            $(\"#tittle\").val($(\"#rename\").val());\n        })\n        .done(function() {\n            message(\"file renamed to \" + $(\"#rename\").val());\n        })\n        .fail(function() {\n            alert(\"error\");\n        });\n\n};\n\n\n//rename file\nfunction version() {\n\n    console.log(\"creating a new version of this: \" + $(\"#tittle\").val());\n\n    $.post(\"/inc/save.php\", { action: \"version\", file: $(\"#tittle\").val(), path: \"/data/rw1/m1\", fileout: $(\"#rename\").val() }, function() {\n            $(\"#tittle\").val($(\"#rename\").val());\n        })\n        .done(function() {\n            message(\"New version backed\");\n        })\n        .fail(function() {\n            alert(\"error\");\n        });\n\n};\n\n\n\n\n\n\nfunction loadautosearch(source) {\n\n    var options = {\n        url: source,\n        getValue: \"filename\",\n        // minLength: 3,\n        //  autoFocus: true,\n        //  my : \"100 100\",\n        //  at: \"bottom\" ,\n        //  of:\"#tittle\",\n\n        template: {\n            type: \"description\",\n            fields: {\n                // description: \"email\"\n            }\n        },\n        list: {\n            match: {\n                enabled: true\n            }\n        },\n\n        theme: \"plate-dark\"\n    };\n\n    $(\"#tittle\").easyAutocomplete(options);\n\n};\n\n\n\n\n\nfunction loadVideo(element) {\n\n    console.log('element is videolink');\n    console.log(element.getAttribute(\"value\"));\n    src = element.getAttribute(\"value\");\n    // $('video.videoread source').attr('src', src);\n    $('#video').show();\n    $('#my-player_html5_api').attr('src', src);\n    $('#my-player_html5_api').load();\n    $('#my-player_html5_api').play();\n    // $(\"video.videoread\")[0].load();\n    // $(\"video.videoread\")[0].play();\n    // evt.data.dialog = 'tableProperties'   ;\n\n}\n\n\n\nfunction getParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n\nfunction insertBaidumap() {\n\n\n    var map = new BMap.Map(\"allmap\"); // 创建Map实例\n    map.centerAndZoom(new BMap.Point(116.404, 39.915), 11); // 初始化地图,设置中心点坐标和地图级别\n    //添加地图类型控件\n    map.addControl(new BMap.MapTypeControl({\n        mapTypes: [\n            BMAP_NORMAL_MAP,\n            BMAP_HYBRID_MAP\n        ]\n    }));\n    map.setCurrentCity(\"北京\"); // 设置地图显示的城市 此项是必须设置的\n    map.enableScrollWheelZoom(true); //开启鼠标滚轮缩放\n\n}","/*\nCopyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n*/\n(function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\\\\/])ckeditor\\.js(?:\\?.*|;.*)?$/i,e={timestamp:\"I3I8\",version:\"4.9.2 (Standard)\",revision:\"95e5d83ee\",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:\"unloaded\",basePath:function(){var b=window.CKEDITOR_BASEPATH||\"\";if(!b)for(var c=document.getElementsByTagName(\"script\"),e=0;e<c.length;e++){var g=c[e].src.match(a);if(g){b=g[1];break}}-1==b.indexOf(\":/\")&&\"//\"!=\nb.slice(0,2)&&(b=0===b.indexOf(\"/\")?location.href.match(/^.*?:\\/\\/[^\\/]*/)[0]+b:location.href.match(/^[^\\?]*\\/(?:)/)[0]+b);if(!b)throw'The CKEditor installation path could not be automatically detected. Please set the global variable \"CKEDITOR_BASEPATH\" before creating editor instances.';return b}(),getUrl:function(a){-1==a.indexOf(\":/\")&&0!==a.indexOf(\"/\")&&(a=this.basePath+a);this.timestamp&&\"/\"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a)&&(a+=(0<=a.indexOf(\"?\")?\"\\x26\":\"?\")+\"t\\x3d\"+this.timestamp);\nreturn a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener(\"DOMContentLoaded\",a,!1),b()):document.attachEvent&&\"complete\"===document.readyState&&(document.detachEvent(\"onreadystatechange\",a),b())}catch(g){}}function b(){for(var a;a=c.shift();)a()}var c=[];return function(g){function b(){try{document.documentElement.doScroll(\"left\")}catch(f){setTimeout(b,1);return}a()}c.push(g);\"complete\"===document.readyState&&setTimeout(a,1);if(1==c.length)if(document.addEventListener)document.addEventListener(\"DOMContentLoaded\",\na,!1),window.addEventListener(\"load\",a,!1);else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",a);window.attachEvent(\"onload\",a);g=!1;try{g=!window.frameElement}catch(m){}document.documentElement.doScroll&&g&&b()}}}()},b=window.CKEDITOR_GETURL;if(b){var c=e.getUrl;e.getUrl=function(a){return b.call(e,a)||c.call(e,a)}}return e}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var e=CKEDITOR.event.prototype,b;for(b in e)null==a[b]&&(a[b]=e[b])},\nCKEDITOR.event.prototype=function(){function a(a){var d=e(this);return d[a]||(d[a]=new b(a))}var e=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var b=0,e=this.listeners;b<e.length;b++)if(e[b].fn==a)return b;return-1}};return{define:function(b,d){var e=a.call(this,b);CKEDITOR.tools.extend(e,d,!0)},on:function(b,d,e,k,g){function h(f,a,g,n){f={name:b,sender:this,editor:f,\ndata:a,listenerData:k,stop:g,cancel:n,removeListener:m};return!1===d.call(e,f)?!1:f.data}function m(){n.removeListener(b,d)}var f=a.call(this,b);if(0>f.getListenerIndex(d)){f=f.listeners;e||(e=this);isNaN(g)&&(g=10);var n=this;h.fn=d;h.priority=g;for(var p=f.length-1;0<=p;p--)if(f[p].priority<=g)return f.splice(p+1,0,h),{removeListener:m};f.unshift(h)}return{removeListener:m}},once:function(){var a=Array.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,\narguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,b=function(){a=1},l=0,k=function(){l=1};return function(g,h,m){var f=e(this)[g];g=a;var n=l;a=l=0;if(f){var p=f.listeners;if(p.length)for(var p=p.slice(0),r,v=0;v<p.length;v++){if(f.errorProof)try{r=p[v].call(this,m,h,b,k)}catch(x){}else r=p[v].call(this,m,h,b,k);!1===r?l=1:\"undefined\"!=typeof r&&(h=r);if(a||l)break}}h=\nl?!1:\"undefined\"==typeof h?!0:h;a=g;l=n;return h}}(),fireOnce:function(a,b,l){b=this.fire(a,b,l);delete e(this)[a];return b},removeListener:function(a,b){var l=e(this)[a];if(l){var k=l.getListenerIndex(b);0<=k&&l.listeners.splice(k,1)}},removeAllListeners:function(){var a=e(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=e(this)[a])&&0<a.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=\nfunction(a,e){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,e,this)},CKEDITOR.editor.prototype.fireOnce=function(a,e){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),e=a.match(/edge[ \\/](\\d+.?\\d*)/),b=-1<a.indexOf(\"trident/\"),b=!(!e&&!b),b={ie:b,edge:!!e,webkit:!b&&\n-1<a.indexOf(\" applewebkit/\"),air:-1<a.indexOf(\" adobeair/\"),mac:-1<a.indexOf(\"macintosh\"),quirks:\"BackCompat\"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf(\"mobile\"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;return a!=b&&a!=\"[\"+b+\"]\"},secure:\"https:\"==location.protocol};b.gecko=\"Gecko\"==navigator.product&&!b.webkit&&!b.ie;b.webkit&&(-1<a.indexOf(\"chrome\")?b.chrome=\n!0:b.safari=!0);var c=0;b.ie&&(c=e?parseFloat(e[1]):b.quirks||!document.documentMode?parseFloat(a.match(/msie (\\d+)/)[1]):document.documentMode,b.ie9Compat=9==c,b.ie8Compat=8==c,b.ie7Compat=7==c,b.ie6Compat=7>c||b.quirks);b.gecko&&(e=a.match(/rv:([\\d\\.]+)/))&&(e=e[1].split(\".\"),c=1E4*e[0]+100*(e[1]||0)+1*(e[2]||0));b.air&&(c=parseFloat(a.match(/ adobeair\\/(\\d+)/)[1]));b.webkit&&(c=parseFloat(a.match(/ applewebkit\\/(\\d+)/)[1]));b.version=c;b.isCompatible=!(b.ie&&7>c)&&!(b.gecko&&4E4>c)&&!(b.webkit&&\n534>c);b.hidpi=2<=window.devicePixelRatio;b.needsBrFiller=b.gecko||b.webkit||b.ie&&10<c;b.needsNbspFiller=b.ie&&11>c;b.cssClass=\"cke_browser_\"+(b.ie?\"ie\":b.gecko?\"gecko\":b.webkit?\"webkit\":\"unknown\");b.quirks&&(b.cssClass+=\" cke_browser_quirks\");b.ie&&(b.cssClass+=\" cke_browser_ie\"+(b.quirks?\"6 cke_browser_iequirks\":b.version));b.air&&(b.cssClass+=\" cke_browser_air\");b.iOS&&(b.cssClass+=\" cke_browser_ios\");b.hidpi&&(b.cssClass+=\" cke_hidpi\");return b}()),\"unloaded\"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);\nCKEDITOR.loadFullCore=function(){if(\"basic_ready\"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement(\"script\");a.type=\"text/javascript\";a.src=CKEDITOR.basePath+\"ckeditor.js\";document.getElementsByTagName(\"head\")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status=\n\"basic_ready\",a&&a._load?a():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*e))})})();CKEDITOR.status=\"basic_loaded\"}(),\"use strict\",CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(a,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire(\"log\",{type:\"warn\",errorCode:a,additionalData:e})},CKEDITOR.error=function(a,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire(\"log\",\n{type:\"error\",errorCode:a,additionalData:e})},CKEDITOR.on(\"log\",function(a){if(window.console&&window.console.log){var e=console[a.data.type]?a.data.type:\"log\",b=a.data.errorCode;if(a=a.data.additionalData)console[e](\"[CKEDITOR] Error code: \"+b+\".\",a);else console[e](\"[CKEDITOR] Error code: \"+b+\".\");console[e](\"[CKEDITOR] For more information about this error go to https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_errors-section-\"+b)}},null,null,999),CKEDITOR.dom={},function(){var a=[],e=CKEDITOR.env.gecko?\n\"-moz-\":CKEDITOR.env.webkit?\"-webkit-\":CKEDITOR.env.ie?\"-ms-\":\"\",b=/&/g,c=/>/g,d=/</g,l=/\"/g,k=/&(lt|gt|amp|quot|nbsp|shy|#\\d{1,5});/g,g={lt:\"\\x3c\",gt:\"\\x3e\",amp:\"\\x26\",quot:'\"',nbsp:\" \",shy:\"­\"},h=function(a,f){return\"#\"==f[0]?String.fromCharCode(parseInt(f.slice(1),10)):g[f]};CKEDITOR.on(\"reset\",function(){a=[]});CKEDITOR.tools={arrayCompare:function(a,f){if(!a&&!f)return!0;if(!a||!f||a.length!=f.length)return!1;for(var b=0;b<a.length;b++)if(a[b]!=f[b])return!1;return!0},getIndex:function(a,f){for(var b=\n0;b<a.length;++b)if(f(a[b]))return b;return-1},clone:function(a){var f;if(a&&a instanceof Array){f=[];for(var b=0;b<a.length;b++)f[b]=CKEDITOR.tools.clone(a[b]);return f}if(null===a||\"object\"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;f=new a.constructor;for(b in a)f[b]=CKEDITOR.tools.clone(a[b]);return f},capitalize:function(a,f){return a.charAt(0).toUpperCase()+(f?a.slice(1):a.slice(1).toLowerCase())},\nextend:function(a){var f=arguments.length,b,g;\"boolean\"==typeof(b=arguments[f-1])?f--:\"boolean\"==typeof(b=arguments[f-2])&&(g=arguments[f-1],f-=2);for(var h=1;h<f;h++){var c=arguments[h],d;for(d in c)if(!0===b||null==a[d])if(!g||d in g)a[d]=c[d]}return a},prototypedCopy:function(a){var f=function(){};f.prototype=a;return new f},copy:function(a){var f={},b;for(b in a)f[b]=a[b];return f},isArray:function(a){return\"[object Array]\"==Object.prototype.toString.call(a)},isEmpty:function(a){for(var f in a)if(a.hasOwnProperty(f))return!1;\nreturn!0},cssVendorPrefix:function(a,f,b){if(b)return e+a+\":\"+f+\";\"+a+\":\"+f;b={};b[a]=f;b[e+a]=f;return b},cssStyleToDomStyle:function(){var a=document.createElement(\"div\").style,f=\"undefined\"!=typeof a.cssFloat?\"cssFloat\":\"undefined\"!=typeof a.styleFloat?\"styleFloat\":\"float\";return function(a){return\"float\"==a?f:a.replace(/-./g,function(f){return f.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);for(var f,b=[],g=0;g<a.length;g++)if(f=a[g])/@import|[{}]/.test(f)?b.push(\"\\x3cstyle\\x3e\"+\nf+\"\\x3c/style\\x3e\"):b.push('\\x3clink type\\x3d\"text/css\" rel\\x3dstylesheet href\\x3d\"'+f+'\"\\x3e');return b.join(\"\")},htmlEncode:function(a){return void 0===a||null===a?\"\":String(a).replace(b,\"\\x26amp;\").replace(c,\"\\x26gt;\").replace(d,\"\\x26lt;\")},htmlDecode:function(a){return a.replace(k,h)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(l,\"\\x26quot;\")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,f){var b=f==CKEDITOR.ENTER_BR,\ng=this.htmlEncode(a.replace(/\\r\\n/g,\"\\n\")),g=g.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\"),h=f==CKEDITOR.ENTER_P?\"p\":\"div\";if(!b){var c=/\\n{2}/g;if(c.test(g))var d=\"\\x3c\"+h+\"\\x3e\",e=\"\\x3c/\"+h+\"\\x3e\",g=d+g.replace(c,function(){return e+d})+e}g=g.replace(/\\n/g,\"\\x3cbr\\x3e\");b||(g=g.replace(new RegExp(\"\\x3cbr\\x3e(?\\x3d\\x3c/\"+h+\"\\x3e)\"),function(f){return CKEDITOR.tools.repeat(f,2)}));g=g.replace(/^ | $/g,\"\\x26nbsp;\");return g=g.replace(/(>|\\s) /g,function(f,a){return a+\"\\x26nbsp;\"}).replace(/ (?=<)/g,\n\"\\x26nbsp;\")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return\"cke_\"+this.getNextNumber()},getUniqueId:function(){for(var a=\"e\",f=0;8>f;f++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,f){var b=f(a);b.prototype=a.prototype;return b},setTimeout:function(a,f,b,g,h){h||(h=window);b||(b=h);return h.setTimeout(function(){g?a.apply(b,[].concat(g)):a.apply(b)},f||0)},trim:function(){var a=/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g;\nreturn function(f){return f.replace(a,\"\")}}(),ltrim:function(){var a=/^[ \\t\\n\\r]+/g;return function(f){return f.replace(a,\"\")}}(),rtrim:function(){var a=/[ \\t\\n\\r]+$/g;return function(f){return f.replace(a,\"\")}}(),indexOf:function(a,f){if(\"function\"==typeof f)for(var b=0,g=a.length;b<g;b++){if(f(a[b]))return b}else{if(a.indexOf)return a.indexOf(f);b=0;for(g=a.length;b<g;b++)if(a[b]===f)return b}return-1},search:function(a,f){var b=CKEDITOR.tools.indexOf(a,f);return 0<=b?a[b]:null},bind:function(a,\nf){return function(){return a.apply(f,arguments)}},createClass:function(a){var f=a.$,b=a.base,g=a.privates||a._,h=a.proto;a=a.statics;!f&&(f=function(){b&&this.base.apply(this,arguments)});if(g)var c=f,f=function(){var f=this._||(this._={}),a;for(a in g){var b=g[a];f[a]=\"function\"==typeof b?CKEDITOR.tools.bind(b,this):b}c.apply(this,arguments)};b&&(f.prototype=this.prototypedCopy(b.prototype),f.prototype.constructor=f,f.base=b,f.baseProto=b.prototype,f.prototype.base=function(){this.base=b.prototype.base;\nb.apply(this,arguments);this.base=arguments.callee});h&&this.extend(f.prototype,h,!0);a&&this.extend(f,a,!0);return f},addFunction:function(b,f){return a.push(function(){return b.apply(f||this,arguments)})-1},removeFunction:function(b){a[b]=null},callFunction:function(b){var f=a[b];return f&&f.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\\d+\\.?\\d*px$/,f;return function(b){f=CKEDITOR.tools.trim(b+\"\")+\"px\";return a.test(f)?f:b||\"\"}}(),convertToPx:function(){var a;\nreturn function(f){a||(a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;\"\\x3e\\x3c/div\\x3e',CKEDITOR.document),CKEDITOR.document.getBody().append(a));return/%$/.test(f)?f:(a.setStyle(\"width\",f),a.$.clientWidth)}}(),repeat:function(a,f){return Array(f+1).join(a)},tryThese:function(){for(var a,f=0,b=arguments.length;f<b;f++){var g=arguments[f];try{a=g();break}catch(h){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join(\"-\")},\ndefer:function(a){return function(){var f=arguments,b=this;window.setTimeout(function(){a.apply(b,f)},0)}},normalizeCssText:function(a,f){var b=[],g,h=CKEDITOR.tools.parseCssText(a,!0,f);for(g in h)b.push(g+\":\"+h[g]);b.sort();return b.length?b.join(\";\")+\";\":\"\"},convertRgbToHex:function(a){return a.replace(/(?:rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\))/gi,function(f,a,b,g){f=[a,b,g];for(a=0;3>a;a++)f[a]=(\"0\"+parseInt(f[a],10).toString(16)).slice(-2);return\"#\"+f.join(\"\")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\\s+)/gi,\nfunction(a,b,g,h){a=b.toLowerCase();3==a.length&&(a=a.split(\"\"),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(\"\"));return\"#\"+a+h})},parseCssText:function(a,f,b){var g={};b&&(a=(new CKEDITOR.dom.element(\"span\")).setAttribute(\"style\",a).getAttribute(\"style\")||\"\");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||\";\"==a)return g;a.replace(/&quot;/g,'\"').replace(/\\s*([^:;\\s]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,b,h){f&&(b=b.toLowerCase(),\"font-family\"==b&&(h=h.replace(/\\s*,\\s*/g,\n\",\")),h=CKEDITOR.tools.trim(h));g[b]=h});return g},writeCssText:function(a,f){var b,g=[];for(b in a)g.push(b+\":\"+a[b]);f&&g.sort();return g.join(\"; \")},objectCompare:function(a,f,b){var g;if(!a&&!f)return!0;if(!a||!f)return!1;for(g in a)if(a[g]!=f[g])return!1;if(!b)for(g in f)if(a[g]!=f[g])return!1;return!0},objectKeys:function(a){var f=[],b;for(b in a)f.push(b);return f},convertArrayToObject:function(a,f){var b={};1==arguments.length&&(f=!0);for(var g=0,h=a.length;g<h;++g)b[a[g]]=f;return b},fixDomain:function(){for(var a;;)try{a=\nwindow.parent.document.domain;break}catch(f){a=a?a.replace(/.+?(?:\\.|$)/,\"\"):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,f,b){function g(){c=(new Date).getTime();h=!1;b?f.call(b):f()}var h,c=0;return{input:function(){if(!h){var f=(new Date).getTime()-c;f<a?h=setTimeout(g,a-f):g()}},reset:function(){h&&clearTimeout(h);h=c=0}}},enableHtml5Elements:function(a,f){for(var b=\"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video\".split(\" \"),\ng=b.length,h;g--;)h=a.createElement(b[g]),f&&a.appendChild(h)},checkIfAnyArrayItemMatches:function(a,f){for(var b=0,g=a.length;b<g;++b)if(a[b].match(f))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,f){for(var b in a)if(b.match(f))return!0;return!1},keystrokeToString:function(a,f){var b=this.keystrokeToArray(a,f);b.display=b.display.join(\"+\");b.aria=b.aria.join(\"+\");return b},keystrokeToArray:function(a,f){var b=f&16711680,g=f&65535,h=CKEDITOR.env.mac,c=[],d=[];b&CKEDITOR.CTRL&&(c.push(h?\n\"⌘\":a[17]),d.push(h?a[224]:a[17]));b&CKEDITOR.ALT&&(c.push(h?\"⌥\":a[18]),d.push(a[18]));b&CKEDITOR.SHIFT&&(c.push(h?\"⇧\":a[16]),d.push(a[16]));g&&(a[g]?(c.push(a[g]),d.push(a[g])):(c.push(String.fromCharCode(g)),d.push(String.fromCharCode(g))));return{display:c,aria:d}},transparentImageData:\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\\x3d\\x3d\",getCookie:function(a){a=a.toLowerCase();for(var f=document.cookie.split(\";\"),b,g,h=0;h<f.length;h++)if(b=f[h].split(\"\\x3d\"),\ng=decodeURIComponent(CKEDITOR.tools.trim(b[0]).toLowerCase()),g===a)return decodeURIComponent(1<b.length?b[1]:\"\");return null},setCookie:function(a,f){document.cookie=encodeURIComponent(a)+\"\\x3d\"+encodeURIComponent(f)+\";path\\x3d/\"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie(\"ckCsrfToken\");if(!a||40!=a.length){var a=[],f=\"\";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);else for(var b=0;40>b;b++)a.push(Math.floor(256*Math.random()));\nfor(b=0;b<a.length;b++)var g=\"abcdefghijklmnopqrstuvwxyz0123456789\".charAt(a[b]%36),f=f+(.5<Math.random()?g.toUpperCase():g);a=f;CKEDITOR.tools.setCookie(\"ckCsrfToken\",a)}return a},escapeCss:function(a){return a?window.CSS&&CSS.escape?CSS.escape(a):isNaN(parseInt(a.charAt(0),10))?a:\"\\\\3\"+a.charAt(0)+\" \"+a.substring(1,a.length):\"\"},getMouseButton:function(a){var f=(a=a.data)&&a.$;return a&&f?CKEDITOR.env.ie&&9>CKEDITOR.env.version?4===f.button?CKEDITOR.MOUSE_BUTTON_MIDDLE:1===f.button?CKEDITOR.MOUSE_BUTTON_LEFT:\nCKEDITOR.MOUSE_BUTTON_RIGHT:f.button:!1},convertHexStringToBytes:function(a){var f=[],b=a.length/2,g;for(g=0;g<b;g++)f.push(parseInt(a.substr(2*g,2),16));return f},convertBytesToBase64:function(a){var f=\"\",b=a.length,g;for(g=0;g<b;g+=3){var h=a.slice(g,g+3),c=h.length,d=[],e;if(3>c)for(e=c;3>e;e++)h[e]=0;d[0]=(h[0]&252)>>2;d[1]=(h[0]&3)<<4|h[1]>>4;d[2]=(h[1]&15)<<2|(h[2]&192)>>6;d[3]=h[2]&63;for(e=0;4>e;e++)f=e<=c?f+\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(d[e]):f+\n\"\\x3d\"}return f},style:{parse:{_colors:{aliceblue:\"#F0F8FF\",antiquewhite:\"#FAEBD7\",aqua:\"#00FFFF\",aquamarine:\"#7FFFD4\",azure:\"#F0FFFF\",beige:\"#F5F5DC\",bisque:\"#FFE4C4\",black:\"#000000\",blanchedalmond:\"#FFEBCD\",blue:\"#0000FF\",blueviolet:\"#8A2BE2\",brown:\"#A52A2A\",burlywood:\"#DEB887\",cadetblue:\"#5F9EA0\",chartreuse:\"#7FFF00\",chocolate:\"#D2691E\",coral:\"#FF7F50\",cornflowerblue:\"#6495ED\",cornsilk:\"#FFF8DC\",crimson:\"#DC143C\",cyan:\"#00FFFF\",darkblue:\"#00008B\",darkcyan:\"#008B8B\",darkgoldenrod:\"#B8860B\",darkgray:\"#A9A9A9\",\ndarkgreen:\"#006400\",darkgrey:\"#A9A9A9\",darkkhaki:\"#BDB76B\",darkmagenta:\"#8B008B\",darkolivegreen:\"#556B2F\",darkorange:\"#FF8C00\",darkorchid:\"#9932CC\",darkred:\"#8B0000\",darksalmon:\"#E9967A\",darkseagreen:\"#8FBC8F\",darkslateblue:\"#483D8B\",darkslategray:\"#2F4F4F\",darkslategrey:\"#2F4F4F\",darkturquoise:\"#00CED1\",darkviolet:\"#9400D3\",deeppink:\"#FF1493\",deepskyblue:\"#00BFFF\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1E90FF\",firebrick:\"#B22222\",floralwhite:\"#FFFAF0\",forestgreen:\"#228B22\",fuchsia:\"#FF00FF\",\ngainsboro:\"#DCDCDC\",ghostwhite:\"#F8F8FF\",gold:\"#FFD700\",goldenrod:\"#DAA520\",gray:\"#808080\",green:\"#008000\",greenyellow:\"#ADFF2F\",grey:\"#808080\",honeydew:\"#F0FFF0\",hotpink:\"#FF69B4\",indianred:\"#CD5C5C\",indigo:\"#4B0082\",ivory:\"#FFFFF0\",khaki:\"#F0E68C\",lavender:\"#E6E6FA\",lavenderblush:\"#FFF0F5\",lawngreen:\"#7CFC00\",lemonchiffon:\"#FFFACD\",lightblue:\"#ADD8E6\",lightcoral:\"#F08080\",lightcyan:\"#E0FFFF\",lightgoldenrodyellow:\"#FAFAD2\",lightgray:\"#D3D3D3\",lightgreen:\"#90EE90\",lightgrey:\"#D3D3D3\",lightpink:\"#FFB6C1\",\nlightsalmon:\"#FFA07A\",lightseagreen:\"#20B2AA\",lightskyblue:\"#87CEFA\",lightslategray:\"#778899\",lightslategrey:\"#778899\",lightsteelblue:\"#B0C4DE\",lightyellow:\"#FFFFE0\",lime:\"#00FF00\",limegreen:\"#32CD32\",linen:\"#FAF0E6\",magenta:\"#FF00FF\",maroon:\"#800000\",mediumaquamarine:\"#66CDAA\",mediumblue:\"#0000CD\",mediumorchid:\"#BA55D3\",mediumpurple:\"#9370DB\",mediumseagreen:\"#3CB371\",mediumslateblue:\"#7B68EE\",mediumspringgreen:\"#00FA9A\",mediumturquoise:\"#48D1CC\",mediumvioletred:\"#C71585\",midnightblue:\"#191970\",mintcream:\"#F5FFFA\",\nmistyrose:\"#FFE4E1\",moccasin:\"#FFE4B5\",navajowhite:\"#FFDEAD\",navy:\"#000080\",oldlace:\"#FDF5E6\",olive:\"#808000\",olivedrab:\"#6B8E23\",orange:\"#FFA500\",orangered:\"#FF4500\",orchid:\"#DA70D6\",palegoldenrod:\"#EEE8AA\",palegreen:\"#98FB98\",paleturquoise:\"#AFEEEE\",palevioletred:\"#DB7093\",papayawhip:\"#FFEFD5\",peachpuff:\"#FFDAB9\",peru:\"#CD853F\",pink:\"#FFC0CB\",plum:\"#DDA0DD\",powderblue:\"#B0E0E6\",purple:\"#800080\",rebeccapurple:\"#663399\",red:\"#FF0000\",rosybrown:\"#BC8F8F\",royalblue:\"#4169E1\",saddlebrown:\"#8B4513\",salmon:\"#FA8072\",\nsandybrown:\"#F4A460\",seagreen:\"#2E8B57\",seashell:\"#FFF5EE\",sienna:\"#A0522D\",silver:\"#C0C0C0\",skyblue:\"#87CEEB\",slateblue:\"#6A5ACD\",slategray:\"#708090\",slategrey:\"#708090\",snow:\"#FFFAFA\",springgreen:\"#00FF7F\",steelblue:\"#4682B4\",tan:\"#D2B48C\",teal:\"#008080\",thistle:\"#D8BFD8\",tomato:\"#FF6347\",turquoise:\"#40E0D0\",violet:\"#EE82EE\",wheat:\"#F5DEB3\",white:\"#FFFFFF\",whitesmoke:\"#F5F5F5\",yellow:\"#FFFF00\",yellowgreen:\"#9ACD32\"},_borderStyle:\"none hidden dotted dashed solid double groove ridge inset outset\".split(\" \"),\n_widthRegExp:/^(thin|medium|thick|[\\+-]?\\d+(\\.\\d+)?[a-z%]+|[\\+-]?0+(\\.0+)?|\\.\\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\\(\\s*\\d+%?\\s*,\\s*\\d+%?\\s*,\\s*\\d+%?\\s*(?:,\\s*[0-9.]+\\s*)?\\)/gi,_hslaRegExp:/hsla?\\(\\s*[0-9.]+\\s*,\\s*\\d+%\\s*,\\s*\\d+%\\s*(?:,\\s*[0-9.]+\\s*)?\\)/gi,background:function(a){var f={},b=this._findColor(a);b.length&&(f.color=b[0],CKEDITOR.tools.array.forEach(b,function(f){a=a.replace(f,\"\")}));if(a=CKEDITOR.tools.trim(a))f.unprocessed=a;return f},margin:function(a){function f(a){b.top=g[a[0]];b.right=\ng[a[1]];b.bottom=g[a[2]];b.left=g[a[3]]}var b={},g=a.match(/(?:\\-?[\\.\\d]+(?:%|\\w*)|auto|inherit|initial|unset)/g)||[\"0px\"];switch(g.length){case 1:f([0,0,0,0]);break;case 2:f([0,1,0,1]);break;case 3:f([0,1,2,1]);break;case 4:f([0,1,2,3])}return b},border:function(a){var f={},b=a.split(/\\s+/g);a=CKEDITOR.tools.style.parse._findColor(a);a.length&&(f.color=a[0]);CKEDITOR.tools.array.forEach(b,function(a){f.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,a)?!f.width&&CKEDITOR.tools.style.parse._widthRegExp.test(a)&&\n(f.width=a):f.style=a});return f},_findColor:function(a){var f=[],b=CKEDITOR.tools.array,f=f.concat(a.match(this._rgbaRegExp)||[]),f=f.concat(a.match(this._hslaRegExp)||[]);return f=f.concat(b.filter(a.split(/\\s+/),function(a){return a.match(/^\\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)?!0:a.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(a,f,b){var g=[];this.forEach(a,function(h,c){f.call(b,h,c,a)&&g.push(h)});return g},forEach:function(a,f,b){var g=a.length,h;for(h=0;h<g;h++)f.call(b,\na[h],h,a)},map:function(a,f,b){for(var g=[],h=0;h<a.length;h++)g.push(f.call(b,a[h],h,a));return g},reduce:function(a,f,b,g){for(var h=0;h<a.length;h++)b=f.call(g,b,a[h],h,a);return b},every:function(a,f,b){if(!a.length)return!0;f=this.filter(a,f,b);return a.length===f.length}},object:{findKey:function(a,f){if(\"object\"!==typeof a)return null;for(var b in a)if(a[b]===f)return b;return null},merge:function(a,f){var b=CKEDITOR.tools,g=b.clone(a),h=b.clone(f);b.array.forEach(b.objectKeys(h),function(a){g[a]=\n\"object\"===typeof h[a]&&\"object\"===typeof g[a]?b.object.merge(g[a],h[a]):h[a]});return g}}};CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf;CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray;CKEDITOR.MOUSE_BUTTON_LEFT=0;CKEDITOR.MOUSE_BUTTON_MIDDLE=1;CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,e=function(a,f){for(var b=CKEDITOR.tools.clone(a),g=1;g<arguments.length;g++){f=arguments[g];for(var h in f)delete b[h]}return b},b={},c={},d={address:1,article:1,\naside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},l={command:1,link:1,meta:1,noscript:1,script:1,style:1},k={},g={\"#\":1},h={center:1,dir:1,noframes:1};a(b,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,\nobject:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,\"var\":1,video:1,wbr:1},g,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(c,d,b,h);e={a:e(b,{a:1,button:1}),abbr:b,address:c,area:k,article:c,aside:c,audio:a({source:1,track:1},c),b:b,base:k,bdi:b,bdo:b,blockquote:c,body:c,br:k,button:e(b,{a:1,button:1}),canvas:b,caption:c,cite:b,code:b,col:k,colgroup:{col:1},command:k,datalist:a({option:1},\nb),dd:c,del:b,details:a({summary:1},c),dfn:b,div:c,dl:{dt:1,dd:1},dt:c,em:b,embed:k,fieldset:a({legend:1},c),figcaption:c,figure:a({figcaption:1},c),footer:c,form:c,h1:b,h2:b,h3:b,h4:b,h5:b,h6:b,head:a({title:1,base:1},l),header:c,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:k,html:a({head:1,body:1},c,l),i:b,iframe:g,img:k,input:k,ins:b,kbd:b,keygen:k,label:b,legend:b,li:c,link:k,main:c,map:c,mark:b,menu:a({li:1},c),meta:k,meter:e(b,{meter:1}),nav:c,noscript:a({link:1,meta:1,style:1},b),object:a({param:1},\nb),ol:{li:1},optgroup:{option:1},option:g,output:b,p:b,param:k,pre:b,progress:e(b,{progress:1}),q:b,rp:b,rt:b,ruby:a({rp:1,rt:1},b),s:b,samp:b,script:g,section:c,select:{optgroup:1,option:1},small:b,source:k,span:b,strong:b,style:g,sub:b,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},b),sup:b,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:c,textarea:g,tfoot:{tr:1},th:c,thead:{tr:1},time:e(b,{time:1}),title:g,tr:{th:1,td:1},track:k,u:b,ul:{li:1},\"var\":b,video:a({source:1,track:1},\nc),wbr:k,acronym:b,applet:a({param:1},c),basefont:k,big:b,center:c,dialog:k,dir:{li:1},font:b,isindex:k,noframes:c,strike:b,tt:b};a(e,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},d,h),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,\ndetails:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:b,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},e.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,\nvideo:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,\"var\":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,\naudio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return e}(),CKEDITOR.dom.event=function(a){this.$=a},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;this.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&\n(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||\na.body.scrollLeft),y:this.$.pageY||this.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(a){a&&(this.$=a)},CKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){\"undefined\"!=typeof CKEDITOR&&a.fire(b,new CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;\n(a=this.getCustomData(\"_\"))||this.setCustomData(\"_\",a={});return a},on:function(e){var b=this.getCustomData(\"_cke_nativeListeners\");b||(b={},this.setCustomData(\"_cke_nativeListeners\",b));b[e]||(b=b[e]=a(this,e),this.$.addEventListener?this.$.addEventListener(e,b,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent(\"on\"+e,b));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var b=\nthis.getCustomData(\"_cke_nativeListeners\"),c=b&&b[a];c&&(this.$.removeEventListener?this.$.removeEventListener(a,c,!1):this.$.detachEvent&&this.$.detachEvent(\"on\"+a,c),delete b[a])}},removeAllListeners:function(){var a=this.getCustomData(\"_cke_nativeListeners\"),b;for(b in a){var c=a[b];this.$.detachEvent?this.$.detachEvent(\"on\"+b,c):this.$.removeEventListener&&this.$.removeEventListener(b,c,!1);delete a[b]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(a){var e={};CKEDITOR.on(\"reset\",\nfunction(){e={}});a.equals=function(a){try{return a&&a.$===this.$}catch(c){return!1}};a.setCustomData=function(a,c){var d=this.getUniqueId();(e[d]||(e[d]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$[\"data-cke-expando\"];return(c=c&&e[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$[\"data-cke-expando\"],c=c&&e[c],d,l;c&&(d=c[a],l=a in c,delete c[a]);return l?d:null};a.clearCustomData=function(){this.removeAllListeners();var a=this.$[\"data-cke-expando\"];a&&delete e[a]};\na.getUniqueId=function(){return this.$[\"data-cke-expando\"]||(this.$[\"data-cke-expando\"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?\"document\":a.nodeType==CKEDITOR.NODE_ELEMENT?\"element\":a.nodeType==CKEDITOR.NODE_TEXT?\"text\":a.nodeType==CKEDITOR.NODE_COMMENT?\"comment\":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?\"documentFragment\":\"domObject\"](a):this},CKEDITOR.dom.node.prototype=\nnew CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,e){a.append(this,e);return a},clone:function(a,e){function b(c){c[\"data-cke-expando\"]&&(c[\"data-cke-expando\"]=\n!1);if(c.nodeType==CKEDITOR.NODE_ELEMENT||c.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(e||c.nodeType!=CKEDITOR.NODE_ELEMENT||c.removeAttribute(\"id\",!1),a){c=c.childNodes;for(var d=0;d<c.length;d++)b(c[d])}}function c(b){if(b.type==CKEDITOR.NODE_ELEMENT||b.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(b.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=b.getName();\":\"==d[0]&&b.renameNode(d.substring(1))}if(a)for(d=0;d<b.getChildCount();d++)c(b.getChild(d))}}var d=this.$.cloneNode(a);b(d);d=new CKEDITOR.dom.node(d);\nCKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&c(d);return d},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var e=\n[],b=this.getDocument().$.documentElement,c=this.$;c&&c!=b;){var d=c.parentNode;d&&e.unshift(this.getIndex.call({$:c},a));c=d}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function e(a,g){var h=g?a.nextSibling:a.previousSibling;return h&&h.nodeType==CKEDITOR.NODE_TEXT?b(h)?e(h,g):h:null}function b(a){return!a.nodeValue||a.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var c=this.$,d=-1,l;if(!this.$.parentNode||\na&&c.nodeType==CKEDITOR.NODE_TEXT&&b(c)&&!e(c)&&!e(c,!0))return-1;do a&&c!=this.$&&c.nodeType==CKEDITOR.NODE_TEXT&&(l||b(c))||(d++,l=c.nodeType==CKEDITOR.NODE_TEXT);while(c=c.previousSibling);return d},getNextSourceNode:function(a,e,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getFirst&&this.getFirst();var d;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getNext()}for(;!a&&(d=(d||this).getParent());){if(b&&!1===b(d,!0))return null;a=d.getNext()}return!a||\nb&&!1===b(a)?null:e&&e!=a.type?a.getNextSourceNode(!1,e,b):a},getPreviousSourceNode:function(a,e,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getLast&&this.getLast();var d;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getPrevious()}for(;!a&&(d=(d||this).getParent());){if(b&&!1===b(d,!0))return null;a=d.getPrevious()}return!a||b&&!1===b(a)?null:e&&a.type!=e?a.getPreviousSourceNode(!1,e,b):a},getPrevious:function(a){var e=this.$,b;do b=(e=\ne.previousSibling)&&10!=e.nodeType&&new CKEDITOR.dom.node(e);while(b&&a&&!a(b));return b},getNext:function(a){var e=this.$,b;do b=(e=e.nextSibling)&&new CKEDITOR.dom.node(e);while(b&&a&&!a(b));return b},getParent:function(a){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||a&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(a){var e=this,b=[];do b[a?\"push\":\"unshift\"](e);while(e=e.getParent());return b},getCommonAncestor:function(a){if(a.equals(this))return this;\nif(a.contains&&a.contains(this))return a;var e=this.contains?this:this.getParent();do if(e.contains(a))return e;while(e=e.getParent());return null},getPosition:function(a){var e=this.$,b=a.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(b);if(e==b)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(b))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(b.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+\nCKEDITOR.POSITION_FOLLOWING}if(\"sourceIndex\"in e)return 0>e.sourceIndex||0>b.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<b.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}e=this.getAddress();a=a.getAddress();for(var b=Math.min(e.length,a.length),c=0;c<b;c++)if(e[c]!=a[c])return e[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return e.length<a.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},\ngetAscendant:function(a,e){var b=this.$,c,d;e||(b=b.parentNode);\"function\"==typeof a?(d=!0,c=a):(d=!1,c=function(b){b=\"string\"==typeof b.nodeName?b.nodeName.toLowerCase():\"\";return\"string\"==typeof a?b==a:b in a});for(;b;){if(c(d?new CKEDITOR.dom.node(b):b))return new CKEDITOR.dom.node(b);try{b=b.parentNode}catch(l){b=null}}return null},hasAscendant:function(a,e){var b=this.$;e||(b=b.parentNode);for(;b;){if(b.nodeName&&b.nodeName.toLowerCase()==a)return!0;b=b.parentNode}return!1},move:function(a,e){a.append(this.remove(),\ne)},remove:function(a){var e=this.$,b=e.parentNode;if(b){if(a)for(;a=e.firstChild;)b.insertBefore(e.removeChild(a),e);b.removeChild(e)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(a.getText()),b=a.getLength();if(e)e.length<b&&(a.split(b-e.length),this.$.removeChild(this.$.firstChild));else{a.remove();continue}}break}},\nrtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(a.getText()),b=a.getLength();if(e)e.length<b&&(a.split(e.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&(a=this.$.lastChild)&&1==a.type&&\"br\"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var e=this;this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent());CKEDITOR.env.edge&&\ne&&e.is(\"textarea\",\"input\")&&(a=!0);if(!a&&e&&\"undefined\"!=typeof e.$.isContentEditable)return!(e.$.isContentEditable||e.data(\"cke-editable\"));for(;e;){if(e.data(\"cke-editable\"))return!1;if(e.hasAttribute(\"contenteditable\"))return\"false\"==e.getAttribute(\"contenteditable\");e=e.getParent()}return!0}}),CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},\ngetViewPaneSize:function(){var a=this.$.document,e=\"CSS1Compat\"==a.compatMode;return{width:(e?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(e?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if(\"pageXOffset\"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||a.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?\nnew CKEDITOR.dom.element.get(a):null}}),CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var e=new CKEDITOR.dom.element(\"link\");e.setAttributes({rel:\"stylesheet\",type:\"text/css\",href:a});this.getHead().append(e)}},appendStyleText:function(a){if(this.$.createStyleSheet){var e=\nthis.$.createStyleSheet(\"\");e.cssText=a}else{var b=new CKEDITOR.dom.element(\"style\",this);b.append(new CKEDITOR.dom.text(a,this));this.getHead().append(b)}return e||b.$.sheet},createElement:function(a,e){var b=new CKEDITOR.dom.element(a,this);e&&(e.attributes&&b.setAttributes(e.attributes),e.styles&&b.setStyles(e.styles));return b},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(a)},\ngetById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,e){for(var b=this.$.documentElement,c=0;b&&c<a.length;c++){var d=a[c];if(e)for(var l=-1,k=0;k<b.childNodes.length;k++){var g=b.childNodes[k];if(!0!==e||3!=g.nodeType||!g.previousSibling||3!=g.previousSibling.nodeType)if(l++,l==d){b=g;break}}else b=b.childNodes[d]}return b?new CKEDITOR.dom.node(b):null},getElementsByTag:function(a,e){CKEDITOR.env.ie&&8>=document.documentMode||!e||(a=e+\":\"+\na);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName(\"head\")[0];return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element(\"head\"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open(\"text/html\",\n\"replace\");CKEDITOR.env.ie&&(a=a.replace(/(?:^\\s*<!DOCTYPE[^>]*?>)|^/i,'$\\x26\\n\\x3cscript data-cke-temp\\x3d\"1\"\\x3e('+CKEDITOR.tools.fixDomain+\")();\\x3c/script\\x3e\"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData(\"html5ShivFrag\");a||(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,\n!0),this.setCustomData(\"html5ShivFrag\",a));return a}}),CKEDITOR.dom.nodeList=function(a){this.$=a},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(a){return new CKEDITOR.dom.node(a)})}},CKEDITOR.dom.element=function(a,e){\"string\"==typeof a&&(a=(e?e.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,\na)},CKEDITOR.dom.element.get=function(a){return(a=\"string\"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:a)&&(a.$?a:new CKEDITOR.dom.element(a))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(a,e){var b=new CKEDITOR.dom.element(\"div\",e);b.setHtml(a);return b.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(a,e,b,c){var d=e.getCustomData(\"list_marker_id\")||e.setCustomData(\"list_marker_id\",CKEDITOR.tools.getNextNumber()).getCustomData(\"list_marker_id\"),\nl=e.getCustomData(\"list_marker_names\")||e.setCustomData(\"list_marker_names\",{}).getCustomData(\"list_marker_names\");a[d]=e;l[b]=1;return e.setCustomData(b,c)},CKEDITOR.dom.element.clearAllMarkers=function(a){for(var e in a)CKEDITOR.dom.element.clearMarkers(a,a[e],1)},CKEDITOR.dom.element.clearMarkers=function(a,e,b){var c=e.getCustomData(\"list_marker_names\"),d=e.getCustomData(\"list_marker_id\"),l;for(l in c)e.removeCustomData(l);e.removeCustomData(\"list_marker_names\");b&&(e.removeCustomData(\"list_marker_id\"),\ndelete a[d])},function(){function a(a,b){return-1<(\" \"+a+\" \").replace(l,\" \").indexOf(\" \"+b+\" \")}function e(a){var b=!0;a.$.id||(a.$.id=\"cke_tmp_\"+CKEDITOR.tools.getNextNumber(),b=!1);return function(){b||a.removeAttribute(\"id\")}}function b(a,b){var c=CKEDITOR.tools.escapeCss(a.$.id);return\"#\"+c+\" \"+b.split(/,\\s*/).join(\", #\"+c+\" \")}function c(a){for(var b=0,c=0,f=k[a].length;c<f;c++)b+=parseFloat(this.getComputedStyle(k[a][c])||0,10)||0;return b}var d=document.createElement(\"_\").classList,d=\"undefined\"!==\ntypeof d&&null!==String(d.add).match(/\\[Native code\\]/gi),l=/[\\n\\t\\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:d?function(a){this.$.classList.add(a);return this}:function(b){var h=this.$.className;h&&(a(h,b)||(h+=\" \"+b));this.$.className=h||b;return this},removeClass:d?function(a){var b=this.$;b.classList.remove(a);b.className||b.removeAttribute(\"class\");return this}:function(b){var h=this.getAttribute(\"class\");h&&a(h,b)&&((h=h.replace(new RegExp(\"(?:^|\\\\s+)\"+\nb+\"(?\\x3d\\\\s|$)\"),\"\").replace(/^\\s+/,\"\"))?this.setAttribute(\"class\",h):this.removeAttribute(\"class\"));return this},hasClass:function(b){return a(this.$.className,b)},append:function(a,b){\"string\"==typeof a&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element(\"div\",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=\nthis.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=a:this.append(new CKEDITOR.dom.text(a))},appendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is(\"br\")||(a=this.getDocument().createElement(\"br\"),CKEDITOR.env.gecko&&a.setAttribute(\"type\",\"_moz\"),this.append(a))}},breakParent:function(a,b){var c=new CKEDITOR.dom.range(this.getDocument());c.setStartAfter(this);c.setEndAfter(a);\nvar f=c.extractContents(!1,b||!1),d;c.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(c=new CKEDITOR.dom.element(\"div\");d=f.getFirst();)d.$.style.backgroundColor&&(d.$.style.backgroundColor=d.$.style.backgroundColor),c.append(d);c.insertAfter(this);c.remove(!0)}else f.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&16)}:function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):\nb!=a.$&&b.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(b){}}return function(b){b?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\\?[^>]*>/g,\"\"):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\\?[^>]*>/,\"\");var a=this.$.ownerDocument.createElement(\"div\");a.appendChild(this.$.cloneNode(!0));return a.innerHTML},getClientRect:function(){var a=CKEDITOR.tools.extend({},\nthis.$.getBoundingClientRect());!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);return a},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){try{var b=this.$;if(this.getParent())return b.innerHTML=a;var c=this.getDocument()._getHtml5ShivFrag();c.appendChild(b);b.innerHTML=a;c.removeChild(b);return a}catch(f){this.$.innerHTML=\"\";b=new CKEDITOR.dom.element(\"body\",this.getDocument());b.$.innerHTML=a;for(b=b.getChildren();b.count();)this.append(b.getItem(0));return a}}:\nfunction(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement(\"p\");a.innerHTML=\"x\";a=a.textContent;return function(b){this.$[a?\"textContent\":\"innerText\"]=b}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case \"class\":a=\"className\";break;case \"http-equiv\":a=\"httpEquiv\";break;case \"name\":return this.$.name;case \"tabindex\":return a=this.$.getAttribute(a,\n2),0!==a&&0===this.$.tabIndex&&(a=null),a;case \"checked\":return a=this.$.attributes.getNamedItem(a),(a.specified?a.nodeValue:this.$.checked)?\"checked\":null;case \"hspace\":case \"value\":return this.$[a];case \"style\":return this.$.style.cssText;case \"contenteditable\":case \"contentEditable\":return this.$.attributes.getNamedItem(\"contentEditable\").specified?this.$.getAttribute(\"contentEditable\"):null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var b={},c=this.$.attributes,f;a=CKEDITOR.tools.isArray(a)?\na:[];for(f=0;f<c.length;f++)-1===CKEDITOR.tools.indexOf(a,c[f].name)&&(b[c[f].name]=c[f].value);return b},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):\"\"}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=\nfunction(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute(\"tabindex\"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||\"\"},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();\nif(CKEDITOR.env.ie&&8>=document.documentMode){var b=this.$.scopeName;\"HTML\"!=b&&(a=b.toLowerCase()+\":\"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},\nis:function(){var a=this.getName();if(\"object\"==typeof arguments[0])return!!arguments[0][a];for(var b=0;b<arguments.length;b++)if(arguments[b]==a)return!0;return!1},isEditable:function(a){var b=this.getName();return this.isReadOnly()||\"none\"==this.getComputedStyle(\"display\")||\"hidden\"==this.getComputedStyle(\"visibility\")||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is(\"a\")&&(this.data(\"cke-saved-name\")||this.hasAttribute(\"name\"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[b]||\nCKEDITOR.dtd.span,!(!a||!a[\"#\"])):!0},isIdentical:function(a){var b=this.clone(0,1);a=a.clone(0,1);b.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);a.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);if(b.$.isEqualNode)return b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),b.$.isEqualNode(a.$);b=b.getOuterHtml();a=\na.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is(\"a\")){var c=this.getParent();c.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.setHtml(b),b=c.getHtml(),c.setHtml(a),a=c.getHtml())}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&\"hidden\"!=this.getComputedStyle(\"visibility\"),b,c;a&&CKEDITOR.env.webkit&&(b=this.getWindow(),!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement)&&(a=(new CKEDITOR.dom.element(c)).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;\nfor(var a=this.getChildren(),b=0,c=a.count();b<c;b++){var f=a.getItem(b);if(f.type!=CKEDITOR.NODE_ELEMENT||!f.data(\"cke-bookmark\"))if(f.type==CKEDITOR.NODE_ELEMENT&&!f.isEmptyInlineRemoveable()||f.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(f.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case \"class\":if(this.getAttribute(\"class\"))return!0;case \"data-cke-expando\":continue;\ndefault:if(c.specified)return!0}}return!1}:function(){var a=this.$.attributes,b=a.length,c={\"data-cke-expando\":1,_moz_dirty:1};return 0<b&&(2<b||!c[a[0].nodeName]||2==b&&!c[a[1].nodeName])},hasAttribute:function(){function a(b){var c=this.$.attributes.getNamedItem(b);if(\"input\"==this.getName())switch(b){case \"class\":return 0<this.$.className.length;case \"checked\":return!!this.$.checked;case \"value\":return b=this.getAttribute(\"type\"),\"checkbox\"==b||\"radio\"==b?\"on\"!=this.$.value:!!this.$.value}return c?\nc.specified:!1}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(b){return\"name\"==b?!!this.$.name:a.call(this,b)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle(\"display\",\"none\")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a){var f;if(b)for(;f=c.lastChild;)a.insertBefore(c.removeChild(f),a.firstChild);else for(;f=c.firstChild;)a.appendChild(c.removeChild(f))}},mergeSiblings:function(){function a(b,c,f){if(c&&c.type==CKEDITOR.NODE_ELEMENT){for(var g=\n[];c.data(\"cke-bookmark\")||c.isEmptyInlineRemoveable();)if(g.push(c),c=f?c.getNext():c.getPrevious(),!c||c.type!=CKEDITOR.NODE_ELEMENT)return;if(b.isIdentical(c)){for(var d=f?b.getLast():b.getFirst();g.length;)g.shift().move(b,!f);c.moveChildren(b,!f);c.remove();d&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings()}}}return function(b){if(!1===b||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is(\"a\"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:\"\",\nvisibility:\"\"})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,b);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(b,c){\"class\"==b?this.$.className=c:\"style\"==b?this.$.style.cssText=c:\"tabindex\"==b?this.$.tabIndex=c:\"checked\"==b?this.$.checked=c:\"contenteditable\"==b?a.call(this,\"contentEditable\",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if(\"src\"==b&&c.match(/^http:\\/\\//))try{a.apply(this,\narguments)}catch(f){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,a[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){\"class\"==a?a=\"className\":\"tabindex\"==a?a=\"tabIndex\":\"contenteditable\"==a&&(a=\"contentEditable\");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=\n0;b<a.length;b++)this.removeAttribute(a[b]);else for(b in a=a||this.getAttributes(),a)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(b.removeProperty||\"border\"!=a&&\"margin\"!=a&&\"padding\"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute(\"style\");else{var c=[\"top\",\"left\",\"right\",\"bottom\"],f;\"border\"==a&&(f=[\"color\",\"style\",\"width\"]);for(var b=[],d=0;d<c.length;d++)if(f)for(var e=\n0;e<f.length;e++)b.push([a,c[d],f[e]].join(\"-\"));else b.push([a,c[d]].join(\"-\"));for(a=0;a<b.length;a++)this.removeStyle(b[a])}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle(\"filter\",100<=a?\"\":\"progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d\"+a+\")\")):this.setStyle(\"opacity\",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\n\"none\"));if(CKEDITOR.env.ie){this.setAttribute(\"unselectable\",\"on\");for(var a,b=this.getElementsByTag(\"*\"),c=0,f=b.count();c<f;c++)a=b.getItem(c),a.setAttribute(\"unselectable\",\"on\")}},getPositionedAncestor:function(){for(var a=this;\"html\"!=a.getName();){if(\"static\"!=a.getComputedStyle(\"position\"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,f=this.getDocument(),d=f.getBody(),e=\"BackCompat\"==f.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?\n8!==CKEDITOR.env.version:1)){var l=this.$.getBoundingClientRect(),k=f.$.documentElement,x=k.clientTop||d.$.clientTop||0,q=k.clientLeft||d.$.clientLeft||0,t=!0;CKEDITOR.env.ie&&(t=f.getDocumentElement().contains(this),f=f.getBody().contains(this),t=e&&f||!e&&t);t&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=d.$.scrollLeft||k.scrollLeft,c=d.$.scrollTop||k.scrollTop):(c=e?d.$:k,b=c.scrollLeft,c=c.scrollTop),b=l.left+b-q,c=l.top+c-x)}else for(x=this,q=null;x&&\"body\"!=x.getName()&&\n\"html\"!=x.getName();){b+=x.$.offsetLeft-x.$.scrollLeft;c+=x.$.offsetTop-x.$.scrollTop;x.equals(this)||(b+=x.$.clientLeft||0,c+=x.$.clientTop||0);for(;q&&!q.equals(x);)b-=q.$.scrollLeft,c-=q.$.scrollTop,q=q.getParent();q=x;x=(l=x.$.offsetParent)?new CKEDITOR.dom.element(l):null}a&&(l=this.getWindow(),x=a.getWindow(),!l.equals(x)&&l.$.frameElement&&(a=(new CKEDITOR.dom.element(l.$.frameElement)).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||\ne||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:function(a){var b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is(\"body\")&&this.scrollIntoParent(b,a,1),b.is(\"html\")){var c=b.getWindow();try{var f=c.$.frameElement;f&&(b=new CKEDITOR.dom.element(f))}catch(d){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var f,d,e,l;function k(b,f){/body|html/.test(a.getName())?\na.getWindow().$.scrollBy(b,f):(a.$.scrollLeft+=b,a.$.scrollTop+=f)}function x(a,b){var f={x:0,y:0};if(!a.is(t?\"body\":\"html\")){var c=a.$.getBoundingClientRect();f.x=c.left;f.y=c.top}c=a.getWindow();c.equals(b)||(c=x(CKEDITOR.dom.element.get(c.$.frameElement),b),f.x+=c.x,f.y+=c.y);return f}function q(a,b){return parseInt(a.getComputedStyle(\"margin-\"+b)||0,10)||0}!a&&(a=this.getWindow());e=a.getDocument();var t=\"BackCompat\"==e.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=t?e.getBody():e.getDocumentElement());\nCKEDITOR.env.webkit&&(e=this.getEditor(!1))&&(e._.previousScrollTop=null);e=a.getWindow();d=x(this,e);var u=x(a,e),A=this.$.offsetHeight;f=this.$.offsetWidth;var z=a.$.clientHeight,w=a.$.clientWidth;e=d.x-q(this,\"left\")-u.x||0;l=d.y-q(this,\"top\")-u.y||0;f=d.x+f+q(this,\"right\")-(u.x+w)||0;d=d.y+A+q(this,\"bottom\")-(u.y+z)||0;(0>l||0<d)&&k(0,!0===b?l:!1===b?d:0>l?l:d);c&&(0>e||0<f)&&k(0>e?e:f,0)},setState:function(a,b,c){b=b||\"cke\";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+\"_on\");this.removeClass(b+\n\"_off\");this.removeClass(b+\"_disabled\");c&&this.setAttribute(\"aria-pressed\",!0);c&&this.removeAttribute(\"aria-disabled\");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+\"_disabled\");this.removeClass(b+\"_off\");this.removeClass(b+\"_on\");c&&this.setAttribute(\"aria-disabled\",!0);c&&this.removeAttribute(\"aria-pressed\");break;default:this.addClass(b+\"_off\"),this.removeClass(b+\"_on\"),this.removeClass(b+\"_disabled\"),c&&this.removeAttribute(\"aria-pressed\"),c&&this.removeAttribute(\"aria-disabled\")}},\ngetFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){var c=this.$.attributes;b=b||{};for(var f=0;f<c.length;f++){var d=c[f],e=d.nodeName.toLowerCase(),l;if(!(e in b))if(\"checked\"==e&&(l=this.getAttribute(e)))a.setAttribute(e,l);else if(!CKEDITOR.env.ie||this.hasAttribute(e))l=this.getAttribute(e),null===l&&(l=d.nodeValue),a.setAttribute(e,l)}\"\"!==this.$.style.cssText&&\n(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);a.$[\"data-cke-expando\"]=this.$[\"data-cke-expando\"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var f=b.childNodes;if(0<=c&&c<f.length)return f[c]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,\nb.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.hasClass(\"cke_enable_context_menu\")}this.on(\"contextmenu\",function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle(\"direction\")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||\n\"ltr\":this.getStyle(\"direction\")||this.getAttribute(\"dir\")},data:function(a,b){a=\"data-\"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(a){var b=CKEDITOR.instances,c,f,d;a=a||void 0===a;for(c in b)if(f=b[c],f.element.equals(this)&&f.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!a&&(d=f.editable())&&(d.equals(this)||d.contains(this)))return f;return null},find:function(a){var c=e(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this,\na)));c();return a},findOne:function(a){var c=e(this);a=this.$.querySelector(b(this,a));c();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var f=a(this);if(!1!==f){c=this.getChildren();for(var d=0;d<c.count();d++)f=c.getItem(d),f.type==CKEDITOR.NODE_ELEMENT?f.forEach(a,b):b&&f.type!=b||a(f)}}});var k={width:[\"border-left-width\",\"border-right-width\",\"padding-left\",\"padding-right\"],height:[\"border-top-width\",\"border-bottom-width\",\"padding-top\",\"padding-bottom\"]};\nCKEDITOR.dom.element.prototype.setSize=function(a,b,d){\"number\"==typeof b&&(!d||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(b-=c.call(this,a)),this.setStyle(a,b+\"px\"))};CKEDITOR.dom.element.prototype.getSize=function(a,b){var d=Math.max(this.$[\"offset\"+CKEDITOR.tools.capitalize(a)],this.$[\"client\"+CKEDITOR.tools.capitalize(a)])||0;b&&(d-=c.call(this,a));return d}}(),CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,\nCKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element(\"div\");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\\s*data-cke-expando=\".*?\"/g,\"\")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,\ngetChildCount:1,getChild:1,getChildren:1}),function(){function a(a,b){var f=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(f.collapsed)return this.end(),null;f.optimize()}var c,d=f.startContainer;c=f.endContainer;var g=f.startOffset,h=f.endOffset,e,n=this.guard,m=this.type,l=a?\"getPreviousSourceNode\":\"getNextSourceNode\";if(!a&&!this._.guardLTR){var k=c.type==CKEDITOR.NODE_ELEMENT?c:c.getParent(),B=c.type==CKEDITOR.NODE_ELEMENT?c.getChild(h):c.getNext();this._.guardLTR=function(a,\nb){return(!b||!k.equals(a))&&(!B||!a.equals(B))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(f.root))}}if(a&&!this._.guardRTL){var G=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),E=d.type==CKEDITOR.NODE_ELEMENT?g?d.getChild(g-1):null:d.getPrevious();this._.guardRTL=function(a,b){return(!b||!G.equals(a))&&(!E||!a.equals(E))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(f.root))}}var F=a?this._.guardRTL:this._.guardLTR;e=n?function(a,b){return!1===F(a,b)?!1:n(a,b)}:F;this.current?c=this.current[l](!1,\nm,e):(a?c.type==CKEDITOR.NODE_ELEMENT&&(c=0<h?c.getChild(h-1):!1===e(c,!0)?null:c.getPreviousSourceNode(!0,m,e)):(c=d,c.type==CKEDITOR.NODE_ELEMENT&&((c=c.getChild(g))||(c=!1===e(d,!0)?null:d.getNextSourceNode(!0,m,e)))),c&&!1===e(c)&&(c=null));for(;c&&!this._.end;){this.current=c;if(!this.evaluator||!1!==this.evaluator(c)){if(!b)return c}else if(b&&this.evaluator)return!1;c=c[l](!1,m,e)}this.end();return this.current=null}function e(b){for(var f,c=null;f=a.call(this,b);)c=f;return c}CKEDITOR.dom.walker=\nCKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return e.call(this)},lastBackward:function(){return e.call(this,1)},reset:function(){delete this.current;this._={}}}});var b={block:1,\"list-item\":1,table:1,\"table-row-group\":1,\"table-header-group\":1,\n\"table-footer-group\":1,\"table-row\":1,\"table-column-group\":1,\"table-column\":1,\"table-cell\":1,\"table-caption\":1},c={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return\"none\"!=this.getComputedStyle(\"float\")||this.getComputedStyle(\"position\")in c||!b[this.getComputedStyle(\"display\")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=\nfunction(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(a,b){function f(a){return a&&a.getName&&\"span\"==a.getName()&&a.data(\"cke-bookmark\")}return function(c){var d,g;d=c&&c.type!=CKEDITOR.NODE_ELEMENT&&(g=c.getParent())&&f(g);d=a?d:d||f(c);return!!(b^d)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var f;b&&b.type==CKEDITOR.NODE_TEXT&&(f=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);\nreturn!!(a^f)}};CKEDITOR.dom.walker.invisible=function(a){var b=CKEDITOR.dom.walker.whitespaces(),f=CKEDITOR.env.webkit?1:0;return function(c){b(c)?c=1:(c.type==CKEDITOR.NODE_TEXT&&(c=c.getParent()),c=c.$.offsetWidth<=f);return!!(a^c)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(f){return!!(b^f.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!l(a)&&!k(a)}return function(f){var c=CKEDITOR.env.needsBrFiller?f.is&&f.is(\"br\"):f.getText&&d.test(f.getText());c&&(c=f.getParent(),\nf=f.getNext(b),c=c.isBlockBoundary()&&(!f||f.type==CKEDITOR.NODE_ELEMENT&&f.isBlockBoundary()));return!!(a^c)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute(\"data-cke-temp\");return!!(a^b)}};var d=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,l=CKEDITOR.dom.walker.whitespaces(),k=CKEDITOR.dom.walker.bookmark(),g=CKEDITOR.dom.walker.temp(),h=function(a){return k(a)||l(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};\nCKEDITOR.dom.walker.ignored=function(a){return function(b){b=l(b)||k(b)||g(b);return!!(a^b)}};var m=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var f=0,c=b.getChildCount();f<c;++f)if(!m(b.getChild(f)))return!!a;return!a}};var f=CKEDITOR.dom.walker.empty(),n=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},f;for(f in a)CKEDITOR.dtd[f][\"#\"]&&(b[f]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=\nfunction(a){return function(b){b=m(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is(\"hr\")||\"false\"==b.getAttribute(\"contenteditable\")||!CKEDITOR.env.needsBrFiller&&b.is(n)&&f(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(h(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is(\"br\"):a.getText&&d.test(a.getText()))?a:!1}}(),CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=\nthis.startOffset=this.startContainer=null;this.collapsed=!0;var e=a instanceof CKEDITOR.dom.document;this.document=e?a:a.getDocument();this.root=e?a.getBody():a},function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function e(a,b,c,d,g){function h(a,b,f,c){var d=f?a.getPrevious():a.getNext();if(c&&l)return d;z||c?b.append(a.clone(!0,g),f):(a.remove(),k&&b.append(a,f));return d}function e(){var a,b,f,c=Math.min(J.length,\nD.length);for(a=0;a<c;a++)if(b=J[a],f=D[a],!b.equals(f))return a;return a-1}function m(){var b=R-1,c=F&&I&&!w.equals(C);b<N-1||b<S-1||c?(c?a.moveToPosition(C,CKEDITOR.POSITION_BEFORE_START):S==b+1&&E?a.moveToPosition(D[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(D[b+1],CKEDITOR.POSITION_BEFORE_START),d&&(b=J[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(c=CKEDITOR.dom.element.createFromHtml('\\x3cspan data-cke-bookmark\\x3d\"1\" style\\x3d\"display:none\"\\x3e\\x26nbsp;\\x3c/span\\x3e',a.document),c.insertAfter(b),\nb.mergeSiblings(!1),a.moveToBookmark({startNode:c}))):a.collapse(!0)}a.optimizeBookmark();var l=0===b,k=1==b,z=2==b;b=z||k;var w=a.startContainer,C=a.endContainer,y=a.startOffset,B=a.endOffset,G,E,F,I,H,K;if(z&&C.type==CKEDITOR.NODE_TEXT&&(w.equals(C)||w.type===CKEDITOR.NODE_ELEMENT&&w.getFirst().equals(C)))c.append(a.document.createText(C.substring(y,B)));else{C.type==CKEDITOR.NODE_TEXT?z?K=!0:C=C.split(B):0<C.getChildCount()?B>=C.getChildCount()?(C=C.getChild(B-1),E=!0):C=C.getChild(B):I=E=!0;w.type==\nCKEDITOR.NODE_TEXT?z?H=!0:w.split(y):0<w.getChildCount()?0===y?(w=w.getChild(y),G=!0):w=w.getChild(y-1):F=G=!0;for(var J=w.getParents(),D=C.getParents(),R=e(),N=J.length-1,S=D.length-1,L=c,V,Z,X,da=-1,P=R;P<=N;P++){Z=J[P];X=Z.getNext();for(P!=N||Z.equals(D[P])&&N<S?b&&(V=L.append(Z.clone(0,g))):G?h(Z,L,!1,F):H&&L.append(a.document.createText(Z.substring(y)));X;){if(X.equals(D[P])){da=P;break}X=h(X,L)}L=V}L=c;for(P=R;P<=S;P++)if(c=D[P],X=c.getPrevious(),c.equals(J[P]))b&&(L=L.getChild(0));else{P!=\nS||c.equals(J[P])&&S<N?b&&(V=L.append(c.clone(0,g))):E?h(c,L,!1,I):K&&L.append(a.document.createText(c.substring(0,B)));if(P>da)for(;X;)X=h(X,L,!0);L=V}z||m()}}function b(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!0),d=CKEDITOR.dom.walker.bogus();return function(g){return c(g)||b(g)?!0:d(g)&&!a?a=!0:g.type==CKEDITOR.NODE_TEXT&&(g.hasAscendant(\"pre\")||CKEDITOR.tools.trim(g.getText()).length)||g.type==CKEDITOR.NODE_ELEMENT&&!g.is(l)?!1:!0}}function c(a){var b=CKEDITOR.dom.walker.whitespaces(),\nc=CKEDITOR.dom.walker.bookmark(1);return function(d){return c(d)||b(d)?!0:!a&&k(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}function d(a){return function(){var b;return this[a?\"getPreviousNode\":\"getNextNode\"](function(a){!b&&m(a)&&(b=a);return h(a)&&!(k(a)&&a.equals(b))})}}var l={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,\"var\":1},k=CKEDITOR.dom.walker.bogus(),\ng=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,h=CKEDITOR.dom.walker.editable(),m=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),\nthis.startOffset=this.endOffset);this.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||e(this,2,b,!1,\"undefined\"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||e(this,0,null,a)},extractContents:function(a,b){var c=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||e(this,1,c,a,\"undefined\"==typeof b?!0:b);return c},createBookmark:function(a){var b,c,d,g,h=this.collapsed;b=this.document.createElement(\"span\");\nb.data(\"cke-bookmark\",1);b.setStyle(\"display\",\"none\");b.setHtml(\"\\x26nbsp;\");a&&(d=\"cke_bm_\"+CKEDITOR.tools.getNextNumber(),b.setAttribute(\"id\",d+(h?\"C\":\"S\")));h||(c=b.clone(),c.setHtml(\"\\x26nbsp;\"),a&&c.setAttribute(\"id\",d+\"E\"),g=this.clone(),g.collapse(),g.insertNode(c));g=this.clone();g.collapse(!0);g.insertNode(b);c?(this.setStartAfter(b),this.setEndBefore(c)):this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?d+(h?\"C\":\"S\"):b,endNode:a?d+\"E\":c,serializable:a,collapsed:h}},createBookmark2:function(){function a(b){var f=\nb.container,d=b.offset,g;g=f;var h=d;g=g.type!=CKEDITOR.NODE_ELEMENT||0===h||h==g.getChildCount()?0:g.getChild(h-1).type==CKEDITOR.NODE_TEXT&&g.getChild(h).type==CKEDITOR.NODE_TEXT;g&&(f=f.getChild(d-1),d=f.getLength());if(f.type==CKEDITOR.NODE_ELEMENT&&0<d){a:{for(g=f;d--;)if(h=g.getChild(d).getIndex(!0),0<=h){d=h;break a}d=-1}d+=1}if(f.type==CKEDITOR.NODE_TEXT){g=f;for(h=0;(g=g.getPrevious())&&g.type==CKEDITOR.NODE_TEXT;)h+=g.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,\"\").length;\ng=h;f.getText()?d+=g:(h=f.getPrevious(c),g?(d=g,f=h?h.getNext():f.getParent().getFirst()):(f=f.getParent(),d=h?h.getIndex(!0)+1:0))}b.container=f;b.offset=d}function b(a,f){var c=f.getCustomData(\"cke-fillingChar\");if(c){var d=a.container;c.equals(d)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=d.getIndex(),a.container=d.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(c){var d=this.collapsed,g={container:this.startContainer,\noffset:this.startOffset},h={container:this.endContainer,offset:this.endOffset};c&&(a(g),b(g,this.root),d||(a(h),b(h,this.root)));return{start:g.container.getAddress(c),end:d?null:h.container.getAddress(c),startOffset:g.offset,endOffset:h.offset,normalized:c,collapsed:d,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):this.collapse(!0)}else b=\n(c=a.serializable)?this.document.getById(a.startNode):a.startNode,a=c?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,g;if(a.type==CKEDITOR.NODE_ELEMENT)if(g=a.getChildCount(),g>c)a=a.getChild(c);else if(1>g)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=\na.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(g=b.getChildCount(),g>d)b=b.getChild(d).getPreviousSourceNode(!0);else if(1>g)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):\nc:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is(\"span\")&&a.data(\"cke-bookmark\")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);\nb&&b.is&&b.is(\"span\")&&b.data(\"cke-bookmark\")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var c=this.startContainer,d=this.startOffset,g=this.collapsed;if((!a||g)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength())d=c.getIndex()+1,c=c.getParent();else{var h=c.split(d),d=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(h,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else d=c.getIndex(),c=c.getParent();\nthis.setStart(c,d);if(g){this.collapse(!0);return}}c=this.endContainer;d=this.endOffset;b||g||!c||c.type!=CKEDITOR.NODE_TEXT||(d?(d>=c.getLength()||c.split(d),d=c.getIndex()+1):d=c.getIndex(),c=c.getParent(),this.setEnd(c,d))},enlarge:function(a,b){function c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"contenteditable\")?null:a}var d=new RegExp(/[^\\s\\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var g=1;case CKEDITOR.ENLARGE_ELEMENT:var h=function(a,b){var f=new CKEDITOR.dom.range(m);\nf.setStart(a,b);f.setEndAt(m,CKEDITOR.POSITION_BEFORE_END);var f=new CKEDITOR.dom.walker(f),c;for(f.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};c=f.next();){if(c.type!=CKEDITOR.NODE_TEXT)return!1;G=c!=a?c.getText():c.substring(b);if(d.test(G))return!1}return!0};if(this.collapsed)break;var e=this.getCommonAncestor(),m=this.root,l,k,z,w,C,y=!1,B,G;B=this.startContainer;var E=this.startOffset;B.type==CKEDITOR.NODE_TEXT?(E&&(B=!CKEDITOR.tools.trim(B.substring(0,E)).length&&\nB,y=!!B),B&&((w=B.getPrevious())||(z=B.getParent()))):(E&&(w=B.getChild(E-1)||B.getLast()),w||(z=B));for(z=c(z);z||w;){if(z&&!w){!C&&z.equals(e)&&(C=!0);if(g?z.isBlockBoundary():!m.contains(z))break;y&&\"inline\"==z.getComputedStyle(\"display\")||(y=!1,C?l=z:this.setStartBefore(z));w=z.getPrevious()}for(;w;)if(B=!1,w.type==CKEDITOR.NODE_COMMENT)w=w.getPrevious();else{if(w.type==CKEDITOR.NODE_TEXT)G=w.getText(),d.test(G)&&(w=null),B=/[\\s\\ufeff]$/.test(G);else if((w.$.offsetWidth>(CKEDITOR.env.webkit?1:\n0)||b&&w.is(\"br\"))&&!w.data(\"cke-bookmark\"))if(y&&CKEDITOR.dtd.$removeEmpty[w.getName()]){G=w.getText();if(d.test(G))w=null;else for(var E=w.$.getElementsByTagName(\"*\"),F=0,I;I=E[F++];)if(!CKEDITOR.dtd.$removeEmpty[I.nodeName.toLowerCase()]){w=null;break}w&&(B=!!G.length)}else w=null;B&&(y?C?l=z:z&&this.setStartBefore(z):y=!0);if(w){B=w.getPrevious();if(!z&&!B){z=w;w=null;break}w=B}else z=null}z&&(z=c(z.getParent()))}B=this.endContainer;E=this.endOffset;z=w=null;C=y=!1;B.type==CKEDITOR.NODE_TEXT?\nCKEDITOR.tools.trim(B.substring(E)).length?y=!0:(y=!B.getLength(),E==B.getLength()?(w=B.getNext())||(z=B.getParent()):h(B,E)&&(z=B.getParent())):(w=B.getChild(E))||(z=B);for(;z||w;){if(z&&!w){!C&&z.equals(e)&&(C=!0);if(g?z.isBlockBoundary():!m.contains(z))break;y&&\"inline\"==z.getComputedStyle(\"display\")||(y=!1,C?k=z:z&&this.setEndAfter(z));w=z.getNext()}for(;w;){B=!1;if(w.type==CKEDITOR.NODE_TEXT)G=w.getText(),h(w,0)||(w=null),B=/^[\\s\\ufeff]/.test(G);else if(w.type==CKEDITOR.NODE_ELEMENT){if((0<w.$.offsetWidth||\nb&&w.is(\"br\"))&&!w.data(\"cke-bookmark\"))if(y&&CKEDITOR.dtd.$removeEmpty[w.getName()]){G=w.getText();if(d.test(G))w=null;else for(E=w.$.getElementsByTagName(\"*\"),F=0;I=E[F++];)if(!CKEDITOR.dtd.$removeEmpty[I.nodeName.toLowerCase()]){w=null;break}w&&(B=!!G.length)}else w=null}else B=1;B&&y&&(C?k=z:this.setEndAfter(z));if(w){B=w.getNext();if(!z&&!B){z=w;w=null;break}w=B}else z=null}z&&(z=c(z.getParent()))}l&&k&&(e=l.contains(k)?k:l,this.setStartBefore(e),this.setEndAfter(e));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:z=\nnew CKEDITOR.dom.range(this.root);m=this.root;z.setStartAt(m,CKEDITOR.POSITION_AFTER_START);z.setEnd(this.startContainer,this.startOffset);z=new CKEDITOR.dom.walker(z);var H,K,J=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),D=null,R=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&\"false\"==a.getAttribute(\"contenteditable\"))if(D){if(D.equals(a)){D=null;return}}else D=a;else if(D)return;var b=J(a);b||(H=a);return b},g=function(a){var b=R(a);!b&&a.is&&a.is(\"br\")&&\n(K=a);return b};z.guard=R;z=z.lastBackward();H=H||m;this.setStartAt(H,!H.is(\"br\")&&(!z&&this.checkStartOfBlock()||z&&H.contains(z))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){z=this.clone();z=new CKEDITOR.dom.walker(z);var N=CKEDITOR.dom.walker.whitespaces(),S=CKEDITOR.dom.walker.bookmark();z.evaluator=function(a){return!N(a)&&!S(a)};if((z=z.previous())&&z.type==CKEDITOR.NODE_ELEMENT&&z.is(\"br\"))break}z=this.clone();z.collapse();z.setEndAt(m,\nCKEDITOR.POSITION_BEFORE_END);z=new CKEDITOR.dom.walker(z);z.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?g:R;H=D=K=null;z=z.lastForward();H=H||m;this.setEndAt(H,!z&&this.checkEndOfBlock()||z&&H.contains(z)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);K&&this.setEndAfter(K)}},shrink:function(a,b,c){var d=\"boolean\"===typeof c?c:c&&\"boolean\"===typeof c.shrinkOnBlockBoundary?c.shrinkOnBlockBoundary:!0,g=c&&c.skipBogus;if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var h=this.clone(),e=\nthis.startContainer,m=this.endContainer,l=this.startOffset,k=this.endOffset,z=c=1;e&&e.type==CKEDITOR.NODE_TEXT&&(l?l>=e.getLength()?h.setStartAfter(e):(h.setStartBefore(e),c=0):h.setStartBefore(e));m&&m.type==CKEDITOR.NODE_TEXT&&(k?k>=m.getLength()?h.setEndAfter(m):(h.setEndAfter(m),z=0):h.setEndBefore(m));var h=new CKEDITOR.dom.walker(h),w=CKEDITOR.dom.walker.bookmark(),C=CKEDITOR.dom.walker.bogus();h.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};\nvar y;h.guard=function(b,c){if(g&&C(b)||w(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||c&&b.equals(y)||!1===d&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute(\"contenteditable\"))return!1;c||b.type!=CKEDITOR.NODE_ELEMENT||(y=b);return!0};c&&(e=h[a==CKEDITOR.SHRINK_ELEMENT?\"lastForward\":\"next\"]())&&this.setStartAt(e,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);z&&(h.reset(),(h=h[a==CKEDITOR.SHRINK_ELEMENT?\n\"lastBackward\":\"previous\"]())&&this.setEndAt(h,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));return!(!c&&!z)}},insertNode:function(a){this.optimizeBookmark();this.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);\nthis.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=c;this.endContainer||(this._setEndContainer(b),this.endOffset=c);a(this)},setEnd:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex()+\n1,b=b.getParent());this._setEndContainer(b);this.endOffset=c;this.startContainer||(this._setStartContainer(b),this.startOffset=c);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);\nbreak;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,b.getLength()):this.setStart(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);\nbreak;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},fixBlock:function(a,b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();this.insertNode(d);var g=d.getBogus();g&&g.remove();d.appendBogus();this.moveToBookmark(c);return d},splitBlock:function(a,b){var c=new CKEDITOR.dom.elementPath(this.startContainer,this.root),d=new CKEDITOR.dom.elementPath(this.endContainer,this.root),\ng=c.block,h=d.block,e=null;if(!c.blockLimit.equals(d.blockLimit))return null;\"br\"!=a&&(g||(g=this.fixBlock(!0,a),h=(new CKEDITOR.dom.elementPath(this.endContainer,this.root)).block),h||(h=this.fixBlock(!1,a)));c=g&&this.checkStartOfBlock();d=h&&this.checkEndOfBlock();this.deleteContents();g&&g.equals(h)&&(d?(e=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(h,CKEDITOR.POSITION_AFTER_END),h=null):c?(e=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(g,\nCKEDITOR.POSITION_BEFORE_START),g=null):(h=this.splitElement(g,b||!1),g.is(\"ul\",\"ol\")||g.appendBogus()));return{previousBlock:g,nextBlock:h,wasStartOfBlock:c,wasEndOfBlock:d,elementPath:e}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var c=this.extractContents(!1,b||!1),d=a.clone(!1,b||!1);c.appendTo(d);d.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return d},removeEmptyBlocksAtEnd:function(){function a(f){return function(a){return b(a)||\nc(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||f.is(\"table\")&&a.is(\"caption\")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var c=this.createBookmark(),d=this[b?\"endPath\":\"startPath\"](),g=d.block||d.blockLimit,h;g&&!g.equals(d.root)&&!g.getFirst(a(g));)h=g.getParent(),this[b?\"setEndAt\":\"setStartAt\"](g,CKEDITOR.POSITION_AFTER_END),g.remove(1),g=h;this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,\nthis.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(a,b){var d=b==CKEDITOR.START,g=this.clone();g.collapse(d);g[d?\"setStartAt\":\"setEndAt\"](a,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);g=new CKEDITOR.dom.walker(g);g.evaluator=c(d);return g[d?\"checkBackward\":\"checkForward\"]()},checkStartOfBlock:function(){var a=this.startContainer,c=this.startOffset;CKEDITOR.env.ie&&c&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,\nc)),g.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,this.root);c=this.clone();c.collapse(!0);c.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,c=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(c)),g.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,\nthis.root);c=this.clone();c.collapse(!1);c.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);\nc.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==CKEDITOR.NODE_ELEMENT){if(\"false\"==b.getAttribute(\"contentEditable\")&&!b.data(\"cke-editable\"))return 0;if(b.is(\"html\")||\"true\"==b.getAttribute(\"contentEditable\")&&(b.contains(c)||b.equals(c)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,\nb?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&g.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is(\"br\")&&this.endContainer&&\nthis.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);else if(\"false\"==a.getAttribute(\"contenteditable\")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var d=a,h=c,e=void 0;d.type==CKEDITOR.NODE_ELEMENT&&d.isEditable(!1)&&(e=d[b?\"getLast\":\"getFirst\"](m));h||e||(e=d[b?\"getPrevious\":\"getNext\"](m));a=e}return!!c},moveToClosestEditablePosition:function(a,b){var c,d=0,g,h,e=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),\nc.moveToPosition(a,e[b?0:1])):c=this.clone();if(a&&!a.is(CKEDITOR.dtd.$block))d=1;else if(g=c[b?\"getNextEditableNode\":\"getPreviousEditableNode\"]())d=1,(h=g.type==CKEDITOR.NODE_ELEMENT)&&g.is(CKEDITOR.dtd.$block)&&\"false\"==g.getAttribute(\"contenteditable\")?(c.setStartAt(g,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(g,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&h&&g.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(g,0),c.collapse()):c.moveToPosition(g,e[b?1:0]);d&&this.moveToRange(c);\nreturn!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();\na.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:d(),getPreviousEditableNode:d(1),_getTableElement:function(a){a=a||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var b=this.startContainer,c=\nthis.endContainer,d=b.getAscendant(\"table\",!0),g=c.getAscendant(\"table\",!0);return CKEDITOR.env.safari&&d&&c.equals(this.root)?b.getAscendant(a,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(a,!0):d&&g&&(d.equals(g)||d.contains(g)||g.contains(d))?b.getAscendant(a,!0):null},scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",this.document),b,c,d,g=this.clone();g.optimize();(d=g.startContainer.type==CKEDITOR.NODE_TEXT)?(c=g.startContainer.getText(),\nb=g.startContainer.split(g.startOffset),a.insertAfter(g.startContainer)):g.insertNode(a);a.scrollIntoView();d&&(g.startContainer.setText(c),b.remove());a.remove()},_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var c=this.getCommonAncestor(),d=this.getBoundaryNodes(),g=[],h,e,m,l;if(c&&c.find)for(e=c.find(a),h=0;h<e.count();h++)if(c=e.getItem(h),b||!c.isReadOnly())m=c.getPosition(d.startNode)&CKEDITOR.POSITION_FOLLOWING||\nd.startNode.equals(c),l=c.getPosition(d.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||d.endNode.equals(c),m&&l&&g.push(c);return g}};CKEDITOR.dom.range.mergeRanges=function(a){return CKEDITOR.tools.array.reduce(a,function(a,b){var c=a[a.length-1],f=!1;b=b.clone();b.enlarge(CKEDITOR.ENLARGE_ELEMENT);if(c){var d=new CKEDITOR.dom.range(b.root),f=new CKEDITOR.dom.walker(d),g=CKEDITOR.dom.walker.whitespaces();d.setStart(c.endContainer,c.endOffset);d.setEnd(b.startContainer,b.startOffset);\nfor(d=f.next();g(d)||b.endContainer.equals(d);)d=f.next();f=!d}f?c.setEnd(b.endContainer,b.endOffset):a.push(b);return a},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,\"use strict\",function(){function a(a){1>\narguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function e(a){var b=[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function b(a,c,d,g){a:{null==g&&(g=e(d));for(var h;h=g.shift();)if(h.getDtd().p){g={element:h,remaining:g};break a}g=null}if(!g)return 0;if((h=CKEDITOR.filter.instances[g.element.data(\"cke-filter\")])&&!h.check(c))return b(a,c,d,g.remaining);\nc=new CKEDITOR.dom.range(g.element);c.selectNodeContents(g.element);c=c.createIterator();c.enlargeBr=a.enlargeBr;c.enforceRealBlocks=a.enforceRealBlocks;c.activeFilter=c.filter=h;a._.nestedEditable={element:g.element,container:d,remaining:g.remaining,iterator:c};return 1}function c(a,b,c){if(!b)return!1;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var d=/^[\\r\\n\\t ]+$/,l=CKEDITOR.dom.walker.bookmark(!1,!0),k=CKEDITOR.dom.walker.whitespaces(!0),g=function(a){return l(a)&&\nk(a)},h={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var f,e,k,r,v;a=a||\"p\";if(this._.nestedEditable){if(f=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,f;this.activeFilter=this.filter;if(b(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=null}if(!this.range.root.getDtd()[a])return null;\nif(!this._.started){var x=this.range.clone();e=x.startPath();var q=x.endPath(),t=!x.collapsed&&c(x,e.block),u=!x.collapsed&&c(x,q.block,1);x.shrink(CKEDITOR.SHRINK_ELEMENT,!0);t&&x.setStartAt(e.block,CKEDITOR.POSITION_BEFORE_END);u&&x.setEndAt(q.block,CKEDITOR.POSITION_AFTER_START);e=x.endContainer.hasAscendant(\"pre\",!0)||x.startContainer.hasAscendant(\"pre\",!0);x.enlarge(this.forceBrBreak&&!e||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);x.collapsed||(e=new CKEDITOR.dom.walker(x.clone()),\nq=CKEDITOR.dom.walker.bookmark(!0,!0),e.evaluator=q,this._.nextNode=e.next(),e=new CKEDITOR.dom.walker(x.clone()),e.evaluator=q,e=e.previous(),this._.lastNode=e.getNextSourceNode(!0,null,x.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(q=this.range.clone(),q.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),q.checkEndOfBlock()&&(q=new CKEDITOR.dom.elementPath(q.endContainer,\nq.root),this._.lastNode=(q.block||q.blockLimit).getNextSourceNode(!0))),this._.lastNode&&x.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=x.document.createText(\"\"),this._.lastNode.insertAfter(e)),x=null);this._.started=1;e=x}q=this._.nextNode;x=this._.lastNode;for(this._.nextNode=null;q;){var t=0,u=q.hasAscendant(\"pre\"),A=q.type!=CKEDITOR.NODE_ELEMENT,z=0;if(A)q.type==CKEDITOR.NODE_TEXT&&d.test(q.getText())&&(A=0);else{var w=q.getName();if(CKEDITOR.dtd.$block[w]&&\"false\"==q.getAttribute(\"contenteditable\")){f=\nq;b(this,a,f);break}else if(q.isBlockBoundary(this.forceBrBreak&&!u&&{br:1})){if(\"br\"==w)A=1;else if(!e&&!q.getChildCount()&&\"hr\"!=w){f=q;k=q.equals(x);break}e&&(e.setEndAt(q,CKEDITOR.POSITION_BEFORE_START),\"br\"!=w&&(this._.nextNode=q));t=1}else{if(q.getFirst()){e||(e=this.range.clone(),e.setStartAt(q,CKEDITOR.POSITION_BEFORE_START));q=q.getFirst();continue}A=1}}A&&!e&&(e=this.range.clone(),e.setStartAt(q,CKEDITOR.POSITION_BEFORE_START));k=(!t||A)&&q.equals(x);if(e&&!t)for(;!q.getNext(g)&&!k;){w=\nq.getParent();if(w.isBlockBoundary(this.forceBrBreak&&!u&&{br:1})){t=1;A=0;k||w.equals(x);e.setEndAt(w,CKEDITOR.POSITION_BEFORE_END);break}q=w;A=1;k=q.equals(x);z=1}A&&e.setEndAt(q,CKEDITOR.POSITION_AFTER_END);q=this._getNextSourceNode(q,z,x);if((k=!q)||t&&e)break}if(!f){if(!e)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;f=new CKEDITOR.dom.elementPath(e.startContainer,e.root);q=f.blockLimit;t={div:1,th:1,td:1};f=f.block;!f&&q&&!this.enforceRealBlocks&&t[q.getName()]&&\ne.checkStartOfBlock()&&e.checkEndOfBlock()&&!q.equals(e.root)?f=q:!f||this.enforceRealBlocks&&f.is(h)?(f=this.range.document.createElement(a),e.extractContents().appendTo(f),f.trim(),e.insertNode(f),r=v=!0):\"li\"!=f.getName()?e.checkStartOfBlock()&&e.checkEndOfBlock()||(f=f.clone(!1),e.extractContents().appendTo(f),f.trim(),v=e.splitBlock(),r=!v.wasStartOfBlock,v=!v.wasEndOfBlock,e.insertNode(f)):k||(this._.nextNode=f.equals(x)?null:this._getNextSourceNode(e.getBoundaryNodes().endNode,1,x))}r&&(r=\nf.getPrevious())&&r.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==r.getName()?r.remove():r.getLast()&&\"br\"==r.getLast().$.nodeName.toLowerCase()&&r.getLast().remove());v&&(r=f.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&\"br\"==r.getName()&&(!CKEDITOR.env.needsBrFiller||r.getPrevious(l)||r.getNext(l))&&r.remove();this._.nextNode||(this._.nextNode=k||f.equals(x)||!x?null:this._getNextSourceNode(f,1,x));return f},_getNextSourceNode:function(a,b,c){function d(a){return!(a.equals(c)||a.equals(g))}var g=this.range.root;\nfor(a=a.getNextSourceNode(b,null,d);!l(a);)a=a.getNextSourceNode(b,null,d);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}}(),CKEDITOR.command=function(a,e){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire(\"exec\")?!0:!1!==e.exec.call(this,a,b)};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!b.isContextFor(this.context)||\n!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire(\"refresh\",{editor:a,path:b})?!0:e.refresh&&!1!==e.refresh.apply(this,arguments)};var b;this.checkAllowed=function(c){return c||\"boolean\"!=typeof b?b=a.activeFilter.checkFeature(this):b};CKEDITOR.tools.extend(this,e,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!e.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)},CKEDITOR.command.prototype=\n{enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&\"undefined\"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire(\"state\");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):\nthis.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:\"config.js\",autoUpdateElement:!0,language:\"\",defaultLanguage:\"en\",contentsLangDirection:\"\",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:\"\\x3c!DOCTYPE html\\x3e\",bodyId:\"\",bodyClass:\"\",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl(\"contents.css\"),\nextraPlugins:\"\",removePlugins:\"\",protectedSource:[],tabIndex:0,width:\"\",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function a(a,b,c,f,d){var g,h;a=[];for(g in b){h=b[g];h=\"boolean\"==typeof h?{}:\"function\"==typeof h?{match:h}:F(h);\"$\"!=g.charAt(0)&&(h.elements=g);c&&(h.featureName=c.toLowerCase());var e=h;e.elements=k(e.elements,/\\s+/)||null;e.propertiesOnly=e.propertiesOnly||!0===e.elements;var m=/\\s*,\\s*/,l=void 0;for(l in K){e[l]=k(e[l],\nm)||null;var n=e,q=J[l],w=k(e[J[l]],m),D=e[l],z=[],N=!0,y=void 0;w?N=!1:w={};for(y in D)\"!\"==y.charAt(0)&&(y=y.slice(1),z.push(y),w[y]=!0,N=!1);for(;y=z.pop();)D[y]=D[\"!\"+y],delete D[\"!\"+y];n[q]=(N?!1:w)||null}e.match=e.match||null;f.push(h);a.push(h)}b=d.elements;d=d.generic;var p;c=0;for(f=a.length;c<f;++c){g=F(a[c]);h=!0===g.classes||!0===g.styles||!0===g.attributes;e=g;l=q=m=void 0;for(m in K)e[m]=t(e[m]);n=!0;for(l in J){m=J[l];q=e[m];w=[];D=void 0;for(D in q)-1<D.indexOf(\"*\")?w.push(new RegExp(\"^\"+\nD.replace(/\\*/g,\".*\")+\"$\")):w.push(D);q=w;q.length&&(e[m]=q,n=!1)}e.nothingRequired=n;e.noProperties=!(e.attributes||e.classes||e.styles);if(!0===g.elements||null===g.elements)d[h?\"unshift\":\"push\"](g);else for(p in e=g.elements,delete g.elements,e)if(b[p])b[p][h?\"unshift\":\"push\"](g);else b[p]=[g]}}function e(a,c,f,d){if(!a.match||a.match(c))if(d||g(a,c))if(a.propertiesOnly||(f.valid=!0),f.allAttributes||(f.allAttributes=b(a.attributes,c.attributes,f.validAttributes)),f.allStyles||(f.allStyles=b(a.styles,\nc.styles,f.validStyles)),!f.allClasses){a=a.classes;c=c.classes;d=f.validClasses;if(a)if(!0===a)a=!0;else{for(var h=0,e=c.length,m;h<e;++h)m=c[h],d[m]||(d[m]=a(m));a=!1}else a=!1;f.allClasses=a}}function b(a,b,c){if(!a)return!1;if(!0===a)return!0;for(var f in b)c[f]||(c[f]=a(f));return!1}function c(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return!1;c.hadInvalidAttribute=d(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=d(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;\nb=b.classes;if(a){for(var f=!1,g=!0===a,h=b.length;h--;)if(g||a(b[h]))b.splice(h,1),f=!0;a=f}else a=!1;c.hadInvalidClass=a||c.hadInvalidClass}}function d(a,b){if(!a)return!1;var c=!1,f=!0===a,d;for(d in b)if(f||a(d))delete b[d],c=!0;return c}function l(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return!1;a._.cachedChecks={};return!0}function k(a,b){if(!a)return!1;if(!0===a)return a;if(\"string\"==typeof a)return a=I(a),\"*\"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?\nCKEDITOR.tools.convertArrayToObject(a):!1;var c={},f=0,d;for(d in a)c[d]=a[d],f++;return f?c:!1}function g(a,b){if(a.nothingRequired)return!0;var c,f,d,g;if(d=a.requiredClasses)for(g=b.classes,c=0;c<d.length;++c)if(f=d[c],\"string\"==typeof f){if(-1==CKEDITOR.tools.indexOf(g,f))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(g,f))return!1;return h(b.styles,a.requiredStyles)&&h(b.attributes,a.requiredAttributes)}function h(a,b){if(!b)return!0;for(var c=0,f;c<b.length;++c)if(f=b[c],\"string\"==\ntypeof f){if(!(f in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,f))return!1;return!0}function m(a){if(!a)return{};a=a.split(/\\s*,\\s*/).sort();for(var b={};a.length;)b[a.shift()]=\"cke-test\";return b}function f(a){var b,c,f,d,g={},h=1;for(a=I(a);b=a.match(D);)(c=b[2])?(f=n(c,\"styles\"),d=n(c,\"attrs\"),c=n(c,\"classes\")):f=d=c=null,g[\"$\"+h++]={elements:b[1],classes:c,styles:f,attributes:d},a=a.slice(b[0].length);return g}function n(a,b){var c=a.match(R[b]);return c?I(c[1]):null}\nfunction p(a){var b=a.styleBackup=a.attributes.style,c=a.classBackup=a.attributes[\"class\"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||\"\",1));a.classes||(a.classes=c?c.split(/\\s+/):[])}function r(a,b,f,d){var g=0,h;d.toHtml&&(b.name=b.name.replace(N,\"$1\"));if(d.doCallbacks&&a.elementCallbacks){a:{h=a.elementCallbacks;for(var m=0,l=h.length,k;m<l;++m)if(k=h[m](b)){h=k;break a}h=void 0}if(h)return h}if(d.doTransform&&(h=a._.transformations[b.name])){p(b);for(m=0;m<h.length;++m)w(a,b,h[m]);x(b)}if(d.doFilter){a:{m=\nb.name;l=a._;a=l.allowedRules.elements[m];h=l.allowedRules.generic;m=l.disallowedRules.elements[m];l=l.disallowedRules.generic;k=d.skipRequired;var n={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},D,z;if(a||h){p(b);if(m)for(D=0,z=m.length;D<z;++D)if(!1===c(m[D],b,n)){a=null;break a}if(l)for(D=0,z=l.length;D<z;++D)c(l[D],b,n);if(a)for(D=0,z=a.length;D<z;++D)e(a[D],b,n,k);if(h)for(D=\n0,z=h.length;D<z;++D)e(h[D],b,n,k);a=n}else a=null}if(!a||!a.valid)return f.push(b),1;z=a.validAttributes;var J=a.validStyles;h=a.validClasses;var m=b.attributes,t=b.styles,l=b.classes;k=b.classBackup;var y=b.styleBackup,u,E,C=[],n=[],B=/^data-cke-/;D=!1;delete m.style;delete m[\"class\"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(u in m)z[u]||(B.test(u)?u==(E=u.replace(/^data-cke-saved-/,\"\"))||z[E]||(delete m[u],D=!0):(delete m[u],D=!0));if(!a.allStyles||a.hadInvalidStyle){for(u in t)a.allStyles||\nJ[u]?C.push(u+\":\"+t[u]):D=!0;C.length&&(m.style=C.sort().join(\"; \"))}else y&&(m.style=y);if(!a.allClasses||a.hadInvalidClass){for(u=0;u<l.length;++u)(a.allClasses||h[l[u]])&&n.push(l[u]);n.length&&(m[\"class\"]=n.sort().join(\" \"));k&&n.length<k.split(/\\s+/).length&&(D=!0)}else k&&(m[\"class\"]=k);D&&(g=1);if(!d.skipFinalValidation&&!q(b))return f.push(b),1}d.toHtml&&(b.name=b.name.replace(S,\"cke:$1\"));return g}function v(a){var b=[],c;for(c in a)-1<c.indexOf(\"*\")&&b.push(c.replace(/\\*/g,\".*\"));return b.length?\nnew RegExp(\"^(?:\"+b.join(\"|\")+\")$\"):null}function x(a){var b=a.attributes,c;delete b.style;delete b[\"class\"];if(c=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=c;a.classes.length&&(b[\"class\"]=a.classes.sort().join(\" \"))}function q(a){switch(a.name){case \"a\":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case \"img\":if(!a.attributes.src)return!1}return!0}function t(a){if(!a)return!1;if(!0===a)return!0;var b=v(a);return function(c){return c in a||b&&c.match(b)}}function u(){return new CKEDITOR.htmlParser.element(\"br\")}\nfunction A(a){return a.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==a.name||E.$block[a.name])}function z(a,b,c){var f=a.name;if(E.$empty[f]||!a.children.length)\"hr\"==f&&\"br\"==b?a.replaceWith(u()):(a.parent&&c.push({check:\"it\",el:a.parent}),a.remove());else if(E.$block[f]||\"tr\"==f)if(\"br\"==b)a.previous&&!A(a.previous)&&(b=u(),b.insertBefore(a)),a.next&&!A(a.next)&&(b=u(),b.insertAfter(a)),a.replaceWithChildren();else{var f=a.children,d;b:{d=E[b];for(var g=0,h=f.length,e;g<h;++g)if(e=f[g],e.type==CKEDITOR.NODE_ELEMENT&&\n!d[e.name]){d=!1;break b}d=!0}if(d)a.name=b,a.attributes={},c.push({check:\"parent-down\",el:a});else{d=a.parent;for(var g=d.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||\"body\"==d.name,m,l,h=f.length;0<h;)e=f[--h],g&&(e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&E.$inline[e.name])?(m||(m=new CKEDITOR.htmlParser.element(b),m.insertAfter(a),c.push({check:\"parent-down\",el:m})),m.add(e,0)):(m=null,l=E[d.name]||E.span,e.insertAfter(a),d.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||e.type!=CKEDITOR.NODE_ELEMENT||\nl[e.name]||c.push({check:\"el-up\",el:e}));a.remove()}}else f in{style:1,script:1}?a.remove():(a.parent&&c.push({check:\"it\",el:a.parent}),a.replaceWithChildren())}function w(a,b,c){var f,d;for(f=0;f<c.length;++f)if(d=c[f],!(d.check&&!a.check(d.check,!1)||d.left&&!d.left(b))){d.right(b,L);break}}function C(a,b){var c=b.getDefinition(),f=c.attributes,d=c.styles,g,h,e,m;if(a.name!=c.element)return!1;for(g in f)if(\"class\"==g)for(c=f[g].split(/\\s+/),e=a.classes.join(\"|\");m=c.pop();){if(-1==e.indexOf(m))return!1}else if(a.attributes[g]!=\nf[g])return!1;for(h in d)if(a.styles[h]!=d[h])return!1;return!0}function y(a,b){var c,f;\"string\"==typeof a?c=a:a instanceof CKEDITOR.style?f=a:(c=a[0],f=a[1]);return[{element:c,left:f,right:function(a,c){c.transform(a,b)}}]}function B(a){return function(b){return C(b,a)}}function G(a){return function(b,c){c[a](b)}}var E=CKEDITOR.dtd,F=CKEDITOR.tools.copy,I=CKEDITOR.tools.trim,H=[\"\",\"p\",\"br\",\"div\"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a){this.allowedContent=[];this.disallowedContent=\n[];this.elementCallbacks=null;this.disabled=!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}};CKEDITOR.filter.instances[this.id]=this;if(a instanceof CKEDITOR.editor){a=this.editor=a;this.customConfig=!0;var b=a.config.allowedContent;!0===b?this.disabled=!0:(b||(this.customConfig=!1),this.allow(b,\"config\",1),this.allow(a.config.extraAllowedContent,\"extra\",\n1),this.allow(H[a.enterMode]+\" \"+H[a.shiftEnterMode],\"default\",1),this.disallow(a.config.disallowedContent))}else this.customConfig=!1,this.allow(a,\"default\",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){if(!l(this,b,d))return!1;var g,h;if(\"string\"==typeof b)b=f(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,d);g=b.getDefinition();b={};d=g.attributes;b[g.element]=g={styles:g.styles,requiredStyles:g.styles&&\nCKEDITOR.tools.objectKeys(g.styles)};d&&(d=F(d),g.classes=d[\"class\"]?d[\"class\"].split(/\\s+/):null,g.requiredClasses=g.classes,delete d[\"class\"],g.attributes=d,g.requiredAttributes=d&&CKEDITOR.tools.objectKeys(d))}else if(CKEDITOR.tools.isArray(b)){for(g=0;g<b.length;++g)h=this.allow(b[g],c,d);return h}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,f){if(this.disabled)return!1;var d=this,g=[],h=this.editor&&this.editor.config.protectedSource,e,m=!1,l={doFilter:!c,\ndoTransform:!0,doCallbacks:!0,toHtml:b};a.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if(\"off\"==a.attributes[\"data-cke-filter\"])return!1;if(!b||\"span\"!=a.name||!~CKEDITOR.tools.objectKeys(a.attributes).join(\"|\").indexOf(\"data-cke-\"))if(e=r(d,a,g,l),e&1)m=!0;else if(e&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\\{cke_protected\\}(?!\\{C\\})/)){var c;a:{var f=decodeURIComponent(a.value.replace(/^\\{cke_protected\\}/,\"\"));c=[];var k,n,q;if(h)for(n=0;n<h.length;++n)if((q=f.match(h[n]))&&\nq[0].length==f.length){c=!0;break a}f=CKEDITOR.htmlParser.fragment.fromHtml(f);1==f.children.length&&(k=f.children[0]).type==CKEDITOR.NODE_ELEMENT&&r(d,k,c,l);c=!c.length}c||g.push(a)}},null,!0);g.length&&(m=!0);var k;a=[];f=H[f||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var n;c=g.pop();)c.type==CKEDITOR.NODE_ELEMENT?z(c,f,a):c.remove();for(;k=a.pop();)if(c=k.el,c.parent)switch(n=E[c.parent.name]||E.span,k.check){case \"it\":E.$removeEmpty[c.name]&&!c.children.length?z(c,f,a):q(c)||\nz(c,f,a);break;case \"el-up\":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||n[c.name]||z(c,f,a);break;case \"parent-down\":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||n[c.name]||z(c.parent,f,a)}return m},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!l(this,b,!0))return!1;\"string\"==typeof b&&(b=f(b));a(this,b,null,this.disallowedContent,\nthis._.disallowedRules);return!0},addContentForms:function(a){if(!this.disabled&&a){var b,c,f=[],d;for(b=0;b<a.length&&!d;++b)c=a[b],(\"string\"==typeof c||c instanceof CKEDITOR.style)&&this.check(c)&&(d=c);if(d){for(b=0;b<a.length;++b)f.push(y(a[b],d));this.addTransformations(f)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,\na.name);this.addTransformations(a.contentTransformations);this.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,c;if(!this.disabled&&a){var f=this._.transformations,d;for(d=0;d<a.length;++d){b=a[d];var g=void 0,h=void 0,e=void 0,m=void 0,l=void 0,k=void 0;c=[];for(h=0;h<b.length;++h)e=b[h],\"string\"==typeof e?(e=e.split(/\\s*:\\s*/),m=e[0],l=null,k=e[1]):(m=e.check,l=e.left,\nk=e.right),g||(g=e,g=g.element?g.element:m?m.match(/^([a-z0-9]+)/i)[0]:g.left.getDefinition().element),l instanceof CKEDITOR.style&&(l=B(l)),c.push({check:m==g?null:m,left:l,right:\"string\"==typeof k?G(k):k});b=g;f[b]||(f[b]=[]);f[b].push(c)}}},check:function(a,b,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return!0;return!1}var g,h;if(\"string\"==typeof a){h=a+\"\\x3c\"+(!1===b?\"0\":\"1\")+(c?\"1\":\"0\")+\"\\x3e\";if(h in this._.cachedChecks)return this._.cachedChecks[h];\nd=f(a).$1;g=d.styles;var e=d.classes;d.name=d.elements;d.classes=e=e?e.split(/\\s*,\\s*/):[];d.styles=m(g);d.attributes=m(d.attributes);d.children=[];e.length&&(d.attributes[\"class\"]=e.join(\" \"));g&&(d.attributes.style=CKEDITOR.tools.writeCssText(d.styles));g=d}else d=a.getDefinition(),g=d.styles,e=d.attributes||{},g&&!CKEDITOR.tools.isEmpty(g)?(g=F(g),e.style=CKEDITOR.tools.writeCssText(g,!0)):g={},g={name:d.element,attributes:e,classes:e[\"class\"]?e[\"class\"].split(/\\s+/):[],styles:g,children:[]};var e=\nCKEDITOR.tools.clone(g),l=[],k;if(!1!==b&&(k=this._.transformations[g.name])){for(d=0;d<k.length;++d)w(this,g,k[d]);x(g)}r(this,e,l,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});b=0<l.length?!1:CKEDITOR.tools.objectCompare(g.attributes,e.attributes,!0)?!0:!1;\"string\"==typeof a&&(this._.cachedChecks[h]=b);return b},getAllowedEnterMode:function(){var a=[\"p\",\"div\",\"br\"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(c,f){var d=a.slice(),\ng;if(this.check(H[c]))return c;for(f||(d=d.reverse());g=d.pop();)if(this.check(g))return b[g];return CKEDITOR.ENTER_BR}}(),clone:function(){var a=new CKEDITOR.filter,b=CKEDITOR.tools.clone;a.allowedContent=b(this.allowedContent);a._.allowedRules=b(this._.allowedRules);a.disallowedContent=b(this.disallowedContent);a._.disallowedRules=b(this._.disallowedRules);a._.transformations=b(this._.transformations);a.disabled=this.disabled;a.editor=this.editor;return a},destroy:function(){delete CKEDITOR.filter.instances[this.id];\ndelete this._;delete this.allowedContent;delete this.disallowedContent}};var K={styles:1,attributes:1,classes:1},J={styles:\"requiredStyles\",attributes:\"requiredAttributes\",classes:\"requiredClasses\"},D=/^([a-z0-9\\-*\\s]+)((?:\\s*\\{[!\\w\\-,\\s\\*]+\\}\\s*|\\s*\\[[!\\w\\-,\\s\\*]+\\]\\s*|\\s*\\([!\\w\\-,\\s\\*]+\\)\\s*){0,3})(?:;\\s*|$)/i,R={styles:/{([^}]+)}/,attrs:/\\[([^\\]]+)\\]/,classes:/\\(([^\\)]+)\\)/},N=/^cke:(object|embed|param)$/,S=/^(object|embed|param)$/,L;L=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,\n\"width\");this.lengthToStyle(a,\"height\")},sizeToAttribute:function(a){this.lengthToAttribute(a,\"width\");this.lengthToAttribute(a,\"height\")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var f=a.attributes[b];f&&(/^\\d+$/.test(f)&&(f+=\"px\"),a.styles[c]=f)}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var f=a.styles[b],d=f&&f.match(/^(\\d+)(?:\\.\\d*)?px$/);d?a.attributes[c]=d[1]:\"cke-test\"==f&&(a.attributes[c]=\"cke-test\")}delete a.styles[b]},alignmentToStyle:function(a){if(!(\"float\"in\na.styles)){var b=a.attributes.align;if(\"left\"==b||\"right\"==b)a.styles[\"float\"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!(\"align\"in a.attributes)){var b=a.styles[\"float\"];if(\"left\"==b||\"right\"==b)a.attributes.align=b}delete a.styles[\"float\"]},splitBorderShorthand:function(a){if(a.styles.border){var b=CKEDITOR.tools.style.parse.border(a.styles.border);b.color&&(a.styles[\"border-color\"]=b.color);b.style&&(a.styles[\"border-style\"]=b.style);b.width&&(a.styles[\"border-width\"]=b.width);\ndelete a.styles.border}},listTypeToStyle:function(a){if(a.attributes.type)switch(a.attributes.type){case \"a\":a.styles[\"list-style-type\"]=\"lower-alpha\";break;case \"A\":a.styles[\"list-style-type\"]=\"upper-alpha\";break;case \"i\":a.styles[\"list-style-type\"]=\"lower-roman\";break;case \"I\":a.styles[\"list-style-type\"]=\"upper-roman\";break;case \"1\":a.styles[\"list-style-type\"]=\"decimal\";break;default:a.styles[\"list-style-type\"]=a.attributes.type}},splitMarginShorthand:function(a){function b(f){a.styles[\"margin-top\"]=\nc[f[0]];a.styles[\"margin-right\"]=c[f[1]];a.styles[\"margin-bottom\"]=c[f[2]];a.styles[\"margin-left\"]=c[f[3]]}if(a.styles.margin){var c=a.styles.margin.match(/(\\-?[\\.\\d]+\\w+)/g)||[\"0px\"];switch(c.length){case 1:b([0,0,0,0]);break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete a.styles.margin}},matchesStyle:C,transform:function(a,b){if(\"string\"==typeof b)a.name=b;else{var c=b.getDefinition(),f=c.styles,d=c.attributes,g,h,e,m;a.name=c.element;for(g in d)if(\"class\"==g)for(c=\na.classes.join(\"|\"),e=d[g].split(/\\s+/);m=e.pop();)-1==c.indexOf(m)&&a.classes.push(m);else a.attributes[g]=d[g];for(h in f)a.styles[h]=f[h]}}}}(),function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);a&&(this.currentActive=a);this.hasFocus||this._.locked||((a=CKEDITOR.currentInstance)&&\na.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass(\"cke_focus\"),this._.editor.fire(\"focus\"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(a){function e(){if(this.hasFocus){this.hasFocus=!1;var a=this._.editor.container;a&&a.removeClass(\"cke_focus\");this._.editor.fire(\"blur\")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var b=CKEDITOR.focusManager._.blurDelay;a||!b?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;\ne.call(this)},b,this)}},add:function(a,e){var b=a.getCustomData(\"focusmanager\");if(!b||b!=this){b&&b.remove(a);var b=\"focus\",c=\"blur\";e&&(CKEDITOR.env.ie?(b=\"focusin\",c=\"focusout\"):CKEDITOR.event.useCapture=1);var d={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(b,d.focus,this);a.on(c,d.blur,this);e&&(CKEDITOR.event.useCapture=0);a.setCustomData(\"focusmanager\",this);a.setCustomData(\"focusmanager_handlers\",d)}},remove:function(a){a.removeCustomData(\"focusmanager\");\nvar e=a.removeCustomData(\"focusmanager_handlers\");a.removeListener(\"blur\",e.blur);a.removeListener(\"focus\",e.focus)}}}(),CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this},function(){var a,e=function(b){b=b.data;var d=b.getKeystroke(),e=this.keystrokes[d],k=this._.editor;a=!1===k.fire(\"key\",{keyCode:d,domEvent:b});a||(e&&(a=!1!==k.execCommand(e,{from:\"keystrokeHandler\"})),a||(a=!!this.blockedKeystrokes[d]));\na&&b.preventDefault(!0);return!a},b=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on(\"keydown\",e,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on(\"keypress\",b,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,\"en-au\":1,\"en-ca\":1,\"en-gb\":1,en:1,eo:1,es:1,\"es-mx\":1,et:1,eu:1,fa:1,fi:1,fo:1,\"fr-ca\":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,\nlt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,\"pt-br\":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,\"sr-latn\":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,\"zh-cn\":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,e,b){a&&CKEDITOR.lang.languages[a]||(a=this.detect(e,a));var c=this;e=function(){c[a].dir=c.rtl[a]?\"rtl\":\"ltr\";b(a,c[a])};this[a]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(\"lang/\"+a+\".js\"),e,this)},detect:function(a,e){var b=this.languages;e=e||navigator.userLanguage||navigator.language||\na;var c=e.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),d=c[1],c=c[2];b[d+\"-\"+c]?d=d+\"-\"+c:b[d]||(d=null);CKEDITOR.lang.detect=d?function(){return d}:function(a){return a};return d||a}}}(),CKEDITOR.scriptLoader=function(){var a={},e={};return{load:function(b,c,d,l){var k=\"string\"==typeof b;k&&(b=[b]);d||(d=CKEDITOR);var g=b.length,h=[],m=[],f=function(a){c&&(k?c.call(d,a):c.call(d,h,m))};if(0===g)f(!0);else{var n=function(a,b){(b?h:m).push(a);0>=--g&&(l&&CKEDITOR.document.getDocumentElement().removeStyle(\"cursor\"),\nf(b))},p=function(b,c){a[b]=1;var f=e[b];delete e[b];for(var d=0;d<f.length;d++)f[d](b,c)},r=function(b){if(a[b])n(b,!0);else{var f=e[b]||(e[b]=[]);f.push(n);if(!(1<f.length)){var d=new CKEDITOR.dom.element(\"script\");d.setAttributes({type:\"text/javascript\",src:b});c&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?d.$.onreadystatechange=function(){if(\"loaded\"==d.$.readyState||\"complete\"==d.$.readyState)d.$.onreadystatechange=null,p(b,!0)}:(d.$.onload=function(){setTimeout(function(){p(b,\n!0)},0)},d.$.onerror=function(){p(b,!1)}));d.appendTo(CKEDITOR.document.getHead())}}};l&&CKEDITOR.document.getDocumentElement().setStyle(\"cursor\",\"wait\");for(var v=0;v<g;v++)r(b[v])}},queue:function(){function a(){var b;(b=c[0])&&this.load(b.scriptUrl,b.callback,CKEDITOR,0)}var c=[];return function(d,e){var k=this;c.push({scriptUrl:d,callback:function(){e&&e.apply(this,arguments);c.shift();a.call(k)}});1==c.length&&a.call(this)}}()}}(),CKEDITOR.resourceManager=function(a,e){this.basePath=a;this.fileName=\ne;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(a,e){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name \"'+a+'\" is already registered.');var b=this.registered[a]=e||{};b.name=a;b.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+\"Ready\",b);return this.get(a)},get:function(a){return this.registered[a]||null},getPath:function(a){var e=this.externals[a];return CKEDITOR.getUrl(e&&\ne.dir||this.basePath+a+\"/\")},getFilePath:function(a){var e=this.externals[a];return CKEDITOR.getUrl(this.getPath(a)+(e?e.file:this.fileName+\".js\"))},addExternal:function(a,e,b){a=a.split(\",\");for(var c=0;c<a.length;c++){var d=a[c];b||(e=e.replace(/[^\\/]+$/,function(a){b=a;return\"\"}));this.externals[d]={dir:e,file:b||this.fileName+\".js\"}}},load:function(a,e,b){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,d=this.registered,l=[],k={},g={},h=0;h<a.length;h++){var m=a[h];if(m)if(c[m]||\nd[m])g[m]=this.get(m);else{var f=this.getFilePath(m);l.push(f);f in k||(k[f]=[]);k[f].push(m)}}CKEDITOR.scriptLoader.load(l,function(a,f){if(f.length)throw Error('[CKEDITOR.resourceManager.load] Resource name \"'+k[f[0]].join(\",\")+'\" was not found at \"'+f[0]+'\".');for(var d=0;d<a.length;d++)for(var h=k[a[d]],m=0;m<h.length;m++){var l=h[m];g[l]=this.get(l);c[l]=1}e.call(b,g)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager(\"plugins/\",\"plugin\"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,\nfunction(a){var e={};return function(b,c,d){var l={},k=function(b){a.call(this,b,function(a){CKEDITOR.tools.extend(l,a);var b=[],f;for(f in a){var g=a[f],p=g&&g.requires;if(!e[f]){if(g.icons)for(var r=g.icons.split(\",\"),v=r.length;v--;)CKEDITOR.skin.addIcon(r[v],g.path+\"icons/\"+(CKEDITOR.env.hidpi&&g.hidpi?\"hidpi/\":\"\")+r[v]+\".png\");e[f]=1}if(p)for(p.split&&(p=p.split(\",\")),g=0;g<p.length;g++)l[p[g]]||b.push(p[g])}if(b.length)k.call(this,b);else{for(f in l)g=l[f],g.onLoad&&!g.onLoad._called&&(!1===\ng.onLoad()&&delete l[f],g.onLoad._called=1);c&&c.call(d||window,l)}},this)};k.call(this,b)}}),CKEDITOR.plugins.setLang=function(a,e,b){var c=this.get(a);a=c.langEntries||(c.langEntries={});c=c.lang||(c.lang=[]);c.split&&(c=c.split(\",\"));-1==CKEDITOR.tools.indexOf(c,e)&&c.push(e);a[e]=b},CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this},CKEDITOR.ui.prototype={add:function(a,e,b){b.name=a.toLowerCase();var c=this.items[a]={type:e,\ncommand:b.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(c,b)},get:function(a){return this.instances[a]},create:function(a){var e=this.items[a],b=e&&this._.handlers[e.type],c=e&&e.command&&this.editor.getCommand(e.command),b=b&&b.create.apply(this,e.args);this.instances[a]=b;c&&c.uiItems.push(b);b&&!b.type&&(b.type=e.type);return b},addHandler:function(a,e){this._.handlers[a]=e},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},spaceId:function(a){return this.editor.id+\n\"_\"+a}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function a(a,f,d){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==f){if(!(f instanceof CKEDITOR.dom.element))throw Error(\"Expect element of type CKEDITOR.dom.element.\");if(!d)throw Error(\"One of the element modes must be specified.\");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&d==CKEDITOR.ELEMENT_MODE_INLINE)throw Error(\"Inline element mode is not supported on IE quirks.\");if(!b(f,d))throw Error('The specified element mode is not supported on element: \"'+\nf.getName()+'\".');this.element=f;this.elementMode=d;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(f.getId()||f.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||e();this.id=CKEDITOR.tools.getNextId();this.status=\"unloaded\";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);\nthis.on(\"readOnly\",c);this.on(\"selectionChange\",function(a){l(this,a.data.path)});this.on(\"activeFilterChange\",function(){l(this,this.elementPath(),!0)});this.on(\"mode\",c);this.on(\"instanceReady\",function(){if(this.config.startupFocus){if(\"end\"===this.config.startupFocus){var a=this.createRange();a.selectNodeContents(this.editable());a.shrink(CKEDITOR.SHRINK_ELEMENT,!0);a.collapse();this.getSelection().selectRanges([a])}this.focus()}});CKEDITOR.fire(\"instanceCreated\",null,this);CKEDITOR.add(this);\nCKEDITOR.tools.setTimeout(function(){\"destroyed\"!==this.status?g(this,a):CKEDITOR.warn(\"editor-incorrect-destroy\")},0,this)}function e(){do var a=\"editor\"+ ++v;while(CKEDITOR.instances[a]);return a}function b(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is(\"textarea\"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function c(){var a=this.commands,b;for(b in a)d(this,a[b])}function d(a,b){b[b.startDisabled?\"disable\":a.readOnly&&!b.readOnly?\"disable\":\nb.modes[a.mode]?\"enable\":\"disable\"]()}function l(a,b,c){if(b){var f,d,g=a.commands;for(d in g)f=g[d],(c||f.contextSensitive)&&f.refresh(a,b)}}function k(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),c=x[b]||(x[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&k(a)||a.fireOnce(\"customConfigLoaded\")):CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};k(a)});return!0}function g(a,b){a.on(\"customConfigLoaded\",\nfunction(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}c=a.config;a.readOnly=c.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is(\"textarea\")?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is(\"textarea\")||\nCKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute(\"tabindex\")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce(\"configLoaded\");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);h(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);\nk(a)||a.fireOnce(\"customConfigLoaded\")}function h(a){CKEDITOR.skin.loadPart(\"editor\",function(){m(a)})}function m(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title=\"string\"==typeof d||!1===d?d:[a.lang.editor,a.name].join(\", \");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir);a.fire(\"langLoaded\");\nf(a)})}function f(a){a.getStylesSet(function(b){a.once(\"loaded\",function(){a.fire(\"stylesSet\",{styles:b})},null,null,1);n(a)})}function n(a){var b=a.config,c=b.plugins,f=b.extraPlugins,d=b.removePlugins;if(f)var g=new RegExp(\"(?:^|,)(?:\"+f.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(g,\"\"),c=c+(\",\"+f);if(d)var h=new RegExp(\"(?:^|,)(?:\"+d.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(h,\"\");CKEDITOR.env.air&&(c+=\",adobeair\");CKEDITOR.plugins.load(c.split(\",\"),function(c){var f=[],\nd=[],g=[];a.plugins=c;for(var e in c){var m=c[e],l=m.lang,k=null,n=m.requires,D;CKEDITOR.tools.isArray(n)&&(n=n.join(\",\"));if(n&&(D=n.match(h)))for(;n=D.pop();)CKEDITOR.error(\"editor-plugin-required\",{plugin:n.replace(\",\",\"\"),requiredBy:e});l&&!a.lang[e]&&(l.split&&(l=l.split(\",\")),0<=CKEDITOR.tools.indexOf(l,a.langCode)?k=a.langCode:(k=a.langCode.replace(/-.*/,\"\"),k=k!=a.langCode&&0<=CKEDITOR.tools.indexOf(l,k)?k:0<=CKEDITOR.tools.indexOf(l,\"en\")?\"en\":l[0]),m.langEntries&&m.langEntries[k]?(a.lang[e]=\nm.langEntries[k],k=null):g.push(CKEDITOR.getUrl(m.path+\"lang/\"+k+\".js\")));d.push(k);f.push(m)}CKEDITOR.scriptLoader.load(g,function(){for(var c=[\"beforeInit\",\"init\",\"afterInit\"],g=0;g<c.length;g++)for(var h=0;h<f.length;h++){var e=f[h];0===g&&d[h]&&e.lang&&e.langEntries&&(a.lang[e.name]=e.langEntries[d[h]]);if(e[c[g]])e[c[g]](a)}a.fireOnce(\"pluginsLoaded\");b.keystrokes&&a.setKeystroke(a.config.keystrokes);for(h=0;h<a.config.blockedKeystrokes.length;h++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[h]]=\n1;a.status=\"loaded\";a.fireOnce(\"loaded\");CKEDITOR.fire(\"instanceLoaded\",null,a)})})}function p(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is(\"textarea\")?a.setValue(b):a.setHtml(b);return!0}return!1}function r(a,b){function c(a){var b=a.startContainer,f=a.endContainer;return b.is&&(b.is(\"tr\")||b.is(\"td\")&&b.equals(f)&&a.endOffset===b.getChildCount())?!0:!1}function f(a){var b=a.startContainer;\nreturn b.is(\"tr\")?a.cloneContents():b.clone(!0)}for(var d=new CKEDITOR.dom.documentFragment,g,h,e,m=0;m<a.length;m++){var l=a[m],k=l.startContainer.getAscendant(\"tr\",!0);c(l)?(g||(g=k.getAscendant(\"table\").clone(),g.append(k.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),d.append(g),g=g.findOne(\"thead, tbody, tfoot\")),h&&h.equals(k)||(h=k,e=k.clone(),g.append(e)),e.append(f(l))):d.append(l.cloneContents())}return g?d:b.getHtmlFromRange(a[0])}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=\na;var v=0,x={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){b.name=a.toLowerCase();var c=new CKEDITOR.command(this,b);this.mode&&d(this,c);return this.commands[a]=c},_attachToForm:function(){function a(b){c.updateElement();c._.required&&!f.getValue()&&!1===c.fire(\"required\")&&b.data.preventDefault()}function b(a){return!!(a&&a.call&&a.apply)}var c=this,f=c.element,d=new CKEDITOR.dom.element(f.$.form);f.is(\"textarea\")&&d&&(d.on(\"submit\",a),b(d.$.submit)&&(d.$.submit=CKEDITOR.tools.override(d.$.submit,\nfunction(b){return function(){a();b.apply?b.apply(this):b()}})),c.on(\"destroy\",function(){d.removeListener(\"submit\",a)}))},destroy:function(a){this.fire(\"beforeDestroy\");!a&&p.call(this);this.editable(null);this.filter&&(this.filter.destroy(),delete this.filter);delete this.activeFilter;this.status=\"destroyed\";this.fire(\"destroy\");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire(\"instanceDestroyed\",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?\nnew CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var c=this.getCommand(a),f={name:a,commandData:b||{},command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire(\"beforeCommandExec\",f)&&(f.returnValue=c.exec(f.commandData),!c.async&&!1!==this.fire(\"afterCommandExec\",f))?f.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire(\"beforeGetData\");\nvar b=this._.data;\"string\"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is(\"textarea\")?b.getValue():b.getHtml():\"\");b={dataValue:b};!a&&this.fire(\"getData\",b);return b.dataValue},getSnapshot:function(){var a=this.fire(\"getSnapshot\");\"string\"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.is(\"textarea\")?a.getValue():a.getHtml():\"\");return a},loadSnapshot:function(a){this.fire(\"loadSnapshot\",a)},setData:function(a,b,c){var f=!0,\nd=b;b&&\"object\"==typeof b&&(c=b.internal,d=b.callback,f=!b.noSnapshot);!c&&f&&this.fire(\"saveSnapshot\");if(d||!c)this.once(\"dataReady\",function(a){!c&&f&&this.fire(\"saveSnapshot\");d&&d.call(a.editor)});a={dataValue:a};!c&&this.fire(\"setData\",a);this._.data=a.dataValue;!c&&this.fire(\"afterSetData\",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire(\"readOnly\"))},insertHtml:function(a,b,c){this.fire(\"insertHtml\",\n{dataValue:a,mode:b,range:c})},insertText:function(a){this.fire(\"insertText\",a)},insertElement:function(a){this.fire(\"insertElement\",a)},getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection(),c=c&&c.getRanges();if(!b||!c||0===c.length)return null;b=r(c,b);return a?b.getHtml():b},extractSelectedHtml:function(a,b){var c=this.editable(),f=this.getSelection().getRanges(),d=new CKEDITOR.dom.documentFragment,g;if(!c||0===f.length)return null;for(g=0;g<f.length;g++)d.append(c.extractHtmlFromRange(f[g],\nb));b||this.getSelection().selectRanges([f[0]]);return a?d.getHtml():d},focus:function(){this.fire(\"beforeFocus\")},checkDirty:function(){return\"ready\"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return p.call(this)},setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],c,f,d=b.length;d--;)c=b[d],f=0,CKEDITOR.tools.isArray(c)&&\n(f=c[1],c=c[0]),f?a[c]=f:delete a[c]},getCommandKeystroke:function(a){if(a=\"string\"===typeof a?this.getCommand(a):a){var b=CKEDITOR.tools.object.findKey(this.commands,a),c=this.keystrokeHandler.keystrokes,f;if(a.fakeKeystroke)return a.fakeKeystroke;for(f in c)if(c.hasOwnProperty(f)&&c[f]==b)return f}return null},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire(\"activeFilterChange\"),a===this.filter?\nthis.setActiveEnterMode(null,null):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire(\"activeEnterModeChange\")},showNotification:function(a){alert(a)}})}(),CKEDITOR.ELEMENT_MODE_NONE=\n0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)--\\x3e)|(?:([^\\/\\s>]+)((?:\\s+[\\w\\-:.]+(?:\\s*=\\s*?(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\\s\"'\\/>]+))?)*)[\\S\\s]*?(\\/?)>))/g}},function(){var a=/([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g,e={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,\nnowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(b){for(var c,d,l=0,k;c=this._.htmlPartsRegex.exec(b);){d=c.index;if(d>l)if(l=b.substring(l,d),k)k.push(l);else this.onText(l);l=this._.htmlPartsRegex.lastIndex;if(d=c[1])if(d=d.toLowerCase(),k&&CKEDITOR.dtd.$cdata[d]&&(this.onCDATA(k.join(\"\")),k=null),!k){this.onTagClose(d);continue}if(k)k.push(c[0]);else if(d=\nc[3]){if(d=d.toLowerCase(),!/=\"/.test(d)){var g={},h,m=c[4];c=!!c[5];if(m)for(;h=a.exec(m);){var f=h[1].toLowerCase();h=h[2]||h[3]||h[4]||\"\";g[f]=!h&&e[f]?f:CKEDITOR.tools.htmlDecodeAttr(h)}this.onTagOpen(d,g,c);!k&&CKEDITOR.dtd.$cdata[d]&&(k=[])}}else if(d=c[2])this.onComment(d)}if(b.length>l)this.onText(b.substring(l,b.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push(\"\\x3c\",a)},openTagClose:function(a,\ne){e?this._.output.push(\" /\\x3e\"):this._.output.push(\"\\x3e\")},attribute:function(a,e){\"string\"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e));this._.output.push(\" \",a,'\\x3d\"',e,'\"')},closeTag:function(a){this._.output.push(\"\\x3c/\",a,\"\\x3e\")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var e=this._.output.join(\"\");a&&this.reset();\nreturn e}}}),\"use strict\",function(){CKEDITOR.htmlParser.node=function(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,e=CKEDITOR.tools.indexOf(a,this),b=this.previous,c=this.next;b&&(b.next=c);c&&(c.previous=b);a.splice(e,1);this.parent=null},replaceWith:function(a){var e=this.parent.children,b=CKEDITOR.tools.indexOf(e,this),c=a.previous=this.previous,d=a.next=this.next;c&&(c.next=a);d&&(d.previous=a);e[b]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var e=\na.parent.children,b=CKEDITOR.tools.indexOf(e,a),c=a.next;e.splice(b+1,0,this);this.next=a.next;this.previous=a;a.next=this;c&&(c.previous=this);this.parent=a.parent},insertBefore:function(a){var e=a.parent.children,b=CKEDITOR.tools.indexOf(e,a);e.splice(b,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var e=\"function\"==typeof a?a:\"string\"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},b=\nthis.parent;for(;b&&b.type==CKEDITOR.NODE_ELEMENT;){if(e(b))return b;b=b.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}}(),\"use strict\",CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,\ne){var b=this.value;if(!(b=a.onComment(e,b,this)))return this.remove(),!1;if(\"string\"!=typeof b)return this.replaceWith(b),!1;this.value=b;return!0},writeHtml:function(a,e){e&&this.filter(e);a.comment(this.value)}}),\"use strict\",function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,e){if(!(this.value=a.onText(e,this.value,this)))return this.remove(),\n!1},writeHtml:function(a,e){e&&this.filter(e);a.text(this.value)}})}(),\"use strict\",function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})}(),\"use strict\",CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function a(a){return a.attributes[\"data-cke-survive\"]?\n!1:\"a\"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}var e=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),d={ul:\"li\",ol:\"li\",dl:\"dd\",table:\"tbody\",tbody:\"tr\",thead:\"tr\",tfoot:\"tr\",tr:\"td\"};CKEDITOR.htmlParser.fragment.fromHtml=function(l,k,g){function h(a){var b;if(0<q.length)for(var c=0;c<q.length;c++){var f=\nq[c],d=f.name,g=CKEDITOR.dtd[d],h=u.name&&CKEDITOR.dtd[u.name];h&&!h[d]||a&&g&&!g[a]&&CKEDITOR.dtd[a]?d==u.name&&(n(u,u.parent,1),c--):(b||(m(),b=1),f=f.clone(),f.parent=u,u=f,q.splice(c,1),c--)}}function m(){for(;t.length;)n(t.shift(),u)}function f(a){if(a._.isBlockLike&&\"pre\"!=a.name&&\"textarea\"!=a.name){var b=a.children.length,c=a.children[b-1],f;c&&c.type==CKEDITOR.NODE_TEXT&&((f=CKEDITOR.tools.rtrim(c.value))?c.value=f:a.children.length=b-1)}}function n(b,c,d){c=c||u||x;var h=u;void 0===b.previous&&\n(p(c,b)&&(u=c,v.onTagOpen(g,{}),b.returnPoint=c=u),f(b),a(b)&&!b.children.length||c.add(b),\"pre\"==b.name&&(z=!1),\"textarea\"==b.name&&(A=!1));b.returnPoint?(u=b.returnPoint,delete b.returnPoint):u=d?c:h}function p(a,b){if((a==x||\"body\"==a.name)&&g&&(!a.name||CKEDITOR.dtd[a.name][g])){var c,f;return(c=b.attributes&&(f=b.attributes[\"data-cke-real-element-type\"])?f:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function r(a,b){return a in CKEDITOR.dtd.$listItem||\na in CKEDITOR.dtd.$tableContent?a==b||\"dt\"==a&&\"dd\"==b||\"dd\"==a&&\"dt\"==b:!1}var v=new CKEDITOR.htmlParser,x=k instanceof CKEDITOR.htmlParser.element?k:\"string\"==typeof k?new CKEDITOR.htmlParser.element(k):new CKEDITOR.htmlParser.fragment,q=[],t=[],u=x,A=\"textarea\"==x.name,z=\"pre\"==x.name;v.onTagOpen=function(f,d,g,l){d=new CKEDITOR.htmlParser.element(f,d);d.isUnknown&&g&&(d.isEmpty=!0);d.isOptionalClose=l;if(a(d))q.push(d);else{if(\"pre\"==f)z=!0;else{if(\"br\"==f&&z){u.add(new CKEDITOR.htmlParser.text(\"\\n\"));\nreturn}\"textarea\"==f&&(A=!0)}if(\"br\"==f)t.push(d);else{for(;!(l=(g=u.name)?CKEDITOR.dtd[g]||(u._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c,d.isUnknown||u.isUnknown||l[f]);)if(u.isOptionalClose)v.onTagClose(g);else if(f in b&&g in b)g=u.children,(g=g[g.length-1])&&\"li\"==g.name||n(g=new CKEDITOR.htmlParser.element(\"li\"),u),!d.returnPoint&&(d.returnPoint=u),u=g;else if(f in CKEDITOR.dtd.$listItem&&!r(f,g))v.onTagOpen(\"li\"==f?\"ul\":\"dl\",{},0,1);else if(g in e&&!r(f,g))!d.returnPoint&&(d.returnPoint=\nu),u=u.parent;else if(g in CKEDITOR.dtd.$inline&&q.unshift(u),u.parent)n(u,u.parent,1);else{d.isOrphan=1;break}h(f);m();d.parent=u;d.isEmpty?n(d):u=d}}};v.onTagClose=function(a){for(var b=q.length-1;0<=b;b--)if(a==q[b].name){q.splice(b,1);return}for(var c=[],f=[],d=u;d!=x&&d.name!=a;)d._.isBlockLike||f.unshift(d),c.push(d),d=d.returnPoint||d.parent;if(d!=x){for(b=0;b<c.length;b++){var h=c[b];n(h,h.parent)}u=d;d._.isBlockLike&&m();n(d,d.parent);d==u&&(u=u.parent);q=q.concat(f)}\"body\"==a&&(g=!1)};v.onText=\nfunction(a){if(!(u._.hasInlineStarted&&!t.length||z||A)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var b=u.name,f=b?CKEDITOR.dtd[b]||(u._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!A&&!f[\"#\"]&&b in e)v.onTagOpen(d[b]||\"\"),v.onText(a);else{m();h();z||A||(a=a.replace(/[\\t\\r\\n ]{2,}|[\\t\\r\\n]/g,\" \"));a=new CKEDITOR.htmlParser.text(a);if(p(u,a))this.onTagOpen(g,{},0,1);u.add(a)}};v.onCDATA=function(a){u.add(new CKEDITOR.htmlParser.cdata(a))};v.onComment=function(a){m();h();u.add(new CKEDITOR.htmlParser.comment(a))};\nv.parse(l);for(m();u!=x;)n(u,u.parent,1);f(x);return x};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||\na.type==CKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},filter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this.children[b].filter(a,c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var d=this.getFilterContext();\nif(c&&!this.parent&&b)b.onRoot(d,this);b&&this.filterChildren(b,!1,d);b=0;c=this.children;for(d=c.length;b<d;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var d=a(this);if(!1!==d){c=this.children;for(var e=0;e<c.length;e++)d=c[e],d.type==CKEDITOR.NODE_ELEMENT?d.forEach(a,b):b&&d.type!=b||a(d)}},getFilterContext:function(a){return a||{}}}}(),\"use strict\",function(){function a(){this.rules=[]}function e(b,c,d,e){var k,g;for(k in c)(g=b[k])||(g=b[k]=new a),g.add(c[k],d,e)}CKEDITOR.htmlParser.filter=\nCKEDITOR.tools.createClass({$:function(b){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var d;\"number\"==typeof c?d=c:c&&\"priority\"in c&&(d=c.priority);\"number\"!=typeof d&&(d=10);\"object\"!=typeof c&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,d,c);a.attributeNames&&\nthis.attributeNameRules.addMany(a.attributeNames,d,c);a.elements&&e(this.elementsRules,a.elements,d,c);a.attributes&&e(this.attributesRules,a.attributes,d,c);a.text&&this.textRules.add(a.text,d,c);a.comment&&this.commentRules.add(a.comment,d,c);a.root&&this.rootRules.add(a.root,d,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,c){return this.elementNameRules.execOnName(a,c)},onAttributeName:function(a,c){return this.attributeNameRules.execOnName(a,c)},onText:function(a,c,d){return this.textRules.exec(a,\nc,d)},onComment:function(a,c,d){return this.commentRules.exec(a,c,d)},onRoot:function(a,c){return this.rootRules.exec(a,c)},onElement:function(a,c){for(var d=[this.elementsRules[\"^\"],this.elementsRules[c.name],this.elementsRules.$],e,k=0;3>k;k++)if(e=d[k]){e=e.exec(a,c,this);if(!1===e)return null;if(e&&e!=c)return this.onNode(a,e);if(c.parent&&!c.name)break}return c},onNode:function(a,c){var d=c.type;return d==CKEDITOR.NODE_ELEMENT?this.onElement(a,c):d==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,\nc.value)):d==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,c.value)):null},onAttribute:function(a,c,d,e){return(d=this.attributesRules[d])?d.exec(a,e,c,this):e}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,c,d){this.rules.splice(this.findIndex(c),0,{value:a,priority:c,options:d})},addMany:function(a,c,d){for(var e=[this.findIndex(c),0],k=0,g=a.length;k<g;k++)e.push({value:a[k],priority:c,options:d});this.rules.splice.apply(this.rules,e)},findIndex:function(a){for(var c=\nthis.rules,d=c.length-1;0<=d&&a<c[d].priority;)d--;return d+1},exec:function(a,c){var d=c instanceof CKEDITOR.htmlParser.node||c instanceof CKEDITOR.htmlParser.fragment,e=Array.prototype.slice.call(arguments,1),k=this.rules,g=k.length,h,m,f,n;for(n=0;n<g;n++)if(d&&(h=c.type,m=c.name),f=k[n],!(a.nonEditable&&!f.options.applyToAll||a.nestedEditable&&f.options.excludeNestedEditable)){f=f.value.apply(null,e);if(!1===f||d&&f&&(f.name!=m||f.type!=h))return f;null!=f&&(e[0]=c=f)}return c},execOnName:function(a,\nc){for(var d=0,e=this.rules,k=e.length,g;c&&d<k;d++)g=e[d],a.nonEditable&&!g.options.applyToAll||a.nestedEditable&&g.options.excludeNestedEditable||(c=c.replace(g.value[0],g.value[1]));return c}}}(),function(){function a(a,f){function g(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(\" \"):new CKEDITOR.htmlParser.element(\"br\",{\"data-cke-bogus\":1})}function e(a,f){return function(d){if(d.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=[],m=b(d),k,D;if(m)for(h(m,1)&&e.push(m);m;)l(m)&&\n(k=c(m))&&h(k)&&((D=c(k))&&!l(D)?e.push(k):(g(n).insertAfter(k),k.remove())),m=m.previous;for(m=0;m<e.length;m++)e[m].remove();if(e=!a||!1!==(\"function\"==typeof f?f(d):f))n||CKEDITOR.env.needsBrFiller||d.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?n||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||d.name in CKEDITOR.dtd.tr||d.name in CKEDITOR.dtd.$listItem)?(e=b(d),e=!e||\"form\"==d.name&&\"input\"==e.name):e=!1:e=!1;e&&d.add(g(a))}}}function h(a,b){if((!n||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&\n\"br\"==a.name&&!a.attributes[\"data-cke-eol\"])return!0;var c;return a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(q))&&(c.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,c.index))).insertBefore(a),a.value=c[0]),!CKEDITOR.env.needsBrFiller&&n&&(!b||a.parent.name in D)||!n&&((c=a.previous)&&\"br\"==c.name||!c||l(c)))?!0:!1}var m={elements:{}},n=\"html\"==f,D=CKEDITOR.tools.extend({},z),J;for(J in D)\"#\"in u[J]||delete D[J];for(J in D)m.elements[J]=e(n,a.config.fillEmptyBlocks);m.root=e(n,!1);m.elements.br=\nfunction(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var f=b.attributes;if(\"data-cke-bogus\"in f||\"data-cke-eol\"in f)delete f[\"data-cke-bogus\"];else{for(f=b.next;f&&d(f);)f=f.next;var e=c(b);!f&&l(b.parent)?k(b.parent,g(a)):l(f)&&e&&!l(e)&&g(a).insertBefore(f)}}}}(n);return m}function e(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function b(a){for(a=a.children[a.children.length-1];a&&d(a);)a=a.previous;return a}function c(a){for(a=a.previous;a&&\nd(a);)a=a.previous;return a}function d(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes[\"data-cke-bookmark\"]}function l(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in z||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function k(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;c&&(c.next=b,b.previous=c)}function g(a){a=a.attributes;\"false\"!=a.contenteditable&&(a[\"data-cke-editable\"]=a.contenteditable?\"true\":1);\na.contenteditable=\"false\"}function h(a){a=a.attributes;switch(a[\"data-cke-editable\"]){case \"true\":a.contenteditable=\"true\";break;case \"1\":delete a.contenteditable}}function m(a){return a.replace(G,function(a,b,c){return\"\\x3c\"+b+c.replace(E,function(a,b){return F.test(b)&&-1==c.indexOf(\"data-cke-saved-\"+b)?\" data-cke-saved-\"+a+\" data-cke-\"+CKEDITOR.rnd+\"-\"+a:a})+\"\\x3e\"})}function f(a,b){return a.replace(b,function(a,b,c){0===a.indexOf(\"\\x3ctextarea\")&&(a=b+r(c).replace(/</g,\"\\x26lt;\").replace(/>/g,\n\"\\x26gt;\")+\"\\x3c/textarea\\x3e\");return\"\\x3ccke:encoded\\x3e\"+encodeURIComponent(a)+\"\\x3c/cke:encoded\\x3e\"})}function n(a){return a.replace(K,function(a,b){return decodeURIComponent(b)})}function p(a){return a.replace(/\\x3c!--(?!{cke_protected})[\\s\\S]+?--\\x3e/g,function(a){return\"\\x3c!--\"+t+\"{C}\"+encodeURIComponent(a).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"})}function r(a){return a.replace(/\\x3c!--\\{cke_protected\\}\\{C\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)})}function v(a,b){var c=b._.dataStore;\nreturn a.replace(/\\x3c!--\\{cke_protected\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\\{cke_protected_(\\d+)\\}/g,function(a,b){return c&&c[b]||\"\"})}function x(a,b){var c=[],f=b.config.protectedSource,d=b._.dataStore||(b._.dataStore={id:1}),g=/<\\!--\\{cke_temp(comment)?\\}(\\d*?)--\\x3e/g,f=[/<script[\\s\\S]*?(<\\/script>|$)/gi,/<noscript[\\s\\S]*?<\\/noscript>/gi,/<meta[\\s\\S]*?\\/?>/gi].concat(f);a=a.replace(/\\x3c!--[\\s\\S]*?--\\x3e/g,function(a){return\"\\x3c!--{cke_tempcomment}\"+(c.push(a)-\n1)+\"--\\x3e\"});for(var e=0;e<f.length;e++)a=a.replace(f[e],function(a){a=a.replace(g,function(a,b,f){return c[f]});return/cke_temp(comment)?/.test(a)?a:\"\\x3c!--{cke_temp}\"+(c.push(a)-1)+\"--\\x3e\"});a=a.replace(g,function(a,b,f){return\"\\x3c!--\"+t+(b?\"{C}\":\"\")+encodeURIComponent(c[f]).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"});a=a.replace(/<\\w+(?:\\s+(?:(?:[^\\s=>]+\\s*=\\s*(?:[^'\"\\s>]+|'[^']*'|\"[^\"]*\"))|[^\\s=\\/>]+))+\\s*\\/?>/g,function(a){return a.replace(/\\x3c!--\\{cke_protected\\}([^>]*)--\\x3e/g,function(a,b){d[d.id]=\ndecodeURIComponent(b);return\"{cke_protected_\"+d.id++ +\"}\"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\\s\\S]*?)<\\/\\1>/g,function(a,c,f,d){return\"\\x3c\"+c+f+\"\\x3e\"+v(r(d),b)+\"\\x3c/\"+c+\"\\x3e\"})}CKEDITOR.htmlDataProcessor=function(b){var c,d,g=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=d=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(w);c.addRules(C,{applyToAll:!0});c.addRules(a(b,\"data\"),{applyToAll:!0});\nd.addRules(y);d.addRules(B,{applyToAll:!0});d.addRules(a(b,\"html\"),{applyToAll:!0});b.on(\"toHtml\",function(a){a=a.data;var c=a.dataValue,d,c=x(c,b),c=f(c,H),c=m(c),c=f(c,I),c=c.replace(J,\"$1cke:$2\"),c=c.replace(R,\"\\x3ccke:$1$2\\x3e\\x3c/cke:$1\\x3e\"),c=c.replace(/(<pre\\b[^>]*>)(\\r\\n|\\n)/g,\"$1$2$2\"),c=c.replace(/([^a-z0-9<\\-])(on\\w{3,})(?!>)/gi,\"$1data-cke-\"+CKEDITOR.rnd+\"-$2\");d=a.context||b.editable().getName();var g;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&\"pre\"==d&&(d=\"div\",c=\"\\x3cpre\\x3e\"+c+\"\\x3c/pre\\x3e\",\ng=1);d=b.document.createElement(d);d.setHtml(\"a\"+c);c=d.getHtml().substr(1);c=c.replace(new RegExp(\"data-cke-\"+CKEDITOR.rnd+\"-\",\"ig\"),\"\");g&&(c=c.replace(/^<pre>|<\\/pre>$/gi,\"\"));c=c.replace(D,\"$1$2\");c=n(c);c=r(c);d=!1===a.fixForBody?!1:e(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,d);d&&(g=c,!g.children.length&&CKEDITOR.dtd[g.name][d]&&(d=new CKEDITOR.htmlParser.element(d),g.add(d)));a.dataValue=c},null,null,5);b.on(\"toHtml\",function(a){a.data.filter.applyTo(a.data.dataValue,\n!0,a.data.dontFilter,a.data.enterMode)&&b.fire(\"dataFiltered\")},null,null,6);b.on(\"toHtml\",function(a){a.data.dataValue.filterChildren(g.dataFilter,!0)},null,null,10);b.on(\"toHtml\",function(a){a=a.data;var b=a.dataValue,c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(!0);a.dataValue=p(b)},null,null,15);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/^<br *\\/?>/i,\"\"));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(c,\na.data.context,e(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on(\"toDataFormat\",function(a){a.data.dataValue.filterChildren(g.htmlFilter,!0)},null,null,10);b.on(\"toDataFormat\",function(a){a.data.filter.applyTo(a.data.dataValue,!1,!0)},null,null,11);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue,d=g.writer;d.reset();c.writeChildrenHtml(d);c=d.getHtml(!0);c=r(c);c=v(c,b);a.data.dataValue=c},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,c,d){var f=this.editor,\ng,e,h,m;b&&\"object\"==typeof b?(g=b.context,c=b.fixForBody,d=b.dontFilter,e=b.filter,h=b.enterMode,m=b.protectedWhitespaces):g=b;g||null===g||(g=f.editable().getName());return f.fire(\"toHtml\",{dataValue:a,context:g,fixForBody:c,dontFilter:d,filter:e||f.filter,enterMode:h||f.enterMode,protectedWhitespaces:m}).dataValue},toDataFormat:function(a,b){var c,d,f;b&&(c=b.context,d=b.filter,f=b.enterMode);c||null===c||(c=this.editor.editable().getName());return this.editor.fire(\"toDataFormat\",{dataValue:a,\nfilter:d||this.editor.filter,context:c,enterMode:f||this.editor.enterMode}).dataValue}};var q=/(?:&nbsp;|\\xa0)$/,t=\"{cke_protected}\",u=CKEDITOR.dtd,A=\"caption colgroup col thead tfoot tbody\".split(\" \"),z=CKEDITOR.tools.extend({},u.$blockLimit,u.$block),w={elements:{input:g,textarea:g}},C={attributeNames:[[/^on/,\"data-cke-pa-on\"],[/^srcdoc/,\"data-cke-pa-srcdoc\"],[/^data-cke-expando$/,\"\"]],elements:{iframe:function(a){if(a.attributes&&a.attributes.src){var b=a.attributes.src.toLowerCase().replace(/[^a-z]/gi,\n\"\");if(0===b.indexOf(\"javascript\")||0===b.indexOf(\"data\"))a.attributes[\"data-cke-pa-src\"]=a.attributes.src,delete a.attributes.src}}}},y={elements:{embed:function(a){var b=a.parent;if(b&&\"object\"==b.name){var c=b.attributes.width,b=b.attributes.height;c&&(a.attributes.width=c);b&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes[\"data-cke-saved-name\"]))return!1}}},B={elementNames:[[/^cke:/,\"\"],[/^\\?xml:namespace$/,\"\"]],attributeNames:[[/^data-cke-(saved|pa)-/,\n\"\"],[/^data-cke-.*/,\"\"],[\"hidefocus\",\"\"]],elements:{$:function(a){var b=a.attributes;if(b){if(b[\"data-cke-temp\"])return!1;for(var c=[\"name\",\"href\",\"src\"],d,f=0;f<c.length;f++)d=\"data-cke-saved-\"+c[f],d in b&&delete b[c[f]]}return a},table:function(a){a.children.slice(0).sort(function(a,b){var c,d;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(c=CKEDITOR.tools.indexOf(A,a.name),d=CKEDITOR.tools.indexOf(A,b.name));-1<c&&-1<d&&c!=d||(c=a.parent?a.getIndex():-1,d=b.parent?b.getIndex():-1);return c>d?\n1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){\"Apple-style-span\"==a.attributes[\"class\"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes[\"class\"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type=\"text/css\")},title:function(a){var b=a.children[0];!b&&k(a,b=new CKEDITOR.htmlParser.text);\nb.value=a.attributes[\"data-cke-title\"]||\"\"},input:h,textarea:h},attributes:{\"class\":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\\s+)cke_[^\\s]*/g,\"\"))||!1}}};CKEDITOR.env.ie&&(B.attributes.style=function(a){return a.replace(/(^|;)([^\\:]+)/g,function(a){return a.toLowerCase()})});var G=/<(a|area|img|input|source)\\b([^>]*)>/gi,E=/([\\w-:]+)\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|(?:[^ \"'>]+))/gi,F=/^(href|src|name)$/i,I=/(?:<style(?=[ >])[^>]*>[\\s\\S]*?<\\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,\nH=/(<textarea(?=[ >])[^>]*>)([\\s\\S]*?)(?:<\\/textarea>)/gi,K=/<cke:encoded>([^<]*)<\\/cke:encoded>/gi,J=/(<\\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,D=/(<\\/?)cke:((?:html|body|head|title)[^>]*>)/gi,R=/<cke:(param|embed)([^>]*?)\\/?>(?!\\s*<\\/cke:\\1)/gi}(),\"use strict\",CKEDITOR.htmlParser.element=function(a,e){this.name=a;this.attributes=e||{};this.children=[];var b=a||\"\",c=b.match(/^cke:(.*)/);c&&(b=c[1]);b=!!(CKEDITOR.dtd.$nonBodyContent[b]||CKEDITOR.dtd.$block[b]||CKEDITOR.dtd.$listItem[b]||\nCKEDITOR.dtd.$tableContent[b]||CKEDITOR.dtd.$nonEditable[b]||\"br\"==b);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:b,hasInlineStarted:this.isEmpty||!b}},CKEDITOR.htmlParser.cssStyle=function(a){var e={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:a)||\"\").replace(/&quot;/g,'\"').replace(/\\s*([^ :;]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,c,d){\"font-family\"==c&&(d=d.replace(/[\"']/g,\"\"));e[c.toLowerCase()]=d});return{rules:e,populate:function(a){var c=\nthis.toString();c&&(a instanceof CKEDITOR.dom.element?a.setAttribute(\"style\",c):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=c:a.style=c)},toString:function(){var a=[],c;for(c in e)e[c]&&a.push(c,\":\",e[c],\";\");return a.join(\"\")}}},function(){function a(a){return function(b){return b.type==CKEDITOR.NODE_ELEMENT&&(\"string\"==typeof a?b.name==a:b.name in a)}}var e=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},b=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=\nCKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:b.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){var e=this,k,g;b=e.getFilterContext(b);if(b.off)return!0;if(!e.parent)a.onRoot(b,e);for(;;){k=e.name;if(!(g=a.onElementName(b,k)))return this.remove(),!1;e.name=g;if(!(e=a.onElement(b,e)))return this.remove(),!1;if(e!==this)return this.replaceWith(e),!1;if(e.name==k)break;if(e.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(e),\n!1;if(!e.name)return this.replaceWithChildren(),!1}k=e.attributes;var h,m;for(h in k){for(g=k[h];;)if(m=a.onAttributeName(b,h))if(m!=h)delete k[h],h=m;else break;else{delete k[h];break}m&&(!1===(g=a.onAttribute(b,e,m,g))?delete k[m]:k[m]=g)}e.isEmpty||this.filterChildren(a,!1,b);return!0},filterChildren:b.filterChildren,writeHtml:function(a,b){b&&this.filter(b);var l=this.name,k=[],g=this.attributes,h,m;a.openTag(l,g);for(h in g)k.push([h,g[h]]);a.sortAttributes&&k.sort(e);h=0;for(m=k.length;h<m;h++)g=\nk[h],a.attribute(g[0],g[1]);a.openTagClose(l,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(l)},writeChildrenHtml:b.writeChildrenHtml,replaceWithChildren:function(){for(var a=this.children,b=a.length;b;)a[--b].insertAfter(this);this.remove()},forEach:b.forEach,getFirst:function(b){if(!b)return this.children.length?this.children[0]:null;\"function\"!=typeof b&&(b=a(b));for(var d=0,e=this.children.length;d<e;++d)if(b(this.children[d]))return this.children[d];return null},getHtml:function(){var a=\nnew CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var b=0,e=a.length;b<e;++b)a[b].parent=this},getOuterHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),e=this.clone(),k=0;k<b.length;++k)b[k].parent=e;e.children=b;b[0]&&(b[0].previous=null);0<a&&(this.children[a-\n1].next=null);this.parent.add(e,this.getIndex()+1);return e},find:function(a,b){void 0===b&&(b=!1);var e=[],k;for(k=0;k<this.children.length;k++){var g=this.children[k];\"function\"==typeof a&&a(g)?e.push(g):\"string\"==typeof a&&g.name===a&&e.push(g);b&&g.find&&(e=e.concat(g.find(a,b)))}return e},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes[\"class\"]||\"\";this.attributes[\"class\"]=b+(b?\" \":\"\")+a}},removeClass:function(a){var b=this.attributes[\"class\"];b&&((b=CKEDITOR.tools.trim(b.replace(new RegExp(\"(?:\\\\s+|^)\"+\na+\"(?:\\\\s+|$)\"),\" \")))?this.attributes[\"class\"]=b:delete this.attributes[\"class\"])},hasClass:function(a){var b=this.attributes[\"class\"];return b?(new RegExp(\"(?:^|\\\\s)\"+a+\"(?\\x3d\\\\s|$)\")).test(b):!1},getFilterContext:function(a){var b=[];a||(a={off:!1,nonEditable:!1,nestedEditable:!1});a.off||\"off\"!=this.attributes[\"data-cke-processor\"]||b.push(\"off\",!0);a.nonEditable||\"false\"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&\"true\"==this.attributes.contenteditable&&b.push(\"nestedEditable\",\n!0):b.push(\"nonEditable\",!0);if(b.length){a=CKEDITOR.tools.copy(a);for(var e=0;e<b.length;e+=2)a[b[e]]=b[e+1]}return a}},!0)}(),function(){var a=/{([^}]+)}/g;CKEDITOR.template=function(a){this.source=String(a)};CKEDITOR.template.prototype.output=function(e,b){var c=this.source.replace(a,function(a,b){return void 0!==e[b]?e[b]:a});return b?b.push(c):c}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(a){CKEDITOR.instances[a.name]=\na;a.on(\"focus\",function(){CKEDITOR.currentInstance!=a&&(CKEDITOR.currentInstance=a,CKEDITOR.fire(\"currentInstance\"))});a.on(\"blur\",function(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire(\"currentInstance\"))});CKEDITOR.fire(\"instance\",null,a)},CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]},function(){var a={};CKEDITOR.addTemplate=function(e,b){var c=a[e];if(c)return c;c={name:e,source:b};CKEDITOR.fire(\"template\",c);return a[e]=new CKEDITOR.template(c.source)};\nCKEDITOR.getTemplate=function(e){return a[e]}}(),function(){var a=[];CKEDITOR.addCss=function(e){a.push(e)};CKEDITOR.getCss=function(){return a.join(\"\\n\")}}(),CKEDITOR.on(\"instanceDestroyed\",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire(\"reset\")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(a,e){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+\na.getEditor().name+'\" is already attached to the provided element.';var b=new CKEDITOR.editor(e,a,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is(\"textarea\")?a:null;c?(b.setData(c.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv contenteditable\\x3d\"'+!!b.readOnly+'\" class\\x3d\"cke_textarea_inline\"\\x3e'+c.getValue()+\"\\x3c/div\\x3e\",CKEDITOR.document),a.insertAfter(c),c.hide(),c.$.form&&b._attachToForm()):b.setData(a.getHtml(),null,!0);b.on(\"loaded\",function(){b.fire(\"uiReady\");b.editable(a);b.container=\na;b.ui.contentsElement=a;b.setData(b.getData(1));b.resetDirty();b.fire(\"contentDom\");b.mode=\"wysiwyg\";b.fire(\"mode\");b.status=\"ready\";b.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,b)},null,null,1E4);b.on(\"destroy\",function(){c&&(b.container.clearCustomData(),b.container.remove(),c.show());b.element.clearCustomData();delete b.element});return b};CKEDITOR.inlineAll=function(){var a,e,b;for(b in CKEDITOR.dtd.$editable)for(var c=CKEDITOR.document.getElementsByTag(b),d=0,l=c.count();d<\nl;d++)a=c.getItem(d),\"true\"==a.getAttribute(\"contenteditable\")&&(e={element:a,config:{}},!1!==CKEDITOR.fire(\"inline\",e)&&CKEDITOR.inline(a,e.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass=\"ckeditor\",function(){function a(a,d,l,k){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var g=new CKEDITOR.editor(d,\na,k);k==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle(\"visibility\",\"hidden\"),g._.required=a.hasAttribute(\"required\"),a.removeAttribute(\"required\"));l&&g.setData(l,null,!0);g.on(\"loaded\",function(){b(g);k==CKEDITOR.ELEMENT_MODE_REPLACE&&g.config.autoUpdateElement&&a.$.form&&g._attachToForm();g.setMode(g.config.startupMode,function(){g.resetDirty();g.status=\"ready\";g.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,g)})});g.on(\"destroy\",e);return g}function e(){var a=this.container,b=this.element;\na&&(a.clearCustomData(),a.remove());b&&(b.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(b.show(),this._.required&&b.setAttribute(\"required\",\"required\")),delete this.element)}function b(a){var b=a.name,e=a.element,k=a.elementMode,g=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,h=a.fire(\"uiSpace\",{space:\"bottom\",html:\"\"}).html,m=new CKEDITOR.template('\\x3c{outerEl} id\\x3d\"cke_{name}\" class\\x3d\"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+\n'\"  dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"application\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\"\")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\"\")+'\\x3c{outerEl} class\\x3d\"cke_inner cke_reset\" role\\x3d\"presentation\"\\x3e{topHtml}\\x3c{outerEl} id\\x3d\"{contentId}\" class\\x3d\"cke_contents cke_reset\" role\\x3d\"presentation\"\\x3e\\x3c/{outerEl}\\x3e{bottomHtml}\\x3c/{outerEl}\\x3e\\x3c/{outerEl}\\x3e'),b=CKEDITOR.dom.element.createFromHtml(m.output({id:a.id,\nname:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:g?'\\x3cspan id\\x3d\"'+a.ui.spaceId(\"top\")+'\" class\\x3d\"cke_top cke_reset_all\" role\\x3d\"presentation\" style\\x3d\"height:auto\"\\x3e'+g+\"\\x3c/span\\x3e\":\"\",contentId:a.ui.spaceId(\"contents\"),bottomHtml:h?'\\x3cspan id\\x3d\"'+a.ui.spaceId(\"bottom\")+'\" class\\x3d\"cke_bottom cke_reset_all\" role\\x3d\"presentation\"\\x3e'+h+\"\\x3c/span\\x3e\":\"\",outerEl:CKEDITOR.env.ie?\"span\":\"div\"}));k==CKEDITOR.ELEMENT_MODE_REPLACE?(e.hide(),b.insertAfter(e)):\ne.append(b);a.container=b;a.ui.contentsElement=a.ui.space(\"contents\");g&&a.ui.space(\"top\").unselectable();h&&a.ui.space(\"bottom\").unselectable();e=a.config.width;k=a.config.height;e&&b.setStyle(\"width\",CKEDITOR.tools.cssLength(e));k&&a.ui.space(\"contents\").setStyle(\"height\",CKEDITOR.tools.cssLength(k));b.disableContextMenu();CKEDITOR.env.webkit&&b.on(\"focus\",function(){a.focus()});a.fireOnce(\"uiReady\")}CKEDITOR.replace=function(b,d){return a(b,d,null,CKEDITOR.ELEMENT_MODE_REPLACE)};CKEDITOR.appendTo=\nfunction(b,d,e){return a(b,d,e,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=document.getElementsByTagName(\"textarea\"),b=0;b<a.length;b++){var e=null,k=a[b];if(k.name||k.id){if(\"string\"==typeof arguments[0]){if(!(new RegExp(\"(?:^|\\\\s)\"+arguments[0]+\"(?:$|\\\\s)\")).test(k.className))continue}else if(\"function\"==typeof arguments[0]&&(e={},!1===arguments[0](k,e)))continue;this.replace(k,e)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes={}))[a]=\nb};CKEDITOR.editor.prototype.setMode=function(a,b){var e=this,k=this._.modes;if(a!=e.mode&&k&&k[a]){e.fire(\"beforeSetMode\",a);if(e.mode){var g=e.checkDirty(),k=e._.previousModeData,h,m=0;e.fire(\"beforeModeUnload\");e.editable(0);e._.previousMode=e.mode;e._.previousModeData=h=e.getData(1);\"source\"==e.mode&&k==h&&(e.fire(\"lockSnapshot\",{forceUpdate:!0}),m=1);e.ui.space(\"contents\").setHtml(\"\");e.mode=\"\"}else e._.previousModeData=e.getData(1);this._.modes[a](function(){e.mode=a;void 0!==g&&!g&&e.resetDirty();\nm?e.fire(\"unlockSnapshot\"):\"wysiwyg\"==a&&e.fire(\"saveSnapshot\");setTimeout(function(){e.fire(\"mode\");b&&b.call(e)},0)})}};CKEDITOR.editor.prototype.resize=function(a,b,e,k){var g=this.container,h=this.ui.space(\"contents\"),m=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;k=k?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}):g;k.setSize(\"width\",a,!0);m&&(m.style.width=\"1%\");var f=(k.$.offsetHeight||0)-(h.$.clientHeight||\n0),g=Math.max(b-(e?0:f),0);b=e?b+f:b;h.setStyle(\"height\",g+\"px\");m&&(m.style.width=\"100%\");this.fire(\"resize\",{outerHeight:b,contentsHeight:g,outerWidth:a||k.getSize(\"width\")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space(\"contents\"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode=\"wysiwyg\",function(){function a(a){var b=a.editor,f=a.data.path,d=f.blockLimit,g=a.data.selection,\nh=g.getRanges()[0],m;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(g=e(g,f))g.appendBogus(),m=CKEDITOR.env.ie;k(b,f.block,d)&&h.collapsed&&!h.getCommonAncestor().isReadOnly()&&(f=h.clone(),f.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),d=new CKEDITOR.dom.walker(f),d.guard=function(a){return!c(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!d.checkForward()||f.checkStartOfBlock()&&f.checkEndOfBlock())&&(b=h.fixBlock(!0,b.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\"),CKEDITOR.env.needsBrFiller||\n(b=b.getFirst(c))&&b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\\xa0)$/)&&b.remove(),m=1,a.cancel());m&&h.select()}function e(a,b){if(a.isFake)return 0;var f=b.block||b.blockLimit,d=f&&f.getLast(c);if(!(!f||!f.isBlockBoundary()||d&&d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()||f.is(\"pre\")||f.getBogus()))return f}function b(a){var b=a.data.getTarget();b.is(\"input\")&&(b=b.getAttribute(\"type\"),\"submit\"!=b&&\"reset\"!=b||a.data.preventDefault())}function c(a){return f(a)&&\nn(a)}function d(a,b){return function(c){var f=c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget;(f=f&&f.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(f):null)&&(b.equals(f)||b.contains(f))||a.call(this,c)}}function l(a){function b(a){return function(b,d){d&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(g)&&(f=b);if(!(d||!c(b)||a&&r(b)))return!1}}var f,d=a.getRanges()[0];a=a.root;var g={table:1,ul:1,ol:1,dl:1};if(d.startPath().contains(g)){var e=d.clone();e.collapse(1);e.setStartAt(a,\nCKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(e);a.guard=b();a.checkBackward();if(f)return e=d.clone(),e.collapse(),e.setEndAt(f,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(e),a.guard=b(!0),f=!1,a.checkForward(),f}return null}function k(a,b,c){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(c)&&!b||b&&\"true\"==b.getAttribute(\"contenteditable\"))}function g(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?\na.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function h(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire(\"saveSnapshot\")},0)}function m(a,b,c){var f=a.getCommonAncestor(b);for(b=a=c?b:a;(a=a.getParent())&&!f.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var f,n,p,r,v,x,q,t,u,A;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status=\"unloaded\";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;\nif(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a))){a.focus();return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var b=this.$.scrollTop;this.$.focus();this.$.scrollTop=b}else this.$.focus();\nelse this.$.setActive()}catch(c){if(!CKEDITOR.env.ie)throw c;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(a,b){var c=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a=\"focus\"==a?\"focusin\":\"focusout\",b=d(b,this),c[0]=a,c[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,\n1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=this._.attrChanges,b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],null!==b?this.setAttribute(c,b):this.removeAttribute(c))},attachClass:function(a){var b=this.getCustomData(\"classes\");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData(\"classes\",b),this.addClass(a))},changeAttr:function(a,b){var c=this.getAttribute(a);\nb!==c&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=c),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),\"text\")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant(\"pre\",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,b)},insertHtml:function(a,b,c){var f=this.editor;f.focus();f.fire(\"saveSnapshot\");\nc||(c=f.getSelection().getRanges()[0]);x(this,b||\"html\",a,c);c.select();h(this);this.editor.fire(\"afterInsertHtml\",{})},insertHtmlIntoRange:function(a,b,c){x(this,c||\"html\",a,b);this.editor.fire(\"afterInsertHtml\",{intoRange:b})},insertElement:function(a,b){var f=this.editor;f.focus();f.fire(\"saveSnapshot\");var d=f.activeEnterMode,f=f.getSelection(),g=a.getName(),g=CKEDITOR.dtd.$block[g];b||(b=f.getRanges()[0]);this.insertElementIntoRange(a,b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),g&&((g=\na.getNext(function(a){return c(a)&&!r(a)}))&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.$block)?g.getDtd()[\"#\"]?b.moveToElementEditStart(g):b.moveToElementEditEnd(a):g||d==CKEDITOR.ENTER_BR||(g=b.fixBlock(!0,d==CKEDITOR.ENTER_DIV?\"div\":\"p\"),b.moveToElementEditStart(g))));f.selectRanges([b]);h(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,f=c.config.enterMode,d=a.getName(),g=CKEDITOR.dtd.$block[d];if(b.checkReadOnly())return!1;\nb.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&(b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?q(b):b.startContainer.is(CKEDITOR.dtd.$list)&&t(b));var e,h;if(g)for(;(e=b.getCommonAncestor(0,1))&&(h=CKEDITOR.dtd[e.getName()])&&(!h||!h[d]);)e.getName()in CKEDITOR.dtd.span?b.splitElement(e):b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(e),b.collapse(!0),e.remove()):b.splitBlock(f==CKEDITOR.ENTER_DIV?\"div\":\"p\",c.editable());b.insertNode(a);return!0},setData:function(a,\nb){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();\"unloaded\"==this.status&&(this.status=\"ready\");this.editor.fire(\"dataReady\")},getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute(\"contenteditable\",!a)},detach:function(){this.removeClass(\"cke_editable\");this.status=\"detached\";var a=this.editor;this._.detach();delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},\nfixInitialSelection:function(){function a(){var b=c.getDocument().$,f=b.getSelection(),d;a:if(f.anchorNode&&f.anchorNode==c.$)d=!0;else{if(CKEDITOR.env.webkit&&(d=c.getDocument().getActive())&&d.equals(c)&&!f.anchorNode){d=!0;break a}d=void 0}d&&(d=new CKEDITOR.dom.range(c),d.moveToElementEditStart(c),b=b.createRange(),b.setStart(d.startContainer.$,d.startOffset),b.collapse(!0),f.removeAllRanges(),f.addRange(b))}function b(){var a=c.getDocument().$,f=a.selection,d=c.getDocument().getActive();\"None\"==\nf.type&&d.equals(c)&&(f=new CKEDITOR.dom.range(c),a=a.body.createTextRange(),f.moveToElementEditStart(c),f=f.startContainer,f.type!=CKEDITOR.NODE_ELEMENT&&(f=f.getParent()),a.moveToElementText(f.$),a.collapse(!0),a.select())}var c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once(\"focus\",function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);\na={doc:this.getDocument(),range:a.clone()};u.eol.detect(a,this);u.bogus.exclude(a);u.cell.shrink(a);a.fragment=a.range.cloneContents();u.tree.rebuild(a,this);u.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},extractHtmlFromRange:function(a,b){var c=A,f={range:a,doc:a.document},d=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),d;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.table.detectPurge(f);f.bookmark=a.createBookmark();delete f.range;var g=this.editor.createRange();\ng.moveToPosition(f.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);f.targetBookmark=g.createBookmark();c.list.detectMerge(f,this);c.table.detectRanges(f,this);c.block.detectMerge(f,this);f.tableContentsRanges?(c.table.deleteRanges(f),a.moveToBookmark(f.bookmark),f.range=a):(a.moveToBookmark(f.bookmark),f.range=a,a.extractContents(c.detectExtractMerge(f)));a.moveToBookmark(f.targetBookmark);a.optimize();c.fixUneditableRangePosition(a);c.list.merge(f,this);c.table.purge(f,this);c.block.merge(f,this);\nif(b){c=a.startPath();if(f=a.checkStartOfBlock()&&a.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{var f=c.block.getElementsByTag(\"span\"),g=0,e;if(f)for(;e=f.getItem(g++);)if(!n(e)){f=!0;break a}f=!1}f=!f}f&&(a.moveToPosition(c.block,CKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),p(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return d},setup:function(){var a=this.editor;this.attachListener(a,\"beforeGetData\",function(){var b=\nthis.getData();this.is(\"textarea\")||!1!==a.config.ignoreEmptyParagraph&&(b=b.replace(v,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,\"getSnapshot\",function(a){a.data=this.getData(1)},this);this.attachListener(a,\"afterSetData\",function(){this.setData(a.getData(1))},this);this.attachListener(a,\"loadSnapshot\",function(a){this.setData(a.data,1)},this);this.attachListener(a,\"beforeFocus\",function(){var b=a.getSelection();(b=b&&b.getNative())&&\"Control\"==b.type||this.focus()},\nthis);this.attachListener(a,\"insertHtml\",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,\"insertElement\",function(a){this.insertElement(a.data)},this);this.attachListener(a,\"insertText\",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass(\"cke_editable\");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass(\"cke_editable_inline\"):a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||\nthis.attachClass(\"cke_editable_themed\");this.attachClass(\"cke_contents_\"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on(\"blur\",function(){this.hasFocus=!1},null,null,-1);this.on(\"focus\",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on(\"scroll\",function(){a._.previousScrollTop=a.editable().$.scrollTop},null,null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var b=a.editable();\nnull!=a._.previousScrollTop&&b.getDocument().equals(CKEDITOR.document)&&(b.$.scrollTop=a._.previousScrollTop,a._.previousScrollTop=null,this.removeListener(\"scroll\",d))};this.on(\"scroll\",d)}a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,a.once(\"contentDom\",function(){a.focusManager.focus(this)},this));this.isInline()&&this.changeAttr(\"tabindex\",a.tabIndex);if(!this.is(\"textarea\")){a.document=this.getDocument();a.window=this.getWindow();var g=a.document;this.changeAttr(\"spellcheck\",\n!a.config.disableNativeSpellChecker);var e=a.config.contentsLangDirection;this.getDirection(1)!=e&&this.changeAttr(\"dir\",e);var h=CKEDITOR.getCss();if(h){var e=g.getHead(),k=e.getCustomData(\"stylesheet\");k?h!=k.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?k.$.styleSheet.cssText=h:k.setText(h)):(h=g.appendStyleText(h),h=new CKEDITOR.dom.element(h.ownerNode||h.owningElement),e.setCustomData(\"stylesheet\",h),h.data(\"cke-temp\",1))}e=g.getCustomData(\"stylesheet_ref\")||0;g.setCustomData(\"stylesheet_ref\",\ne+1);this.setCustomData(\"cke_includeReadonly\",!a.config.disableReadonlyStyling);this.attachListener(this,\"click\",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains(\"a\");b&&2!=a.$.button&&b.isReadOnly()&&a.preventDefault()});var n={8:1,46:1};this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),d;b=a.getSelection();if(0!==b.getRanges().length){if(c in n){var g,e=b.getRanges()[0],h=e.startPath(),m,k,p,c=8==c;CKEDITOR.env.ie&&\n11>CKEDITOR.env.version&&(g=b.getSelectedElement())||(g=l(b))?(a.fire(\"saveSnapshot\"),e.moveToPosition(g,CKEDITOR.POSITION_BEFORE_START),g.remove(),e.select(),a.fire(\"saveSnapshot\"),d=1):e.collapsed&&((m=h.block)&&(p=m[c?\"getPrevious\":\"getNext\"](f))&&p.type==CKEDITOR.NODE_ELEMENT&&p.is(\"table\")&&e[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()?(a.fire(\"saveSnapshot\"),e[c?\"checkEndOfBlock\":\"checkStartOfBlock\"]()&&m.remove(),e[\"moveToElementEdit\"+(c?\"End\":\"Start\")](p),e.select(),a.fire(\"saveSnapshot\"),\nd=1):h.blockLimit&&h.blockLimit.is(\"td\")&&(k=h.blockLimit.getAscendant(\"table\"))&&e.checkBoundaryOfElement(k,c?CKEDITOR.START:CKEDITOR.END)&&(p=k[c?\"getPrevious\":\"getNext\"](f))?(a.fire(\"saveSnapshot\"),e[\"moveToElementEdit\"+(c?\"End\":\"Start\")](p),e.checkStartOfBlock()&&e.checkEndOfBlock()?p.remove():e.select(),a.fire(\"saveSnapshot\"),d=1):(k=h.contains([\"td\",\"th\",\"caption\"]))&&e.checkBoundaryOfElement(k,c?CKEDITOR.START:CKEDITOR.END)&&(d=1))}return!d}});a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&\nthis.attachListener(this,\"keyup\",function(b){b.data.getKeystroke()in n&&!this.getFirst(c)&&(this.appendBogus(),b=a.createRange(),b.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),b.select())});this.attachListener(this,\"dblclick\",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};a.fire(\"doubleclick\",b)});CKEDITOR.env.ie&&this.attachListener(this,\"click\",b);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,\"mousedown\",function(b){var c=b.data.getTarget();c.is(\"img\",\"hr\",\n\"input\",\"textarea\",\"select\")&&!c.isReadOnly()&&(a.getSelection().selectElement(c),c.is(\"input\",\"textarea\",\"select\")&&b.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,\"mouseup\",function(b){(b=b.data.getTarget())&&b.is(\"img\")&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&this.attachListener(this,\"mouseup\",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getOuterHtml().replace(v,\"\"))){var c=a.createRange();c.moveToElementEditStart(b);c.select(!0)}});CKEDITOR.env.webkit&&\n(this.attachListener(this,\"click\",function(a){a.data.getTarget().is(\"input\",\"select\")&&a.data.preventDefault()}),this.attachListener(this,\"mouseup\",function(a){a.data.getTarget().is(\"input\",\"textarea\")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey();if(c in n&&(b=a.getSelection(),0!==b.getRanges().length)){var c=8==c,f=b.getRanges()[0];b=f.startPath();if(f.collapsed)a:{var d=b.block;if(d&&f[c?\"checkStartOfBlock\":\n\"checkEndOfBlock\"]()&&f.moveToClosestEditablePosition(d,!c)&&f.collapsed){if(f.startContainer.type==CKEDITOR.NODE_ELEMENT){var g=f.startContainer.getChild(f.startOffset-(c?1:0));if(g&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(\"hr\")){a.fire(\"saveSnapshot\");g.remove();b=!0;break a}}f=f.startPath().block;if(!f||f&&f.contains(d))b=void 0;else{a.fire(\"saveSnapshot\");var e;(e=(c?f:d).getBogus())&&e.remove();e=a.getSelection();g=e.createBookmarks();(c?d:f).moveChildren(c?f:d,!1);b.lastElement.mergeSiblings();\nm(d,f,!c);e.selectBookmarks(g);b=!0}}else b=!1}else c=f,e=b.block,f=c.endPath().block,e&&f&&!e.equals(f)?(a.fire(\"saveSnapshot\"),(d=e.getBogus())&&d.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),c.deleteContents(),f.getParent()&&(f.moveChildren(e,!1),b.lastElement.mergeSiblings(),m(e,f,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),\"\"===c.startContainer.getHtml()&&c.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(!b)return;a.getSelection().scrollIntoView();a.fire(\"saveSnapshot\");\nreturn!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData(\"classes\"))for(;a.length;)this.removeClass(a.pop());if(!this.is(\"textarea\")){a=this.getDocument();var b=a.getHead();if(b.getCustomData(\"stylesheet\")){var c=a.getCustomData(\"stylesheet_ref\");--c?a.setCustomData(\"stylesheet_ref\",c):(a.removeCustomData(\"stylesheet_ref\"),b.removeCustomData(\"stylesheet\").remove())}}this.editor.fire(\"contentDomUnload\");\ndelete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;arguments.length&&(b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),null));return b};CKEDITOR.on(\"instanceLoaded\",function(b){var c=b.editor;c.on(\"insertElement\",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is(\"input\")||a.is(\"textarea\"))&&(\"false\"!=a.getAttribute(\"contentEditable\")&&a.data(\"cke-editable\",a.hasAttribute(\"contenteditable\")?\n\"true\":\"1\"),a.setAttribute(\"contentEditable\",!1))});c.on(\"selectionChange\",function(b){if(!c.readOnly){var f=c.getSelection();f&&!f.isLocked&&(f=c.checkDirty(),c.fire(\"lockSnapshot\"),a(b),c.fire(\"unlockSnapshot\"),!f&&c.resetDirty())}})});CKEDITOR.on(\"instanceCreated\",function(a){var b=a.editor;b.on(\"mode\",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr(\"role\",\"textbox\");a.changeAttr(\"aria-label\",c);c&&a.changeAttr(\"title\",c);var f=b.fire(\"ariaEditorHelpLabel\",{}).label;\nif(f&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?\"top\":\"contents\"))){var d=CKEDITOR.tools.getNextId(),f=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+d+'\" class\\x3d\"cke_voice_label\"\\x3e'+f+\"\\x3c/span\\x3e\");c.append(f);a.changeAttr(\"aria-describedby\",d)}}})});CKEDITOR.addCss(\".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}\");f=CKEDITOR.dom.walker.whitespaces(!0);n=CKEDITOR.dom.walker.bookmark(!1,!0);p=CKEDITOR.dom.walker.empty();\nr=CKEDITOR.dom.walker.bogus();v=/(^|<body\\b[^>]*>)\\s*<(p|div|address|h\\d|center|pre)[^>]*>\\s*(?:<br[^>]*>|&nbsp;|\\u00A0|&#160;)?\\s*(:?<\\/\\2>)?\\s*(?=$|<\\/body>)/gi;x=function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function b(c,f){var d,g,e,h,m=[],k=f.range.startContainer;d=f.range.startPath();for(var k=l[k.getName()],n=0,p=c.getChildren(),q=p.count(),t=-1,u=-1,E=0,v=d.contains(l.$list);n<q;++n)d=p.getItem(n),a(d)?(e=d.getName(),v&&e in CKEDITOR.dtd.$list?m=m.concat(b(d,f)):(h=!!k[e],\n\"br\"!=e||!d.data(\"cke-eol\")||n&&n!=q-1||(E=(g=n?m[n-1].node:p.getItem(n+1))&&(!a(g)||!g.is(\"br\")),g=g&&a(g)&&l.$block[g.getName()]),-1!=t||h||(t=n),h||(u=n),m.push({isElement:1,isLineBreak:E,isBlock:d.isBlockBoundary(),hasBlockSibling:g,node:d,name:e,allowed:h}),g=E=0)):m.push({isElement:0,node:d,allowed:1});-1<t&&(m[t].firstNotAllowed=1);-1<u&&(m[u].lastNotAllowed=1);return m}function f(b,c){var d=[],g=b.getChildren(),e=g.count(),h,m=0,k=l[c],n=!b.is(l.$inline)||b.is(\"br\");for(n&&d.push(\" \");m<e;m++)h=\ng.getItem(m),a(h)&&!h.is(k)?d=d.concat(f(h,c)):d.push(h);n&&d.push(\" \");return d}function d(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function e(b){return b&&a(b)&&(b.is(l.$removeEmpty)||b.is(\"a\")&&!b.isBlockBoundary())}function h(b,c,f,d){var g=b.clone(),e,m;g.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);(e=(new CKEDITOR.dom.walker(g)).next())&&a(e)&&n[e.getName()]&&(m=e.getPrevious())&&a(m)&&!m.getParent().equals(b.startContainer)&&f.contains(m)&&d.contains(e)&&e.isIdentical(m)&&\n(e.moveChildren(m),e.remove(),h(b,c,f,d))}function m(b,c){function f(b,c){if(c.isBlock&&c.isElement&&!c.node.is(\"br\")&&a(b)&&b.is(\"br\"))return b.remove(),1}var d=c.endContainer.getChild(c.endOffset),g=c.endContainer.getChild(c.endOffset-1);d&&f(d,b[b.length-1]);g&&f(g,b[0])&&(c.setEnd(c.endContainer,c.endOffset-1),c.collapse())}var l=CKEDITOR.dtd,n={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},p={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},q=CKEDITOR.tools.extend({},\nl.$inline);delete q.br;return function(n,D,t,u){var v=n.editor,x=!1;\"unfiltered_html\"==D&&(D=\"html\",x=!0);if(!u.checkReadOnly()){var r=(new CKEDITOR.dom.elementPath(u.startContainer,u.root)).blockLimit||u.root;n={type:D,dontFilter:x,editable:n,editor:v,range:u,blockLimit:r,mergeCandidates:[],zombies:[]};D=n.range;u=n.mergeCandidates;var I,A;\"text\"==n.type&&D.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(I=CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",D.document),D.insertNode(I),\nD.setStartAfter(I));x=new CKEDITOR.dom.elementPath(D.startContainer);n.endPath=r=new CKEDITOR.dom.elementPath(D.endContainer);if(!D.collapsed){var v=r.block||r.blockLimit,da=D.getCommonAncestor();v&&!v.equals(da)&&!v.contains(da)&&D.checkEndOfBlock()&&n.zombies.push(v);D.deleteContents()}for(;(A=d(D))&&a(A)&&A.isBlockBoundary()&&x.contains(A);)D.moveToPosition(A,CKEDITOR.POSITION_BEFORE_END);h(D,n.blockLimit,x,r);I&&(D.setEndBefore(I),D.collapse(),I.remove());I=D.startPath();if(v=I.contains(e,!1,\n1))D.splitElement(v),n.inlineStylesRoot=v,n.inlineStylesPeak=I.lastElement;I=D.createBookmark();(v=I.startNode.getPrevious(c))&&a(v)&&e(v)&&u.push(v);(v=I.startNode.getNext(c))&&a(v)&&e(v)&&u.push(v);for(v=I.startNode;(v=v.getParent())&&e(v);)u.push(v);D.moveToBookmark(I);if(I=t){I=n.range;if(\"text\"==n.type&&n.inlineStylesRoot){A=n.inlineStylesPeak;D=A.getDocument().createText(\"{cke-peak}\");for(u=n.inlineStylesRoot.getParent();!A.equals(u);)D=D.appendTo(A.clone()),A=A.getParent();t=D.getOuterHtml().split(\"{cke-peak}\").join(t)}A=\nn.blockLimit.getName();if(/^\\s+|\\s+$/.test(t)&&\"span\"in CKEDITOR.dtd[A]){var P='\\x3cspan data-cke-marker\\x3d\"1\"\\x3e\\x26nbsp;\\x3c/span\\x3e';t=P+t+P}t=n.editor.dataProcessor.toHtml(t,{context:null,fixForBody:!1,protectedWhitespaces:!!P,dontFilter:n.dontFilter,filter:n.editor.activeFilter,enterMode:n.editor.activeEnterMode});A=I.document.createElement(\"body\");A.setHtml(t);P&&(A.getFirst().remove(),A.getLast().remove());if((P=I.startPath().block)&&(1!=P.getChildCount()||!P.getBogus()))a:{var Q;if(1==\nA.getChildCount()&&a(Q=A.getFirst())&&Q.is(p)&&!Q.hasAttribute(\"contenteditable\")){P=Q.getElementsByTag(\"*\");I=0;for(u=P.count();I<u;I++)if(D=P.getItem(I),!D.is(q))break a;Q.moveChildren(Q.getParent(1));Q.remove()}}n.dataWrapper=A;I=t}if(I){Q=n.range;I=Q.document;var M;A=n.blockLimit;u=0;var U,P=[],T,O;t=v=0;var W,aa;D=Q.startContainer;var x=n.endPath.elements[0],ba,r=x.getPosition(D),da=!!x.getCommonAncestor(D)&&r!=CKEDITOR.POSITION_IDENTICAL&&!(r&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);\nD=b(n.dataWrapper,n);for(m(D,Q);u<D.length;u++){r=D[u];if(M=r.isLineBreak){M=Q;W=A;var Y=void 0,ca=void 0;r.hasBlockSibling?M=1:(Y=M.startContainer.getAscendant(l.$block,1))&&Y.is({div:1,p:1})?(ca=Y.getPosition(W),ca==CKEDITOR.POSITION_IDENTICAL||ca==CKEDITOR.POSITION_CONTAINS?M=0:(W=M.splitElement(Y),M.moveToPosition(W,CKEDITOR.POSITION_AFTER_START),M=1)):M=0}if(M)t=0<u;else{M=Q.startPath();!r.isBlock&&k(n.editor,M.block,M.blockLimit)&&(O=g(n.editor))&&(O=I.createElement(O),O.appendBogus(),Q.insertNode(O),\nCKEDITOR.env.needsBrFiller&&(U=O.getBogus())&&U.remove(),Q.moveToPosition(O,CKEDITOR.POSITION_BEFORE_END));if((M=Q.startPath().block)&&!M.equals(T)){if(U=M.getBogus())U.remove(),P.push(M);T=M}r.firstNotAllowed&&(v=1);if(v&&r.isElement){M=Q.startContainer;for(W=null;M&&!l[M.getName()][r.name];){if(M.equals(A)){M=null;break}W=M;M=M.getParent()}if(M)W&&(aa=Q.splitElement(W),n.zombies.push(aa),n.zombies.push(W));else{W=A.getName();ba=!u;M=u==D.length-1;W=f(r.node,W);for(var Y=[],ca=W.length,ea=0,ia=void 0,\nja=0,fa=-1;ea<ca;ea++)ia=W[ea],\" \"==ia?(ja||ba&&!ea||(Y.push(new CKEDITOR.dom.text(\" \")),fa=Y.length),ja=1):(Y.push(ia),ja=0);M&&fa==Y.length&&Y.pop();ba=Y}}if(ba){for(;M=ba.pop();)Q.insertNode(M);ba=0}else Q.insertNode(r.node);r.lastNotAllowed&&u<D.length-1&&((aa=da?x:aa)&&Q.setEndAt(aa,CKEDITOR.POSITION_AFTER_START),v=0);Q.collapse()}}1!=D.length?U=!1:(U=D[0],U=U.isElement&&\"false\"==U.node.getAttribute(\"contenteditable\"));U&&(t=!0,M=D[0].node,Q.setStartAt(M,CKEDITOR.POSITION_BEFORE_START),Q.setEndAt(M,\nCKEDITOR.POSITION_AFTER_END));n.dontMoveCaret=t;n.bogusNeededBlocks=P}U=n.range;var ga;aa=n.bogusNeededBlocks;for(ba=U.createBookmark();T=n.zombies.pop();)T.getParent()&&(O=U.clone(),O.moveToElementEditStart(T),O.removeEmptyBlocksAtEnd());if(aa)for(;T=aa.pop();)CKEDITOR.env.needsBrFiller?T.appendBogus():T.append(U.document.createText(\" \"));for(;T=n.mergeCandidates.pop();)T.mergeSiblings();U.moveToBookmark(ba);if(!n.dontMoveCaret){for(T=d(U);T&&a(T)&&!T.is(l.$empty);){if(T.isBlockBoundary())U.moveToPosition(T,\nCKEDITOR.POSITION_BEFORE_END);else{if(e(T)&&T.getHtml().match(/(\\s|&nbsp;)$/g)){ga=null;break}ga=U.clone();ga.moveToPosition(T,CKEDITOR.POSITION_BEFORE_END)}T=T.getLast(c)}ga&&U.moveToRange(ga)}}}}();q=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return b}function b(a,c,f){c=a.getDocument().createElement(c);a.append(c,\nf);return c}function c(a){var b=a.count(),f;for(b;0<b--;)f=a.getItem(b),CKEDITOR.tools.trim(f.getHtml())||(f.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&f.getChildCount()&&f.getFirst().remove())}return function(f){var d=f.startContainer,g=d.getAscendant(\"table\",1),e=!1;c(g.getElementsByTag(\"td\"));c(g.getElementsByTag(\"th\"));g=f.clone();g.setStart(d,0);g=a(g).lastBackward();g||(g=f.clone(),g.setEndAt(d,CKEDITOR.POSITION_BEFORE_END),g=a(g).lastForward(),e=!0);g||(g=d);g.is(\"table\")?(f.setStartAt(g,\nCKEDITOR.POSITION_BEFORE_START),f.collapse(!0),g.remove()):(g.is({tbody:1,thead:1,tfoot:1})&&(g=b(g,\"tr\",e)),g.is(\"tr\")&&(g=b(g,g.getParent().is(\"thead\")?\"th\":\"td\",e)),(d=g.getBogus())&&d.remove(),f.moveToPosition(g,e?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();t=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$list)||a.is(CKEDITOR.dtd.$listItem)};b.evaluator=function(a){return a.type==\nCKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$listItem)};return b}return function(b){var c=b.startContainer,f=!1,d;d=b.clone();d.setStart(c,0);d=a(d).lastBackward();d||(d=b.clone(),d.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),d=a(d).lastForward(),f=!0);d||(d=c);d.is(CKEDITOR.dtd.$list)?(b.setStartAt(d,CKEDITOR.POSITION_BEFORE_START),b.collapse(!0),d.remove()):((c=d.getBogus())&&c.remove(),b.moveToPosition(d,f?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),b.select())}}();u={eol:{detect:function(a,\nb){var c=a.range,f=c.clone(),d=c.clone(),g=new CKEDITOR.dom.elementPath(c.startContainer,b),e=new CKEDITOR.dom.elementPath(c.endContainer,b);f.collapse(1);d.collapse();g.block&&f.checkBoundaryOfElement(g.block,CKEDITOR.END)&&(c.setStartAfter(g.block),a.prependEolBr=1);e.block&&d.checkBoundaryOfElement(e.block,CKEDITOR.START)&&(c.setEndBefore(e.block),a.appendEolBr=1)},fix:function(a,b){var c=b.getDocument(),f;a.appendEolBr&&(f=this.createEolBr(c),a.fragment.append(f));!a.prependEolBr||f&&!f.getPrevious()||\na.fragment.append(this.createEolBr(c),1)},createEolBr:function(a){return a.createElement(\"br\",{attributes:{\"data-cke-eol\":1}})}},bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode,b=b.endNode;!b||!r(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var c=a.range,f=c.getCommonAncestor(),d=new CKEDITOR.dom.elementPath(f,b),g=new CKEDITOR.dom.elementPath(c.startContainer,b),c=new CKEDITOR.dom.elementPath(c.endContainer,b),e;f.type==CKEDITOR.NODE_TEXT&&(f=\nf.getParent());if(d.blockLimit.is({tr:1,table:1})){var h=d.contains(\"table\").getParent();e=function(a){return!a.equals(h)}}else if(d.block&&d.block.is(CKEDITOR.dtd.$listItem)&&(g=g.contains(CKEDITOR.dtd.$list),c=c.contains(CKEDITOR.dtd.$list),!g.equals(c))){var m=d.contains(CKEDITOR.dtd.$list).getParent();e=function(a){return!a.equals(m)}}e||(e=function(a){return!a.equals(d.block)&&!a.equals(d.blockLimit)});this.rebuildFragment(a,b,f,e)},rebuildFragment:function(a,b,c,f){for(var d;c&&!c.equals(b)&&\nf(c);)d=c.clone(0,1),a.fragment.appendTo(d),a.fragment=d,c=c.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,c=a.endContainer,f=a.startOffset,d=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(c)&&b.is(\"tr\")&&++f==d&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};A=function(){function a(b,c){var f=b.getParent();if(f.is(CKEDITOR.dtd.$inline))b[c?\"insertBefore\":\"insertAfter\"](f)}function b(c,f,d){a(f);a(d,1);for(var g;g=d.getNext();)g.insertAfter(f),f=g;p(c)&&c.remove()}function c(a,b){var f=\nnew CKEDITOR.dom.range(a);f.setStartAfter(b.startNode);f.setEndBefore(b.endNode);return f}return{list:{detectMerge:function(a,b){var f=c(b,a.bookmark),d=f.startPath(),g=f.endPath(),e=d.contains(CKEDITOR.dtd.$list),h=g.contains(CKEDITOR.dtd.$list);a.mergeList=e&&h&&e.getParent().equals(h.getParent())&&!e.equals(h);a.mergeListItems=d.block&&g.block&&d.block.is(CKEDITOR.dtd.$listItem)&&g.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)f=f.clone(),f.setStartBefore(a.bookmark.startNode),\nf.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=f.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var f=a.mergeListBookmark.startNode,d=a.mergeListBookmark.endNode,g=new CKEDITOR.dom.elementPath(f,c),e=new CKEDITOR.dom.elementPath(d,c);if(a.mergeList){var h=g.contains(CKEDITOR.dtd.$list),m=e.contains(CKEDITOR.dtd.$list);h.equals(m)||(m.moveChildren(h),m.remove())}a.mergeListItems&&(g=g.contains(CKEDITOR.dtd.$listItem),e=e.contains(CKEDITOR.dtd.$listItem),g.equals(e)||b(e,f,d));\nf.remove();d.remove()}}},block:{detectMerge:function(a,b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var c=new CKEDITOR.dom.range(b);c.setStartBefore(a.bookmark.startNode);c.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=c.createBookmark()}},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var f=a.mergeBlockBookmark.startNode,d=a.mergeBlockBookmark.endNode,g=new CKEDITOR.dom.elementPath(f,c),e=new CKEDITOR.dom.elementPath(d,c),g=g.block,e=e.block;g&&e&&!g.equals(e)&&\nb(e,f,d);f.remove();d.remove()}}},table:function(){function a(c){var d=[],g,e=new CKEDITOR.dom.walker(c),h=c.startPath().contains(f),m=c.endPath().contains(f),k={};e.guard=function(a,e){if(a.type==CKEDITOR.NODE_ELEMENT){var n=\"visited_\"+(e?\"out\":\"in\");if(a.getCustomData(n))return;CKEDITOR.dom.element.setMarker(k,a,n,1)}if(e&&h&&a.equals(h))g=c.clone(),g.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),d.push(g);else if(!e&&m&&a.equals(m))g=c.clone(),g.setStartAt(m,CKEDITOR.POSITION_AFTER_START),d.push(g);\nelse{if(n=!e)n=a.type==CKEDITOR.NODE_ELEMENT&&a.is(f)&&(!h||b(a,h))&&(!m||b(a,m));if(!n&&(n=e))if(a.is(f))var n=h&&h.getAscendant(\"table\",!0),l=m&&m.getAscendant(\"table\",!0),p=a.getAscendant(\"table\",!0),n=n&&n.contains(p)||l&&l.contains(p);else n=void 0;n&&(g=c.clone(),g.selectNodeContents(a),d.push(g))}};e.lastForward();CKEDITOR.dom.element.clearAllMarkers(k);return d}function b(a,c){var f=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,d=a.getPosition(c);return d===CKEDITOR.POSITION_IDENTICAL?\n!1:0===(d&f)}var f={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),d=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(f)&&++d};c.checkForward();if(1<d){var c=b.startPath().contains(\"table\"),g=b.endPath().contains(\"table\");c&&g&&b.checkBoundaryOfElement(c,CKEDITOR.START)&&b.checkBoundaryOfElement(g,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(g),a.purgeTableBookmark=\nb.createBookmark())}},detectRanges:function(d,g){var e=c(g,d.bookmark),h=e.clone(),m,k,n=e.getCommonAncestor();n.is(CKEDITOR.dtd.$tableContent)&&!n.is(f)&&(n=n.getAscendant(\"table\",!0));k=n;n=new CKEDITOR.dom.elementPath(e.startContainer,k);k=new CKEDITOR.dom.elementPath(e.endContainer,k);n=n.contains(\"table\");k=k.contains(\"table\");if(n||k)n&&k&&b(n,k)?(d.tableSurroundingRange=h,h.setStartAt(n,CKEDITOR.POSITION_AFTER_END),h.setEndAt(k,CKEDITOR.POSITION_BEFORE_START),h=e.clone(),h.setEndAt(n,CKEDITOR.POSITION_AFTER_END),\nm=e.clone(),m.setStartAt(k,CKEDITOR.POSITION_BEFORE_START),m=a(h).concat(a(m))):n?k||(d.tableSurroundingRange=h,h.setStartAt(n,CKEDITOR.POSITION_AFTER_END),e.setEndAt(n,CKEDITOR.POSITION_AFTER_END)):(d.tableSurroundingRange=h,h.setEndAt(k,CKEDITOR.POSITION_BEFORE_START),e.setStartAt(k,CKEDITOR.POSITION_AFTER_START)),d.tableContentsRanges=m?m:a(e)},deleteRanges:function(a){for(var b;b=a.tableContentsRanges.pop();)b.extractContents(),p(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&\na.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,c=a.range.clone(),b=b.createElement(\"p\");b.insertBefore(a.purgeTableBookmark.startNode);c.moveToBookmark(a.purgeTableBookmark);c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&a.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(a){a.startContainer.getDtd()[\"#\"]||\na.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=b.startPath(),f;k(a,c.block,c.blockLimit)&&(f=g(a))&&(f=b.document.createElement(f),f.appendBogus(),b.insertNode(f),b.moveToPosition(f,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function a(a){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(a)}function e(b,c){if(0===b.length||a(b[0].getEnclosedNode()))return!1;var f,d;if((f=!c&&1===b.length)&&!(f=b[0].collapsed)){var g=b[0];f=g.startContainer.getAscendant({td:1,\nth:1},!0);var e=g.endContainer.getAscendant({td:1,th:1},!0);d=CKEDITOR.tools.trim;f&&f.equals(e)&&!f.findOne(\"td, th, tr, tbody, table\")?(g=g.cloneContents(),f=g.getFirst()?d(g.getFirst().getText())!==d(f.getText()):!0):f=!1}if(f)return!1;for(d=0;d<b.length;d++)if(f=b[d]._getTableElement(),!f)return!1;return!0}function b(a){function b(a){a=a.find(\"td, th\");var c=[],f;for(f=0;f<a.count();f++)c.push(a.getItem(f));return c}var c=[],f,d;for(d=0;d<a.length;d++)f=a[d]._getTableElement(),f.is&&f.is({td:1,\nth:1})?c.push(f):c=c.concat(b(f));return c}function c(a){a=b(a);var c=\"\",f=[],d,g;for(g=0;g<a.length;g++)d&&!d.equals(a[g].getAscendant(\"tr\"))?(c+=f.join(\"\\t\")+\"\\n\",d=a[g].getAscendant(\"tr\"),f=[]):0===g&&(d=a[g].getAscendant(\"tr\")),f.push(a[g].getText());return c+=f.join(\"\\t\")}function d(a){var b=this.root.editor,f=b.getSelection(1);this.reset();z=!0;f.root.once(\"selectionchange\",function(a){a.cancel()},null,null,0);f.selectRanges([a[0]]);f=this._.cache;f.ranges=new CKEDITOR.dom.rangeList(a);f.type=\nCKEDITOR.SELECTION_TEXT;f.selectedElement=a[0]._getTableElement();f.selectedText=c(a);f.nativeSel=null;this.isFake=1;this.rev=t++;b._.fakeSelection=this;z=!1;this.root.fire(\"selectionchange\")}function l(){var b=this._.fakeSelection,c;if(b){c=this.getSelection(1);var f;if(!(f=!c)&&(f=!c.isHidden())){f=b;var d=c.getRanges(),g=f.getRanges(),h=d.length&&d[0]._getTableElement()&&d[0]._getTableElement().getAscendant(\"table\",!0),m=g.length&&g[0]._getTableElement()&&g[0]._getTableElement().getAscendant(\"table\",\n!0),k=1===d.length&&d[0]._getTableElement()&&d[0]._getTableElement().is(\"table\"),n=1===g.length&&g[0]._getTableElement()&&g[0]._getTableElement().is(\"table\");if(a(f.getSelectedElement()))f=!1;else{var l=1===d.length&&d[0].collapsed,g=e(d,!!CKEDITOR.env.webkit)&&e(g);h=h&&m?h.equals(m)||m.contains(h):!1;h&&(l||g)?(k&&!n&&f.selectRanges(d),f=!0):f=!1}f=!f}f&&(b.reset(),b=0)}if(!b&&(b=c||this.getSelection(1),!b||b.getType()==CKEDITOR.SELECTION_NONE))return;this.fire(\"selectionCheck\",b);c=this.elementPath();\nc.compare(this._.selectionPreviousPath)||(f=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(c.blockLimit),CKEDITOR.env.webkit&&!f&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=c,this.fire(\"selectionChange\",{selection:b,path:c}))}function k(){C=!0;w||(g.call(this),w=CKEDITOR.tools.setTimeout(g,200,this))}function g(){w=null;C&&(CKEDITOR.tools.setTimeout(l,0,this),C=!1)}function h(a){return y(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?\n!0:!1}function m(a){function b(c,f){return c&&c.type!=CKEDITOR.NODE_TEXT?a.clone()[\"moveToElementEdit\"+(f?\"End\":\"Start\")](c):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var c=a.startContainer,f=a.getPreviousNode(h,null,c),d=a.getNextNode(h,null,c);return b(f)||b(d,1)||!(f||d||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()&&c.getBogus())?!0:!1}function f(a){n(a,!1);var b=a.getDocument().createText(u);a.setCustomData(\"cke-fillingChar\",b);return b}function n(a,b){var c=a&&a.removeCustomData(\"cke-fillingChar\");\nif(c){if(!1!==b){var f=a.getDocument().getSelection().getNative(),d=f&&\"None\"!=f.type&&f.getRangeAt(0),g=u.length;if(c.getLength()>g&&d&&d.intersectsNode(c.$)){var e=[{node:f.anchorNode,offset:f.anchorOffset},{node:f.focusNode,offset:f.focusOffset}];f.anchorNode==c.$&&f.anchorOffset>g&&(e[0].offset-=g);f.focusNode==c.$&&f.focusOffset>g&&(e[1].offset-=g)}}c.setText(p(c.getText(),1));e&&(c=a.getDocument().$,f=c.getSelection(),c=c.createRange(),c.setStart(e[0].node,e[0].offset),c.collapse(!0),f.removeAllRanges(),\nf.addRange(c),f.extend(e[1].node,e[1].offset))}}function p(a,b){return b?a.replace(A,function(a,b){return b?\" \":\"\"}):a.replace(u,\"\")}function r(a,b){var c=b&&CKEDITOR.tools.htmlEncode(b)||\"\\x26nbsp;\",c=CKEDITOR.dom.element.createFromHtml('\\x3cdiv data-cke-hidden-sel\\x3d\"1\" data-cke-temp\\x3d\"1\" style\\x3d\"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?\"display:none\":\"position:fixed;top:0;left:-1000px\")+'\"\\x3e'+c+\"\\x3c/div\\x3e\",a.document);a.fire(\"lockSnapshot\");a.editable().append(c);var f=a.getSelection(1),\nd=a.createRange(),g=f.root.on(\"selectionchange\",function(a){a.cancel()},null,null,0);d.setStartAt(c,CKEDITOR.POSITION_AFTER_START);d.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);f.selectRanges([d]);g.removeListener();a.fire(\"unlockSnapshot\");a._.hiddenSelectionContainer=c}function v(a){var b={37:1,39:1,8:1,46:1};return function(c){var f=c.data.getKeystroke();if(b[f]){var d=a.getSelection().getRanges(),g=d[0];1==d.length&&g.collapsed&&(f=g[38>f?\"getPreviousEditableNode\":\"getNextEditableNode\"]())&&f.type==\nCKEDITOR.NODE_ELEMENT&&\"false\"==f.getAttribute(\"contenteditable\")&&(a.getSelection().fake(f),c.data.preventDefault(),c.cancel())}}}function x(a){for(var b=0;b<a.length;b++){var c=a[b];c.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var f=c.startContainer,d;f&&!((d=f.type==CKEDITOR.NODE_ELEMENT)&&f.is(\"body\")||!f.isReadOnly());)d&&\"false\"==f.getAttribute(\"contentEditable\")&&c.setStartAfter(f),f=f.getParent();f=c.startContainer;d=c.endContainer;\nvar g=c.startOffset,e=c.endOffset,h=c.clone();f&&f.type==CKEDITOR.NODE_TEXT&&(g>=f.getLength()?h.setStartAfter(f):h.setStartBefore(f));d&&d.type==CKEDITOR.NODE_TEXT&&(e?h.setEndAfter(d):h.setEndBefore(d));f=new CKEDITOR.dom.walker(h);f.evaluator=function(f){if(f.type==CKEDITOR.NODE_ELEMENT&&f.isReadOnly()){var d=c.clone();c.setEndBefore(f);c.collapsed&&a.splice(b--,1);f.getPosition(h.endContainer)&CKEDITOR.POSITION_CONTAINS||(d.setStartAfter(f),d.collapsed||a.splice(b+1,0,d));return!0}return!1};f.next()}}return a}\nvar q=\"function\"!=typeof window.getSelection,t=1,u=CKEDITOR.tools.repeat(\"​\",7),A=new RegExp(u+\"( )?\",\"g\"),z,w,C,y=CKEDITOR.dom.walker.invisible(1),B=function(){function a(b){return function(a){var c=a.editor.createRange();c.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([c]);return!1}}function b(a){return function(b){var c=b.editor,f=c.createRange(),d;if(!c.readOnly)return(d=f.moveToClosestEditablePosition(b.selected,a))||(d=f.moveToClosestEditablePosition(b.selected,\n!a)),d&&c.getSelection().selectRanges([f]),c.fire(\"saveSnapshot\"),b.selected.remove(),d||(f.moveToElementEditablePosition(c.editable()),c.getSelection().selectRanges([f])),c.fire(\"saveSnapshot\"),!1}}var c=a(),f=a(1);return{37:c,38:c,39:f,40:f,8:b(),46:b(1)}}();CKEDITOR.on(\"instanceCreated\",function(a){function b(){var a=c.getSelection();a&&a.removeAllRanges()}var c=a.editor;c.on(\"contentDom\",function(){function a(){t=new CKEDITOR.dom.selection(c.getSelection());t.lock()}function b(){g.removeListener(\"mouseup\",\nb);m.removeListener(\"mouseup\",b);var a=CKEDITOR.document.$.selection,c=a.createRange();\"None\"!=a.type&&c.parentElement()&&c.parentElement().ownerDocument==d.$&&c.select()}function f(a){if(CKEDITOR.env.ie){var b=(a=a.getRanges()[0])?a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&(\"false\"==a.getAttribute(\"contenteditable\")||\"true\"==a.getAttribute(\"contenteditable\"))},!0):null;return a&&\"false\"==b.getAttribute(\"contenteditable\")&&b}}var d=c.document,g=CKEDITOR.document,\ne=c.editable(),h=d.getBody(),m=d.getDocumentElement(),p=e.isInline(),u,t;CKEDITOR.env.gecko&&e.attachListener(e,\"focus\",function(a){a.removeListener();0!==u&&(a=c.getSelection().getNative())&&a.isCollapsed&&a.anchorNode==e.$&&(a=c.createRange(),a.moveToElementEditStart(e),a.select())},null,null,-2);e.attachListener(e,CKEDITOR.env.webkit?\"DOMFocusIn\":\"focus\",function(){u&&CKEDITOR.env.webkit&&(u=c._.previousActive&&c._.previousActive.equals(d.getActive()))&&null!=c._.previousScrollTop&&c._.previousScrollTop!=\ne.$.scrollTop&&(e.$.scrollTop=c._.previousScrollTop);c.unlockSelection(u);u=0},null,null,-1);e.attachListener(e,\"mousedown\",function(){u=0});if(CKEDITOR.env.ie||p)q?e.attachListener(e,\"beforedeactivate\",a,null,null,-1):e.attachListener(c,\"selectionCheck\",a,null,null,-1),e.attachListener(e,CKEDITOR.env.webkit?\"DOMFocusOut\":\"blur\",function(){c.lockSelection(t);u=1},null,null,-1),e.attachListener(e,\"mousedown\",function(){u=0});if(CKEDITOR.env.ie&&!p){var w;e.attachListener(e,\"mousedown\",function(a){2==\na.data.$.button&&((a=c.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(w=c.window.getScrollPosition()))});e.attachListener(e,\"mouseup\",function(a){2==a.data.$.button&&w&&(c.document.$.documentElement.scrollLeft=w.x,c.document.$.documentElement.scrollTop=w.y);w=null});if(\"BackCompat\"!=d.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var r,x;m.on(\"mousedown\",function(a){function b(a){a=a.data.$;if(r){var c=h.$.createTextRange();try{c.moveToPoint(a.clientX,a.clientY)}catch(f){}r.setEndPoint(0>\nx.compareEndPoints(\"StartToStart\",c)?\"EndToEnd\":\"StartToStart\",c);r.select()}}function c(){m.removeListener(\"mousemove\",b);g.removeListener(\"mouseup\",c);m.removeListener(\"mouseup\",c);r.select()}a=a.data;if(a.getTarget().is(\"html\")&&a.$.y<m.$.clientHeight&&a.$.x<m.$.clientWidth){r=h.$.createTextRange();try{r.moveToPoint(a.$.clientX,a.$.clientY)}catch(f){}x=r.duplicate();m.on(\"mousemove\",b);g.on(\"mouseup\",c);m.on(\"mouseup\",c)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)m.on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&\n(g.on(\"mouseup\",b),m.on(\"mouseup\",b))})}}e.attachListener(e,\"selectionchange\",l,c);e.attachListener(e,\"keyup\",k,c);e.attachListener(e,\"keydown\",function(a){var b=this.getSelection(1);f(b)&&(b.selectElement(f(b)),a.data.preventDefault())},c);e.attachListener(e,CKEDITOR.env.webkit?\"DOMFocusIn\":\"focus\",function(){c.forceNextSelectionCheck();c.selectionChange(1)});if(p&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var A;e.attachListener(e,\"mousedown\",function(){A=1});e.attachListener(d.getDocumentElement(),\n\"mouseup\",function(){A&&k.call(c);A=0})}else e.attachListener(CKEDITOR.env.ie?e:d.getDocumentElement(),\"mouseup\",k,c);CKEDITOR.env.webkit&&e.attachListener(d,\"keydown\",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:e.hasFocus&&n(e)}},null,null,-1);e.attachListener(e,\"keydown\",v(c),null,null,-1)});c.on(\"setData\",function(){c.unlockSelection();CKEDITOR.env.webkit&&b()});c.on(\"contentDomUnload\",function(){c.unlockSelection()});if(CKEDITOR.env.ie9Compat)c.on(\"beforeDestroy\",\nb,null,null,9);c.on(\"dataReady\",function(){delete c._.fakeSelection;delete c._.hiddenSelectionContainer;c.selectionChange(1)});c.on(\"loadSnapshot\",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=c.editable().getLast(a);b&&b.hasAttribute(\"data-cke-hidden-sel\")&&(b.remove(),CKEDITOR.env.gecko&&(a=c.editable().getFirst(a))&&a.is(\"br\")&&a.getAttribute(\"_moz_editor_bogus_node\")&&a.remove())},null,null,100);c.on(\"key\",function(a){if(\"wysiwyg\"==c.mode){var b=c.getSelection();if(b.isFake){var f=\nB[a.data.keyCode];if(f)return f({editor:c,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on(\"instanceReady\",function(a){var b=a.editor;b.on(\"selectionChange\",function(){var a=b.editable(),c=a.getCustomData(\"cke-fillingChar\");c&&(c.getCustomData(\"ready\")?(n(a),a.editor.fire(\"selectionCheck\")):c.setCustomData(\"ready\",1))},null,null,-1);b.on(\"beforeSetMode\",function(){n(b.editable())},null,null,-1);b.on(\"getSnapshot\",function(a){a.data&&(a.data=p(a.data))},\nb,null,20);b.on(\"toDataFormat\",function(a){a.data.dataValue=p(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(a){(a?l:k).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&\"wysiwyg\"==this.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?\n(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():\nnew CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:t++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),\nthis.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var f,d;if(a)if(a.getRangeAt)f=(d=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(d.commonAncestorContainer);else{try{d=a.createRange()}catch(g){}f=d&&CKEDITOR.dom.element.get(d.item&&d.item(0)||d.parentElement())}if(!f||f.type!=CKEDITOR.NODE_ELEMENT&&f.type!=CKEDITOR.NODE_TEXT||!this.root.equals(f)&&!this.root.contains(f))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=\nnull,this._.cache.selectedText=\"\",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var G={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:p,_createFillingCharSequenceNode:f,FILLING_CHAR_SEQUENCE:u});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=\nq?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:q?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),f=c.type;\"Text\"==f&&(b=CKEDITOR.SELECTION_TEXT);\"Control\"==f&&(b=CKEDITOR.SELECTION_ELEMENT);c.createRange().parentElement()&&(b=CKEDITOR.SELECTION_TEXT)}catch(d){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;\nelse if(1==c.rangeCount){var c=c.getRangeAt(0),f=c.startContainer;f==c.endContainer&&1==f.nodeType&&1==c.endOffset-c.startOffset&&G[f.childNodes[c.startOffset].nodeName.toLowerCase()]&&(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=q?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,c){b=b.duplicate();b.collapse(c);var f=b.parentElement();if(!f.hasChildNodes())return{container:f,offset:0};for(var d=f.children,g,e,h=b.duplicate(),m=0,\nk=d.length-1,n=-1,l,p;m<=k;)if(n=Math.floor((m+k)/2),g=d[n],h.moveToElementText(g),l=h.compareEndPoints(\"StartToStart\",b),0<l)k=n-1;else if(0>l)m=n+1;else return{container:f,offset:a(g)};if(-1==n||n==d.length-1&&0>l){h.moveToElementText(f);h.setEndPoint(\"StartToStart\",b);h=h.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;d=f.childNodes;if(!h)return g=d[d.length-1],g.nodeType!=CKEDITOR.NODE_TEXT?{container:f,offset:d.length}:{container:g,offset:g.nodeValue.length};for(f=d.length;0<h&&0<f;)e=d[--f],e.nodeType==\nCKEDITOR.NODE_TEXT&&(p=e,h-=e.nodeValue.length);return{container:p,offset:-h}}h.collapse(0<l?!0:!1);h.setEndPoint(0<l?\"StartToStart\":\"EndToStart\",b);h=h.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;if(!h)return{container:f,offset:a(g)+(0<l?0:1)};for(;0<h;)try{e=g[0<l?\"previousSibling\":\"nextSibling\"],e.nodeType==CKEDITOR.NODE_TEXT&&(h-=e.nodeValue.length,p=e),g=e}catch(q){return{container:f,offset:a(g)}}return{container:p,offset:0<l?-h:p.nodeValue.length+h}};return function(){var a=this.getNative(),c=a&&\na.createRange(),f=this.getType();if(!a)return[];if(f==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),f=b(c,!0),a.setStart(new CKEDITOR.dom.node(f.container),f.offset),f=b(c),a.setEnd(new CKEDITOR.dom.node(f.container),f.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(f==CKEDITOR.SELECTION_ELEMENT){for(var f=[],d=0;d<c.length;d++){for(var g=c.item(d),e=g.parentNode,h=0,a=new CKEDITOR.dom.range(this.root);h<\ne.childNodes.length&&e.childNodes[h]!=g;h++);a.setStart(new CKEDITOR.dom.node(e),h);a.setEnd(new CKEDITOR.dom.node(e),h+1);f.push(a)}return f}return[]}}():function(){var a=[],b,c=this.getNative();if(!c)return a;for(var f=0;f<c.rangeCount;f++){var d=c.getRangeAt(f);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(d.startContainer),d.startOffset);b.setEnd(new CKEDITOR.dom.node(d.endContainer),d.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,f=c.ranges;f||(c.ranges=\nf=new CKEDITOR.dom.rangeList(a.call(this)));return b?x(new CKEDITOR.dom.rangeList(f.slice())):f}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];if(c){if(c.collapsed)b=c.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(c.optimize();b=c.startContainer,c.startOffset==(b.getChildCount?\nb.getChildCount():b.getLength())&&!b.isBlockBoundary();)c.setStartAfter(b);b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(c.startOffset))&&b.type==CKEDITOR.NODE_ELEMENT)for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;)b=c,c=c.getFirst();else b=c.startContainer}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},\nfunction(){for(var a=b.getRanges()[0].clone(),c,f,d=2;d&&!((c=a.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&G[c.getName()]&&(f=c));d--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return f&&f.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=q?\"Control\"==b.type?\"\":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();\nthis.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=this.getSelectedElement(),c=this.getRanges(),f=this.isFake;this.isLocked=0;this.reset();a&&(a=b||c[0]&&c[0].getCommonAncestor())&&a.getAscendant(\"body\",1)&&(e(c)?d.call(this,c):f?this.fake(b):b?this.selectElement(b):this.selectRanges(c))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;\nvar b=a._.hiddenSelectionContainer;if(b){var c=a.checkDirty();a.fire(\"lockSnapshot\");b.remove();a.fire(\"unlockSnapshot\");!c&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn(\"selection-fake-reset\");this.rev=t++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(a){var b=this.root.editor,c=b&&b._.hiddenSelectionContainer;this.reset();if(c)for(var c=this.root,g,h=0;h<a.length;++h)g=\na[h],g.endContainer.equals(c)&&(g.endOffset=Math.min(g.endOffset,c.getChildCount()));if(a.length)if(this.isLocked){var k=CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();k&&!k.equals(this.root)&&k.focus()}else{var l;a:{var p,u;if(1==a.length&&!(u=a[0]).collapsed&&(l=u.getEnclosedNode())&&l.type==CKEDITOR.NODE_ELEMENT&&(u=u.clone(),u.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(p=u.getEnclosedNode())&&p.type==CKEDITOR.NODE_ELEMENT&&(l=p),\"false\"==l.getAttribute(\"contenteditable\")))break a;\nl=void 0}if(l)this.fake(l);else if(b&&b.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&e(a)&&!z)d.call(this,a);else{if(q){p=CKEDITOR.dom.walker.whitespaces(!0);l=/\\ufeff|\\u00a0/;u={table:1,tbody:1,tr:1};1<a.length&&(b=a[a.length-1],a[0].setEnd(b.endContainer,b.endOffset));b=a[0];a=b.collapsed;var t,v,w;if((c=b.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in G&&(!c.is(\"a\")||!c.getText()))try{w=c.$.createControlRange();w.addElement(c.$);w.select();return}catch(r){}if(b.startContainer.type==\nCKEDITOR.NODE_ELEMENT&&b.startContainer.getName()in u||b.endContainer.type==CKEDITOR.NODE_ELEMENT&&b.endContainer.getName()in u)b.shrink(CKEDITOR.NODE_ELEMENT,!0),a=b.collapsed;w=b.createBookmark();u=w.startNode;a||(k=w.endNode);w=b.document.$.body.createTextRange();w.moveToElementText(u.$);w.moveStart(\"character\",1);k?(l=b.document.$.body.createTextRange(),l.moveToElementText(k.$),w.setEndPoint(\"EndToEnd\",l),w.moveEnd(\"character\",-1)):(t=u.getNext(p),v=u.hasAscendant(\"pre\"),t=!(t&&t.getText&&t.getText().match(l))&&\n(v||!u.hasPrevious()||u.getPrevious().is&&u.getPrevious().is(\"br\")),v=b.document.createElement(\"span\"),v.setHtml(\"\\x26#65279;\"),v.insertBefore(u),t&&b.document.createText(\"﻿\").insertBefore(u));b.setStartBefore(u);u.remove();a?(t?(w.moveStart(\"character\",-1),w.select(),b.document.$.selection.clear()):w.select(),b.moveToPosition(v,CKEDITOR.POSITION_BEFORE_START),v.remove()):(b.setEndBefore(k),k.remove(),w.select())}else{k=this.getNative();if(!k)return;this.removeAllRanges();for(w=0;w<a.length;w++){if(w<\na.length-1&&(t=a[w],v=a[w+1],l=t.clone(),l.setStart(t.endContainer,t.endOffset),l.setEnd(v.startContainer,v.startOffset),!l.collapsed&&(l.shrink(CKEDITOR.NODE_ELEMENT,!0),b=l.getCommonAncestor(),l=l.getEnclosedNode(),b.isReadOnly()||l&&l.isReadOnly()))){v.setStart(t.startContainer,t.startOffset);a.splice(w--,1);continue}b=a[w];v=this.document.$.createRange();b.collapsed&&CKEDITOR.env.webkit&&m(b)&&(l=f(this.root),b.insertNode(l),(t=l.getNext())&&!l.getPrevious()&&t.type==CKEDITOR.NODE_ELEMENT&&\"br\"==\nt.getName()?(n(this.root),b.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START)):b.moveToPosition(l,CKEDITOR.POSITION_AFTER_END));v.setStart(b.startContainer.$,b.startOffset);try{v.setEnd(b.endContainer.$,b.endOffset)}catch(x){if(0<=x.toString().indexOf(\"NS_ERROR_ILLEGAL_VALUE\"))b.collapse(1),v.setEnd(b.endContainer.$,b.endOffset);else throw x;}k.addRange(v)}}this.reset();this.root.fire(\"selectionchange\")}}},fake:function(a,b){var c=this.root.editor;void 0===b&&a.hasAttribute(\"aria-label\")&&(b=a.getAttribute(\"aria-label\"));\nthis.reset();r(c,b);var f=this._.cache,d=new CKEDITOR.dom.range(this.root);d.setStartBefore(a);d.setEndAfter(a);f.ranges=new CKEDITOR.dom.rangeList(d);f.selectedElement=f.startElement=a;f.type=CKEDITOR.SELECTION_ELEMENT;f.selectedText=f.nativeSel=null;this.isFake=1;this.rev=t++;c._.fakeSelection=this;this.root.fire(\"selectionchange\")},isHidden:function(){var a=this.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data(\"cke-hidden-sel\"))},isInTable:function(a){return e(this.getRanges(),\na)},isCollapsed:function(){var a=this.getRanges();return 1===a.length&&a[0].collapsed},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){for(var b=[],c,f=0;f<a.length;f++){var d=new CKEDITOR.dom.range(this.root);d.moveToBookmark(a[f]);b.push(d)}a.isFake&&(c=e(b)?b[0]._getTableElement():b[0].getEnclosedNode(),c&&c.type==\nCKEDITOR.NODE_ELEMENT||(CKEDITOR.warn(\"selection-not-fake\"),a.isFake=0));a.isFake&&!e(b)?this.fake(c):this.selectRanges(b);return this},getCommonAncestor:function(){var a=this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[q?\"empty\":\"removeAllRanges\"]()}catch(b){}this.reset()}}}}(),\n\"use strict\",CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function a(a,b){for(var c,f;(a=a.getParent())&&!a.equals(b);)if(a.getAttribute(\"data-nostyle\"))c=a;else if(!f){var d=a.getAttribute(\"contentEditable\");\"false\"==d?c=a:\"true\"==d&&(f=1)}return c}function e(a,b,c,f){return(a.getPosition(b)|f)==f&&(!c.childRule||c.childRule(a))}function b(c){var f=c.document;if(c.collapsed)f=t(this,f),c.insertNode(f),c.moveToPosition(f,CKEDITOR.POSITION_BEFORE_END);else{var g=\nthis.element,h=this._.definition,m,k=h.ignoreReadonly,n=k||h.includeReadonly;null==n&&(n=c.root.getCustomData(\"cke_includeReadonly\"));var l=CKEDITOR.dtd[g];l||(m=!0,l=CKEDITOR.dtd.span);c.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.trim();var p=c.createBookmark(),q=p.startNode,u=p.endNode,w=q,r;if(!k){var x=c.getCommonAncestor(),k=a(q,x),x=a(u,x);k&&(w=k.getNextSourceNode(!0));x&&(u=x)}for(w.getPosition(u)==CKEDITOR.POSITION_FOLLOWING&&(w=0);w;){k=!1;if(w.equals(u))w=null,k=!0;else{var A=w.type==CKEDITOR.NODE_ELEMENT?\nw.getName():null,x=A&&\"false\"==w.getAttribute(\"contentEditable\"),z=A&&w.getAttribute(\"data-nostyle\");if(A&&w.data(\"cke-bookmark\")){w=w.getNextSourceNode(!0);continue}if(x&&n&&CKEDITOR.dtd.$block[A])for(var y=w,B=d(y),C=void 0,G=B.length,ea=0,y=G&&new CKEDITOR.dom.range(y.getDocument());ea<G;++ea){var C=B[ea],E=CKEDITOR.filter.instances[C.data(\"cke-filter\")];if(E?E.check(this):1)y.selectNodeContents(C),b.call(this,y)}B=A?!l[A]||z?0:x&&!n?0:e(w,u,h,K):1;if(B)if(C=w.getParent(),B=h,G=g,ea=m,!C||!(C.getDtd()||\nCKEDITOR.dtd.span)[G]&&!ea||B.parentRule&&!B.parentRule(C))k=!0;else{if(r||A&&CKEDITOR.dtd.$removeEmpty[A]&&(w.getPosition(u)|K)!=K||(r=c.clone(),r.setStartBefore(w)),A=w.type,A==CKEDITOR.NODE_TEXT||x||A==CKEDITOR.NODE_ELEMENT&&!w.getChildCount()){for(var A=w,F;(k=!A.getNext(I))&&(F=A.getParent(),l[F.getName()])&&e(F,q,h,J);)A=F;r.setEndAfter(A)}}else k=!0;w=w.getNextSourceNode(z||x)}if(k&&r&&!r.collapsed){for(var k=t(this,f),x=k.hasAttributes(),z=r.getCommonAncestor(),A={},B={},C={},G={},fa,H,ha;k&&\nz;){if(z.getName()==g){for(fa in h.attributes)!G[fa]&&(ha=z.getAttribute(H))&&(k.getAttribute(fa)==ha?B[fa]=1:G[fa]=1);for(H in h.styles)!C[H]&&(ha=z.getStyle(H))&&(k.getStyle(H)==ha?A[H]=1:C[H]=1)}z=z.getParent()}for(fa in B)k.removeAttribute(fa);for(H in A)k.removeStyle(H);x&&!k.hasAttributes()&&(k=null);k?(r.extractContents().appendTo(k),r.insertNode(k),v.call(this,k),k.mergeSiblings(),CKEDITOR.env.ie||k.$.normalize()):(k=new CKEDITOR.dom.element(\"span\"),r.extractContents().appendTo(k),r.insertNode(k),\nv.call(this,k),k.remove(!0));r=null}}c.moveToBookmark(p);c.shrink(CKEDITOR.SHRINK_TEXT);c.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function c(a){function b(){for(var a=new CKEDITOR.dom.elementPath(f.getParent()),c=new CKEDITOR.dom.elementPath(n.getParent()),d=null,g=null,e=0;e<a.elements.length;e++){var h=a.elements[e];if(h==a.block||h==a.blockLimit)break;l.checkElementRemovable(h,!0)&&(d=h)}for(e=0;e<c.elements.length;e++){h=c.elements[e];if(h==c.block||h==c.blockLimit)break;l.checkElementRemovable(h,!0)&&\n(g=h)}g&&n.breakParent(g);d&&f.breakParent(d)}a.enlarge(CKEDITOR.ENLARGE_INLINE,1);var c=a.createBookmark(),f=c.startNode,d=this._.definition.alwaysRemoveElement;if(a.collapsed){for(var g=new CKEDITOR.dom.elementPath(f.getParent(),a.root),e,h=0,m;h<g.elements.length&&(m=g.elements[h])&&m!=g.block&&m!=g.blockLimit;h++)if(this.checkElementRemovable(m)){var k;!d&&a.collapsed&&(a.checkBoundaryOfElement(m,CKEDITOR.END)||(k=a.checkBoundaryOfElement(m,CKEDITOR.START)))?(e=m,e.match=k?\"start\":\"end\"):(m.mergeSiblings(),\nm.is(this.element)?r.call(this,m):x(m,z(this)[m.getName()]))}if(e){d=f;for(h=0;;h++){m=g.elements[h];if(m.equals(e))break;else if(m.match)continue;else m=m.clone();m.append(d);d=m}d[\"start\"==e.match?\"insertBefore\":\"insertAfter\"](e)}}else{var n=c.endNode,l=this;b();for(g=f;!g.equals(n);)e=g.getNextSourceNode(),g.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(g)&&(g.getName()==this.element?r.call(this,g):x(g,z(this)[g.getName()]),e.type==CKEDITOR.NODE_ELEMENT&&e.contains(f)&&(b(),e=f.getNext())),\ng=e}a.moveToBookmark(c);a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function d(a){var b=[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function l(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&u(a,this)}function k(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,\nc=b.attributes;if(c)for(var f in c)a.removeAttribute(f,c[f]);if(b.styles)for(var d in b.styles)b.styles.hasOwnProperty(d)&&a.removeStyle(d)}}function g(a){var b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0;this._.enterMode&&(c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var f,d=a.document,g;f=c.getNextParagraph();)!f.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this):1)&&(g=t(this,d,f),m(f,g));a.moveToBookmark(b)}function h(a){var b=a.createBookmark(1),c=a.createIterator();\nc.enforceRealBlocks=!0;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var f,d;f=c.getNextParagraph();)this.checkElementRemovable(f)&&(f.is(\"pre\")?((d=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))&&f.copyAttributes(d),m(f,d)):r.call(this,f));a.moveToBookmark(b)}function m(a,b){var c=!b;c&&(b=a.getDocument().createElement(\"div\"),a.copyAttributes(b));var d=b&&b.is(\"pre\"),g=a.is(\"pre\"),e=!d&&g;if(d&&!g){g=b;(e=a.getBogus())&&e.remove();\ne=a.getHtml();e=n(e,/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g,\"\");e=e.replace(/[ \\t\\r\\n]*(<br[^>]*>)[ \\t\\r\\n]*/gi,\"$1\");e=e.replace(/([ \\t\\n\\r]+|&nbsp;)/g,\" \");e=e.replace(/<br\\b[^>]*>/gi,\"\\n\");if(CKEDITOR.env.ie){var h=a.getDocument().createElement(\"div\");h.append(g);g.$.outerHTML=\"\\x3cpre\\x3e\"+e+\"\\x3c/pre\\x3e\";g.copyAttributes(h.getFirst());g=h.getFirst().remove()}else g.setHtml(e);b=g}else e?b=p(c?[a.getHtml()]:f(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,m;(m=c.getPrevious(H))&&m.type==CKEDITOR.NODE_ELEMENT&&\nm.is(\"pre\")&&(d=n(m.getHtml(),/\\n$/,\"\")+\"\\n\\n\"+n(c.getHtml(),/^\\n/,\"\"),CKEDITOR.env.ie?c.$.outerHTML=\"\\x3cpre\\x3e\"+d+\"\\x3c/pre\\x3e\":c.setHtml(d),m.remove())}else c&&q(b)}function f(a){var b=[];n(a.getOuterHtml(),/(\\S\\s*)\\n(?:\\s|(<span[^>]+data-cke-bookmark.*?\\/span>))*\\n(?!$)/gi,function(a,b,c){return b+\"\\x3c/pre\\x3e\"+c+\"\\x3cpre\\x3e\"}).replace(/<pre\\b.*?>([\\s\\S]*?)<\\/pre>/gi,function(a,c){b.push(c)});return b}function n(a,b,c){var f=\"\",d=\"\";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\\/span>)|(<span[^>]+data-cke-bookmark.*?\\/span>$)/gi,\nfunction(a,b,c){b&&(f=b);c&&(d=c);return\"\"});return f+a.replace(b,c)+d}function p(a,b){var c;1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var f=0;f<a.length;f++){var d=a[f],d=d.replace(/(\\r\\n|\\r)/g,\"\\n\"),d=n(d,/^[ \\t]*\\n/,\"\"),d=n(d,/\\n$/,\"\"),d=n(d,/^[ \\t]+|[ \\t]+$/g,function(a,b){return 1==a.length?\"\\x26nbsp;\":b?\" \"+CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1):CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1)+\" \"}),d=d.replace(/\\n/g,\"\\x3cbr\\x3e\"),d=d.replace(/[ \\t]{2,}/g,function(a){return CKEDITOR.tools.repeat(\"\\x26nbsp;\",\na.length-1)+\" \"});if(c){var g=b.clone();g.setHtml(d);c.append(g)}else b.setHtml(d)}return c||b}function r(a,b){var c=this._.definition,f=c.attributes,c=c.styles,d=z(this)[a.getName()],g=CKEDITOR.tools.isEmpty(f)&&CKEDITOR.tools.isEmpty(c),e;for(e in f)if(\"class\"!=e&&!this._.definition.fullMatch||a.getAttribute(e)==w(e,f[e]))b&&\"data-\"==e.slice(0,5)||(g=a.hasAttribute(e),a.removeAttribute(e));for(var h in c)this._.definition.fullMatch&&a.getStyle(h)!=w(h,c[h],!0)||(g=g||!!a.getStyle(h),a.removeStyle(h));\nx(a,d,B[a.getName()]);g&&(this._.definition.alwaysRemoveElement?q(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?q(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))}function v(a){for(var b=z(this),c=a.getElementsByTag(this.element),f,d=c.count();0<=--d;)f=c.getItem(d),f.isReadOnly()||r.call(this,f,!0);for(var g in b)if(g!=this.element)for(c=a.getElementsByTag(g),d=c.count()-1;0<=d;d--)f=c.getItem(d),f.isReadOnly()||x(f,b[g])}function x(a,\nb,c){if(b=b&&b.attributes)for(var f=0;f<b.length;f++){var d=b[f][0],g;if(g=a.getAttribute(d)){var e=b[f][1];(null===e||e.test&&e.test(g)||\"string\"==typeof e&&g==e)&&a.removeAttribute(d)}}c||q(a)}function q(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(H),f=a.getNext(H);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append(\"br\",1);!f||f.type!=CKEDITOR.NODE_TEXT&&f.isBlockBoundary({br:1})||a.append(\"br\");a.remove(!0)}else c=a.getFirst(),f=a.getLast(),\na.remove(!0),c&&(c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings(),f&&!c.equals(f)&&f.type==CKEDITOR.NODE_ELEMENT&&f.mergeSiblings())}function t(a,b,c){var f;f=a.element;\"*\"==f&&(f=\"span\");f=new CKEDITOR.dom.element(f,b);c&&c.copyAttributes(f);f=u(f,a);b.getCustomData(\"doc_processing_style\")&&f.hasAttribute(\"id\")?f.removeAttribute(\"id\"):b.setCustomData(\"doc_processing_style\",1);return f}function u(a,b){var c=b._.definition,f=c.attributes,c=CKEDITOR.style.getStyleText(c);if(f)for(var d in f)a.setAttribute(d,\nf[d]);c&&a.setAttribute(\"style\",c);return a}function A(a,b){for(var c in a)a[c]=a[c].replace(F,function(a,c){return b[c]})}function z(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var f=0;f<c.length;f++){var d=c[f],g,e;\"string\"==typeof d?g=d.toLowerCase():(g=d.element?d.element.toLowerCase():a.element,e=d.attributes);d=b[g]||(b[g]={});if(e){var d=d.attributes=d.attributes||[],h;for(h in e)d.push([h.toLowerCase(),\ne[h]])}}}return b}function w(a,b,c){var f=new CKEDITOR.dom.element(\"span\");f[c?\"setStyle\":\"setAttribute\"](a,b);return f[c?\"getStyle\":\"getAttribute\"](a)}function C(a,b){function c(a,b){return\"font-family\"==b.toLowerCase()?a.replace(/[\"']/g,\"\"):a}\"string\"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));\"string\"==typeof b&&(b=CKEDITOR.tools.parseCssText(b,!0));for(var f in a)if(!(f in b)||c(b[f],f)!=c(a[f],f)&&\"inherit\"!=a[f]&&\"inherit\"!=b[f])return!1;return!0}function y(a,b,c){var f=a.document,d=a.getRanges();\nb=b?this.removeFromRange:this.applyToRange;var g,e;if(a.isFake&&a.isInTable())for(g=[],e=0;e<d.length;e++)g.push(d[e].clone());for(var h=d.createIterator();e=h.getNextRange();)b.call(this,e,c);a.selectRanges(g||d);f.removeCustomData(\"doc_processing_style\")}var B={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},G={a:1,blockquote:1,\nembed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},E=/\\s*(?:;\\s*|$)/,F=/#\\((.+?)\\)/g,I=CKEDITOR.dom.walker.bookmark(0,1),H=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if(\"string\"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;c&&c.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style)),delete c.style);b&&(a=CKEDITOR.tools.clone(a),A(a.attributes,b),A(a.styles,\nb));c=this.element=a.element?\"string\"==typeof a.element?a.element.toLowerCase():a.element:\"*\";this.type=a.type||(B[c]?CKEDITOR.STYLE_BLOCK:G[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);\"object\"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return y.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);\ny.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof CKEDITOR.dom.document)return y.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);y.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?g:this.type==CKEDITOR.STYLE_OBJECT?l:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=\nthis.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?h:this.type==CKEDITOR.STYLE_OBJECT?k:null;return this.removeFromRange(a)},applyToObject:function(a){u(a,this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=a.elements,f=0,d;f<c.length;f++)if(d=c[f],this.type!=CKEDITOR.STYLE_INLINE||d!=a.block&&d!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var g=\nd.getName();if(!(\"string\"==typeof this.element?g==this.element:g in this.element))continue}if(this.checkElementRemovable(d,!0,b))return!0}}return!1},checkApplicable:function(a,b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;\nvar f=a.getName();if(\"string\"==typeof this.element?f==this.element:f in this.element){if(!b&&!a.hasAttributes())return!0;if(f=c._AC)c=f;else{var f={},d=0,g=c.attributes;if(g)for(var e in g)d++,f[e]=g[e];if(e=CKEDITOR.style.getStyleText(c))f.style||d++,f.style=e;f._length=d;c=c._AC=f}if(c._length){for(var h in c)if(\"_length\"!=h)if(f=a.getAttribute(h)||\"\",\"style\"==h?C(c[h],f):c[h]==f){if(!b)return!0}else if(b)return!1;if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,\nb,c))return!0;if(b=z(this)[a.getName()]){var f;if(!(b=b.attributes))return!0;for(c=0;c<b.length;c++)if(f=b[c][0],f=a.getAttribute(f)){var d=b[c][1];if(null===d)return!0;if(\"string\"==typeof d){if(f==d)return!0}else if(d.test(f))return!0}}return!1},buildPreview:function(a){var b=this._.definition,c=[],f=b.element;\"bdo\"==f&&(f=\"span\");var c=[\"\\x3c\",f],d=b.attributes;if(d)for(var g in d)c.push(\" \",g,'\\x3d\"',d[g],'\"');(d=CKEDITOR.style.getStyleText(b))&&c.push(' style\\x3d\"',d,'\"');c.push(\"\\x3e\",a||b.name,\n\"\\x3c/\",f,\"\\x3e\");return c.join(\"\")},getDefinition:function(){return this._.definition}};CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=a.attributes&&a.attributes.style||\"\",f=\"\";c.length&&(c=c.replace(E,\";\"));for(var d in b){var g=b[d],e=(d+\":\"+g).replace(E,\";\");\"inherit\"==g?f+=e:c+=e}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+f};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};\nthis.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},a,!0);return this.customHandlers[a.type]=b};var K=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,J=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(a,e){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,e,!0)},\nCKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager(\"\",\"stylesSet\"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(a,e,b){CKEDITOR.stylesSet.addExternal(a,e,\"\");CKEDITOR.stylesSet.load(a,b)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,\ne){var b=this._.styleStateChangeCallbacks;b||(b=this._.styleStateChangeCallbacks=[],this.on(\"selectionChange\",function(a){for(var d=0;d<b.length;d++){var e=b[d],k=e.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;e.fn.call(this,k)}}));b.push({style:a,fn:e})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);else{var e=this,b=e.config.stylesCombo_stylesSet||e.config.stylesSet;\nif(!1===b)a(null);else if(b instanceof Array)e._.stylesDefinitions=b,a(b);else{b||(b=\"default\");var b=b.split(\":\"),c=b[0];CKEDITOR.stylesSet.addExternal(c,b[1]?b.slice(1).join(\":\"):CKEDITOR.getUrl(\"styles.js\"),\"\");CKEDITOR.stylesSet.load(c,function(b){e._.stylesDefinitions=b[c];a(e._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(a,e){\"string\"==typeof a&&(a=(e?e.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,\n{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return\"\\x3c!--\"+this.$.nodeValue+\"--\\x3e\"}}),\"use strict\",function(){var a={},e={},b;for(b in CKEDITOR.dtd.$blockLimit)b in CKEDITOR.dtd.$list||(a[b]=1);for(b in CKEDITOR.dtd.$block)b in CKEDITOR.dtd.$blockLimit||b in CKEDITOR.dtd.$empty||(e[b]=1);CKEDITOR.dom.elementPath=function(b,d){var l=null,k=null,g=[],h=b,m;d=d||b.getDocument().getBody();h||(h=d);do if(h.type==CKEDITOR.NODE_ELEMENT){g.push(h);if(!this.lastElement&&(this.lastElement=h,h.is(CKEDITOR.dtd.$object)||\n\"false\"==h.getAttribute(\"contenteditable\")))continue;if(h.equals(d))break;if(!k&&(m=h.getName(),\"true\"==h.getAttribute(\"contenteditable\")?k=h:!l&&e[m]&&(l=h),a[m])){if(m=!l&&\"div\"==m){a:{m=h.getChildren();for(var f=0,n=m.count();f<n;f++){var p=m.getItem(f);if(p.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[p.getName()]){m=!0;break a}}m=!1}m=!m}m?l=h:k=h}}while(h=h.getParent());k||(k=d);this.block=l;this.blockLimit=k;this.root=d;this.elements=g}}(),CKEDITOR.dom.elementPath.prototype={compare:function(a){var e=\nthis.elements;a=a&&a.elements;if(!a||e.length!=a.length)return!1;for(var b=0;b<e.length;b++)if(!e[b].equals(a[b]))return!1;return!0},contains:function(a,e,b){var c=0,d;\"string\"==typeof a&&(d=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?d=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?d=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:\"function\"==typeof a?d=a:\"object\"==typeof a&&(d=function(b){return b.getName()in a});var l=this.elements,k=l.length;e&&\n(b?c+=1:--k);b&&(l=Array.prototype.slice.call(l,0),l.reverse());for(;c<k;c++)if(d(l[c]))return l[c];return null},isContextFor:function(a){var e;return a in CKEDITOR.dtd.$block?(e=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!e.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(a,e){\"string\"==typeof a&&(a=(e?e.$:document).createTextNode(a));this.$=a},CKEDITOR.dom.text.prototype=\nnew CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var e=this.$.parentNode,b=e.childNodes.length,c=this.getLength(),d=this.getDocument(),l=new CKEDITOR.dom.text(this.$.splitText(a),d);e.childNodes.length==b&&(a>=c?(l=d.createText(\"\"),l.insertAfter(this)):(a=d.createText(\"\"),a.insertAfter(l),a.remove()));\nreturn l},substring:function(a,e){return\"number\"!=typeof e?this.$.nodeValue.substr(a):this.$.nodeValue.substring(a,e)}}),function(){function a(a,c,d){var e=a.serializable,k=c[d?\"endContainer\":\"startContainer\"],g=d?\"endOffset\":\"startOffset\",h=e?c.document.getById(a.startNode):a.startNode;a=e?c.document.getById(a.endNode):a.endNode;k.equals(h.getPrevious())?(c.startOffset=c.startOffset-k.getLength()-a.getPrevious().getLength(),k=a.getNext()):k.equals(a.getPrevious())&&(c.startOffset-=k.getLength(),\nk=a.getNext());k.equals(h.getParent())&&c[g]++;k.equals(a.getParent())&&c[g]++;c[d?\"endContainer\":\"startContainer\"]=k;return c}CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,e)};var e={createIterator:function(){var a=this,c=CKEDITOR.dom.walker.bookmark(),d=[],e;return{getNextRange:function(k){e=void 0===e?0:e+1;var g=a[e];if(g&&1<a.length){if(!e)for(var h=a.length-1;0<=h;h--)d.unshift(a[h].createBookmark(!0));\nif(k)for(var m=0;a[e+m+1];){var f=g.document;k=0;h=f.getById(d[m].endNode);for(f=f.getById(d[m+1].startNode);;){h=h.getNextSourceNode(!1);if(f.equals(h))k=1;else if(c(h)||h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary())continue;break}if(!k)break;m++}for(g.moveToBookmark(d.shift());m--;)h=a[++e],h.moveToBookmark(d.shift()),g.setEnd(h.endContainer,h.endOffset)}return g}}},createBookmarks:function(b){for(var c=[],d,e=0;e<this.length;e++){c.push(d=this[e].createBookmark(b,!0));for(var k=e+1;k<this.length;k++)this[k]=\na(d,this[k]),this[k]=a(d,this[k],!0)}return c},createBookmarks2:function(a){for(var c=[],d=0;d<this.length;d++)c.push(this[d].createBookmark2(a));return c},moveToBookmarks:function(a){for(var c=0;c<this.length;c++)this[c].moveToBookmark(a[c])}}}(),function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(\",\")[1]||\"skins/\"+CKEDITOR.skinName.split(\",\")[0]+\"/\")}function e(b){var c=CKEDITOR.skin[\"ua_\"+b],d=CKEDITOR.env;if(c)for(var c=c.split(\",\").sort(function(a,b){return a>b?-1:1}),g=0,\ne;g<c.length;g++)if(e=c[g],d.ie&&(e.replace(/^ie/,\"\")==d.version||d.quirks&&\"iequirks\"==e)&&(e=\"ie\"),d[e]){b+=\"_\"+c[g];break}return CKEDITOR.getUrl(a()+b+\".css\")}function b(a,b){l[a]||(CKEDITOR.document.appendStyleSheet(e(a)),l[a]=1);b&&b()}function c(a){var b=a.getById(k);b||(b=a.getHead().append(\"style\"),b.setAttribute(\"id\",k),b.setAttribute(\"type\",\"text/css\"));return b}function d(a,b,c){var d,g,e;if(CKEDITOR.env.webkit)for(b=b.split(\"}\").slice(0,-1),g=0;g<b.length;g++)b[g]=b[g].split(\"{\");for(var h=\n0;h<a.length;h++)if(CKEDITOR.env.webkit)for(g=0;g<b.length;g++){e=b[g][1];for(d=0;d<c.length;d++)e=e.replace(c[d][0],c[d][1]);a[h].$.sheet.addRule(b[g][0],e)}else{e=b;for(d=0;d<c.length;d++)e=e.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?a[h].$.styleSheet.cssText+=e:a[h].$.innerHTML+=e}}var l={};CKEDITOR.skin={path:a,loadPart:function(c,f){CKEDITOR.skin.name!=CKEDITOR.skinName.split(\",\")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+\"skin.js\"),function(){b(c,f)}):b(c,f)},\ngetPath:function(a){return CKEDITOR.getUrl(e(a))},icons:{},addIcon:function(a,b,c,d){a=a.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||\"16px\"})},getIconStyle:function(a,b,c,d,g){var e;a&&(a=a.toLowerCase(),b&&(e=this.icons[a+\"-rtl\"]),e||(e=this.icons[a]));a=c||e&&e.path||\"\";d=d||e&&e.offset;g=g||e&&e.bgsize||\"16px\";a&&(a=a.replace(/'/g,\"\\\\'\"));return a&&\"background-image:url('\"+CKEDITOR.getUrl(a)+\"');background-position:0 \"+d+\"px;background-size:\"+g+\";\"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,\n{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=c(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var c=CKEDITOR.skin.chameleon,e=\"\",m=\"\";\"function\"==typeof c&&(e=c(this,\"editor\"),m=c(this,\"panel\"));a=[[h,a]];d([b],e,a);d(g,m,a)}).call(this,a)}});var k=\"cke_ui_color\",g=[],h=/\\$color/g;CKEDITOR.on(\"instanceLoaded\",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag(\"iframe\").getItem(0).getFrameDocument();\nif(!a.getById(\"cke_ui_color\")){a=c(a);g.push(a);var e=b.getUiColor();e&&d([a],CKEDITOR.skin.chameleon(b,\"panel\"),[[h,e]])}};b.on(\"panelShow\",a);b.on(\"menuShow\",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue\"\\x3e\\x3c/div\\x3e',CKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());\ntry{var e=a.getComputedStyle(\"border-top-color\"),b=a.getComputedStyle(\"border-right-color\");CKEDITOR.env.hc=!(!e||e!=b)}catch(c){CKEDITOR.env.hc=!1}a.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=\" cke_hc\");CKEDITOR.document.appendStyleText(\".cke{visibility:hidden;}\");CKEDITOR.status=\"loaded\";CKEDITOR.fireOnce(\"loaded\");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<a.length;e++)CKEDITOR.editor.prototype.constructor.apply(a[e][0],a[e][1]),CKEDITOR.add(a[e][0])}(),CKEDITOR.skin.name=\n\"moono-lisa\",CKEDITOR.skin.ua_editor=\"ie,iequirks,ie8,gecko\",CKEDITOR.skin.ua_dialog=\"ie,iequirks,ie8\",CKEDITOR.skin.chameleon=function(){var a=function(){return function(a,c){for(var d=a.match(/[^#]./g),e=0;3>e;e++){var k=e,g;g=parseInt(d[e],16);g=(\"0\"+(0>c?0|g*(1+c):0|g+(255-g)*c).toString(16)).slice(-2);d[k]=g}return\"#\"+d.join(\"\")}}(),e={editor:new CKEDITOR.template(\"{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] \"),\npanel:new CKEDITOR.template(\".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] \")};\nreturn function(b,c){var d=a(b.uiColor,.4),d={id:\".\"+b.id,defaultBorder:a(d,-.2),toolbarElementsBorder:a(d,-.25),defaultBackground:d,lightBackground:a(d,.8),darkBackground:a(d,-.15),ckeButtonOn:a(d,.4),ckeResizer:a(d,-.4),ckeColorauto:a(d,.8),dialogBody:a(d,.7),dialogTab:a(d,.65),dialogTabSelected:\"#FFF\",dialogTabSelectedBorder:\"#FFF\",elementsPathColor:a(d,-.6),menubuttonHover:a(d,.1),menubuttonIcon:a(d,.5),menubuttonIconHover:a(d,.3)};return e[c].output(d).replace(/\\[/g,\"{\").replace(/\\]/g,\"}\")}}(),\nCKEDITOR.plugins.add(\"dialogui\",{onLoad:function(){var a=function(a){this._||(this._={});this._[\"default\"]=this._.initValue=a[\"default\"]||\"\";this._.required=a.required||!1;for(var b=[this._],c=1;c<arguments.length;c++)b.push(arguments[c]);b.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,b);return this._},e={build:function(a,b,c){return new CKEDITOR.ui.dialog.textInput(a,b,c)}},b={build:function(a,b,c){return new CKEDITOR.ui.dialog[b.type](a,b,c)}},c={isChanged:function(){return this.getValue()!=\nthis.getInitValue()},reset:function(a){this.setValue(this.getInitValue(),a)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._[\"default\"]},getInitValue:function(){return this._.initValue}},d=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(a,b){this._.domOnChangeRegistered||(a.on(\"load\",function(){this.getInputElement().on(\"change\",function(){a.parts.dialog.isVisible()&&this.fire(\"change\",{value:this.getValue()})},\nthis)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},!0),l=/^on([A-Z]\\w+)/,k=function(a){for(var b in a)(l.test(b)||\"title\"==b||\"type\"==b)&&delete a[b];return a},g=function(a){a=a.data.getKeystroke();a==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker(\"ltr\"):a==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker(\"rtl\")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,c,f,d){if(!(4>arguments.length)){var g=a.call(this,c);g.labelId=CKEDITOR.tools.getNextId()+\n\"_label\";this._.children=[];var e={role:c.role||\"presentation\"};c.includeLabel&&(e[\"aria-labelledby\"]=g.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,c,f,\"div\",null,e,function(){var a=[],f=c.required?\" cke_required\":\"\";\"horizontal\"!=c.labelLayout?a.push('\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+f+'\" ',' id\\x3d\"'+g.labelId+'\"',g.inputId?' for\\x3d\"'+g.inputId+'\"':\"\",(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",c.label,\"\\x3c/label\\x3e\",'\\x3cdiv class\\x3d\"cke_dialog_ui_labeled_content\"',\nc.controlStyle?' style\\x3d\"'+c.controlStyle+'\"':\"\",' role\\x3d\"presentation\"\\x3e',d.call(this,b,c),\"\\x3c/div\\x3e\"):(f={type:\"hbox\",widths:c.widths,padding:0,children:[{type:\"html\",html:'\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+f+'\" id\\x3d\"'+g.labelId+'\" for\\x3d\"'+g.inputId+'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\"+CKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/label\\x3e\"},{type:\"html\",html:'\\x3cspan class\\x3d\"cke_dialog_ui_labeled_content\"'+(c.controlStyle?' style\\x3d\"'+c.controlStyle+\n'\"':\"\")+\"\\x3e\"+d.call(this,b,c)+\"\\x3c/span\\x3e\"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,f,a));return a.join(\"\")})}},textInput:function(b,c,f){if(!(3>arguments.length)){a.call(this,c);var d=this._.inputId=CKEDITOR.tools.getNextId()+\"_textInput\",e={\"class\":\"cke_dialog_ui_input_\"+c.type,id:d,type:c.type};c.validate&&(this.validate=c.validate);c.maxLength&&(e.maxlength=c.maxLength);c.size&&(e.size=c.size);c.inputStyle&&(e.style=c.inputStyle);var k=this,l=!1;b.on(\"load\",function(){k.getInputElement().on(\"keydown\",\nfunction(a){13==a.data.getKeystroke()&&(l=!0)});k.getInputElement().on(\"keyup\",function(a){13==a.data.getKeystroke()&&l&&(b.getButton(\"ok\")&&setTimeout(function(){b.getButton(\"ok\").click()},0),l=!1);k.bidi&&g.call(k,a)},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,f,function(){var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_',c.type,'\" role\\x3d\"presentation\"'];c.width&&a.push('style\\x3d\"width:'+c.width+'\" ');a.push(\"\\x3e\\x3cinput \");e[\"aria-labelledby\"]=this._.labelId;this._.required&&\n(e[\"aria-required\"]=this._.required);for(var b in e)a.push(b+'\\x3d\"'+e[b]+'\" ');a.push(\" /\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},textarea:function(b,c,f){if(!(3>arguments.length)){a.call(this,c);var d=this,e=this._.inputId=CKEDITOR.tools.getNextId()+\"_textarea\",k={};c.validate&&(this.validate=c.validate);k.rows=c.rows||5;k.cols=c.cols||20;k[\"class\"]=\"cke_dialog_ui_input_textarea \"+(c[\"class\"]||\"\");\"undefined\"!=typeof c.inputStyle&&(k.style=c.inputStyle);c.dir&&(k.dir=c.dir);if(d.bidi)b.on(\"load\",\nfunction(){d.getInputElement().on(\"keyup\",g)},d);CKEDITOR.ui.dialog.labeledElement.call(this,b,c,f,function(){k[\"aria-labelledby\"]=this._.labelId;this._.required&&(k[\"aria-required\"]=this._.required);var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_textarea\" role\\x3d\"presentation\"\\x3e\\x3ctextarea id\\x3d\"',e,'\" '],b;for(b in k)a.push(b+'\\x3d\"'+CKEDITOR.tools.htmlEncode(k[b])+'\" ');a.push(\"\\x3e\",CKEDITOR.tools.htmlEncode(d._[\"default\"]),\"\\x3c/textarea\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},checkbox:function(b,\nc,f){if(!(3>arguments.length)){var d=a.call(this,c,{\"default\":!!c[\"default\"]});c.validate&&(this.validate=c.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,c,f,\"span\",null,null,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_checkbox\":CKEDITOR.tools.getNextId()+\"_checkbox\"},!0),f=[],g=CKEDITOR.tools.getNextId()+\"_label\",e={\"class\":\"cke_dialog_ui_checkbox_input\",type:\"checkbox\",\"aria-labelledby\":g};k(a);c[\"default\"]&&(e.checked=\"checked\");\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);\nd.checkbox=new CKEDITOR.ui.dialog.uiElement(b,a,f,\"input\",null,e);f.push(' \\x3clabel id\\x3d\"',g,'\" for\\x3d\"',e.id,'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",CKEDITOR.tools.htmlEncode(c.label),\"\\x3c/label\\x3e\");return f.join(\"\")})}},radio:function(b,c,f){if(!(3>arguments.length)){a.call(this,c);this._[\"default\"]||(this._[\"default\"]=this._.initValue=c.items[0][1]);c.validate&&(this.validate=c.validate);var d=[],g=this;c.role=\"radiogroup\";c.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,\nb,c,f,function(){for(var a=[],f=[],e=(c.id?c.id:CKEDITOR.tools.getNextId())+\"_radio\",l=0;l<c.items.length;l++){var t=c.items[l],u=void 0!==t[2]?t[2]:t[0],A=void 0!==t[1]?t[1]:t[0],z=CKEDITOR.tools.getNextId()+\"_radio_input\",w=z+\"_label\",z=CKEDITOR.tools.extend({},c,{id:z,title:null,type:null},!0),u=CKEDITOR.tools.extend({},z,{title:u},!0),C={type:\"radio\",\"class\":\"cke_dialog_ui_radio_input\",name:e,value:A,\"aria-labelledby\":w},y=[];g._[\"default\"]==A&&(C.checked=\"checked\");k(z);k(u);\"undefined\"!=typeof z.inputStyle&&\n(z.style=z.inputStyle);z.keyboardFocusable=!0;d.push(new CKEDITOR.ui.dialog.uiElement(b,z,y,\"input\",null,C));y.push(\" \");new CKEDITOR.ui.dialog.uiElement(b,u,y,\"label\",null,{id:w,\"for\":C.id},t[0]);a.push(y.join(\"\"))}new CKEDITOR.ui.dialog.hbox(b,d,a,f);return f.join(\"\")});this._.children=d}},button:function(b,c,f){if(arguments.length){\"function\"==typeof c&&(c=c(b.getParentEditor()));a.call(this,c,{disabled:c.disabled||!1});CKEDITOR.event.implementOn(this);var d=this;b.on(\"load\",function(){var a=this.getElement();\n(function(){a.on(\"click\",function(a){d.click();a.data.preventDefault()});a.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1}&&(d.click(),a.data.preventDefault())})})();a.unselectable()},this);var g=CKEDITOR.tools.extend({},c);delete g.style;var e=CKEDITOR.tools.getNextId()+\"_label\";CKEDITOR.ui.dialog.uiElement.call(this,b,g,f,\"a\",null,{style:c.style,href:\"javascript:void(0)\",title:c.label,hidefocus:\"true\",\"class\":c[\"class\"],role:\"button\",\"aria-labelledby\":e},'\\x3cspan id\\x3d\"'+e+'\" class\\x3d\"cke_dialog_ui_button\"\\x3e'+\nCKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/span\\x3e\")}},select:function(b,c,f){if(!(3>arguments.length)){var d=a.call(this,c);c.validate&&(this.validate=c.validate);d.inputId=CKEDITOR.tools.getNextId()+\"_select\";CKEDITOR.ui.dialog.labeledElement.call(this,b,c,f,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_select\":CKEDITOR.tools.getNextId()+\"_select\"},!0),f=[],g=[],e={id:d.inputId,\"class\":\"cke_dialog_ui_input_select\",\"aria-labelledby\":this._.labelId};f.push('\\x3cdiv class\\x3d\"cke_dialog_ui_input_',\nc.type,'\" role\\x3d\"presentation\"');c.width&&f.push('style\\x3d\"width:'+c.width+'\" ');f.push(\"\\x3e\");void 0!==c.size&&(e.size=c.size);void 0!==c.multiple&&(e.multiple=c.multiple);k(a);for(var l=0,t;l<c.items.length&&(t=c.items[l]);l++)g.push('\\x3coption value\\x3d\"',CKEDITOR.tools.htmlEncode(void 0!==t[1]?t[1]:t[0]).replace(/\"/g,\"\\x26quot;\"),'\" /\\x3e ',CKEDITOR.tools.htmlEncode(t[0]));\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);d.select=new CKEDITOR.ui.dialog.uiElement(b,a,f,\"select\",null,\ne,g.join(\"\"));f.push(\"\\x3c/div\\x3e\");return f.join(\"\")})}},file:function(b,c,f){if(!(3>arguments.length)){void 0===c[\"default\"]&&(c[\"default\"]=\"\");var d=CKEDITOR.tools.extend(a.call(this,c),{definition:c,buttons:[]});c.validate&&(this.validate=c.validate);b.on(\"load\",function(){CKEDITOR.document.getById(d.frameId).getParent().addClass(\"cke_dialog_ui_input_file\")});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,f,function(){d.frameId=CKEDITOR.tools.getNextId()+\"_fileInput\";var a=['\\x3ciframe frameborder\\x3d\"0\" allowtransparency\\x3d\"0\" class\\x3d\"cke_dialog_ui_input_file\" role\\x3d\"presentation\" id\\x3d\"',\nd.frameId,'\" title\\x3d\"',c.label,'\" src\\x3d\"javascript:void('];a.push(CKEDITOR.env.ie?\"(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"})()\":\"0\");a.push(')\"\\x3e\\x3c/iframe\\x3e');return a.join(\"\")})}},fileButton:function(b,c,f){var d=this;if(!(3>arguments.length)){a.call(this,c);c.validate&&(this.validate=c.validate);var g=CKEDITOR.tools.extend({},c),e=g.onClick;g.className=(g.className?g.className+\" \":\"\")+\"cke_dialog_ui_button\";g.onClick=function(a){var f=\nc[\"for\"];a=e?e.call(this,a):!1;!1!==a&&(\"xhr\"!==a&&b.getContentElement(f[0],f[1]).submit(),this.disable())};b.on(\"load\",function(){b.getContentElement(c[\"for\"][0],c[\"for\"][1])._.buttons.push(d)});CKEDITOR.ui.dialog.button.call(this,b,g,f)}},html:function(){var a=/^\\s*<[\\w:]+\\s+([^>]*)?>/,b=/^(\\s*<[\\w:]+(?:\\s+[^>]*)?)((?:.|\\r|\\n)+)$/,c=/\\/$/;return function(d,g,e){if(!(3>arguments.length)){var k=[],l=g.html;\"\\x3c\"!=l.charAt(0)&&(l=\"\\x3cspan\\x3e\"+l+\"\\x3c/span\\x3e\");var q=g.focus;if(q){var t=this.focus;\nthis.focus=function(){(\"function\"==typeof q?q:t).call(this);this.fire(\"focus\")};g.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,d,g,k,\"span\",null,null,\"\");k=k.join(\"\").match(a);l=l.match(b)||[\"\",\"\",\"\"];c.test(l[1])&&(l[1]=l[1].slice(0,-1),l[2]=\"/\"+l[2]);e.push([l[1],\" \",k[1]||\"\",l[2]].join(\"\"))}}}(),fieldset:function(a,b,c,d,g){var e=g.label;this._={children:b};CKEDITOR.ui.dialog.uiElement.call(this,a,g,d,\"fieldset\",null,null,function(){var a=\n[];e&&a.push(\"\\x3clegend\"+(g.labelStyle?' style\\x3d\"'+g.labelStyle+'\"':\"\")+\"\\x3e\"+e+\"\\x3c/legend\\x3e\");for(var b=0;b<c.length;b++)a.push(c[b]);return a.join(\"\")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(a){var b=CKEDITOR.document.getById(this._.labelId);1>b.getChildCount()?(new CKEDITOR.dom.text(a,CKEDITOR.document)).appendTo(b):b.getChild(0).$.nodeValue=\na;return this},getLabel:function(){var a=CKEDITOR.document.getById(this._.labelId);return!a||1>a.getChildCount()?\"\":a.getChild(0).getText()},eventProcessors:d},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire(\"click\",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var a=this.getElement();a&&a.removeClass(\"cke_disabled\")},disable:function(){this._.disabled=!0;this.getElement().addClass(\"cke_disabled\")},\nisVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(a,b){this.on(\"click\",function(){b.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},\nfocus:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&b.$.focus()},0)},select:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&(b.$.focus(),b.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(a){if(this.bidi){var b=a&&a.charAt(0);(b=\"‪\"==b?\"ltr\":\"‫\"==b?\"rtl\":null)&&(a=a.slice(1));this.setDirectionMarker(b)}a||(a=\"\");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},\ngetValue:function(){var a=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&a){var b=this.getDirectionMarker();b&&(a=(\"ltr\"==b?\"‪\":\"‫\")+a)}return a},setDirectionMarker:function(a){var b=this.getInputElement();a?b.setAttributes({dir:a,\"data-cke-dir-marker\":a}):this.getDirectionMarker()&&b.removeAttributes([\"dir\",\"data-cke-dir-marker\"])},getDirectionMarker:function(){return this.getInputElement().data(\"cke-dir-marker\")},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.textarea.prototype=\nnew CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(a,b,c){var d=new CKEDITOR.dom.element(\"option\",this.getDialog().getParentEditor().document),g=this.getInputElement().$;d.$.text=a;d.$.value=void 0===b||null===b?a:b;void 0===c||null===c?CKEDITOR.env.ie?g.add(d.$):g.add(d.$,null):g.add(d.$,c);return this},remove:function(a){this.getInputElement().$.remove(a);\nreturn this},clear:function(){for(var a=this.getInputElement().$;0<a.length;)a.remove(0);return this},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(a,b){this.getInputElement().$.checked=a;!b&&this.fire(\"change\",{value:a})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(a,\nb){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return d.onChange.apply(this,arguments);a.on(\"load\",function(){var a=this._.checkbox.getElement();a.on(\"propertychange\",function(b){b=b.data.$;\"checked\"==b.propertyName&&this.fire(\"change\",{value:a.$.checked})},this)},this);this.on(\"change\",b);return null}},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(a,b){for(var c=this._.children,d,g=0;g<c.length&&(d=c[g]);g++)d.getElement().$.checked=\nd.getValue()==a;!b&&this.fire(\"change\",{value:a})},getValue:function(){for(var a=this._.children,b=0;b<a.length;b++)if(a[b].getElement().$.checked)return a[b].getValue();return null},accessKeyUp:function(){var a=this._.children,b;for(b=0;b<a.length;b++)if(a[b].getElement().$.checked){a[b].getElement().focus();return}a[0].getElement().focus()},eventProcessors:{onChange:function(a,b){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return d.onChange.apply(this,arguments);a.on(\"load\",function(){for(var a=\nthis._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on(\"propertychange\",function(a){a=a.data.$;\"checked\"==a.propertyName&&this.$.checked&&b.fire(\"change\",{value:this.getAttribute(\"value\")})})},this);this.on(\"change\",b);return null}}},c,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,c,{getInputElement:function(){var a=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<a.$.forms.length?new CKEDITOR.dom.element(a.$.forms[0].elements[0]):\nthis.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(a){var b=/^on([A-Z]\\w+)/,c,d=function(a,b,c,f){a.on(\"formLoaded\",function(){a.getInputElement().on(c,f,a)})},g;for(g in a)if(c=g.match(b))this.eventProcessors[g]?this.eventProcessors[g].call(this,this._.dialog,a[g]):d(this,this._.dialog,c[1].toLowerCase(),a[g]);return this},reset:function(){function a(){c.$.open();\nvar h=\"\";d.size&&(h=d.size-(CKEDITOR.env.ie?7:0));var u=b.frameId+\"_input\";c.$.write(['\\x3chtml dir\\x3d\"'+l+'\" lang\\x3d\"'+q+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\\x3cbody style\\x3d\"margin: 0; overflow: hidden; background: transparent;\"\\x3e','\\x3cform enctype\\x3d\"multipart/form-data\" method\\x3d\"POST\" dir\\x3d\"'+l+'\" lang\\x3d\"'+q+'\" action\\x3d\"',CKEDITOR.tools.htmlEncode(d.action),'\"\\x3e\\x3clabel id\\x3d\"',b.labelId,'\" for\\x3d\"',u,'\" style\\x3d\"display:none\"\\x3e',CKEDITOR.tools.htmlEncode(d.label),\n'\\x3c/label\\x3e\\x3cinput style\\x3d\"width:100%\" id\\x3d\"',u,'\" aria-labelledby\\x3d\"',b.labelId,'\" type\\x3d\"file\" name\\x3d\"',CKEDITOR.tools.htmlEncode(d.id||\"cke_upload\"),'\" size\\x3d\"',CKEDITOR.tools.htmlEncode(0<h?h:\"\"),'\" /\\x3e\\x3c/form\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\\x3cscript\\x3e',CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\",\"window.parent.CKEDITOR.tools.callFunction(\"+e+\");\",\"window.onbeforeunload \\x3d function() {window.parent.CKEDITOR.tools.callFunction(\"+k+\")}\",\"\\x3c/script\\x3e\"].join(\"\"));\nc.$.close();for(h=0;h<g.length;h++)g[h].enable()}var b=this._,c=CKEDITOR.document.getById(b.frameId).getFrameDocument(),d=b.definition,g=b.buttons,e=this.formLoadedNumber,k=this.formUnloadNumber,l=b.dialog._.editor.lang.dir,q=b.dialog._.editor.langCode;e||(e=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire(\"formLoaded\")},this),k=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(e);\nCKEDITOR.tools.removeFunction(k)}));CKEDITOR.env.gecko?setTimeout(a,500):a()},getValue:function(){return this.getInputElement().$.value||\"\"},setInitValue:function(){this._.initValue=\"\"},eventProcessors:{onChange:function(a,b){this._.domOnChangeRegistered||(this.on(\"formLoaded\",function(){this.getInputElement().on(\"change\",function(){this.fire(\"change\",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=\nnew CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement(\"text\",e);CKEDITOR.dialog.addUIElement(\"password\",e);CKEDITOR.dialog.addUIElement(\"textarea\",b);CKEDITOR.dialog.addUIElement(\"checkbox\",b);CKEDITOR.dialog.addUIElement(\"radio\",b);CKEDITOR.dialog.addUIElement(\"button\",b);CKEDITOR.dialog.addUIElement(\"select\",b);CKEDITOR.dialog.addUIElement(\"file\",b);CKEDITOR.dialog.addUIElement(\"fileButton\",b);CKEDITOR.dialog.addUIElement(\"html\",\nb);CKEDITOR.dialog.addUIElement(\"fieldset\",{build:function(a,b,c){for(var d=b.children,g,e=[],k=[],l=0;l<d.length&&(g=d[l]);l++){var q=[];e.push(q);k.push(CKEDITOR.dialog._.uiElementBuilders[g.type].build(a,g,q))}return new CKEDITOR.ui.dialog[b.type](a,k,e,c,b)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function a(){for(var a=this._.tabIdList.length,\nb=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function e(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function b(a,b){for(var c=a.$.getElementsByTagName(\"input\"),f=0,d=c.length;f<d;f++){var g=new CKEDITOR.dom.element(c[f]);\n\"text\"==g.getAttribute(\"type\").toLowerCase()&&(b?(g.setAttribute(\"value\",g.getCustomData(\"fake_value\")||\"\"),g.removeCustomData(\"fake_value\")):(g.setCustomData(\"fake_value\",g.getAttribute(\"value\")),g.setAttribute(\"value\",\"\")))}}function c(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute(\"aria-invalid\"):c.setAttribute(\"aria-invalid\",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire(\"validated\",{valid:a,msg:b})}function d(){var a=this.getInputElement();a&&a.removeAttribute(\"aria-invalid\")}\nfunction l(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate(\"dialog\",x).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:\"cke_editor_\"+a.name.replace(/\\./g,\"\\\\.\")+\"_dialog\",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?\"cke_hidpi\":\"\"})),c=b.getChild([0,0,0,0,0]),f=c.getChild(0),d=c.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(c);!CKEDITOR.env.ie||CKEDITOR.env.quirks||\nCKEDITOR.env.edge||(a=\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\",CKEDITOR.dom.element.createFromHtml('\\x3ciframe frameBorder\\x3d\"0\" class\\x3d\"cke_iframe_shim\" src\\x3d\"'+a+'\" tabIndex\\x3d\"-1\"\\x3e\\x3c/iframe\\x3e').appendTo(c.getParent()));f.unselectable();d.unselectable();return{element:b,parts:{dialog:b.getChild(0),title:f,close:d,tabs:c.getChild(2),contents:c.getChild([3,0,0,0]),footer:c.getChild([3,0,1,0])}}}function k(a,\nb,c){this.element=b;this.focusIndex=c;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute(\"disabled\")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire(\"click\")});b.on(\"focus\",function(){this.fire(\"mouseover\")});b.on(\"blur\",function(){this.fire(\"mouseout\")})}function g(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();c.on(\"resize\",b);a.on(\"hide\",function(){c.removeListener(\"resize\",\nb)})}function h(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function m(a){function b(c){var k=a.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),m=c.data.$.screenX,n=c.data.$.screenY,q=m-f.x,u=n-f.y;f={x:m,y:n};d.x+=q;d.y+=u;a.move(d.x+h[3]<e?-h[3]:d.x-h[1]>l.width-k.width-e?l.width-k.width+(\"rtl\"==g.lang.dir?0:h[1]):d.x,d.y+h[0]<e?-h[0]:d.y-h[2]>l.height-k.height-e?l.height-k.height+h[2]:d.y,1);c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mousemove\",\nb);CKEDITOR.document.removeListener(\"mouseup\",c);if(CKEDITOR.env.ie6Compat){var a=y.getChild(0).getFrameDocument();a.removeListener(\"mousemove\",b);a.removeListener(\"mouseup\",c)}}var f=null,d=null,g=a.getParentEditor(),e=g.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];\"undefined\"==typeof e&&(e=20);a.parts.title.on(\"mousedown\",function(g){f={x:g.data.$.screenX,y:g.data.$.screenY};CKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);d=a.getPosition();if(CKEDITOR.env.ie6Compat){var e=\ny.getChild(0).getFrameDocument();e.on(\"mousemove\",b);e.on(\"mouseup\",c)}g.data.preventDefault()},a)}function f(a){function b(c){var n=\"rtl\"==g.lang.dir,q=m.width,u=m.height,t=q+(c.data.$.screenX-l.x)*(n?-1:1)*(a._.moved?1:2),p=u+(c.data.$.screenY-l.y)*(a._.moved?1:2),w=a._.element.getFirst(),w=n&&w.getComputedStyle(\"right\"),v=a.getPosition();v.y+p>k.height&&(p=k.height-v.y);(n?w:v.x)+t>k.width&&(t=k.width-(n?w:v.x));if(d==CKEDITOR.DIALOG_RESIZE_WIDTH||d==CKEDITOR.DIALOG_RESIZE_BOTH)q=Math.max(f.minWidth||\n0,t-e);if(d==CKEDITOR.DIALOG_RESIZE_HEIGHT||d==CKEDITOR.DIALOG_RESIZE_BOTH)u=Math.max(f.minHeight||0,p-h);a.resize(q,u);a._.moved||a.layout();c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mouseup\",c);CKEDITOR.document.removeListener(\"mousemove\",b);n&&(n.remove(),n=null);if(CKEDITOR.env.ie6Compat){var a=y.getChild(0).getFrameDocument();a.removeListener(\"mouseup\",c);a.removeListener(\"mousemove\",b)}}var f=a.definition,d=f.resizable;if(d!=CKEDITOR.DIALOG_RESIZE_NONE){var g=a.getParentEditor(),\ne,h,k,l,m,n,q=CKEDITOR.tools.addFunction(function(f){m=a.getSize();var d=a.parts.contents;d.$.getElementsByTagName(\"iframe\").length&&(n=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_dialog_resize_cover\" style\\x3d\"height: 100%; position: absolute; width: 100%;\"\\x3e\\x3c/div\\x3e'),d.append(n));h=m.height-a.parts.contents.getSize(\"height\",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks));e=m.width-a.parts.contents.getSize(\"width\",1);l={x:f.screenX,y:f.screenY};k=CKEDITOR.document.getWindow().getViewPaneSize();\nCKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);CKEDITOR.env.ie6Compat&&(d=y.getChild(0).getFrameDocument(),d.on(\"mousemove\",b),d.on(\"mouseup\",c));f.preventDefault&&f.preventDefault()});a.on(\"load\",function(){var b=\"\";d==CKEDITOR.DIALOG_RESIZE_WIDTH?b=\" cke_resizer_horizontal\":d==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=\" cke_resizer_vertical\");b=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_resizer'+b+\" cke_resizer_\"+g.lang.dir+'\" title\\x3d\"'+CKEDITOR.tools.htmlEncode(g.lang.common.resize)+\n'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+q+', event )\"\\x3e'+(\"ltr\"==g.lang.dir?\"◢\":\"◣\")+\"\\x3c/div\\x3e\");a.parts.footer.append(b,1)});g.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(q)})}}function n(a){a.data.preventDefault(1)}function p(a){var b=CKEDITOR.document.getWindow(),c=a.config,f=CKEDITOR.skinName||a.config.skin,d=c.dialog_backgroundCoverColor||(\"moono-lisa\"==f?\"black\":\"white\"),f=c.dialog_backgroundCoverOpacity,g=c.baseFloatZIndex,c=CKEDITOR.tools.genKey(d,f,g),e=C[c];e?e.show():\n(g=['\\x3cdiv tabIndex\\x3d\"-1\" style\\x3d\"position: ',CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",\"; z-index: \",g,\"; top: 0px; left: 0px; \",CKEDITOR.env.ie6Compat?\"\":\"background-color: \"+d,'\" class\\x3d\"cke_dialog_background_cover\"\\x3e'],CKEDITOR.env.ie6Compat&&(d=\"\\x3chtml\\x3e\\x3cbody style\\x3d\\\\'background-color:\"+d+\";\\\\'\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\",g.push('\\x3ciframe hidefocus\\x3d\"true\" frameborder\\x3d\"0\" id\\x3d\"cke_dialog_background_iframe\" src\\x3d\"javascript:'),g.push(\"void((function(){\"+encodeURIComponent(\"document.open();(\"+\nCKEDITOR.tools.fixDomain+\")();document.write( '\"+d+\"' );document.close();\")+\"})())\"),g.push('\" style\\x3d\"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d0)\"\\x3e\\x3c/iframe\\x3e')),g.push(\"\\x3c/div\\x3e\"),e=CKEDITOR.dom.element.createFromHtml(g.join(\"\")),e.setOpacity(void 0!==f?f:.5),e.on(\"keydown\",n),e.on(\"keypress\",n),e.on(\"keyup\",n),e.appendTo(CKEDITOR.document.getBody()),C[c]=e);a.focusManager.add(e);y=e;a=function(){var a=b.getViewPaneSize();\ne.setStyles({width:a.width+\"px\",height:a.height+\"px\"})};var h=function(){var a=b.getScrollPosition(),c=CKEDITOR.dialog._.currentTop;e.setStyles({left:a.x+\"px\",top:a.y+\"px\"});if(c){do a=c.getPosition(),c.move(a.x,a.y);while(c=c._.parentDialog)}};w=a;b.on(\"resize\",a);a();CKEDITOR.env.mac&&CKEDITOR.env.webkit||e.focus();if(CKEDITOR.env.ie6Compat){var k=function(){h();arguments.callee.prevScrollHandler.apply(this,arguments)};b.$.setTimeout(function(){k.prevScrollHandler=window.onscroll||function(){};\nwindow.onscroll=k},0);h()}}function r(a){y&&(a.focusManager.remove(y),a=CKEDITOR.document.getWindow(),y.hide(),a.removeListener(\"resize\",w),CKEDITOR.env.ie6Compat&&a.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),w=null)}var v=CKEDITOR.tools.cssLength,x='\\x3cdiv class\\x3d\"cke_reset_all {editorId} {editorDialogClass} {hidpi}\" dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"dialog\" aria-labelledby\\x3d\"cke_dialog_title_{id}\"\\x3e\\x3ctable class\\x3d\"cke_dialog '+\nCKEDITOR.env.cssClass+' cke_{langDir}\" style\\x3d\"position:absolute\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\"\\x3e\\x3cdiv class\\x3d\"cke_dialog_body\" role\\x3d\"presentation\"\\x3e\\x3cdiv id\\x3d\"cke_dialog_title_{id}\" class\\x3d\"cke_dialog_title\" role\\x3d\"presentation\"\\x3e\\x3c/div\\x3e\\x3ca id\\x3d\"cke_dialog_close_button_{id}\" class\\x3d\"cke_dialog_close_button\" href\\x3d\"javascript:void(0)\" title\\x3d\"{closeTitle}\" role\\x3d\"button\"\\x3e\\x3cspan class\\x3d\"cke_label\"\\x3eX\\x3c/span\\x3e\\x3c/a\\x3e\\x3cdiv id\\x3d\"cke_dialog_tabs_{id}\" class\\x3d\"cke_dialog_tabs\" role\\x3d\"tablist\"\\x3e\\x3c/div\\x3e\\x3ctable class\\x3d\"cke_dialog_contents\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_contents_{id}\" class\\x3d\"cke_dialog_contents_body\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_footer_{id}\" class\\x3d\"cke_dialog_footer\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e';\nCKEDITOR.dialog=function(b,g){function h(){var a=B._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function k(a){var b=B._.focusList;a=a||0;if(!(1>b.length)){var c=B._.currentFocusIndex;B._.tabBarMode&&0>a&&(c=0);try{b[c].getInputElement().$.blur()}catch(f){}var d=c,g=1<B._.pageCount;do{d+=a;if(g&&!B._.tabBarMode&&(d==b.length||-1==d)){B._.tabBarMode=!0;B._.tabs[B._.currentTabId][0].focus();\nB._.currentFocusIndex=-1;return}d=(d+b.length)%b.length;if(d==c)break}while(a&&!b[d].isFocusable());b[d].focus();\"text\"==b[d].type&&b[d].select()}}function n(c){if(B==CKEDITOR.dialog._.currentTop){var f=c.data.getKeystroke(),d=\"rtl\"==b.lang.dir,g=[37,38,39,40];y=r=0;if(9==f||f==CKEDITOR.SHIFT+9)k(f==CKEDITOR.SHIFT+9?-1:1),y=1;else if(f==CKEDITOR.ALT+121&&!B._.tabBarMode&&1<B.getPageCount())B._.tabBarMode=!0,B._.tabs[B._.currentTabId][0].focus(),B._.currentFocusIndex=-1,y=1;else if(-1!=CKEDITOR.tools.indexOf(g,\nf)&&B._.tabBarMode)f=-1!=CKEDITOR.tools.indexOf([d?39:37,38],f)?a.call(B):e.call(B),B.selectPage(f),B._.tabs[f][0].focus(),y=1;else if(13!=f&&32!=f||!B._.tabBarMode)if(13==f)f=c.data.getTarget(),f.is(\"a\",\"button\",\"select\",\"textarea\")||f.is(\"input\")&&\"button\"==f.$.type||((f=this.getButton(\"ok\"))&&CKEDITOR.tools.setTimeout(f.click,0,f),y=1),r=1;else if(27==f)(f=this.getButton(\"cancel\"))?CKEDITOR.tools.setTimeout(f.click,0,f):!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide(),r=1;else return;else this.selectPage(this._.currentTabId),\nthis._.tabBarMode=!1,this._.currentFocusIndex=-1,k(1),y=1;u(c)}}function u(a){y?a.data.preventDefault(1):r&&a.data.stopPropagation()}var t=CKEDITOR.dialog._.dialogDefinitions[g],p=CKEDITOR.tools.clone(q),w=b.config.dialog_buttonsOrder||\"OS\",v=b.lang.dir,A={},y,r;(\"OS\"==w&&CKEDITOR.env.mac||\"rtl\"==w&&\"ltr\"==v||\"ltr\"==w&&\"rtl\"==v)&&p.buttons.reverse();t=CKEDITOR.tools.extend(t(b),p);t=CKEDITOR.tools.clone(t);t=new z(this,t);p=l(b);this._={editor:b,element:p.element,name:g,contentSize:{width:0,height:0},\nsize:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=p.parts;CKEDITOR.tools.setTimeout(function(){b.fire(\"ariaWidget\",this.parts.contents)},0,this);p={position:CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",top:0,visibility:\"hidden\"};p[\"rtl\"==v?\"right\":\"left\"]=0;this.parts.dialog.setStyles(p);CKEDITOR.event.call(this);this.definition=t=CKEDITOR.fire(\"dialogDefinition\",\n{name:g,definition:t},b).definition;if(!(\"removeDialogTabs\"in b._)&&b.config.removeDialogTabs){p=b.config.removeDialogTabs.split(\";\");for(v=0;v<p.length;v++)if(w=p[v].split(\":\"),2==w.length){var x=w[0];A[x]||(A[x]=[]);A[x].push(w[1])}b._.removeDialogTabs=A}if(b._.removeDialogTabs&&(A=b._.removeDialogTabs[g]))for(v=0;v<A.length;v++)t.removeContents(A[v]);if(t.onLoad)this.on(\"load\",t.onLoad);if(t.onShow)this.on(\"show\",t.onShow);if(t.onHide)this.on(\"hide\",t.onHide);if(t.onOk)this.on(\"ok\",function(a){b.fire(\"saveSnapshot\");\nsetTimeout(function(){b.fire(\"saveSnapshot\")},0);!1===t.onOk.call(this,a)&&(a.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(t.onCancel)this.on(\"cancel\",function(a){!1===t.onCancel.call(this,a)&&(a.data.hide=!1)});var B=this,O=function(a){var b=B._.contents,c=!1,f;for(f in b)for(var d in b[f])if(c=a.call(this,b[f][d]))return};this.on(\"ok\",function(a){O(function(b){if(b.validate){var f=b.validate(this),d=\"string\"==typeof f||!1===f;d&&(a.data.hide=!1,a.stop());c.call(b,!d,\"string\"==typeof f?\nf:void 0);return d}})},this,null,0);this.on(\"cancel\",function(a){O(function(c){if(c.isChanged())return b.config.dialog_noConfirmCancel||confirm(b.lang.common.confirmCancel)||(a.data.hide=!1),!0})},this,null,0);this.parts.close.on(\"click\",function(a){!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=k;var C=this._.element;b.focusManager.add(C,1);this.on(\"show\",function(){C.on(\"keydown\",n,this);if(CKEDITOR.env.gecko)C.on(\"keypress\",u,this)});this.on(\"hide\",\nfunction(){C.removeListener(\"keydown\",n);CKEDITOR.env.gecko&&C.removeListener(\"keypress\",u);O(function(a){d.apply(a)})});this.on(\"iframeAdded\",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on(\"keydown\",n,this,null,0)});this.on(\"show\",function(){h();var a=1<B._.pageCount;b.config.dialog_startupFocusTab&&a?(B._.tabBarMode=!0,B._.tabs[B._.currentTabId][0].focus(),B._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=a?-1:this._.focusList.length-1,t.onFocus?\n(a=t.onFocus.call(this))&&a.focus():k(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on(\"load\",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);m(this);f(this);(new CKEDITOR.dom.text(t.title,CKEDITOR.document)).appendTo(this.parts.title);for(v=0;v<t.contents.length;v++)(A=t.contents[v])&&this.addPage(A);this.parts.tabs.on(\"click\",function(a){var b=a.data.getTarget();b.hasClass(\"cke_dialog_tab\")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf(\"_\"))),\nthis._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,k(1)),a.data.preventDefault())},this);v=[];A=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:\"hbox\",className:\"cke_dialog_footer_buttons\",widths:[],children:t.buttons},v).getChild();this.parts.footer.setHtml(v.join(\"\"));for(v=0;v<A.length;v++)this._.buttons[A[v].id]=A[v]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(a,b){this._.contentSize&&this._.contentSize.width==\na&&this._.contentSize.height==b||(CKEDITOR.dialog.fire(\"resize\",{dialog:this,width:a,height:b},this._.editor),this.fire(\"resize\",{width:a,height:b},this._.editor),this.parts.contents.setStyles({width:a+\"px\",height:b+\"px\"}),\"rtl\"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle(\"right\"),10)),this._.contentSize={width:a,height:b})}}(),getSize:function(){var a=this._.element.getFirst();\nreturn{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(a,b,c){var f=this._.element.getFirst(),d=\"rtl\"==this._.editor.lang.dir,g=\"fixed\"==f.getComputedStyle(\"position\");CKEDITOR.env.ie&&f.setStyle(\"zoom\",\"100%\");g&&this._.position&&this._.position.x==a&&this._.position.y==b||(this._.position={x:a,y:b},g||(g=CKEDITOR.document.getWindow().getScrollPosition(),a+=g.x,b+=g.y),d&&(g=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize().width-g.width-a),b={top:(0<b?b:0)+\"px\"},\nb[d?\"right\":\"left\"]=(0<a?a:0)+\"px\",f.setStyles(b),c&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition;a.getParent()&&a.getParent().equals(CKEDITOR.document.getBody())?a.setStyle(\"display\",\"block\"):a.appendTo(CKEDITOR.document.getBody());this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();null===\nthis._.currentTabId&&this.selectPage(this.definition.contents[0].id);null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex);this._.element.getFirst().setStyle(\"z-index\",CKEDITOR.dialog._.currentZIndex+=10);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,p(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/\n2),CKEDITOR.dialog._.currentTop=this);a.on(\"keydown\",G);a.on(\"keyup\",E);this._.hasFocus=!1;for(var c in b.contents)if(b.contents[c]){var a=b.contents[c],f=this._.tabs[a.id],d=a.requiredContent,e=0;if(f){for(var h in this._.contents[a.id]){var k=this._.contents[a.id][h];\"hbox\"!=k.type&&\"vbox\"!=k.type&&k.getInputElement()&&(k.requiredContent&&!this._.editor.activeFilter.check(k.requiredContent)?k.disable():(k.enable(),e++))}!e||d&&!this._.editor.activeFilter.check(d)?f[0].addClass(\"cke_dialog_tab_disabled\"):\nf[0].removeClass(\"cke_dialog_tab_disabled\")}}CKEDITOR.tools.setTimeout(function(){this.layout();g(this);this.parts.dialog.setStyle(\"visibility\",\"\");this.fireOnce(\"load\",{});CKEDITOR.ui.fire(\"ready\",this);this.fire(\"show\",{});this._.editor.fire(\"dialogShow\",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=this.parts.dialog,b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),f=\n(c.width-b.width)/2,d=(c.height-b.height)/2;CKEDITOR.env.ie6Compat||(b.height+(0<d?d:0)>c.height||b.width+(0<f?f:0)>c.width?a.setStyle(\"position\",\"absolute\"):a.setStyle(\"position\",\"fixed\"));this.move(this._.moved?this._.position.x:f,this._.moved?this._.position.y:d)},foreach:function(a){for(var b in this._.contents)for(var c in this._.contents[b])a.call(this,this._.contents[b][c]);return this},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),\nsetupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},commitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire(\"hide\",{});this._.editor.fire(\"dialogHide\",this);this.selectPage(this._.tabIdList[0]);var a=this._.element;a.setStyle(\"display\",\"none\");this.parts.dialog.setStyle(\"visibility\",\n\"hidden\");for(I(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();b.setStyle(\"z-index\",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else r(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener(\"keydown\",G);a.removeListener(\"keyup\",E);var c=this._.editor;\nc.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;this.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],c=a.label?' title\\x3d\"'+CKEDITOR.tools.htmlEncode(a.label)+'\"':\"\",f=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:\"vbox\",className:\"cke_dialog_page_contents\",\nchildren:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||\"width: 100%;\"},b),d=this._.contents[a.id]={},g=f.getChild(),e=0;f=g.shift();)f.notAllowed||\"hbox\"==f.type||\"vbox\"==f.type||e++,d[f.id]=f,\"function\"==typeof f.getChild&&g.push.apply(g,f.getChild());e||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(\"\"));b.setAttribute(\"role\",\"tabpanel\");f=CKEDITOR.env;d=\"cke_\"+a.id+\"_\"+CKEDITOR.tools.getNextNumber();c=CKEDITOR.dom.element.createFromHtml(['\\x3ca class\\x3d\"cke_dialog_tab\"',\n0<this._.pageCount?\" cke_last\":\"cke_first\",c,a.hidden?' style\\x3d\"display:none\"':\"\",' id\\x3d\"',d,'\"',f.gecko&&!f.hc?\"\":' href\\x3d\"javascript:void(0)\"',' tabIndex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"tab\"\\x3e',a.label,\"\\x3c/a\\x3e\"].join(\"\"));b.setAttribute(\"aria-labelledby\",d);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;this._.lastTab=c;this.updateStyle();b.setAttribute(\"name\",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&\n(F(this,this,\"CTRL+\"+a.accessKey,K,H),this._.accessKeyMap[\"CTRL+\"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass(\"cke_dialog_tab_disabled\")&&!1!==this.fire(\"selectPage\",{page:a,currentPage:this._.currentTabId})){for(var c in this._.tabs){var f=this._.tabs[c][0],d=this._.tabs[c][1];c!=a&&(f.removeClass(\"cke_dialog_tab_selected\"),d.hide());d.setAttribute(\"aria-hidden\",c!=a)}var g=this._.tabs[a];g[0].addClass(\"cke_dialog_tab_selected\");CKEDITOR.env.ie6Compat||\nCKEDITOR.env.ie7Compat?(b(g[1]),g[1].show(),setTimeout(function(){b(g[1],1)},0)):g[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?\"add\":\"remove\")+\"Class\"](\"cke_single_page\")},hidePage:function(b){var c=this._.tabs[b]&&this._.tabs[b][0];c&&1!=this._.pageCount&&c.isVisible()&&(b==this._.currentTabId&&this.selectPage(a.call(this)),c.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=\nthis._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},\nenableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){if(\"undefined\"==typeof b)b=this._.focusList.length,this._.focusList.push(new k(this,a,b));else{this._.focusList.splice(b,0,new k(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this._.focusList[c].focusIndex++}},\nsetState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,c={attributes:{\"class\":\"cke_dialog_spinner\"},styles:{\"float\":\"rtl\"==b?\"right\":\"left\"}};c.styles[\"margin-\"+(\"rtl\"==b?\"left\":\"right\")]=\"8px\";this.parts.spinner=CKEDITOR.document.createElement(\"div\",c);this.parts.spinner.setHtml(\"\\x26#8987;\");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton(\"ok\").disable()}else a==\nCKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton(\"ok\").enable());this.fire(\"state\",a)}}};CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(a,b){this._.dialogDefinitions[a]&&\"function\"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,c){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp(\"(?:^|;)\"+b+\":\"+c+\"(?:$|;)\",\n\"i\")))},okButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"ok\",type:\"button\",label:a.lang.common.ok,\"class\":\"cke_dialog_ui_button_ok\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"ok\",{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:\"button\"},!0)};return a}(),cancelButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"cancel\",type:\"button\",label:a.lang.common.cancel,\n\"class\":\"cke_dialog_ui_button_cancel\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"cancel\",{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:\"button\"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);\nvar q={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},t=function(a,b,c){for(var f=0,d;d=a[f];f++)if(d.id==b||c&&d[c]&&(d=t(d[c],b,c)))return d;return null},u=function(a,b,c,f,d){if(c){for(var g=0,e;e=a[g];g++){if(e.id==c)return a.splice(g,0,b),b;if(f&&e[f]&&(e=u(e[f],b,c,f,!0)))return e}if(d)return null}a.push(b);return b},A=function(a,b,c){for(var f=0,d;d=a[f];f++){if(d.id==b)return a.splice(f,1);if(c&&d[c]&&(d=A(d[c],\nb,c)))return d}return null},z=function(a,b){this.dialog=a;for(var c=b.contents,f=0,d;d=c[f];f++)c[f]=d&&new h(a,d);CKEDITOR.tools.extend(this,b)};z.prototype={getContents:function(a){return t(this.contents,a)},getButton:function(a){return t(this.buttons,a)},addContents:function(a,b){return u(this.contents,a,b)},addButton:function(a,b){return u(this.buttons,a,b)},removeContents:function(a){A(this.contents,a)},removeButton:function(a){A(this.buttons,a)}};h.prototype={get:function(a){return t(this.elements,\na,\"children\")},add:function(a,b){return u(this.elements,a,b,\"children\")},remove:function(a){A(this.elements,a,\"children\")}};var w,C={},y,B={},G=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,f=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);(b=B[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(f?\"SHIFT+\":\"\")+d])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())},E=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,\nf=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);(b=B[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(f?\"SHIFT+\":\"\")+d])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),a.data.preventDefault()))},F=function(a,b,c,f,d){(B[c]||(B[c]=[])).push({uiElement:a,dialog:b,key:c,keyup:d||a.accessKeyUp,keydown:f||a.accessKeyDown})},I=function(a){for(var b in B){for(var c=B[b],f=c.length-1;0<=f;f--)c[f].dialog!=a&&c[f].uiElement!=a||c.splice(f,1);0===c.length&&delete B[b]}},H=function(a,\nb){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},K=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,f,d,g,e){if(!(4>arguments.length)){var h=(f.call?f(b):f)||\"div\",k=[\"\\x3c\",h,\" \"],l=(d&&d.call?d(b):d)||{},m=(g&&g.call?g(b):g)||{},n=(e&&e.call?e.call(this,a,b):e)||\"\",q=this.domId=m.id||CKEDITOR.tools.getNextId()+\"_uiElement\";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(l.display=\"none\",this.notAllowed=!0);m.id=q;var u={};b.type&&(u[\"cke_dialog_ui_\"+\nb.type]=1);b.className&&(u[b.className]=1);b.disabled&&(u.cke_disabled=1);for(var t=m[\"class\"]&&m[\"class\"].split?m[\"class\"].split(\" \"):[],q=0;q<t.length;q++)t[q]&&(u[t[q]]=1);t=[];for(q in u)t.push(q);m[\"class\"]=t.join(\" \");b.title&&(m.title=b.title);u=(b.style||\"\").split(\";\");b.align&&(t=b.align,l[\"margin-left\"]=\"left\"==t?0:\"auto\",l[\"margin-right\"]=\"right\"==t?0:\"auto\");for(q in l)u.push(q+\":\"+l[q]);b.hidden&&u.push(\"display:none\");for(q=u.length-1;0<=q;q--)\"\"===u[q]&&u.splice(q,1);0<u.length&&(m.style=\n(m.style?m.style+\"; \":\"\")+u.join(\"; \"));for(q in m)k.push(q+'\\x3d\"'+CKEDITOR.tools.htmlEncode(m[q])+'\" ');k.push(\"\\x3e\",n,\"\\x3c/\",h,\"\\x3e\");c.push(k.join(\"\"));(this._||(this._={})).dialog=a;\"boolean\"==typeof b.isChanged&&(this.isChanged=function(){return b.isChanged});\"function\"==typeof b.isChanged&&(this.isChanged=b.isChanged);\"function\"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));\"function\"==typeof b.getValue&&\n(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);this.accessKeyUp&&this.accessKeyDown&&b.accessKey&&F(this,a,\"CTRL+\"+b.accessKey);var p=this;a.on(\"load\",function(){var b=p.getInputElement();if(b){var c=p.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?\"cke_dialog_ui_focused\":\"\";b.on(\"focus\",function(){a._.tabBarMode=!1;a._.hasFocus=!0;p.fire(\"focus\");\nc&&this.addClass(c)});b.on(\"blur\",function(){p.fire(\"blur\");c&&this.removeClass(c)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=a._.focusList.push(this)-1,this.on(\"focus\",function(){a._.currentFocusIndex=p.focusIndex}))}},hbox:function(a,b,c,f,d){if(!(4>arguments.length)){this._||(this._={});var g=this._.children=b,e=d&&d.widths||null,h=d&&d.height||null,k,l={role:\"presentation\"};d&&d.align&&(l.align=d.align);CKEDITOR.ui.dialog.uiElement.call(this,\na,d||{type:\"hbox\"},f,\"table\",{},l,function(){var a=['\\x3ctbody\\x3e\\x3ctr class\\x3d\"cke_dialog_ui_hbox\"\\x3e'];for(k=0;k<c.length;k++){var b=\"cke_dialog_ui_hbox_child\",f=[];0===k&&(b=\"cke_dialog_ui_hbox_first\");k==c.length-1&&(b=\"cke_dialog_ui_hbox_last\");a.push('\\x3ctd class\\x3d\"',b,'\" role\\x3d\"presentation\" ');e?e[k]&&f.push(\"width:\"+v(e[k])):f.push(\"width:\"+Math.floor(100/c.length)+\"%\");h&&f.push(\"height:\"+v(h));d&&void 0!==d.padding&&f.push(\"padding:\"+v(d.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&\ng[k].align&&f.push(\"text-align:\"+g[k].align);0<f.length&&a.push('style\\x3d\"'+f.join(\"; \")+'\" ');a.push(\"\\x3e\",c[k],\"\\x3c/td\\x3e\")}a.push(\"\\x3c/tr\\x3e\\x3c/tbody\\x3e\");return a.join(\"\")})}},vbox:function(a,b,c,f,d){if(!(3>arguments.length)){this._||(this._={});var g=this._.children=b,e=d&&d.width||null,h=d&&d.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,d||{type:\"vbox\"},f,\"div\",null,{role:\"presentation\"},function(){var b=['\\x3ctable role\\x3d\"presentation\" cellspacing\\x3d\"0\" border\\x3d\"0\" '];\nb.push('style\\x3d\"');d&&d.expand&&b.push(\"height:100%;\");b.push(\"width:\"+v(e||\"100%\"),\";\");CKEDITOR.env.webkit&&b.push(\"float:none;\");b.push('\"');b.push('align\\x3d\"',CKEDITOR.tools.htmlEncode(d&&d.align||(\"ltr\"==a.getParentEditor().lang.dir?\"left\":\"right\")),'\" ');b.push(\"\\x3e\\x3ctbody\\x3e\");for(var f=0;f<c.length;f++){var k=[];b.push('\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\" ');e&&k.push(\"width:\"+v(e||\"100%\"));h?k.push(\"height:\"+v(h[f])):d&&d.expand&&k.push(\"height:\"+Math.floor(100/c.length)+\"%\");\nd&&void 0!==d.padding&&k.push(\"padding:\"+v(d.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&g[f].align&&k.push(\"text-align:\"+g[f].align);0<k.length&&b.push('style\\x3d\"',k.join(\"; \"),'\" ');b.push(' class\\x3d\"cke_dialog_ui_vbox_child\"\\x3e',c[f],\"\\x3c/td\\x3e\\x3c/tr\\x3e\")}b.push(\"\\x3c/tbody\\x3e\\x3c/table\\x3e\");return b.join(\"\")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},\nsetValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire(\"change\",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=this.getInputElement();(a=a.getParent())&&-1==a.$.className.search(\"cke_dialog_page_contents\"););if(!a)return this;a=a.getAttribute(\"name\");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();\nreturn this},registerEvents:function(a){var b=/^on([A-Z]\\w+)/,c,f=function(a,b,c,f){b.on(\"load\",function(){a.getInputElement().on(c,f,a)})},d;for(d in a)if(c=d.match(b))this.eventProcessors[d]?this.eventProcessors[d].call(this,this._.dialog,a[d]):f(this,this._.dialog,c[1].toLowerCase(),a[d]);return this},eventProcessors:{onLoad:function(a,b){a.on(\"load\",b,this)},onShow:function(a,b){a.on(\"show\",b,this)},onHide:function(a,b){a.on(\"hide\",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},\ndisable:function(){var a=this.getElement();this.getInputElement().setAttribute(\"disabled\",\"true\");a.addClass(\"cke_disabled\")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute(\"disabled\");a.removeClass(\"cke_disabled\")},isEnabled:function(){return!this.getElement().hasClass(\"cke_disabled\")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,\n{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?this._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,b,c){for(var f=b.children,d,g=[],e=[],h=0;h<f.length&&(d=f[h]);h++){var k=[];g.push(k);e.push(CKEDITOR.dialog._.uiElementBuilders[d.type].build(a,d,k))}return new CKEDITOR.ui.dialog[b.type](a,\ne,g,c,b)}};CKEDITOR.dialog.addUIElement(\"hbox\",a);CKEDITOR.dialog.addUIElement(\"vbox\",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;CKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){var b=this.tabId;a.openDialog(this.dialogName,function(a){b&&a.selectPage(b)})},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\\d*$/,c=/^\\d*(?:\\.\\d+)?$/,f=/^(((\\d*(\\.\\d+))|(\\d*))(px|\\%)?)?$/,d=/^(((\\d*(\\.\\d+))|(\\d*))(px|em|ex|in|cm|mm|pt|pc|\\%)?)?$/i,\ng=/^(\\s*[\\w-]+\\s*:\\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():a[0],c,f=CKEDITOR.VALIDATE_AND,d=[],g;for(g=0;g<a.length;g++)if(\"function\"==typeof a[g])d.push(a[g]);else break;g<a.length&&\"string\"==typeof a[g]&&(c=a[g],g++);g<a.length&&\"number\"==typeof a[g]&&(f=a[g]);var e=f==CKEDITOR.VALIDATE_AND?!0:!1;for(g=0;g<d.length;g++)e=f==CKEDITOR.VALIDATE_AND?e&&\nd[g](b):e||d[g](b);return e?!0:c}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return a.test(c)?!0:b}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,a)},number:function(a){return this.regex(c,a)},cssLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return f.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return g.test(CKEDITOR.tools.trim(a))},\na)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on(\"instanceDestroyed\",function(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var c in C)C[c].remove();C={}}a=a.editor._.storedDialogs;for(var f in a)a[f].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b){var c=null,f=CKEDITOR.dialog._.dialogDefinitions[a];\nnull===CKEDITOR.dialog._.currentTop&&p(this);if(\"function\"==typeof f)c=this._.storedDialogs||(this._.storedDialogs={}),c=c[a]||(c[a]=new CKEDITOR.dialog(this,a)),b&&b.call(c,c),c.show();else{if(\"failed\"==f)throw r(this),Error('[CKEDITOR.dialog.openDialog] Dialog \"'+a+'\" failed when loading definition.');\"string\"==typeof f&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f),function(){\"function\"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]=\"failed\");this.openDialog(a,\nb)},this,0,1)}CKEDITOR.skin.loadPart(\"dialog\");return c}})}(),CKEDITOR.plugins.add(\"dialog\",{requires:\"dialogui\",init:function(a){a.on(\"doubleclick\",function(e){e.data.dialog&&a.openDialog(e.data.dialog)},null,null,999)}}),function(){CKEDITOR.plugins.add(\"a11yhelp\",{requires:\"dialog\",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-au\":1,\"en-gb\":1,eo:1,es:1,\"es-mx\":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,\"fr-ca\":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,\nku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,\"pt-br\":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,\"sr-latn\":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},init:function(a){var e=this;a.addCommand(\"a11yHelp\",{exec:function(){var b=a.langCode,b=e.availableLangs[b]?b:e.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+\"dialogs/lang/\"+b+\".js\"),function(){a.lang.a11yhelp=e.langEntries[b];a.openDialog(\"a11yHelp\")})},modes:{wysiwyg:1,source:1},\nreadOnly:1,canUndo:!1});a.setKeystroke(CKEDITOR.ALT+48,\"a11yHelp\");CKEDITOR.dialog.add(\"a11yHelp\",this.path+\"dialogs/a11yhelp.js\");a.on(\"ariaEditorHelpLabel\",function(b){b.data.label=a.lang.common.editorHelp})}})}(),CKEDITOR.plugins.add(\"about\",{requires:\"dialog\",init:function(a){var e=a.addCommand(\"about\",new CKEDITOR.dialogCommand(\"about\"));e.modes={wysiwyg:1,source:1};e.canUndo=!1;e.readOnly=1;a.ui.addButton&&a.ui.addButton(\"About\",{label:a.lang.about.dlgTitle,command:\"about\",toolbar:\"about\"});\nCKEDITOR.dialog.add(\"about\",this.path+\"dialogs/about.js\")}}),CKEDITOR.plugins.add(\"basicstyles\",{init:function(a){var e=0,b=function(b,d,h,l){if(l){l=new CKEDITOR.style(l);var f=c[h];f.unshift(l);a.attachStyleStateChange(l,function(b){!a.readOnly&&a.getCommand(h).setState(b)});a.addCommand(h,new CKEDITOR.styleCommand(l,{contentForms:f}));a.ui.addButton&&a.ui.addButton(b,{label:d,command:h,toolbar:\"basicstyles,\"+(e+=10)})}},c={bold:[\"strong\",\"b\",[\"span\",function(a){a=a.styles[\"font-weight\"];return\"bold\"==\na||700<=+a}]],italic:[\"em\",\"i\",[\"span\",function(a){return\"italic\"==a.styles[\"font-style\"]}]],underline:[\"u\",[\"span\",function(a){return\"underline\"==a.styles[\"text-decoration\"]}]],strike:[\"s\",\"strike\",[\"span\",function(a){return\"line-through\"==a.styles[\"text-decoration\"]}]],subscript:[\"sub\"],superscript:[\"sup\"]},d=a.config,l=a.lang.basicstyles;b(\"Bold\",l.bold,\"bold\",d.coreStyles_bold);b(\"Italic\",l.italic,\"italic\",d.coreStyles_italic);b(\"Underline\",l.underline,\"underline\",d.coreStyles_underline);b(\"Strike\",\nl.strike,\"strike\",d.coreStyles_strike);b(\"Subscript\",l.subscript,\"subscript\",d.coreStyles_subscript);b(\"Superscript\",l.superscript,\"superscript\",d.coreStyles_superscript);a.setKeystroke([[CKEDITOR.CTRL+66,\"bold\"],[CKEDITOR.CTRL+73,\"italic\"],[CKEDITOR.CTRL+85,\"underline\"]])}}),CKEDITOR.config.coreStyles_bold={element:\"strong\",overrides:\"b\"},CKEDITOR.config.coreStyles_italic={element:\"em\",overrides:\"i\"},CKEDITOR.config.coreStyles_underline={element:\"u\"},CKEDITOR.config.coreStyles_strike={element:\"s\",\noverrides:\"strike\"},CKEDITOR.config.coreStyles_subscript={element:\"sub\"},CKEDITOR.config.coreStyles_superscript={element:\"sup\"},function(){var a={exec:function(a){var b=a.getCommand(\"blockquote\").state,c=a.getSelection(),d=c&&c.getRanges()[0];if(d){var l=c.createBookmarks();if(CKEDITOR.env.ie){var k=l[0].startNode,g=l[0].endNode,h;if(k&&\"blockquote\"==k.getParent().getName())for(h=k;h=h.getNext();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){k.move(h,!0);break}if(g&&\"blockquote\"==g.getParent().getName())for(h=\ng;h=h.getPrevious();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){g.move(h);break}}var m=d.createIterator();m.enlargeBr=a.config.enterMode!=CKEDITOR.ENTER_BR;if(b==CKEDITOR.TRISTATE_OFF){for(k=[];b=m.getNextParagraph();)k.push(b);1>k.length&&(b=a.document.createElement(a.config.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),g=l.shift(),d.insertNode(b),b.append(new CKEDITOR.dom.text(\"﻿\",a.document)),d.moveToBookmark(g),d.selectNodeContents(b),d.collapse(!0),g=d.createBookmark(),k.push(b),l.unshift(g));\nh=k[0].getParent();d=[];for(g=0;g<k.length;g++)b=k[g],h=h.getCommonAncestor(b.getParent());for(b={table:1,tbody:1,tr:1,ol:1,ul:1};b[h.getName()];)h=h.getParent();for(g=null;0<k.length;){for(b=k.shift();!b.getParent().equals(h);)b=b.getParent();b.equals(g)||d.push(b);g=b}for(;0<d.length;)if(b=d.shift(),\"blockquote\"==b.getName()){for(g=new CKEDITOR.dom.documentFragment(a.document);b.getFirst();)g.append(b.getFirst().remove()),k.push(g.getLast());g.replace(b)}else k.push(b);d=a.document.createElement(\"blockquote\");\nfor(d.insertBefore(k[0]);0<k.length;)b=k.shift(),d.append(b)}else if(b==CKEDITOR.TRISTATE_ON){g=[];for(h={};b=m.getNextParagraph();){for(k=d=null;b.getParent();){if(\"blockquote\"==b.getParent().getName()){d=b.getParent();k=b;break}b=b.getParent()}d&&k&&!k.getCustomData(\"blockquote_moveout\")&&(g.push(k),CKEDITOR.dom.element.setMarker(h,k,\"blockquote_moveout\",!0))}CKEDITOR.dom.element.clearAllMarkers(h);b=[];k=[];for(h={};0<g.length;)m=g.shift(),d=m.getParent(),m.getPrevious()?m.getNext()?(m.breakParent(m.getParent()),\nk.push(m.getNext())):m.remove().insertAfter(d):m.remove().insertBefore(d),d.getCustomData(\"blockquote_processed\")||(k.push(d),CKEDITOR.dom.element.setMarker(h,d,\"blockquote_processed\",!0)),b.push(m);CKEDITOR.dom.element.clearAllMarkers(h);for(g=k.length-1;0<=g;g--){d=k[g];a:{h=d;for(var m=0,f=h.getChildCount(),n=void 0;m<f&&(n=h.getChild(m));m++)if(n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()){h=!1;break a}h=!0}h&&d.remove()}if(a.config.enterMode==CKEDITOR.ENTER_BR)for(d=!0;b.length;)if(m=b.shift(),\n\"div\"==m.getName()){g=new CKEDITOR.dom.documentFragment(a.document);!d||!m.getPrevious()||m.getPrevious().type==CKEDITOR.NODE_ELEMENT&&m.getPrevious().isBlockBoundary()||g.append(a.document.createElement(\"br\"));for(d=m.getNext()&&!(m.getNext().type==CKEDITOR.NODE_ELEMENT&&m.getNext().isBlockBoundary());m.getFirst();)m.getFirst().remove().appendTo(g);d&&g.append(a.document.createElement(\"br\"));g.replace(m);d=!1}}c.selectBookmarks(l);a.focus()}},refresh:function(a,b){this.setState(a.elementPath(b.block||\nb.blockLimit).contains(\"blockquote\",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:\"blockquote\",allowedContent:\"blockquote\",requiredContent:\"blockquote\"};CKEDITOR.plugins.add(\"blockquote\",{init:function(e){e.blockless||(e.addCommand(\"blockquote\",a),e.ui.addButton&&e.ui.addButton(\"Blockquote\",{label:e.lang.blockquote.toolbar,command:\"blockquote\",toolbar:\"blocks,10\"}))}})}(),\"use strict\",function(){function a(a,c){CKEDITOR.tools.extend(this,c,{editor:a,id:\"cke-\"+CKEDITOR.tools.getUniqueId(),\narea:a._.notificationArea});c.type||(this.type=\"info\");this.element=this._createElement();a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function e(a){var c=this;this.editor=a;this.notifications=[];this.element=this._createElement();this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this);this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this);a.on(\"destroy\",function(){c._removeListeners();c.element.remove()})}CKEDITOR.plugins.add(\"notification\",\n{init:function(a){function c(a){var b=new CKEDITOR.dom.element(\"div\");b.setStyles({position:\"fixed\",\"margin-left\":\"-9999px\"});b.setAttributes({\"aria-live\":\"assertive\",\"aria-atomic\":\"true\"});b.setText(a);CKEDITOR.document.getBody().append(b);setTimeout(function(){b.remove()},100)}a._.notificationArea=new e(a);a.showNotification=function(c,e,k){var g,h;\"progress\"==e?g=k:h=k;c=new CKEDITOR.plugins.notification(a,{message:c,type:e,progress:g,duration:h});c.show();return c};a.on(\"key\",function(d){if(27==\nd.data.keyCode){var e=a._.notificationArea.notifications;e.length&&(c(a.lang.notification.closed),e[e.length-1].hide(),d.cancel())}})}});a.prototype={show:function(){!1!==this.editor.fire(\"notificationShow\",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(a){var c=!0;!1===this.editor.fire(\"notificationUpdate\",{notification:this,options:a})&&(c=!1);var d=this.element,e=d.findOne(\".cke_notification_message\"),k=d.findOne(\".cke_notification_progress\"),g=a.type;d.removeAttribute(\"role\");\na.progress&&\"progress\"!=this.type&&(g=\"progress\");g&&(d.removeClass(this._getClass()),d.removeAttribute(\"aria-label\"),this.type=g,d.addClass(this._getClass()),d.setAttribute(\"aria-label\",this.type),\"progress\"!=this.type||k?\"progress\"!=this.type&&k&&k.remove():(k=this._createProgressElement(),k.insertBefore(e)));void 0!==a.message&&(this.message=a.message,e.setHtml(this.message));void 0!==a.progress&&(this.progress=a.progress,k&&k.setStyle(\"width\",this._getPercentageProgress()));c&&a.important&&(d.setAttribute(\"role\",\n\"alert\"),this.isVisible()||this.area.add(this));this.duration=a.duration;this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire(\"notificationHide\",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var a=this,c,d,e=this.editor.lang.common.close;c=new CKEDITOR.dom.element(\"div\");c.addClass(\"cke_notification\");c.addClass(this._getClass());c.setAttributes({id:this.id,role:\"alert\",\"aria-label\":this.type});\n\"progress\"==this.type&&c.append(this._createProgressElement());d=new CKEDITOR.dom.element(\"p\");d.addClass(\"cke_notification_message\");d.setHtml(this.message);c.append(d);d=CKEDITOR.dom.element.createFromHtml('\\x3ca class\\x3d\"cke_notification_close\" href\\x3d\"javascript:void(0)\" title\\x3d\"'+e+'\" role\\x3d\"button\" tabindex\\x3d\"-1\"\\x3e\\x3cspan class\\x3d\"cke_label\"\\x3eX\\x3c/span\\x3e\\x3c/a\\x3e');c.append(d);d.on(\"click\",function(){a.editor.focus();a.hide()});return c},_getClass:function(){return\"progress\"==\nthis.type?\"cke_notification_info\":\"cke_notification_\"+this.type},_createProgressElement:function(){var a=new CKEDITOR.dom.element(\"span\");a.addClass(\"cke_notification_progress\");a.setStyle(\"width\",this._getPercentageProgress());return a},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+\"%\"},_hideAfterTimeout:function(){var a=this,c;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId);if(\"number\"==typeof this.duration)c=this.duration;else if(\"info\"==this.type||\"success\"==\nthis.type)c=\"number\"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5E3;c&&(a._hideTimeoutId=setTimeout(function(){a.hide()},c))}};e.prototype={add:function(a){this.notifications.push(a);this.element.append(a.element);1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners());this._layout()},remove:function(a){var c=CKEDITOR.tools.indexOf(this.notifications,a);0>c||(this.notifications.splice(c,1),a.element.remove(),\nthis.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var a=this.editor,c=a.config,d=new CKEDITOR.dom.element(\"div\");d.addClass(\"cke_notifications_area\");d.setAttribute(\"id\",\"cke_notifications_area_\"+a.name);d.setStyle(\"z-index\",c.baseFloatZIndex-2);return d},_attachListeners:function(){var a=CKEDITOR.document.getWindow(),c=this.editor;a.on(\"scroll\",this._uiBuffer.input);a.on(\"resize\",this._uiBuffer.input);c.on(\"change\",this._changeBuffer.input);\nc.on(\"floatingSpaceLayout\",this._layout,this,null,20);c.on(\"blur\",this._layout,this,null,20)},_removeListeners:function(){var a=CKEDITOR.document.getWindow(),c=this.editor;a.removeListener(\"scroll\",this._uiBuffer.input);a.removeListener(\"resize\",this._uiBuffer.input);c.removeListener(\"change\",this._changeBuffer.input);c.removeListener(\"floatingSpaceLayout\",this._layout);c.removeListener(\"blur\",this._layout)},_layout:function(){function a(){c.setStyle(\"left\",t(u+e.width-n-p))}var c=this.element,d=\nthis.editor,e=d.ui.contentsElement.getClientRect(),k=d.ui.contentsElement.getDocumentPosition(),g,h,m=c.getClientRect(),f,n=this._notificationWidth,p=this._notificationMargin;f=CKEDITOR.document.getWindow();var r=f.getScrollPosition(),v=f.getViewPaneSize(),x=CKEDITOR.document.getBody(),q=x.getDocumentPosition(),t=CKEDITOR.tools.cssLength;n&&p||(f=this.element.getChild(0),n=this._notificationWidth=f.getClientRect().width,p=this._notificationMargin=parseInt(f.getComputedStyle(\"margin-left\"),10)+parseInt(f.getComputedStyle(\"margin-right\"),\n10));d.toolbar&&(g=d.ui.space(\"top\"),h=g.getClientRect());g&&g.isVisible()&&h.bottom>e.top&&h.bottom<e.bottom-m.height?c.setStyles({position:\"fixed\",top:t(h.bottom)}):0<e.top?c.setStyles({position:\"absolute\",top:t(k.y)}):k.y+e.height-m.height>r.y?c.setStyles({position:\"fixed\",top:0}):c.setStyles({position:\"absolute\",top:t(k.y+e.height-m.height)});var u=\"fixed\"==c.getStyle(\"position\")?e.left:\"static\"!=x.getComputedStyle(\"position\")?k.x-q.x:k.x;e.width<n+p?k.x+n+p>r.x+v.width?a():c.setStyle(\"left\",\nt(u)):k.x+n+p>r.x+v.width?c.setStyle(\"left\",t(u)):k.x+e.width/2+n/2+p>r.x+v.width?c.setStyle(\"left\",t(u-k.x+r.x+v.width-n-p)):0>e.left+e.width-n-p?a():0>e.left+e.width/2-n/2?c.setStyle(\"left\",t(u-k.x+r.x)):c.setStyle(\"left\",t(u+e.width/2-n/2-p/2))}};CKEDITOR.plugins.notification=a}(),function(){var a='\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_button cke_button__{name} cke_button_{state} {cls}\"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' title\\x3d\"{title}\" tabindex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-describedby\\x3d\"{id}_description\" aria-haspopup\\x3d\"{hasArrow}\" aria-disabled\\x3d\"{ariaDisabled}\"';\nCKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{style}\"'),\na=a+'\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_button_label cke_button__{name}_label\" aria-hidden\\x3d\"false\"\\x3e{label}\\x3c/span\\x3e\\x3cspan id\\x3d\"{id}_description\" class\\x3d\"cke_button_label\" aria-hidden\\x3d\"false\"\\x3e{ariaShortcut}\\x3c/span\\x3e{arrowHtml}\\x3c/a\\x3e',e=CKEDITOR.addTemplate(\"buttonArrow\",'\\x3cspan class\\x3d\"cke_button_arrow\"\\x3e'+(CKEDITOR.env.hc?\"\\x26#9660;\":\"\")+\"\\x3c/span\\x3e\"),b=CKEDITOR.addTemplate(\"button\",a);CKEDITOR.plugins.add(\"button\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,\nCKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON=\"button\";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};CKEDITOR.ui.button.prototype={render:function(a,d){function l(){var b=a.mode;b&&(b=this.modes[b]?void 0!==k[b]?k[b]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,b=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:\nb,this.setState(b),this.refresh&&this.refresh())}var k=null,g=CKEDITOR.env,h=this._.id=CKEDITOR.tools.getNextId(),m=\"\",f=this.command,n,p,r;this._.editor=a;var v={id:h,button:this,editor:a,focus:function(){CKEDITOR.document.getById(h).focus()},execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},x=CKEDITOR.tools.addFunction(function(a){if(v.onkey)return a=new CKEDITOR.dom.event(a),!1!==v.onkey(v,a.getKeystroke())}),q=CKEDITOR.tools.addFunction(function(a){var b;v.onfocus&&\n(b=!1!==v.onfocus(v,new CKEDITOR.dom.event(a)));return b}),t=0;v.clickFn=n=CKEDITOR.tools.addFunction(function(){t&&(a.unlockSelection(1),t=0);v.execute();g.iOS&&a.focus()});this.modes?(k={},a.on(\"beforeModeUnload\",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(k[a.mode]=this._.state)},this),a.on(\"activeFilterChange\",l,this),a.on(\"mode\",l,this),!this.readOnly&&a.on(\"readOnly\",l,this)):f&&(f=a.getCommand(f))&&(f.on(\"state\",function(){this.setState(f.state)},this),m+=f.state==CKEDITOR.TRISTATE_ON?\n\"on\":f.state==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\");var u;if(this.directional)a.on(\"contentDirChanged\",function(b){var f=CKEDITOR.document.getById(this._.id),d=f.getFirst();b=b.data;b!=a.lang.dir?f.addClass(\"cke_\"+b):f.removeClass(\"cke_ltr\").removeClass(\"cke_rtl\");d.setAttribute(\"style\",CKEDITOR.skin.getIconStyle(u,\"rtl\"==b,this.icon,this.iconOffset))},this);f?(p=a.getCommandKeystroke(f))&&(r=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,p)):m+=\"off\";p=this.name||this.command;var A=\nnull,z=this.icon;u=p;this.icon&&!/\\./.test(this.icon)?(u=this.icon,z=null):(this.icon&&(A=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(A=this.iconHiDpi));A?(CKEDITOR.skin.addIcon(A,A),z=null):A=u;m={id:h,name:p,iconName:u,label:this.label,cls:this.className||\"\",state:m,ariaDisabled:\"disabled\"==m?\"true\":\"false\",title:this.title+(r?\" (\"+r.display+\")\":\"\"),ariaShortcut:r?a.lang.common.keyboardShortcut+\" \"+r.aria:\"\",titleJs:g.gecko&&!g.hc?\"\":(this.title||\"\").replace(\"'\",\"\"),hasArrow:this.hasArrow?\"true\":\n\"false\",keydownFn:x,focusFn:q,clickFn:n,style:CKEDITOR.skin.getIconStyle(A,\"rtl\"==a.lang.dir,z,this.iconOffset),arrowHtml:this.hasArrow?e.output():\"\"};b.output(m,d);if(this.onRender)this.onRender();return v},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,\"cke_button\"),a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute(\"aria-disabled\",!0):b.removeAttribute(\"aria-disabled\"),this.hasArrow?(a=a==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,\nthis.label):this.label,CKEDITOR.document.getById(this._.id+\"_label\").setText(a)):a==CKEDITOR.TRISTATE_ON?b.setAttribute(\"aria-pressed\",!0):b.removeAttribute(\"aria-pressed\"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=b}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}}(),function(){function a(a){function b(){for(var f=\nc(),h=CKEDITOR.tools.clone(a.config.toolbarGroups)||e(a),m=0;m<h.length;m++){var l=h[m];if(\"/\"!=l){\"string\"==typeof l&&(l=h[m]={name:l});var x,q=l.groups;if(q)for(var t=0;t<q.length;t++)x=q[t],(x=f[x])&&g(l,x);(x=f[l.name])&&g(l,x)}}return h}function c(){var b={},f,g,e;for(f in a.ui.items)g=a.ui.items[f],e=g.toolbar||\"others\",e=e.split(\",\"),g=e[0],e=parseInt(e[1]||-1,10),b[g]||(b[g]=[]),b[g].push({name:f,order:e});for(g in b)b[g]=b[g].sort(function(a,b){return a.order==b.order?0:0>b.order?-1:0>a.order?\n1:a.order<b.order?-1:1});return b}function g(b,c){if(c.length){b.items?b.items.push(a.ui.create(\"-\")):b.items=[];for(var f;f=c.shift();)f=\"string\"==typeof f?f:f.name,m&&-1!=CKEDITOR.tools.indexOf(m,f)||(f=a.ui.create(f))&&a.addFeature(f)&&b.items.push(f)}}function h(a){var b=[],c,f,d;for(c=0;c<a.length;++c)f=a[c],d={},\"/\"==f?b.push(f):CKEDITOR.tools.isArray(f)?(g(d,CKEDITOR.tools.clone(f)),b.push(d)):f.items&&(g(d,CKEDITOR.tools.clone(f.items)),d.name=f.name,b.push(d));return b}var m=a.config.removeButtons,\nm=m&&m.split(\",\"),f=a.config.toolbar;\"string\"==typeof f&&(f=a.config[\"toolbar_\"+f]);return a.toolbar=f?h(f):b()}function e(a){return a._.toolbarGroups||(a._.toolbarGroups=[{name:\"document\",groups:[\"mode\",\"document\",\"doctools\"]},{name:\"clipboard\",groups:[\"clipboard\",\"undo\"]},{name:\"editing\",groups:[\"find\",\"selection\",\"spellchecker\"]},{name:\"forms\"},\"/\",{name:\"basicstyles\",groups:[\"basicstyles\",\"cleanup\"]},{name:\"paragraph\",groups:[\"list\",\"indent\",\"blocks\",\"align\",\"bidi\"]},{name:\"links\"},{name:\"insert\"},\n\"/\",{name:\"styles\"},{name:\"colors\"},{name:\"tools\"},{name:\"others\"},{name:\"about\"}])}var b=function(){this.toolbars=[];this.focusCommandExecuted=!1};b.prototype.focus=function(){for(var a=0,b;b=this.toolbars[a++];)for(var c=0,g;g=b.items[c++];)if(g.focus){g.focus();return}};var c={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},100):a.toolbox.focus())}};CKEDITOR.plugins.add(\"toolbar\",\n{requires:\"button\",init:function(d){var e,k=function(a,b){var c,f=\"rtl\"==d.lang.dir,n=d.config.toolbarGroupCycling,p=f?37:39,f=f?39:37,n=void 0===n||n;switch(b){case 9:case CKEDITOR.SHIFT+9:for(;!c||!c.items.length;)if(c=9==b?(c?c.next:a.toolbar.next)||d.toolbox.toolbars[0]:(c?c.previous:a.toolbar.previous)||d.toolbox.toolbars[d.toolbox.toolbars.length-1],c.items.length)for(a=c.items[e?c.items.length-1:0];a&&!a.focus;)(a=e?a.previous:a.next)||(c=0);a&&a.focus();return!1;case p:c=a;do c=c.next,!c&&\nn&&(c=a.toolbar.items[0]);while(c&&!c.focus);c?c.focus():k(a,9);return!1;case 40:return a.button&&a.button.hasArrow?a.execute():k(a,40==b?p:f),!1;case f:case 38:c=a;do c=c.previous,!c&&n&&(c=a.toolbar.items[a.toolbar.items.length-1]);while(c&&!c.focus);c?c.focus():(e=1,k(a,CKEDITOR.SHIFT+9),e=0);return!1;case 27:return d.focus(),!1;case 13:case 32:return a.execute(),!1}return!0};d.on(\"uiSpace\",function(c){if(c.data.space==d.config.toolbarLocation){c.removeListener();d.toolbox=new b;var e=CKEDITOR.tools.getNextId(),\nl=['\\x3cspan id\\x3d\"',e,'\" class\\x3d\"cke_voice_label\"\\x3e',d.lang.toolbar.toolbars,\"\\x3c/span\\x3e\",'\\x3cspan id\\x3d\"'+d.ui.spaceId(\"toolbox\")+'\" class\\x3d\"cke_toolbox\" role\\x3d\"group\" aria-labelledby\\x3d\"',e,'\" onmousedown\\x3d\"return false;\"\\x3e'],e=!1!==d.config.toolbarStartupExpanded,f,n;d.config.toolbarCanCollapse&&d.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&l.push('\\x3cspan class\\x3d\"cke_toolbox_main\"'+(e?\"\\x3e\":' style\\x3d\"display:none\"\\x3e'));for(var p=d.toolbox.toolbars,r=a(d),v=r.length,\nx=0;x<v;x++){var q,t=0,u,A=r[x],z=\"/\"!==A&&(\"/\"===r[x+1]||x==v-1),w;if(A)if(f&&(l.push(\"\\x3c/span\\x3e\"),n=f=0),\"/\"===A)l.push('\\x3cspan class\\x3d\"cke_toolbar_break\"\\x3e\\x3c/span\\x3e');else{w=A.items||A;for(var C=0;C<w.length;C++){var y=w[C],B;if(y){var G=function(a){a=a.render(d,l);E=t.items.push(a)-1;0<E&&(a.previous=t.items[E-1],a.previous.next=a);a.toolbar=t;a.onkey=k;a.onfocus=function(){d.toolbox.focusCommandExecuted||d.focus()}};if(y.type==CKEDITOR.UI_SEPARATOR)n=f&&y;else{B=!1!==y.canGroup;\nif(!t){q=CKEDITOR.tools.getNextId();t={id:q,items:[]};u=A.name&&(d.lang.toolbar.toolbarGroups[A.name]||A.name);l.push('\\x3cspan id\\x3d\"',q,'\" class\\x3d\"cke_toolbar'+(z?' cke_toolbar_last\"':'\"'),u?' aria-labelledby\\x3d\"'+q+'_label\"':\"\",' role\\x3d\"toolbar\"\\x3e');u&&l.push('\\x3cspan id\\x3d\"',q,'_label\" class\\x3d\"cke_voice_label\"\\x3e',u,\"\\x3c/span\\x3e\");l.push('\\x3cspan class\\x3d\"cke_toolbar_start\"\\x3e\\x3c/span\\x3e');var E=p.push(t)-1;0<E&&(t.previous=p[E-1],t.previous.next=t)}B?f||(l.push('\\x3cspan class\\x3d\"cke_toolgroup\" role\\x3d\"presentation\"\\x3e'),\nf=1):f&&(l.push(\"\\x3c/span\\x3e\"),f=0);n&&(G(n),n=0);G(y)}}}f&&(l.push(\"\\x3c/span\\x3e\"),n=f=0);t&&l.push('\\x3cspan class\\x3d\"cke_toolbar_end\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e')}}d.config.toolbarCanCollapse&&l.push(\"\\x3c/span\\x3e\");if(d.config.toolbarCanCollapse&&d.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var F=CKEDITOR.tools.addFunction(function(){d.execCommand(\"toolbarCollapse\")});d.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(F)});d.addCommand(\"toolbarCollapse\",{readOnly:1,exec:function(a){var b=\na.ui.space(\"toolbar_collapser\"),c=b.getPrevious(),f=a.ui.space(\"contents\"),d=c.getParent(),g=parseInt(f.$.style.height,10),e=d.$.offsetHeight,h=b.hasClass(\"cke_toolbox_collapser_min\");h?(c.show(),b.removeClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarCollapse)):(c.hide(),b.addClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarExpand));b.getFirst().setText(h?\"▲\":\"◀\");f.setStyle(\"height\",g-(d.$.offsetHeight-e)+\"px\");a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,\ncontentsHeight:f.$.offsetHeight,outerWidth:a.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});d.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),\"toolbarCollapse\");l.push('\\x3ca title\\x3d\"'+(e?d.lang.toolbar.toolbarCollapse:d.lang.toolbar.toolbarExpand)+'\" id\\x3d\"'+d.ui.spaceId(\"toolbar_collapser\")+'\" tabIndex\\x3d\"-1\" class\\x3d\"cke_toolbox_collapser');e||l.push(\" cke_toolbox_collapser_min\");l.push('\" onclick\\x3d\"CKEDITOR.tools.callFunction('+F+')\"\\x3e','\\x3cspan class\\x3d\"cke_arrow\"\\x3e\\x26#9650;\\x3c/span\\x3e',\n\"\\x3c/a\\x3e\")}l.push(\"\\x3c/span\\x3e\");c.data.html+=l.join(\"\")}});d.on(\"destroy\",function(){if(this.toolbox){var a,b=0,c,f,d;for(a=this.toolbox.toolbars;b<a.length;b++)for(f=a[b].items,c=0;c<f.length;c++)d=f[c],d.clickFn&&CKEDITOR.tools.removeFunction(d.clickFn),d.keyDownFn&&CKEDITOR.tools.removeFunction(d.keyDownFn)}});d.on(\"uiReady\",function(){var a=d.ui.space(\"toolbox\");a&&d.focusManager.add(a,1)});d.addCommand(\"toolbarFocus\",c);d.setKeystroke(CKEDITOR.ALT+121,\"toolbarFocus\");d.ui.add(\"-\",CKEDITOR.UI_SEPARATOR,\n{});d.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,b){b.push('\\x3cspan class\\x3d\"cke_toolbar_separator\" role\\x3d\"separator\"\\x3e\\x3c/span\\x3e');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,b,c){var g=e(this.editor),h=0===b,m={name:a};if(c){if(c=CKEDITOR.tools.search(g,function(a){return a.name==c})){!c.groups&&(c.groups=[]);if(b&&(b=CKEDITOR.tools.indexOf(c.groups,b),0<=b)){c.groups.splice(b+1,0,a);return}h?c.groups.splice(0,0,a):c.groups.push(a);\nreturn}b=null}b&&(b=CKEDITOR.tools.indexOf(g,function(a){return a.name==b}));h?g.splice(0,0,a):\"number\"==typeof b?g.splice(b+1,0,m):g.push(a)}}(),CKEDITOR.UI_SEPARATOR=\"separator\",CKEDITOR.config.toolbarLocation=\"top\",\"use strict\",function(){function a(a,b,c){b.type||(b.type=\"auto\");if(c&&!1===a.fire(\"beforePaste\",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue=\"\");if(CKEDITOR.env.gecko&&\"drop\"==b.method&&a.toolbox)a.once(\"afterPaste\",function(){a.toolbox.focus()});return a.fire(\"paste\",\nb)}function e(b){function c(){var a=b.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var d=function(a){b.getSelection().isCollapsed()||(b.readOnly&&\"cut\"==a.name||B.initPasteDataTransfer(a,b),a.data.preventDefault())};a.on(\"copy\",d);a.on(\"cut\",d);a.on(\"cut\",function(){b.readOnly||b.extractSelectedHtml()},null,null,999)}a.on(B.mainPasteEvent,function(a){\"beforepaste\"==B.mainPasteEvent&&G||w(a)});\"beforepaste\"==B.mainPasteEvent&&(a.on(\"paste\",function(a){E||(e(),a.data.preventDefault(),\nw(a),k(\"paste\"))}),a.on(\"contextmenu\",h,null,null,0),a.on(\"beforepaste\",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||h()},null,null,0));a.on(\"beforecut\",function(){!G&&l(b)});var g;a.attachListener(CKEDITOR.env.ie?a:b.document.getDocumentElement(),\"mouseup\",function(){g=setTimeout(function(){C()},0)});b.on(\"destroy\",function(){clearTimeout(g)});a.on(\"keyup\",C)}function d(a){return{type:a,canUndo:\"cut\"==a,startDisabled:!0,fakeKeystroke:\"cut\"==a?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){\"cut\"==\nthis.type&&l();var a;var c=this.type;if(CKEDITOR.env.ie)a=k(c);else try{a=b.document.$.execCommand(c,!1,null)}catch(d){a=!1}a||b.showNotification(b.lang.clipboard[this.type+\"Error\"]);return a}}}function g(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(b,c){function f(c,e){e=\"undefined\"!==typeof e?e:!0;c?(c.method=\"paste\",c.dataTransfer||(c.dataTransfer=B.initPasteDataTransfer()),a(b,c,e)):g&&!b._.forcePasteDialog&&b.showNotification(k,\"info\",b.config.clipboard_notificationDuration);\nb._.forcePasteDialog=!1;b.fire(\"afterCommandExec\",{name:\"paste\",command:d,returnValue:!!c})}c=\"undefined\"!==typeof c&&null!==c?c:{};var d=this,g=\"undefined\"!==typeof c.notification?c.notification:!0,e=c.type,h=CKEDITOR.tools.keystrokeToString(b.lang.common.keyboard,b.getCommandKeystroke(this)),k=\"string\"===typeof g?g:b.lang.clipboard.pasteNotification.replace(/%1/,'\\x3ckbd aria-label\\x3d\"'+h.aria+'\"\\x3e'+h.display+\"\\x3c/kbd\\x3e\"),h=\"string\"===typeof c?c:c.dataValue;e&&!0!==b.config.forcePasteAsPlainText&&\n\"allow-word\"!==b.config.forcePasteAsPlainText?b._.nextPasteType=e:delete b._.nextPasteType;\"string\"===typeof h?f({dataValue:h}):b.getClipboardData(f)}}}function e(){E=1;setTimeout(function(){E=0},100)}function h(){G=1;setTimeout(function(){G=0},10)}function k(a){var c=b.document,d=c.getBody(),g=!1,e=function(){g=!0};d.on(a,e);7<CKEDITOR.env.version?c.$.execCommand(a):c.$.selection.createRange().execCommand(a);d.removeListener(a,e);return g}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var a=\nb.getSelection(),c,d,g;a.getType()==CKEDITOR.SELECTION_ELEMENT&&(c=a.getSelectedElement())&&(d=a.getRanges()[0],g=b.document.createText(\"\"),g.insertBefore(c),d.setStartBefore(g),d.setEndAfter(c),a.selectRanges([d]),setTimeout(function(){c.getParent()&&(g.remove(),a.selectElement(c))},0))}}function m(a,c){var d=b.document,g=b.editable(),e=function(a){a.cancel()},h;if(!d.getById(\"cke_pastebin\")){var k=b.getSelection(),l=k.createBookmarks();CKEDITOR.env.ie&&k.root.fire(\"selectionchange\");var n=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&\n!g.is(\"body\")||CKEDITOR.env.ie?\"div\":\"body\",d);n.setAttributes({id:\"cke_pastebin\",\"data-cke-temp\":\"1\"});var q=0,d=d.getWindow();CKEDITOR.env.webkit?(g.append(n),n.addClass(\"cke_editable\"),g.is(\"body\")||(q=\"static\"!=g.getComputedStyle(\"position\")?g:CKEDITOR.dom.element.get(g.$.offsetParent),q=q.getDocumentPosition().y)):g.getAscendant(CKEDITOR.env.ie?\"body\":\"html\",1).append(n);n.setStyles({position:\"absolute\",top:d.getScrollPosition().y-q+10+\"px\",width:\"1px\",height:Math.max(1,d.getViewPaneSize().height-\n20)+\"px\",overflow:\"hidden\",margin:0,padding:0});CKEDITOR.env.safari&&n.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"text\"));(q=n.getParent().isReadOnly())?(n.setOpacity(0),n.setAttribute(\"contenteditable\",!0)):n.setStyle(\"ltr\"==b.config.contentsLangDirection?\"left\":\"right\",\"-10000px\");b.on(\"selectionChange\",e,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)h=g.once(\"blur\",e,null,null,-100);q&&n.focus();q=new CKEDITOR.dom.range(n);q.selectNodeContents(n);var u=q.select();CKEDITOR.env.ie&&\n(h=g.once(\"blur\",function(){b.lockSelection(u)}));var t=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=t);h&&h.removeListener();CKEDITOR.env.ie&&g.focus();k.selectBookmarks(l);n.remove();var a;CKEDITOR.env.webkit&&(a=n.getFirst())&&a.is&&a.hasClass(\"Apple-style-span\")&&(n=a);b.removeListener(\"selectionChange\",e);c(n.getHtml())},0)}}function A(){if(\"paste\"==B.mainPasteEvent)return b.fire(\"beforePaste\",{type:\"auto\",\nmethod:\"paste\"}),!1;b.focus();e();var a=b.focusManager;a.lock();if(b.editable().fire(B.mainPasteEvent)&&!k(\"paste\"))return a.unlock(),!1;a.unlock();return!0}function z(a){if(\"wysiwyg\"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:a=b.editable();e();\"paste\"==B.mainPasteEvent&&a.fire(\"beforepaste\");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire(\"saveSnapshot\"),setTimeout(function(){b.fire(\"saveSnapshot\")},50)}}function w(c){var d={type:\"auto\",method:\"paste\",\ndataTransfer:B.initPasteDataTransfer(c)};d.dataTransfer.cacheData();var g=!1!==b.fire(\"beforePaste\",d);g&&B.canClipboardApiBeTrusted(d.dataTransfer,b)?(c.data.preventDefault(),setTimeout(function(){a(b,d)},0)):m(c,function(c){d.dataValue=c.replace(/<span[^>]+data-cke-bookmark[^<]*?<\\/span>/ig,\"\");g&&a(b,d)})}function C(){if(\"wysiwyg\"==b.mode){var a=y(\"paste\");b.getCommand(\"cut\").setState(y(\"cut\"));b.getCommand(\"copy\").setState(y(\"copy\"));b.getCommand(\"paste\").setState(a);b.fire(\"pasteState\",a)}}function y(a){if(F&&\na in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if(\"paste\"==a)return CKEDITOR.TRISTATE_OFF;a=b.getSelection();var c=a.getRanges();return a.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var B=CKEDITOR.plugins.clipboard,G=0,E=0,F=0;(function(){b.on(\"key\",z);b.on(\"contentDom\",c);b.on(\"selectionChange\",function(a){F=a.data.selection.getRanges()[0].checkReadOnly();C()});if(b.contextMenu){b.contextMenu.addListener(function(a,b){F=\nb.getRanges()[0].checkReadOnly();return{cut:y(\"cut\"),copy:y(\"copy\"),paste:y(\"paste\")}});var a=null;b.on(\"menuShow\",function(){a&&(a.removeListener(),a=null);var c=b.contextMenu.findItemByCommandName(\"paste\");c&&c.element&&(a=c.element.on(\"touchend\",function(){b._.forcePasteDialog=!0}))})}if(b.ui.addButton)b.once(\"instanceReady\",function(){b._.pasteButtons&&CKEDITOR.tools.array.forEach(b._.pasteButtons,function(a){if(a=b.ui.get(a))CKEDITOR.document.getById(a._.id).on(\"touchend\",function(){b._.forcePasteDialog=\n!0})})})})();(function(){function a(c,d,g,e,h){var k=b.lang.clipboard[d];b.addCommand(d,g);b.ui.addButton&&b.ui.addButton(c,{label:k,command:d,toolbar:\"clipboard,\"+e});b.addMenuItems&&b.addMenuItem(d,{label:k,command:d,group:\"clipboard\",order:h})}a(\"Cut\",\"cut\",d(\"cut\"),10,1);a(\"Copy\",\"copy\",d(\"copy\"),20,4);a(\"Paste\",\"paste\",g(),30,8);b._.pasteButtons||(b._.pasteButtons=[]);b._.pasteButtons.push(\"Paste\")})();b.getClipboardData=function(a,c){function d(a){a.removeListener();a.cancel();c(a.data)}function g(a){a.removeListener();\na.cancel();c({type:h,dataValue:a.data.dataValue,dataTransfer:a.data.dataTransfer,method:\"paste\"})}var e=!1,h=\"auto\";c||(c=a,a=null);b.on(\"beforePaste\",function(a){a.removeListener();e=!0;h=a.data.type},null,null,1E3);b.on(\"paste\",d,null,null,0);!1===A()&&(b.removeListener(\"paste\",d),b._.forcePasteDialog&&e&&b.fire(\"pasteDialog\")?(b.on(\"pasteDialogCommit\",g),b.on(\"dialogHide\",function(a){a.removeListener();a.data.removeListener(\"pasteDialogCommit\",g);a.data._.committed||c(null)})):c(null))}}function b(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&\n!a.match(/^(<div><br( ?\\/)?><\\/div>|<div>[^<]*<\\/div>)*$/gi))return\"html\"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi)&&!a.match(/^(<p>([^<]|<br( ?\\/)?>)*<\\/p>|(\\r\\n))*$/gi))return\"html\"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi))return\"html\"}else return\"html\";return\"htmlifiedtext\"}function c(a,b){function c(a){return CKEDITOR.tools.repeat(\"\\x3c/p\\x3e\\x3cp\\x3e\",~~(a/2))+(1==a%2?\"\\x3cbr\\x3e\":\"\")}b=b.replace(/\\s+/g,\" \").replace(/> +</g,\"\\x3e\\x3c\").replace(/<br ?\\/>/gi,\n\"\\x3cbr\\x3e\");b=b.replace(/<\\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&-1<b.indexOf(\"\\x3cdiv\\x3e\")&&(b=b.replace(/^(<div>(<br>|)<\\/div>)(?!$|(<div>(<br>|)<\\/div>))/g,\"\\x3cbr\\x3e\").replace(/^(<div>(<br>|)<\\/div>){2}(?!$)/g,\"\\x3cdiv\\x3e\\x3c/div\\x3e\"),b.match(/<div>(<br>|)<\\/div>/)&&(b=\"\\x3cp\\x3e\"+b.replace(/(<div>(<br>|)<\\/div>)+/g,function(a){return c(a.split(\"\\x3c/div\\x3e\\x3cdiv\\x3e\").length+1)})+\"\\x3c/p\\x3e\"),b=b.replace(/<\\/div><div>/g,\"\\x3cbr\\x3e\"),\nb=b.replace(/<\\/?div>/g,\"\"));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,\"\\x3cbr\\x3e\")),-1<b.indexOf(\"\\x3cbr\\x3e\\x3cbr\\x3e\")&&(b=\"\\x3cp\\x3e\"+b.replace(/(<br>){2,}/g,function(a){return c(a.length/4)})+\"\\x3c/p\\x3e\"));return k(a,b)}function d(){function a(){var b={},c;for(c in CKEDITOR.dtd)\"$\"!=c.charAt(0)&&\"div\"!=c&&\"span\"!=c&&(b[c]=1);return b}var b={};return{get:function(c){return\"plain-text\"==c?b.plainText||(b.plainText=new CKEDITOR.filter(\"br\")):\n\"semantic-content\"==c?((c=b.semanticContent)||(c=new CKEDITOR.filter,c.allow({$1:{elements:a(),attributes:!0,styles:!1,classes:!1}}),c=b.semanticContent=c),c):c?new CKEDITOR.filter(c):null}}}function l(a,b,c){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var d=new CKEDITOR.htmlParser.basicWriter;c.applyTo(b,!0,!1,a.activeEnterMode);b.writeHtml(d);return d.getHtml()}function k(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat(\"\\x3cbr\\x3e\",a.length/\n7*2)}).replace(/<\\/?p>/g,\"\"):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\\/)?p>/g,\"\\x3c$1div\\x3e\"));return b}function g(a){a.data.preventDefault();a.data.$.dataTransfer.dropEffect=\"none\"}function h(b){var c=CKEDITOR.plugins.clipboard;b.on(\"contentDom\",function(){function d(c,g,e){g.select();a(b,{dataTransfer:e,method:\"drop\"},1);e.sourceEditor.fire(\"saveSnapshot\");e.sourceEditor.editable().extractHtmlFromRange(c);e.sourceEditor.getSelection().selectRanges([c]);e.sourceEditor.fire(\"saveSnapshot\")}\nfunction g(d,e){d.select();a(b,{dataTransfer:e,method:\"drop\"},1);c.resetDragDataTransfer()}function e(a,c,d){var g={$:a.data.$,target:a.data.getTarget()};c&&(g.dragRange=c);d&&(g.dropRange=d);!1===b.fire(a.name,g)&&a.data.preventDefault()}function h(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}var k=b.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(b),m=b.ui.space(\"top\"),A=b.ui.space(\"bottom\");c.preventDefaultDropOnElement(m);c.preventDefaultDropOnElement(A);\nk.attachListener(l,\"dragstart\",e);k.attachListener(b,\"dragstart\",c.resetDragDataTransfer,c,null,1);k.attachListener(b,\"dragstart\",function(a){c.initDragDataTransfer(a,b)},null,null,2);k.attachListener(b,\"dragstart\",function(){var a=c.dragRange=b.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(c.dragStartContainerChildCount=a?h(a.startContainer):null,c.dragEndContainerChildCount=a?h(a.endContainer):null)},null,null,100);k.attachListener(l,\"dragend\",e);k.attachListener(b,\"dragend\",\nc.initDragDataTransfer,c,null,1);k.attachListener(b,\"dragend\",c.resetDragDataTransfer,c,null,100);k.attachListener(l,\"dragover\",function(a){if(CKEDITOR.env.edge)a.data.preventDefault();else{var b=a.data.getTarget();b&&b.is&&b.is(\"html\")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains(\"Files\")&&a.data.preventDefault()}});k.attachListener(l,\"drop\",function(a){if(!a.data.$.defaultPrevented){a.data.preventDefault();var d=a.data.getTarget();\nif(!d.isReadOnly()||d.type==CKEDITOR.NODE_ELEMENT&&d.is(\"html\")){var d=c.getRangeAtDropPosition(a,b),g=c.dragRange;d&&e(a,g,d)}}},null,null,9999);k.attachListener(b,\"drop\",c.initDragDataTransfer,c,null,1);k.attachListener(b,\"drop\",function(a){if(a=a.data){var e=a.dropRange,h=a.dragRange,k=a.dataTransfer;k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){c.internalDrop(h,e,k,b)},0):k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?d(h,e,k):g(e,k)}},null,null,9999)})}\nvar m;CKEDITOR.plugins.add(\"clipboard\",{requires:\"dialog,notification,toolbar\",init:function(a){var g,k=d();a.config.forcePasteAsPlainText?g=\"plain-text\":a.config.pasteFilter?g=a.config.pasteFilter:!CKEDITOR.env.webkit||\"pasteFilter\"in a.config||(g=\"semantic-content\");a.pasteFilter=k.get(g);e(a);h(a);CKEDITOR.dialog.add(\"paste\",CKEDITOR.getUrl(this.path+\"dialogs/paste.js\"));if(CKEDITOR.env.gecko){var m=[\"image/png\",\"image/jpeg\",\"image/gif\"],v;a.on(\"paste\",function(b){var c=b.data,d=c.dataTransfer;\nif(!c.dataValue&&\"paste\"==c.method&&d&&1==d.getFilesCount()&&v!=d.id&&(d=d.getFile(0),-1!=CKEDITOR.tools.indexOf(m,d.type))){var g=new FileReader;g.addEventListener(\"load\",function(){b.data.dataValue='\\x3cimg src\\x3d\"'+g.result+'\" /\\x3e';a.fire(\"paste\",b.data)},!1);g.addEventListener(\"abort\",function(){a.fire(\"paste\",b.data)},!1);g.addEventListener(\"error\",function(){a.fire(\"paste\",b.data)},!1);g.readAsDataURL(d);v=c.dataTransfer.id;b.stop()}},null,null,1)}a.on(\"paste\",function(b){b.data.dataTransfer||\n(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var c=b.data.dataTransfer,d=c.getData(\"text/html\");if(d)b.data.dataValue=d,b.data.type=\"html\";else if(d=c.getData(\"text/plain\"))b.data.dataValue=a.editable().transformPlainTextToHtml(d),b.data.type=\"text\"}},null,null,1);a.on(\"paste\",function(a){var b=a.data.dataValue,c=CKEDITOR.dtd.$block;-1<b.indexOf(\"Apple-\")&&(b=b.replace(/<span class=\"Apple-converted-space\">&nbsp;<\\/span>/gi,\" \"),\"html\"!=a.data.type&&(b=b.replace(/<span class=\"Apple-tab-span\"[^>]*>([^<]*)<\\/span>/gi,\nfunction(a,b){return b.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\")})),-1<b.indexOf('\\x3cbr class\\x3d\"Apple-interchange-newline\"\\x3e')&&(a.data.startsWithEOL=1,a.data.preSniffing=\"html\",b=b.replace(/<br class=\"Apple-interchange-newline\">/,\"\")),b=b.replace(/(<[^>]+) class=\"Apple-[^\"]*\"/gi,\"$1\"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var d,f,g=new CKEDITOR.dom.element(\"div\");for(g.setHtml(b);1==g.getChildCount()&&(d=g.getFirst())&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasClass(\"cke_editable\")||\nd.hasClass(\"cke_contents\"));)g=f=d;f&&(b=f.getHtml().replace(/<br>$/i,\"\"))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\\r\\n)?<(\\w+)/g,function(b,d){return d.toLowerCase()in c?(a.data.preSniffing=\"html\",\"\\x3c\"+d):b}):CKEDITOR.env.webkit?b=b.replace(/<\\/(\\w+)><div><br><\\/div>$/,function(b,d){return d in c?(a.data.endsWithEOL=1,\"\\x3c/\"+d+\"\\x3e\"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\\s)<br>$/,\"$1\"));a.data.dataValue=b},null,null,3);a.on(\"paste\",function(d){d=d.data;var g=a._.nextPasteType||d.type,e=d.dataValue,\nh,m=a.config.clipboard_defaultContentType||\"html\",n=d.dataTransfer.getTransferType(a);h=\"html\"==g||\"html\"==d.preSniffing?\"html\":b(e);delete a._.nextPasteType;\"htmlifiedtext\"==h&&(e=c(a.config,e));\"text\"==g&&\"html\"==h?e=l(a,e,k.get(\"plain-text\")):n==CKEDITOR.DATA_TRANSFER_EXTERNAL&&a.pasteFilter&&!d.dontFilter&&(e=l(a,e,a.pasteFilter));d.startsWithEOL&&(e='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e'+e);d.endsWithEOL&&(e+='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e');\"auto\"==g&&(g=\"html\"==h||\"html\"==m?\"html\":\"text\");d.type=\ng;d.dataValue=e;delete d.preSniffing;delete d.startsWithEOL;delete d.endsWithEOL},null,null,6);a.on(\"paste\",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire(\"afterPaste\")},0))},null,null,1E3);a.on(\"pasteDialog\",function(b){setTimeout(function(){a.openDialog(\"paste\",b.data)},0)})}});CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:(!CKEDITOR.env.ie||16<=CKEDITOR.env.version)&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie||\n16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?\"beforepaste\":\"paste\",addPasteButton:function(a,b,c){a.ui.addButton&&(a.ui.addButton(b,c),a._.pasteButtons||(a._.pasteButtons=[]),a._.pasteButtons.push(b))},canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData(\"text/html\")||a.getFilesCount())||CKEDITOR.env.safari&&\n603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.edge&&16<=CKEDITOR.env.version?!0:!1},getDropTarget:function(a){var b=a.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,b,c,d){function g(a,c,d){var f=a;f.type==CKEDITOR.NODE_TEXT&&(f=a.getParent());if(f.equals(c)&&d!=c.getChildCount())return a=b.startContainer.getChild(b.startOffset-1),c=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&c&&c.type==\nCKEDITOR.NODE_TEXT&&(d=a.getLength(),a.setText(a.getText()+c.getText()),c.remove(),b.setStart(a,d),b.collapse(!0)),!0}var e=b.startContainer;\"number\"==typeof d&&\"number\"==typeof c&&e.type==CKEDITOR.NODE_ELEMENT&&(g(a.startContainer,e,c)||g(a.endContainer,e,d))},isDropRangeAffectedByDragRange:function(a,b){var c=b.startContainer,d=b.endOffset;return a.endContainer.equals(c)&&a.endOffset<=d||a.startContainer.getParent().equals(c)&&a.startContainer.getIndex()<d||a.endContainer.getParent().equals(c)&&\na.endContainer.getIndex()<d?!0:!1},internalDrop:function(b,c,d,g){var e=CKEDITOR.plugins.clipboard,h=g.editable(),k,l;g.fire(\"saveSnapshot\");g.fire(\"lockSnapshot\",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(b,c,e.dragStartContainerChildCount,e.dragEndContainerChildCount);(l=this.isDropRangeAffectedByDragRange(b,c))||(k=b.createBookmark(!1));e=c.clone().createBookmark(!1);l&&(k=b.createBookmark(!1));b=k.startNode;c=k.endNode;l=e.startNode;c&&b.getPosition(l)&\nCKEDITOR.POSITION_PRECEDING&&c.getPosition(l)&CKEDITOR.POSITION_FOLLOWING&&l.insertBefore(b);b=g.createRange();b.moveToBookmark(k);h.extractHtmlFromRange(b,1);c=g.createRange();c.moveToBookmark(e);a(g,{dataTransfer:d,method:\"drop\",range:c},1);g.fire(\"unlockSnapshot\")},getRangeAtDropPosition:function(a,b){var c=a.data.$,d=c.clientX,g=c.clientY,e=b.getSelection(!0).getRanges()[0],h=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint&&b.document.$.caretRangeFromPoint(d,\ng))c=b.document.$.caretRangeFromPoint(d,g),h.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),h.collapse(!0);else if(c.rangeParent)h.setStart(CKEDITOR.dom.node(c.rangeParent),c.rangeOffset),h.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&e&&b.editable().hasFocus)return e;if(document.body.createTextRange){b.focus();c=b.document.getBody().$.createTextRange();try{for(var k=!1,l=0;20>l&&!k;l++){if(!k)try{c.moveToPoint(d,g-l),k=!0}catch(m){}if(!k)try{c.moveToPoint(d,g+l),k=!0}catch(z){}}if(k){var w=\n\"cke-temp-\"+(new Date).getTime();c.pasteHTML('\\x3cspan id\\x3d\"'+w+'\"\\x3e​\\x3c/span\\x3e');var C=b.document.getById(w);h.moveToPosition(C,CKEDITOR.POSITION_BEFORE_START);C.remove()}else{var y=b.document.$.elementFromPoint(d,g),B=new CKEDITOR.dom.element(y),G;if(B.equals(b.editable())||\"html\"==B.getName())return e&&e.startContainer&&!e.startContainer.equals(b.editable())?e:null;G=B.getClientRect();d<G.left?h.setStartAt(B,CKEDITOR.POSITION_AFTER_START):h.setStartAt(B,CKEDITOR.POSITION_BEFORE_END);h.collapse(!0)}}catch(E){return null}}else return null}return h},\ninitDragDataTransfer:function(a,b){var c=a.data.$?a.data.$.dataTransfer:null,d=new this.dataTransfer(c,b);\"dragstart\"===a.name&&d.storeId();c?this.dragData&&d.id==this.dragData.id?d=this.dragData:this.dragData=d:this.dragData?d=this.dragData:this.dragData=d;a.data.dataTransfer=d},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&a.data&&a.data.$){var c=a.data.$.clipboardData,d=new this.dataTransfer(c,b);\"copy\"!==a.name&&\n\"cut\"!==a.name||d.storeId();this.copyCutData&&d.id==this.copyCutData.id?(d=this.copyCutData,d.$=c):this.copyCutData=d;return d}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&a&&a.data.$&&a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:function(a){a&&a.on(\"dragover\",g)}};m=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?\"cke/id\":\"Text\";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\\s\\S]*?)>([\\s\\S]*)<\\/body>/i,\nfragmentRegExp:/\\x3c!--(?:Start|End)Fragment--\\x3e/g,data:{},files:[],nativeHtmlCache:\"\",normalizeType:function(a){a=a.toLowerCase();return\"text\"==a||\"text/plain\"==a?\"Text\":\"url\"==a?\"URL\":a}};this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this);this.id=this.getData(m);this.id||(this.id=\"Text\"==m?\"\":\"cke-\"+CKEDITOR.tools.getUniqueId());b&&(this.sourceEditor=b,this.setData(\"text/html\",b.getSelectedHtml(1)),\"Text\"==m||this.getData(\"text/plain\")||this.setData(\"text/plain\",\nb.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(a,b){a=this._.normalizeType(a);var c=\"text/html\"==a&&b?this._.nativeHtmlCache:this._.data[a];if(void 0===c||null===c||\"\"===c){if(this._.fallbackDataTransfer.isRequired())c=this._.fallbackDataTransfer.getData(a,b);else try{c=this.$.getData(a)||\"\"}catch(d){c=\"\"}\"text/html\"!=a||b||(c=this._stripHtml(c))}\"Text\"==\na&&CKEDITOR.env.gecko&&this.getFilesCount()&&\"file://\"==c.substring(0,7)&&(c=\"\");if(\"string\"===typeof c)var g=c.indexOf(\"\\x3c/html\\x3e\"),c=-1!==g?c.substring(0,g+7):c;return c},setData:function(a,b){a=this._.normalizeType(a);\"text/html\"==a?(this._.data[a]=this._stripHtml(b),this._.nativeHtmlCache=b):this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||\"URL\"==a||\"Text\"==a)if(\"Text\"==m&&\"Text\"==a&&(this.id=b),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(a,\nb);else try{this.$.setData(a,b)}catch(c){}},storeId:function(){\"Text\"!==m&&this.setData(m,this.id)},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(c){c=b._.normalizeType(c);var d=b.getData(c);\"text/html\"==c&&(b._.nativeHtmlCache=b.getData(c,!0),d=b._stripHtml(d));d&&(b._.data[c]=d)}if(this.$){var b=this,c,d;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=\n0;c<this.$.types.length;c++)a(this.$.types[c])}else a(\"Text\"),a(\"URL\");d=this._getImageFromClipboard();if(this.$&&this.$.files||d){this._.files=[];if(this.$.files&&this.$.files.length)for(c=0;c<this.$.files.length;c++)this._.files.push(this.$.files[c]);0===this._.files.length&&d&&this._.files.push(d)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(a){return this._.files.length?\nthis._.files[a]:this.$&&this.$.files&&this.$.files.length?this.$.files[a]:0===a?this._getImageFromClipboard():void 0},isEmpty:function(){var a={},b;if(this.getFilesCount())return!1;CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(this._.data),function(b){a[b]=1});if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var c=0;c<this.$.types.length;c++)a[this.$.types[c]]=1}else a.Text=1,a.URL=1;\"Text\"!=m&&(a[m]=0);for(b in a)if(a[b]&&\"\"!==this.getData(b))return!1;\nreturn!0},_getImageFromClipboard:function(){var a;if(this.$&&this.$.items&&this.$.items[0])try{if((a=this.$.items[0].getAsFile())&&a.type)return a}catch(b){}},_stripHtml:function(a){if(a&&a.length){a=a.replace(this._.metaRegExp,\"\");var b=this._.bodyRegExp.exec(a);b&&b.length&&(a=b[1],a=a.replace(this._.fragmentRegExp,\"\"))}return a}};CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(a){this._dataTransfer=a;this._customDataFallbackType=\"text/html\"};CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=\nnull;CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[];CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer,b=this._dataTransfer.$;if(null===a._isCustomMimeTypeSupported)if(b){a._isCustomMimeTypeSupported=!1;try{b.setData(\"cke/mimetypetest\",\"cke test value\"),a._isCustomMimeTypeSupported=\"cke test value\"===b.getData(\"cke/mimetypetest\"),b.clearData(\"cke/mimetypetest\")}catch(c){}}else return!1;return!a._isCustomMimeTypeSupported},\ngetData:function(a,b){var c=this._getData(this._customDataFallbackType,!0);if(b)return c;var c=this._extractDataComment(c),d=null,d=a===this._customDataFallbackType?c.content:c.data&&c.data[a]?c.data[a]:this._getData(a,!0);return null!==d?d:\"\"},setData:function(a,b){var c=a===this._customDataFallbackType;c&&(b=this._applyDataComment(b,this._getFallbackTypeData()));var d=b,g=this._dataTransfer.$;try{g.setData(a,d),c&&(this._dataTransfer._.nativeHtmlCache=d)}catch(e){if(this._isUnsupportedMimeTypeError(e)){c=\nCKEDITOR.plugins.clipboard.fallbackDataTransfer;-1===CKEDITOR.tools.indexOf(c._customTypes,a)&&c._customTypes.push(a);var c=this._getFallbackTypeContent(),h=this._getFallbackTypeData();h[a]=d;try{d=this._applyDataComment(c,h),g.setData(this._customDataFallbackType,d),this._dataTransfer._.nativeHtmlCache=d}catch(k){d=\"\"}}}return d},_getData:function(a,b){var c=this._dataTransfer._.data;if(!b&&c[a])return c[a];try{return this._dataTransfer.$.getData(a)}catch(d){return null}},_getFallbackTypeContent:function(){var a=\nthis._dataTransfer._.data[this._customDataFallbackType];a||(a=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content);return a},_getFallbackTypeData:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,b=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},c=this._dataTransfer._.data;CKEDITOR.tools.array.forEach(a,function(a){void 0!==c[a]?b[a]=c[a]:void 0!==b[a]&&(b[a]=b[a])},this);return b},_isUnsupportedMimeTypeError:function(a){return a.message&&\n-1!==a.message.search(/element not found/gi)},_extractDataComment:function(a){var b={data:null,content:a||\"\"};if(a&&16<a.length){var c;(c=/\\x3c!--cke-data:(.*?)--\\x3e/g.exec(a))&&c[1]&&(b.data=JSON.parse(decodeURIComponent(c[1])),b.content=a.replace(c[0],\"\"))}return b},_applyDataComment:function(a,b){var c=\"\";b&&CKEDITOR.tools.objectKeys(b).length&&(c=\"\\x3c!--cke-data:\"+encodeURIComponent(JSON.stringify(b))+\"--\\x3e\");return c+(a&&a.length?a:\"\")}}}(),CKEDITOR.config.clipboard_notificationDuration=\n1E4,function(){CKEDITOR.plugins.add(\"panel\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL=\"panel\";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,b);CKEDITOR.tools.extend(this,{className:\"\",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};var a=CKEDITOR.addTemplate(\"panel\",\n'\\x3cdiv lang\\x3d\"{langCode}\" id\\x3d\"{id}\" dir\\x3d{dir} class\\x3d\"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}\" style\\x3d\"z-index:{z-index}\" role\\x3d\"presentation\"\\x3e{frame}\\x3c/div\\x3e'),e=CKEDITOR.addTemplate(\"panel-frame\",'\\x3ciframe id\\x3d\"{id}\" class\\x3d\"cke_panel_frame\" role\\x3d\"presentation\" frameborder\\x3d\"0\" src\\x3d\"{src}\"\\x3e\\x3c/iframe\\x3e'),b=CKEDITOR.addTemplate(\"panel-frame-inner\",'\\x3c!DOCTYPE html\\x3e\\x3chtml class\\x3d\"cke_panel_container {env}\" dir\\x3d\"{dir}\" lang\\x3d\"{langCode}\"\\x3e\\x3chead\\x3e{css}\\x3c/head\\x3e\\x3cbody class\\x3d\"cke_{dir}\" style\\x3d\"margin:0;padding:0\" onload\\x3d\"{onload}\"\\x3e\\x3c/body\\x3e\\x3c/html\\x3e');\nCKEDITOR.ui.panel.prototype={render:function(c,d){this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+\"_frame\"),c=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&c.setStyles({overflow:\"scroll\",\"-webkit-overflow-scrolling\":\"touch\"});c=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0;if(this.onLoad)this.onLoad()},this));a.write(b.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:\"window.parent.CKEDITOR.tools.callFunction(\"+\nc+\");\"},l)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on(\"keydown\",function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute(\"dir\");this._.onKeyDown&&!1===this._.onKeyDown(b)?a.data.preventDefault():(27==b||b==(\"rtl\"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(c)}else a=this.document.getById(this.id);this._.holder=a}return a};var l={editorId:c.id,id:this.id,langCode:c.langCode,\ndir:c.lang.dir,cls:this.className,frame:\"\",env:CKEDITOR.env.cssClass,\"z-index\":c.config.baseFloatZIndex+1};if(this.isFramed){var k=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie?\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\":\"\";l.frame=e.output({id:this.id+\"_frame\",src:k})}k=a.output(l);d&&d.push(k);return k},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),\nb);this._.currentBlock||this.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){a=this._.blocks[a];var b=this._.currentBlock,e=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+\"_frame\");b&&b.hide();this._.currentBlock=a;CKEDITOR.fire(\"ariaWidget\",e);a._.focusIndex=-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=\nCKEDITOR.tools.createClass({$:function(a,b){this.element=a.append(a.getDocument().createElement(\"div\",{attributes:{tabindex:-1,\"class\":\"cke_panel_block\"},styles:{display:\"none\"}}));b&&CKEDITOR.tools.extend(this,b);this.element.setAttributes({role:this.attributes.role||\"presentation\",\"aria-label\":this.attributes[\"aria-label\"],title:this.attributes.title||this.attributes[\"aria-label\"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this.element.getElementsByTag(\"a\").getItem(this._.focusIndex=\na),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))},markFirstDisplayed:function(a){for(var b=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&\"none\"==a.getStyle(\"display\")},e=this._.getItems(),k,g,h=e.count()-1;0<=h;h--)if(k=e.getItem(h),k.getAscendant(b)||(g=k,this._.focusIndex=h),\"true\"==k.getAttribute(\"aria-selected\")){g=k;this._.focusIndex=h;break}g&&(a&&a(),CKEDITOR.env.webkit&&g.getDocument().getWindow().focus(),g.focus(),this.onMark&&this.onMark(g))},\ngetItems:function(){return this.element.getElementsByTag(\"a\")}},proto:{show:function(){this.element.setStyle(\"display\",\"\")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle(\"display\",\"none\")},onKeyDown:function(a,b){var e=this.keys[a];switch(e){case \"next\":for(var k=this._.focusIndex,e=this.element.getElementsByTag(\"a\"),g;g=e.getItem(++k);)if(g.getAttribute(\"_cke_focus\")&&g.$.offsetWidth){this._.focusIndex=k;g.focus();break}return g||b?!1:(this._.focusIndex=-1,this.onKeyDown(a,\n1));case \"prev\":k=this._.focusIndex;for(e=this.element.getElementsByTag(\"a\");0<k&&(g=e.getItem(--k));){if(g.getAttribute(\"_cke_focus\")&&g.$.offsetWidth){this._.focusIndex=k;g.focus();break}g=null}return g||b?!1:(this._.focusIndex=e.count(),this.onKeyDown(a,1));case \"click\":case \"mouseup\":return k=this._.focusIndex,(g=0<=k&&this.element.getElementsByTag(\"a\").getItem(k))&&(g.$[e]?g.$[e]():g.$[\"on\"+e]()),!1}return!0}}})}(),CKEDITOR.plugins.add(\"floatpanel\",{requires:\"panel\"}),function(){function a(a,\nc,d,l,k){k=CKEDITOR.tools.genKey(c.getUniqueId(),d.getUniqueId(),a.lang.dir,a.uiColor||\"\",l.css||\"\",k||\"\");var g=e[k];g||(g=e[k]=new CKEDITOR.ui.panel(c,l),g.element=d.append(CKEDITOR.dom.element.createFromHtml(g.render(a),c)),g.element.setStyles({display:\"none\",position:\"absolute\"}));return g}var e={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(b,c,d,e){function k(){f.hide()}d.forceIFrame=1;d.toolbarRelated&&b.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(c=CKEDITOR.document.getById(\"cke_\"+\nb.name));var g=c.getDocument();e=a(b,g,c,d,e||0);var h=e.element,m=h.getFirst(),f=this;h.disableContextMenu();this.element=h;this._={editor:b,panel:e,parentElement:c,definition:d,document:g,iframe:m,children:[],dir:b.lang.dir,showBlockParams:null};b.on(\"mode\",k);b.on(\"resize\",k);g.getWindow().on(\"resize\",function(){this.reposition()},this)},proto:{addBlock:function(a,c){return this._.panel.addBlock(a,c)},addListBlock:function(a,c){return this._.panel.addListBlock(a,c)},getBlock:function(a){return this._.panel.getBlock(a)},\nshowBlock:function(a,c,d,e,k,g){var h=this._.panel,m=h.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var f=this._.editor.editable();this._.returnFocus=f.hasFocus?f:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var n=this.element,f=this._.iframe,f=CKEDITOR.env.ie&&!CKEDITOR.env.edge?f:new CKEDITOR.dom.window(f.$.contentWindow),p=n.getDocument(),r=this._.parentElement.getPositionedAncestor(),v=c.getDocumentPosition(p),p=r?r.getDocumentPosition(p):\n{x:0,y:0},x=\"rtl\"==this._.dir,q=v.x+(e||0)-p.x,t=v.y+(k||0)-p.y;!x||1!=d&&4!=d?x||2!=d&&3!=d||(q+=c.$.offsetWidth-1):q+=c.$.offsetWidth;if(3==d||4==d)t+=c.$.offsetHeight-1;this._.panel._.offsetParentId=c.getId();n.setStyles({top:t+\"px\",left:0,display:\"\"});n.setOpacity(0);n.getFirst().removeStyle(\"width\");this._.editor.focusManager.add(f);this._.blurSet||(CKEDITOR.event.useCapture=!0,f.on(\"blur\",function(a){function b(){delete this._.returnFocus;this.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&\nthis.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(b,0,this)):b.call(this))},this),f.on(\"focus\",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(f.on(\"touchstart\",function(){clearTimeout(this._.hideTimeout)},this),f.on(\"touchend\",function(){this._.hideTimeout=0;this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1);h.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&\n!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=n;a.removeStyle(\"width\");if(m.autoSize){var b=m.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?m.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle(\"width\",b+10+\"px\");b=m.element.$.scrollHeight;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||\n0)+3);a.setStyle(\"height\",b+\"px\");h._.currentBlock.element.setStyle(\"display\",\"none\").removeStyle(\"display\")}else a.removeStyle(\"height\");x&&(q-=n.$.offsetWidth);n.setStyle(\"left\",q+\"px\");var b=h.element.getWindow(),a=n.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,d=a.height||a.bottom-a.top,f=x?a.right:b.width-a.left,e=x?b.width-a.right:a.left;x?f<c&&(q=e>c?q+c:b.width>c?q-a.left:q-a.right+b.width):f<c&&(q=e>c?q-c:b.width>c?q-a.right+b.width:q-a.left);c=a.top;b.height-\na.top<d&&(t=c>d?t-d:b.height>d?t-a.bottom+b.height:t-a.top);CKEDITOR.env.ie&&(b=a=new CKEDITOR.dom.element(n.$.offsetParent),\"html\"==b.getName()&&(b=b.getDocument().getBody()),\"rtl\"==b.getComputedStyle(\"direction\")&&(q=CKEDITOR.env.ie8Compat?q-2*n.getDocument().getDocumentElement().$.scrollLeft:q-(a.$.scrollWidth-a.$.clientWidth)));var a=n.getFirst(),k;(k=a.getCustomData(\"activePanel\"))&&k.onHide&&k.onHide.call(this,1);a.setCustomData(\"activePanel\",this);n.setStyles({top:t+\"px\",left:q+\"px\"});n.setOpacity(1);\ng&&g()},this);h.isLoaded?a():h.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();m.element.focus();CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){m.markFirstDisplayed?m.markFirstDisplayed():m._.markFirstDisplayed()},0):m.markFirstDisplayed?m.markFirstDisplayed():m._.markFirstDisplayed();this._.editor.fire(\"panelShow\",this)},\n0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var a=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,a))},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is(\"a\")&&(this._.lastFocused=\na)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();this.element.setStyle(\"display\",\"none\");this.visible=0;this.element.getFirst().removeCustomData(\"activePanel\");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),a.focus();delete this._.lastFocused;this._.showBlockParams=null;this._.editor.fire(\"panelHide\",this)}},allowBlur:function(a){var c=this._.panel;\nvoid 0!==a&&(c.allowBlur=a);return c.allowBlur},showAsChild:function(a,c,d,e,k,g){if(this._.activeChild!=a||a._.panel._.offsetParentId!=d.getId())this.hideChild(),a.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(c,d,e,k,g),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=\"\"},100)},hideChild:function(a){var c=\nthis._.activeChild;c&&(delete c.onHide,delete this._.activeChild,c.hide(),a&&this.focus())}}});CKEDITOR.on(\"instanceDestroyed\",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),c;for(c in e){var d=e[c];a?d.destroy():d.element.hide()}a&&(e={})})}(),CKEDITOR.plugins.add(\"menu\",{requires:\"floatpanel\",beforeInit:function(a){for(var e=a.config.menu_groups.split(\",\"),b=a._.menuGroups={},c=a._.menuItems={},d=0;d<e.length;d++)b[e[d]]=d+1;a.addMenuGroup=function(a,c){b[a]=c||100};a.addMenuItem=function(a,\nd){b[d.group]&&(c[a]=new CKEDITOR.menuItem(this,a,d))};a.addMenuItems=function(a){for(var b in a)this.addMenuItem(b,a[b])};a.getMenuItem=function(a){return c[a]};a.removeMenuItem=function(a){delete c[a]}}}),function(){function a(a){a.sort(function(a,b){return a.group<b.group?-1:a.group>b.group?1:a.order<b.order?-1:a.order>b.order?1:0})}var e='\\x3cspan class\\x3d\"cke_menuitem\"\\x3e\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}\" href\\x3d\"{href}\" title\\x3d\"{title}\" tabindex\\x3d\"-1\" _cke_focus\\x3d1 hidefocus\\x3d\"true\" role\\x3d\"{role}\" aria-label\\x3d\"{label}\" aria-describedby\\x3d\"{id}_description\" aria-haspopup\\x3d\"{hasPopup}\" aria-disabled\\x3d\"{disabled}\" {ariaChecked} draggable\\x3d\"false\"';\nCKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(e+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\" ondragstart\\x3d\"return false;\"');var e=e+(' onmouseover\\x3d\"CKEDITOR.tools.callFunction({hoverFn},{index});\" onmouseout\\x3d\"CKEDITOR.tools.callFunction({moveOutFn},{index});\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\"\\x3e'),b=CKEDITOR.addTemplate(\"menuItem\",\ne+'\\x3cspan class\\x3d\"cke_menubutton_inner\"\\x3e\\x3cspan class\\x3d\"cke_menubutton_icon\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{iconStyle}\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_menubutton_label\"\\x3e{label}\\x3c/span\\x3e{shortcutHtml}{arrowHtml}\\x3c/span\\x3e\\x3c/a\\x3e\\x3cspan id\\x3d\"{id}_description\" class\\x3d\"cke_voice_label\" aria-hidden\\x3d\"false\"\\x3e{ariaShortcut}\\x3c/span\\x3e\\x3c/span\\x3e'),c=CKEDITOR.addTemplate(\"menuArrow\",'\\x3cspan class\\x3d\"cke_menuarrow\"\\x3e\\x3cspan\\x3e{label}\\x3c/span\\x3e\\x3c/span\\x3e'),\nd=CKEDITOR.addTemplate(\"menuShortcut\",'\\x3cspan class\\x3d\"cke_menubutton_label cke_menubutton_shortcut\"\\x3e{shortcut}\\x3c/span\\x3e');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var c=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath(\"editor\")],level:this._.level-1,block:{}}),d=c.block.attributes=c.attributes||{};!d.role&&(d.role=\"menu\");this._.panelDefinition=\nc},_:{onShow:function(){var a=this.editor.getSelection(),b=a&&a.getStartElement(),c=this.editor.elementPath(),d=this._.listeners;this.removeAll();for(var e=0;e<d.length;e++){var f=d[e](b,a,c);if(f)for(var n in f){var p=this.editor.getMenuItem(n);!p||p.command&&!this.editor.getCommand(p.command).state||(p.state=f[n],this.add(p))}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();else a.command&&this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):\n27==a&&this.hide(1);return!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){var b=this._.subMenu,c=this.items[a];if(c=c.getItems&&c.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var d in c){var e=this.editor.getMenuItem(d);e&&(e.state=c[d],b.add(e))}var f=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+\nString(a));setTimeout(function(){b.show(f,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(b,c,d,e){if(!this.parent&&(this._.onShow(),!this.items.length))return;c=c||(\"rtl\"==this.editor.lang.dir?2:1);var m=this.items,f=this.editor,n=this._.panel,p=this._.element;if(!n){n=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);\nn.onEscape=CKEDITOR.tools.bind(function(a){if(!1===this._.onEscape(a))return!1},this);n.onShow=function(){n._.panel.getHolderElement().getParent().addClass(\"cke\").addClass(\"cke_reset_all\")};n.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);p=n.addBlock(this.id,this._.panelDefinition.block);p.autoSize=!0;var r=p.keys;r[40]=\"next\";r[9]=\"next\";r[38]=\"prev\";r[CKEDITOR.SHIFT+9]=\"prev\";r[\"rtl\"==f.lang.dir?37:39]=CKEDITOR.env.ie?\"mouseup\":\"click\";r[32]=CKEDITOR.env.ie?\"mouseup\":\n\"click\";CKEDITOR.env.ie&&(r[13]=\"mouseup\");p=this._.element=p.element;r=p.getDocument();r.getBody().setStyle(\"overflow\",\"hidden\");r.getElementsByTag(\"html\").getItem(0).setStyle(\"overflow\",\"hidden\");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,f.config.menu_subMenuDelay||400,this,[a])},this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);\nthis._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=this.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}a(m);for(var r=f.elementPath(),r=['\\x3cdiv class\\x3d\"cke_menu'+(r&&r.direction()!=f.lang.dir?\" cke_mixed_dir_content\":\"\")+'\" role\\x3d\"presentation\"\\x3e'],v=m.length,x=v&&m[0].group,q=0;q<v;q++){var t=m[q];x!=t.group&&(r.push('\\x3cdiv class\\x3d\"cke_menuseparator\" role\\x3d\"separator\"\\x3e\\x3c/div\\x3e'),\nx=t.group);t.render(this,q,r)}r.push(\"\\x3c/div\\x3e\");p.setHtml(r.join(\"\"));CKEDITOR.ui.fire(\"ready\",this);this.parent?this.parent._.panel.showAsChild(n,this.id,b,c,d,e):n.showBlock(this.id,b,c,d,e);f.fire(\"menuShow\",[n])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)},findItemByCommandName:function(a){var b=CKEDITOR.tools.array.filter(this.items,function(b){return a===b.command});return b.length?(b=b[0],{item:b,\nelement:this._.element.findOne(\".\"+b.className)}):null}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,b,c){CKEDITOR.tools.extend(this,c,{order:0,className:\"cke_menubutton__\"+b});this.group=a._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,e,g){var h=a.id+String(e),m=\"undefined\"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,f=\"\",n=this.editor,p,r,v=m==CKEDITOR.TRISTATE_ON?\"on\":m==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\";this.role in{menuitemcheckbox:1,\nmenuitemradio:1}&&(f=' aria-checked\\x3d\"'+(m==CKEDITOR.TRISTATE_ON?\"true\":\"false\")+'\"');var x=this.getItems,q=\"\\x26#\"+(\"rtl\"==this.editor.lang.dir?\"9668\":\"9658\")+\";\",t=this.name;this.icon&&!/\\./.test(this.icon)&&(t=this.icon);this.command&&(p=n.getCommand(this.command),(p=n.getCommandKeystroke(p))&&(r=CKEDITOR.tools.keystrokeToString(n.lang.common.keyboard,p)));a={id:h,name:this.name,iconName:t,label:this.label,cls:this.className||\"\",state:v,hasPopup:x?\"true\":\"false\",disabled:m==CKEDITOR.TRISTATE_DISABLED,\ntitle:this.label+(r?\" (\"+r.display+\")\":\"\"),ariaShortcut:r?n.lang.common.keyboardShortcut+\" \"+r.aria:\"\",href:\"javascript:void('\"+(this.label||\"\").replace(\"'\")+\"')\",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(t,\"rtl\"==this.editor.lang.dir,t==this.icon?null:this.icon,this.iconOffset),shortcutHtml:r?d.output({shortcut:r.display}):\"\",arrowHtml:x?c.output({label:q}):\"\",role:this.role?this.role:\"menuitem\",ariaChecked:f};b.output(a,g)}}})}(),\nCKEDITOR.config.menu_groups=\"clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div\",CKEDITOR.plugins.add(\"contextmenu\",{requires:\"menu\",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(a){this.base.call(this,a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,\ne){a.on(\"contextmenu\",function(a){a=a.data;var c=CKEDITOR.env.webkit?b:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!e||!c){a.preventDefault();if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var c=this.editor,k=(new CKEDITOR.dom.elementPath(a.getTarget(),c.editable())).contains(function(a){return a.hasAttribute(\"contenteditable\")},!0);k&&\"false\"==k.getAttribute(\"contenteditable\")&&c.getSelection().fake(k)}var k=a.getTarget().getDocument(),g=a.getTarget().getDocument().getDocumentElement(),c=!k.equals(CKEDITOR.document),\nk=k.getWindow().getScrollPosition(),h=c?a.$.clientX:a.$.pageX||k.x+a.$.clientX,m=c?a.$.clientY:a.$.pageY||k.y+a.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(g,null,h,m)},CKEDITOR.env.ie?200:0,this)}},this);if(CKEDITOR.env.webkit){var b,c=function(){b=0};a.on(\"keydown\",function(a){b=CKEDITOR.env.mac?a.data.$.metaKey:a.data.$.ctrlKey});a.on(\"keyup\",c);a.on(\"contextmenu\",c)}},open:function(a,e,b,c){!1!==this.editor.config.enableContextMenu&&(this.editor.focus(),a=a||CKEDITOR.document.getDocumentElement(),\nthis.editor.selectionChange(1),this.show(a,e,b,c))}}})},beforeInit:function(a){var e=a.contextMenu=new CKEDITOR.plugins.contextMenu(a);a.on(\"contentDom\",function(){e.addTarget(a.editable(),!1!==a.config.browserContextMenuOnCtrl)});a.addCommand(\"contextMenu\",{exec:function(){a.contextMenu.open(a.document.getBody())}});a.setKeystroke(CKEDITOR.SHIFT+121,\"contextMenu\");a.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,\"contextMenu\")}}),function(){function a(a,b){function k(b){b=f.list[b];var c;b.equals(a.editable())||\n\"true\"==b.getAttribute(\"contenteditable\")?(c=a.createRange(),c.selectNodeContents(b),c=c.select()):(c=a.getSelection(),c.selectElement(b));CKEDITOR.env.ie&&a.fire(\"selectionChange\",{selection:c,path:new CKEDITOR.dom.elementPath(b)});a.focus()}function g(){m&&m.setHtml('\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');delete f.list}var h=a.ui.spaceId(\"path\"),m,f=a._.elementsPath,n=f.idBase;b.html+='\\x3cspan id\\x3d\"'+h+'_label\" class\\x3d\"cke_voice_label\"\\x3e'+a.lang.elementspath.eleLabel+\n'\\x3c/span\\x3e\\x3cspan id\\x3d\"'+h+'\" class\\x3d\"cke_path\" role\\x3d\"group\" aria-labelledby\\x3d\"'+h+'_label\"\\x3e\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3c/span\\x3e';a.on(\"uiReady\",function(){var b=a.ui.space(\"path\");b&&a.focusManager.add(b,1)});f.onClick=k;var p=CKEDITOR.tools.addFunction(k),r=CKEDITOR.tools.addFunction(function(b,c){var e=f.idBase,g;c=new CKEDITOR.dom.event(c);g=\"rtl\"==a.lang.dir;switch(c.getKeystroke()){case g?39:37:case 9:return(g=CKEDITOR.document.getById(e+\n(b+1)))||(g=CKEDITOR.document.getById(e+\"0\")),g.focus(),!1;case g?37:39:case CKEDITOR.SHIFT+9:return(g=CKEDITOR.document.getById(e+(b-1)))||(g=CKEDITOR.document.getById(e+(f.list.length-1))),g.focus(),!1;case 27:return a.focus(),!1;case 13:case 32:return k(b),!1}return!0});a.on(\"selectionChange\",function(b){for(var e=[],g=f.list=[],k=[],l=f.filters,A=!0,z=b.data.path.elements,w=z.length;w--;){var C=z[w],y=0;b=C.data(\"cke-display-name\")?C.data(\"cke-display-name\"):C.data(\"cke-real-element-type\")?C.data(\"cke-real-element-type\"):\nC.getName();(A=C.hasAttribute(\"contenteditable\")?\"true\"==C.getAttribute(\"contenteditable\"):A)||C.hasAttribute(\"contenteditable\")||(y=1);for(var B=0;B<l.length;B++){var G=l[B](C,b);if(!1===G){y=1;break}b=G||b}y||(g.unshift(C),k.unshift(b))}g=g.length;for(l=0;l<g;l++)b=k[l],A=a.lang.elementspath.eleTitle.replace(/%1/,b),b=c.output({id:n+l,label:A,text:b,jsTitle:\"javascript:void('\"+b+\"')\",index:l,keyDownFn:r,clickFn:p}),e.unshift(b);m||(m=CKEDITOR.document.getById(h));k=m;k.setHtml(e.join(\"\")+'\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');\na.fire(\"elementsPathUpdate\",{space:k})});a.on(\"readOnly\",g);a.on(\"contentDomUnload\",g);a.addCommand(\"elementsPathFocus\",e.toolbarFocus);a.setKeystroke(CKEDITOR.ALT+122,\"elementsPathFocus\")}var e={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(a){(a=CKEDITOR.document.getById(a._.elementsPath.idBase+\"0\"))&&a.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},b=\"\";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(b+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(b+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');\nvar c=CKEDITOR.addTemplate(\"pathItem\",'\\x3ca id\\x3d\"{id}\" href\\x3d\"{jsTitle}\" tabindex\\x3d\"-1\" class\\x3d\"cke_path_item\" title\\x3d\"{label}\"'+b+' hidefocus\\x3d\"true\"  onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );\" onclick\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\" role\\x3d\"button\" aria-label\\x3d\"{label}\"\\x3e{text}\\x3c/a\\x3e');CKEDITOR.plugins.add(\"elementspath\",{init:function(b){b._.elementsPath={idBase:\"cke_elementspath_\"+CKEDITOR.tools.getNextNumber()+\n\"_\",filters:[]};b.on(\"uiSpace\",function(c){\"bottom\"==c.data.space&&a(b,c.data)})}})}(),function(){function a(a,d){var l,k;d.on(\"refresh\",function(a){var c=[e],d;for(d in a.data.states)c.push(a.data.states[d]);this.setState(CKEDITOR.tools.search(c,b)?b:e)},d,null,100);d.on(\"exec\",function(b){l=a.getSelection();k=l.createBookmarks(1);b.data||(b.data={});b.data.done=!1},d,null,0);d.on(\"exec\",function(){a.forceNextSelectionCheck();l.selectBookmarks(k)},d,null,100)}var e=CKEDITOR.TRISTATE_DISABLED,b=CKEDITOR.TRISTATE_OFF;\nCKEDITOR.plugins.add(\"indent\",{init:function(b){var d=CKEDITOR.plugins.indent.genericDefinition;a(b,b.addCommand(\"indent\",new d(!0)));a(b,b.addCommand(\"outdent\",new d));b.ui.addButton&&(b.ui.addButton(\"Indent\",{label:b.lang.indent.indent,command:\"indent\",directional:!0,toolbar:\"indent,20\"}),b.ui.addButton(\"Outdent\",{label:b.lang.indent.outdent,command:\"outdent\",directional:!0,toolbar:\"indent,10\"}));b.on(\"dirChanged\",function(a){var d=b.createRange(),e=a.data.node;d.setStartBefore(e);d.setEndAfter(e);\nfor(var h=new CKEDITOR.dom.walker(d),m;m=h.next();)if(m.type==CKEDITOR.NODE_ELEMENT)if(!m.equals(e)&&m.getDirection())d.setStartAfter(m),h=new CKEDITOR.dom.walker(d);else{var f=b.config.indentClasses;if(f)for(var n=\"ltr\"==a.data.dir?[\"_rtl\",\"\"]:[\"\",\"_rtl\"],p=0;p<f.length;p++)m.hasClass(f[p]+n[0])&&(m.removeClass(f[p]+n[0]),m.addClass(f[p]+n[1]));f=m.getStyle(\"margin-right\");n=m.getStyle(\"margin-left\");f?m.setStyle(\"margin-left\",f):m.removeStyle(\"margin-left\");n?m.setStyle(\"margin-right\",n):m.removeStyle(\"margin-right\")}})}});\nCKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=!!a;this.startDisabled=!this.isIndent},specificDefinition:function(a,b,e){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!e;this.relatedGlobal=e?\"indent\":\"outdent\";this.indentKey=e?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,b){a.on(\"pluginsLoaded\",function(){for(var a in b)(function(a,b){var c=a.getCommand(b.relatedGlobal),d;for(d in b.jobs)c.on(\"exec\",\nfunction(c){c.data.done||(a.fire(\"lockSnapshot\"),b.execJob(a,d)&&(c.data.done=!0),a.fire(\"unlockSnapshot\"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,d),c.on(\"refresh\",function(c){c.data.states||(c.data.states={});c.data.states[b.name+\"@\"+d]=b.refreshJob(a,d,c.data.path)},this,null,d);a.addFeature(b)})(this,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:\"p\",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){var l=\nthis.jobs[b];if(l.state!=e)return l.exec.call(this,a)},refreshJob:function(a,b,l){b=this.jobs[b];a.activeFilter.checkFeature(this)?b.state=b.refresh.call(this,a,l):b.state=e;return b.state},getContext:function(a){return a.contains(this.context)}}}(),function(){function a(a){function c(e){for(var h=l.startContainer,u=l.endContainer;h&&!h.getParent().equals(e);)h=h.getParent();for(;u&&!u.getParent().equals(e);)u=u.getParent();if(!h||!u)return!1;for(var A=[],v=!1;!v;)h.equals(u)&&(v=!0),A.push(h),h=\nh.getNext();if(1>A.length)return!1;h=e.getParents(!0);for(u=0;u<h.length;u++)if(h[u].getName&&k[h[u].getName()]){e=h[u];break}for(var h=d.isIndent?1:-1,u=A[0],A=A[A.length-1],v=CKEDITOR.plugins.list.listToArray(e,f),w=v[A.getCustomData(\"listarray_index\")].indent,u=u.getCustomData(\"listarray_index\");u<=A.getCustomData(\"listarray_index\");u++)if(v[u].indent+=h,0<h){for(var x=v[u].parent,y=u-1;0<=y;y--)if(v[y].indent===h){x=v[y].parent;break}v[u].parent=new CKEDITOR.dom.element(x.getName(),x.getDocument())}for(u=\nA.getCustomData(\"listarray_index\")+1;u<v.length&&v[u].indent>w;u++)v[u].indent+=h;h=CKEDITOR.plugins.list.arrayToList(v,f,null,a.config.enterMode,e.getDirection());if(!d.isIndent){var B;if((B=e.getParent())&&B.is(\"li\"))for(var A=h.listNode.getChildren(),r=[],E,u=A.count()-1;0<=u;u--)(E=A.getItem(u))&&E.is&&E.is(\"li\")&&r.push(E)}h&&h.listNode.replace(e);if(r&&r.length)for(u=0;u<r.length;u++){for(E=e=r[u];(E=E.getNext())&&E.is&&E.getName()in k;)CKEDITOR.env.needsNbspFiller&&!e.getFirst(b)&&e.append(l.document.createText(\" \")),\ne.append(E);e.insertAfter(B)}h&&a.fire(\"contentDomInvalidated\");return!0}for(var d=this,f=this.database,k=this.context,l,r=a.getSelection(),r=(r&&r.getRanges()).createIterator();l=r.getNextRange();){for(var v=l.getCommonAncestor();v&&(v.type!=CKEDITOR.NODE_ELEMENT||!k[v.getName()]);){if(a.editable().equals(v)){v=!1;break}v=v.getParent()}v||(v=l.startPath().contains(k))&&l.setEndAt(v,CKEDITOR.POSITION_BEFORE_END);if(!v){var x=l.getEnclosedNode();x&&x.type==CKEDITOR.NODE_ELEMENT&&x.getName()in k&&(l.setStartAt(x,\nCKEDITOR.POSITION_AFTER_START),l.setEndAt(x,CKEDITOR.POSITION_BEFORE_END),v=x)}v&&l.startContainer.type==CKEDITOR.NODE_ELEMENT&&l.startContainer.getName()in k&&(x=new CKEDITOR.dom.walker(l),x.evaluator=e,l.startContainer=x.next());v&&l.endContainer.type==CKEDITOR.NODE_ELEMENT&&l.endContainer.getName()in k&&(x=new CKEDITOR.dom.walker(l),x.evaluator=e,l.endContainer=x.previous());if(v)return c(v)}return 0}function e(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"li\")}function b(a){return c(a)&&d(a)}\nvar c=CKEDITOR.dom.walker.whitespaces(!0),d=CKEDITOR.dom.walker.bookmark(!1,!0),l=CKEDITOR.TRISTATE_DISABLED,k=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indentlist\",{requires:\"indent\",init:function(b){function c(b){d.specificDefinition.apply(this,arguments);this.requiredContent=[\"ul\",\"ol\"];b.on(\"key\",function(a){var c=b.elementPath();if(\"wysiwyg\"==b.mode&&a.data.keyCode==this.indentKey&&c){var d=this.getContext(c);!d||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,c,d)||\n(b.execCommand(this.relatedGlobal),a.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(a,b){var c=this.getContext(b),d=CKEDITOR.plugins.indentList.firstItemInPath(this.context,b,c);return c&&this.isIndent&&!d?k:l}:function(a,b){return!this.getContext(b)||this.isIndent?l:k},exec:CKEDITOR.tools.bind(a,this)}}var d=CKEDITOR.plugins.indent;d.registerCommands(b,{indentlist:new c(b,\"indentlist\",!0),outdentlist:new c(b,\"outdentlist\")});CKEDITOR.tools.extend(c.prototype,d.specificDefinition.prototype,\n{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(a,b,c){var d=b.contains(e);c||(c=b.contains(a));return c&&d&&d.equals(c.getFirst(e))}}(),function(){function a(a,b,c){function d(c){if(!(!(l=k[c?\"getFirst\":\"getLast\"]())||l.is&&l.isBlockBoundary()||!(m=b.root[c?\"getPrevious\":\"getNext\"](CKEDITOR.dom.walker.invisible(!0)))||m.is&&m.isBlockBoundary({br:1})))a.document.createElement(\"br\")[c?\"insertBefore\":\"insertAfter\"](l)}for(var f=CKEDITOR.plugins.list.listToArray(b.root,\nc),e=[],g=0;g<b.contents.length;g++){var h=b.contents[g];(h=h.getAscendant(\"li\",!0))&&!h.getCustomData(\"list_item_processed\")&&(e.push(h),CKEDITOR.dom.element.setMarker(c,h,\"list_item_processed\",!0))}h=null;for(g=0;g<e.length;g++)h=e[g].getCustomData(\"listarray_index\"),f[h].indent=-1;for(g=h+1;g<f.length;g++)if(f[g].indent>f[g-1].indent+1){e=f[g-1].indent+1-f[g].indent;for(h=f[g].indent;f[g]&&f[g].indent>=h;)f[g].indent+=e,g++;g--}var k=CKEDITOR.plugins.list.arrayToList(f,c,null,a.config.enterMode,\nb.root.getAttribute(\"dir\")).listNode,l,m;d(!0);d();k.replace(b.root);a.fire(\"contentDomInvalidated\")}function e(a,b){this.name=a;this.context=this.type=b;this.allowedContent=b+\" li\";this.requiredContent=b}function b(a,b,c,d){for(var f,e;f=a[d?\"getLast\":\"getFirst\"](r);)(e=f.getDirection(1))!==b.getDirection(1)&&f.setAttribute(\"dir\",e),f.remove(),c?f[d?\"insertBefore\":\"insertAfter\"](c):b.append(f,d)}function c(a){function c(d){var e=a[d?\"getPrevious\":\"getNext\"](f);e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(a.getName())&&\n(b(a,e,null,!d),a.remove(),a=e)}c();c(1)}function d(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in CKEDITOR.dtd.$block||a.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[a.getName()][\"#\"]}function l(a,d,e){a.fire(\"saveSnapshot\");e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var g=e.extractContents();d.trim(!1,!0);var h=d.createBookmark(),l=new CKEDITOR.dom.elementPath(d.startContainer),m=l.block,l=l.lastElement.getAscendant(\"li\",1)||m,w=new CKEDITOR.dom.elementPath(e.startContainer),p=\nw.contains(CKEDITOR.dtd.$listItem),w=w.contains(CKEDITOR.dtd.$list);m?(m=m.getBogus())&&m.remove():w&&(m=w.getPrevious(f))&&n(m)&&m.remove();(m=g.getLast())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(\"br\")&&m.remove();(m=d.startContainer.getChild(d.startOffset))?g.insertBefore(m):d.startContainer.append(g);p&&(g=k(p))&&(l.contains(p)?(b(g,p.getParent(),p),g.remove()):l.append(g));for(;e.checkStartOfBlock()&&e.checkEndOfBlock();){w=e.startPath();g=w.block;if(!g)break;g.is(\"li\")&&(l=g.getParent(),g.equals(l.getLast(f))&&\ng.equals(l.getFirst(f))&&(g=l));e.moveToPosition(g,CKEDITOR.POSITION_BEFORE_START);g.remove()}e=e.clone();g=a.editable();e.setEndAt(g,CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=function(a){return f(a)&&!n(a)};(e=e.next())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$list&&c(e);d.moveToBookmark(h);d.select();a.fire(\"saveSnapshot\")}function k(a){return(a=a.getLast(f))&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in g?a:null}var g={ol:1,ul:1},h=CKEDITOR.dom.walker.whitespaces(),\nm=CKEDITOR.dom.walker.bookmark(),f=function(a){return!(h(a)||m(a))},n=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(a,b,c,d,f){if(!g[a.getName()])return[];d||(d=0);c||(c=[]);for(var e=0,h=a.getChildCount();e<h;e++){var k=a.getChild(e);k.type==CKEDITOR.NODE_ELEMENT&&k.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(k,b,c,d+1);if(\"li\"==k.$.nodeName.toLowerCase()){var l={parent:a,indent:d,element:k,contents:[]};f?l.grandparent=f:(l.grandparent=a.getParent(),\nl.grandparent&&\"li\"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent()));b&&CKEDITOR.dom.element.setMarker(b,k,\"listarray_index\",c.length);c.push(l);for(var m=0,n=k.getChildCount(),p;m<n;m++)p=k.getChild(m),p.type==CKEDITOR.NODE_ELEMENT&&g[p.getName()]?CKEDITOR.plugins.list.listToArray(p,b,c,d+1,l.grandparent):l.contents.push(p)}}return c},arrayToList:function(a,b,c,d,e){c||(c=0);if(!a||a.length<c+1)return null;for(var h,k=a[c].parent.getDocument(),l=new CKEDITOR.dom.documentFragment(k),\nn=null,y=c,p=Math.max(a[c].indent,0),r=null,E,F,I=d==CKEDITOR.ENTER_P?\"p\":\"div\";;){var H=a[y];h=H.grandparent;E=H.element.getDirection(1);if(H.indent==p){n&&a[y].parent.getName()==n.getName()||(n=a[y].parent.clone(!1,1),e&&n.setAttribute(\"dir\",e),l.append(n));r=n.append(H.element.clone(0,1));E!=n.getDirection(1)&&r.setAttribute(\"dir\",E);for(h=0;h<H.contents.length;h++)r.append(H.contents[h].clone(1,1));y++}else if(H.indent==Math.max(p,0)+1)H=a[y-1].element.getDirection(1),y=CKEDITOR.plugins.list.arrayToList(a,\nnull,y,d,H!=E?E:null),!r.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=k.$.documentMode&&r.append(k.createText(\" \")),r.append(y.listNode),y=y.nextIndex;else if(-1==H.indent&&!c&&h){g[h.getName()]?(r=H.element.clone(!1,!0),E!=h.getDirection(1)&&r.setAttribute(\"dir\",E)):r=new CKEDITOR.dom.documentFragment(k);var n=h.getDirection(1)!=E,K=H.element,J=K.getAttribute(\"class\"),D=K.getAttribute(\"style\"),R=r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(d!=CKEDITOR.ENTER_BR||n||D||J),N,S=H.contents.length,L;\nfor(h=0;h<S;h++)if(N=H.contents[h],m(N)&&1<S)R?L=N.clone(1,1):r.append(N.clone(1,1));else if(N.type==CKEDITOR.NODE_ELEMENT&&N.isBlockBoundary()){n&&!N.getDirection()&&N.setAttribute(\"dir\",E);F=N;var V=K.getAttribute(\"style\");V&&F.setAttribute(\"style\",V.replace(/([^;])$/,\"$1;\")+(F.getAttribute(\"style\")||\"\"));J&&N.addClass(J);F=null;L&&(r.append(L),L=null);r.append(N.clone(1,1))}else R?(F||(F=k.createElement(I),r.append(F),n&&F.setAttribute(\"dir\",E)),D&&F.setAttribute(\"style\",D),J&&F.setAttribute(\"class\",\nJ),L&&(F.append(L),L=null),F.append(N.clone(1,1))):r.append(N.clone(1,1));L&&((F||r).append(L),L=null);r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&y!=a.length-1&&(CKEDITOR.env.needsBrFiller&&(E=r.getLast())&&E.type==CKEDITOR.NODE_ELEMENT&&E.is(\"br\")&&E.remove(),(E=r.getLast(f))&&E.type==CKEDITOR.NODE_ELEMENT&&E.is(CKEDITOR.dtd.$block)||r.append(k.createElement(\"br\")));E=r.$.nodeName.toLowerCase();\"div\"!=E&&\"p\"!=E||r.appendBogus();l.append(r);n=null;y++}else return null;F=null;if(a.length<=y||Math.max(a[y].indent,\n0)<p)break}if(b)for(a=l.getFirst();a;){if(a.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(b,a),a.getName()in CKEDITOR.dtd.$listItem&&(c=a,k=e=d=void 0,d=c.getDirection()))){for(e=c.getParent();e&&!(k=e.getDirection());)e=e.getParent();d==k&&c.removeAttribute(\"dir\")}a=a.getNextSourceNode()}return{listNode:l,nextIndex:y}}};var p=/^h[1-6]$/,r=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);e.prototype={exec:function(b){this.refresh(b,b.elementPath());var d=b.config,e=b.getSelection(),\nh=e&&e.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var k=b.editable();if(k.getFirst(f)){var l=1==h.length&&h[0];(d=l&&l.getEnclosedNode())&&d.is&&this.type==d.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else d.enterMode==CKEDITOR.ENTER_BR?k.appendBogus():h[0].fixBlock(1,d.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),e.selectRanges(h)}for(var d=e.createBookmarks(!0),k=[],m={},h=h.createIterator(),n=0;(l=h.getNextRange())&&++n;){var r=l.getBoundaryNodes(),y=r.startNode,B=r.endNode;y.type==CKEDITOR.NODE_ELEMENT&&\n\"td\"==y.getName()&&l.setStartAt(r.startNode,CKEDITOR.POSITION_AFTER_START);B.type==CKEDITOR.NODE_ELEMENT&&\"td\"==B.getName()&&l.setEndAt(r.endNode,CKEDITOR.POSITION_BEFORE_END);l=l.createIterator();for(l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;r=l.getNextParagraph();)if(!r.getCustomData(\"list_block\")){CKEDITOR.dom.element.setMarker(m,r,\"list_block\",1);for(var G=b.elementPath(r),y=G.elements,B=0,G=G.blockLimit,E,F=y.length-1;0<=F&&(E=y[F]);F--)if(g[E.getName()]&&G.contains(E)){G.removeCustomData(\"list_group_object_\"+\nn);(y=E.getCustomData(\"list_group_object\"))?y.contents.push(r):(y={root:E,contents:[r]},k.push(y),CKEDITOR.dom.element.setMarker(m,E,\"list_group_object\",y));B=1;break}B||(B=G,B.getCustomData(\"list_group_object_\"+n)?B.getCustomData(\"list_group_object_\"+n).contents.push(r):(y={root:B,contents:[r]},CKEDITOR.dom.element.setMarker(m,B,\"list_group_object_\"+n,y),k.push(y)))}}for(E=[];0<k.length;)if(y=k.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(g[y.root.getName()]){h=b;n=y;y=m;l=E;B=CKEDITOR.plugins.list.listToArray(n.root,\ny);G=[];for(r=0;r<n.contents.length;r++)F=n.contents[r],(F=F.getAscendant(\"li\",!0))&&!F.getCustomData(\"list_item_processed\")&&(G.push(F),CKEDITOR.dom.element.setMarker(y,F,\"list_item_processed\",!0));for(var F=n.root.getDocument(),I=void 0,H=void 0,r=0;r<G.length;r++){var K=G[r].getCustomData(\"listarray_index\"),I=B[K].parent;I.is(this.type)||(H=F.createElement(this.type),I.copyAttributes(H,{start:1,type:1}),H.removeStyle(\"list-style-type\"),B[K].parent=H)}y=CKEDITOR.plugins.list.arrayToList(B,y,null,\nh.config.enterMode);B=void 0;G=y.listNode.getChildCount();for(r=0;r<G&&(B=y.listNode.getChild(r));r++)B.getName()==this.type&&l.push(B);y.listNode.replace(n.root);h.fire(\"contentDomInvalidated\")}else{B=b;l=y;r=E;G=l.contents;h=l.root.getDocument();n=[];1==G.length&&G[0].equals(l.root)&&(y=h.createElement(\"div\"),G[0].moveChildren&&G[0].moveChildren(y),G[0].append(y),G[0]=y);l=l.contents[0].getParent();for(F=0;F<G.length;F++)l=l.getCommonAncestor(G[F].getParent());I=B.config.useComputedState;B=y=void 0;\nI=void 0===I||I;for(F=0;F<G.length;F++)for(H=G[F];K=H.getParent();){if(K.equals(l)){n.push(H);!B&&H.getDirection()&&(B=1);H=H.getDirection(I);null!==y&&(y=y&&y!=H?null:H);break}H=K}if(!(1>n.length)){G=n[n.length-1].getNext();F=h.createElement(this.type);r.push(F);for(I=r=void 0;n.length;)r=n.shift(),I=h.createElement(\"li\"),H=r,H.is(\"pre\")||p.test(H.getName())||\"false\"==H.getAttribute(\"contenteditable\")?r.appendTo(I):(r.copyAttributes(I),y&&r.getDirection()&&(I.removeStyle(\"direction\"),I.removeAttribute(\"dir\")),\nr.moveChildren(I),r.remove()),I.appendTo(F);y&&B&&F.setAttribute(\"dir\",y);G?F.insertBefore(G):F.appendTo(l)}}else this.state==CKEDITOR.TRISTATE_ON&&g[y.root.getName()]&&a.call(this,b,y,m);for(F=0;F<E.length;F++)c(E[F]);CKEDITOR.dom.element.clearAllMarkers(m);e.selectBookmarks(d);b.focus()},refresh:function(a,b){var c=b.contains(g,1),d=b.blockLimit||b.root;c&&d.contains(c)?this.setState(c.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add(\"list\",\n{requires:\"indentlist\",init:function(a){a.blockless||(a.addCommand(\"numberedlist\",new e(\"numberedlist\",\"ol\")),a.addCommand(\"bulletedlist\",new e(\"bulletedlist\",\"ul\")),a.ui.addButton&&(a.ui.addButton(\"NumberedList\",{label:a.lang.list.numberedlist,command:\"numberedlist\",directional:!0,toolbar:\"list,10\"}),a.ui.addButton(\"BulletedList\",{label:a.lang.list.bulletedlist,command:\"bulletedlist\",directional:!0,toolbar:\"list,20\"})),a.on(\"key\",function(b){var c=b.data.domEvent.getKey(),e;if(\"wysiwyg\"==a.mode&&\nc in{8:1,46:1}){var h=a.getSelection().getRanges()[0],m=h&&h.startPath();if(h&&h.collapsed){var p=8==c,w=a.editable(),r=new CKEDITOR.dom.walker(h.clone());r.evaluator=function(a){return f(a)&&!n(a)};r.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"table\"))};c=h.clone();if(p){var y;(y=m.contains(g))&&h.checkBoundaryOfElement(y,CKEDITOR.START)&&(y=y.getParent())&&y.is(\"li\")&&(y=k(y))?(e=y,y=y.getPrevious(f),c.moveToPosition(y&&n(y)?y:e,CKEDITOR.POSITION_BEFORE_START)):(r.range.setStartAt(w,\nCKEDITOR.POSITION_AFTER_START),r.range.setEnd(h.startContainer,h.startOffset),(y=r.previous())&&y.type==CKEDITOR.NODE_ELEMENT&&(y.getName()in g||y.is(\"li\"))&&(y.is(\"li\")||(r.range.selectNodeContents(y),r.reset(),r.evaluator=d,y=r.previous()),e=y,c.moveToElementEditEnd(e),c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(e)l(a,c,h),b.cancel();else{var B=m.contains(g);B&&h.checkBoundaryOfElement(B,CKEDITOR.START)&&(e=B.getFirst(f),h.checkBoundaryOfElement(e,CKEDITOR.START)&&(y=B.getPrevious(f),\nk(e)?y&&(h.moveToElementEditEnd(y),h.select()):a.execCommand(\"outdent\"),b.cancel()))}}else if(e=m.contains(\"li\")){if(r.range.setEndAt(w,CKEDITOR.POSITION_BEFORE_END),p=(w=e.getLast(f))&&d(w)?w:e,m=0,(y=r.next())&&y.type==CKEDITOR.NODE_ELEMENT&&y.getName()in g&&y.equals(w)?(m=1,y=r.next()):h.checkBoundaryOfElement(p,CKEDITOR.END)&&(m=2),m&&y){h=h.clone();h.moveToElementEditStart(y);if(1==m&&(c.optimize(),!c.startContainer.equals(e))){for(e=c.startContainer;e.is(CKEDITOR.dtd.$inline);)B=e,e=e.getParent();\nB&&c.moveToPosition(B,CKEDITOR.POSITION_AFTER_END)}2==m&&(c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END),h.endPath().block&&h.moveToPosition(h.endPath().block,CKEDITOR.POSITION_AFTER_START));l(a,c,h);b.cancel()}}else r.range.setEndAt(w,CKEDITOR.POSITION_BEFORE_END),(y=r.next())&&y.type==CKEDITOR.NODE_ELEMENT&&y.is(g)&&(y=y.getFirst(f),m.block&&h.checkStartOfBlock()&&h.checkEndOfBlock()?(m.block.remove(),h.moveToElementEditStart(y),h.select()):k(y)?(h.moveToElementEditStart(y),h.select()):\n(h=h.clone(),h.moveToElementEditStart(y),l(a,c,h)),b.cancel());setTimeout(function(){a.selectionChange(1)})}}}))}})}(),function(){function a(a,b,c){c=a.config.forceEnterMode||c;if(\"wysiwyg\"==a.mode){b||(b=a.activeEnterMode);var d=a.elementPath();d&&!d.isContextFor(\"p\")&&(b=CKEDITOR.ENTER_BR,c=1);a.fire(\"saveSnapshot\");b==CKEDITOR.ENTER_BR?k(a,b,null,c):g(a,b,null,c);a.fire(\"saveSnapshot\")}}function e(a){a=a.getSelection().getRanges(!0);for(var b=a.length-1;0<b;b--)a[b].deleteContents();return a[0]}\nfunction b(a){var b=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&\"true\"==a.getAttribute(\"contenteditable\")},!0);if(a.root.equals(b))return a;b=new CKEDITOR.dom.range(b);b.moveToRange(a);return b}CKEDITOR.plugins.add(\"enterkey\",{init:function(b){b.addCommand(\"enter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b)}});b.addCommand(\"shiftEnter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b,b.activeShiftEnterMode,1)}});b.setKeystroke([[13,\"enter\"],[CKEDITOR.SHIFT+\n13,\"shiftEnter\"]])}});var c=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(a,f,g,l){if(g=g||e(a)){g=b(g);var r=g.document,v=g.checkStartOfBlock(),x=g.checkEndOfBlock(),q=a.elementPath(g.startContainer),t=q.block,u=f==CKEDITOR.ENTER_DIV?\"div\":\"p\",A;if(v&&x){if(t&&(t.is(\"li\")||t.getParent().is(\"li\"))){t.is(\"li\")||(t=t.getParent());g=t.getParent();A=g.getParent();l=!t.hasPrevious();var z=!t.hasNext(),u=a.getSelection(),w=u.createBookmarks(),\nv=t.getDirection(1),x=t.getAttribute(\"class\"),C=t.getAttribute(\"style\"),y=A.getDirection(1)!=v;a=a.enterMode!=CKEDITOR.ENTER_BR||y||C||x;if(A.is(\"li\"))l||z?(l&&z&&g.remove(),t[z?\"insertAfter\":\"insertBefore\"](A)):t.breakParent(A);else{if(a)if(q.block.is(\"li\")?(A=r.createElement(f==CKEDITOR.ENTER_P?\"p\":\"div\"),y&&A.setAttribute(\"dir\",v),C&&A.setAttribute(\"style\",C),x&&A.setAttribute(\"class\",x),t.moveChildren(A)):A=q.block,l||z)A[l?\"insertBefore\":\"insertAfter\"](g);else t.breakParent(g),A.insertAfter(g);\nelse if(t.appendBogus(!0),l||z)for(;r=t[l?\"getFirst\":\"getLast\"]();)r[l?\"insertBefore\":\"insertAfter\"](g);else for(t.breakParent(g);r=t.getLast();)r.insertAfter(g);t.remove()}u.selectBookmarks(w);return}if(t&&t.getParent().is(\"blockquote\")){t.breakParent(t.getParent());t.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||t.getPrevious().remove();t.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||t.getNext().remove();g.moveToElementEditStart(t);g.select();return}}else if(t&&t.is(\"pre\")&&\n!x){k(a,f,g,l);return}if(v=g.splitBlock(u)){f=v.previousBlock;t=v.nextBlock;q=v.wasStartOfBlock;a=v.wasEndOfBlock;t?(w=t.getParent(),w.is(\"li\")&&(t.breakParent(w),t.move(t.getNext(),1))):f&&(w=f.getParent())&&w.is(\"li\")&&(f.breakParent(w),w=f.getNext(),g.moveToElementEditStart(w),f.move(f.getPrevious()));if(q||a){if(f){if(f.is(\"li\")||!h.test(f.getName())&&!f.is(\"pre\"))A=f.clone()}else t&&(A=t.clone());A?l&&!A.is(\"li\")&&A.renameNode(u):w&&w.is(\"li\")?A=w:(A=r.createElement(u),f&&(z=f.getDirection())&&\nA.setAttribute(\"dir\",z));if(r=v.elementPath)for(l=0,u=r.elements.length;l<u;l++){w=r.elements[l];if(w.equals(r.block)||w.equals(r.blockLimit))break;CKEDITOR.dtd.$removeEmpty[w.getName()]&&(w=w.clone(),A.moveChildren(w),A.append(w))}A.appendBogus();A.getParent()||g.insertNode(A);A.is(\"li\")&&A.removeAttribute(\"value\");!CKEDITOR.env.ie||!q||a&&f.getChildCount()||(g.moveToElementEditStart(a?f:A),g.select());g.moveToElementEditStart(q&&!a?t:A)}else t.is(\"li\")&&(A=g.clone(),A.selectNodeContents(t),A=new CKEDITOR.dom.walker(A),\nA.evaluator=function(a){return!(d(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(w=A.next())&&w.type==CKEDITOR.NODE_ELEMENT&&w.is(\"ul\",\"ol\")&&(CKEDITOR.env.needsBrFiller?r.createElement(\"br\"):r.createText(\" \")).insertBefore(w)),t&&g.moveToElementEditStart(t);g.select();g.scrollIntoView()}}},enterBr:function(a,b,c,d){if(c=c||e(a)){var k=c.document,l=c.checkEndOfBlock(),x=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),\nq=x.block,t=q&&x.block.getName();d||\"li\"!=t?(!d&&l&&h.test(t)?(l=q.getDirection())?(k=k.createElement(\"div\"),k.setAttribute(\"dir\",l),k.insertAfter(q),c.setStart(k,0)):(k.createElement(\"br\").insertAfter(q),CKEDITOR.env.gecko&&k.createText(\"\").insertAfter(q),c.setStartAt(q.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(a=\"pre\"==t&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?k.createText(\"\\r\"):k.createElement(\"br\"),c.deleteContents(),c.insertNode(a),CKEDITOR.env.needsBrFiller?\n(k.createText(\"﻿\").insertAfter(a),l&&(q||x.blockLimit).appendBogus(),a.getNext().$.nodeValue=\"\",c.setStartAt(a.getNext(),CKEDITOR.POSITION_AFTER_START)):c.setStartAt(a,CKEDITOR.POSITION_AFTER_END)),c.collapse(!0),c.select(),c.scrollIntoView()):g(a,b,c,d)}}};var l=CKEDITOR.plugins.enterkey,k=l.enterBr,g=l.enterBlock,h=/^h[1-6]$/}(),function(){function a(a,b){var c={},d=[],l={nbsp:\" \",shy:\"­\",gt:\"\\x3e\",lt:\"\\x3c\",amp:\"\\x26\",apos:\"'\",quot:'\"'};a=a.replace(/\\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,\nf){var e=b?\"\\x26\"+f+\";\":l[f];c[e]=b?l[f]:\"\\x26\"+f+\";\";d.push(e);return\"\"});if(!b&&a){a=a.split(\",\");var k=document.createElement(\"div\"),g;k.innerHTML=\"\\x26\"+a.join(\";\\x26\")+\";\";g=k.innerHTML;k=null;for(k=0;k<g.length;k++){var h=g.charAt(k);c[h]=\"\\x26\"+a[k]+\";\";d.push(h)}}c.regex=d.join(b?\"|\":\"\");return c}CKEDITOR.plugins.add(\"entities\",{afterInit:function(e){function b(a){return h[a]}function c(a){return\"force\"!=d.entities_processNumerical&&k[a]?k[a]:\"\\x26#\"+a.charCodeAt(0)+\";\"}var d=e.config;if(e=\n(e=e.dataProcessor)&&e.htmlFilter){var l=[];!1!==d.basicEntities&&l.push(\"nbsp,gt,lt,amp\");d.entities&&(l.length&&l.push(\"quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro\"),\nd.entities_latin&&l.push(\"Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml\"),d.entities_greek&&l.push(\"Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv\"),\nd.entities_additional&&l.push(d.entities_additional));var k=a(l.join(\",\")),g=k.regex?\"[\"+k.regex+\"]\":\"a^\";delete k.regex;d.entities&&d.entities_processNumerical&&(g=\"[^ -~]|\"+g);var g=new RegExp(g,\"g\"),h=a(\"nbsp,gt,lt,amp,shy\",!0),m=new RegExp(h.regex,\"g\");e.addRules({text:function(a){return a.replace(m,b).replace(g,c)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,\nCKEDITOR.config.entities_additional=\"#39\",CKEDITOR.plugins.add(\"popup\"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(a,e,b,c){e=e||\"80%\";b=b||\"70%\";\"string\"==typeof e&&1<e.length&&\"%\"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.width*parseInt(e,10)/100,10));\"string\"==typeof b&&1<b.length&&\"%\"==b.substr(b.length-1,1)&&(b=parseInt(window.screen.height*parseInt(b,10)/100,10));640>e&&(e=640);420>b&&(b=420);var d=parseInt((window.screen.height-b)/2,10),l=parseInt((window.screen.width-\ne)/2,10);c=(c||\"location\\x3dno,menubar\\x3dno,toolbar\\x3dno,dependent\\x3dyes,minimizable\\x3dno,modal\\x3dyes,alwaysRaised\\x3dyes,resizable\\x3dyes,scrollbars\\x3dyes\")+\",width\\x3d\"+e+\",height\\x3d\"+b+\",top\\x3d\"+d+\",left\\x3d\"+l;var k=window.open(\"\",null,c,!0);if(!k)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(\" chrome/\")&&(k.moveTo(l,d),k.resizeTo(e,b)),k.focus(),k.location.href=a}catch(g){window.open(a,null,c,!0)}return!0}}),\"use strict\",function(){function a(a){this.editor=a;this.loaders=\n[]}function e(a,c,e){var g=a.config.fileTools_defaultFileName;this.editor=a;this.lang=a.lang;\"string\"===typeof c?(this.data=c,this.file=b(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=c,this.total=this.file.size,this.loaded=0);e?this.fileName=e:this.file.name?this.fileName=this.file.name:(a=this.file.type.split(\"/\"),g&&(a[0]=g),this.fileName=a.join(\".\"));this.uploaded=0;this.responseData=this.uploadTotal=null;this.status=\"created\";this.abort=function(){this.changeStatus(\"abort\")}}\nfunction b(a){var b=a.match(c)[1];a=a.replace(c,\"\");a=atob(a);var e=[],g,h,m,f;for(g=0;g<a.length;g+=512){h=a.slice(g,g+512);m=Array(h.length);for(f=0;f<h.length;f++)m[f]=h.charCodeAt(f);h=new Uint8Array(m);e.push(h)}return new Blob(e,{type:b})}CKEDITOR.plugins.add(\"filetools\",{beforeInit:function(b){b.uploadRepository=new a(b);b.on(\"fileUploadRequest\",function(a){var b=a.data.fileLoader;b.xhr.open(\"POST\",b.uploadUrl,!0);a.data.requestData.upload={file:b.file,name:b.fileName}},null,null,5);b.on(\"fileUploadRequest\",\nfunction(a){var c=a.data.fileLoader,e=new FormData;a=a.data.requestData;var h=b.config.fileTools_requestHeaders,m,f;for(f in a){var n=a[f];\"object\"===typeof n&&n.file?e.append(f,n.file,n.name):e.append(f,n)}e.append(\"ckCsrfToken\",CKEDITOR.tools.getCsrfToken());if(h)for(m in h)c.xhr.setRequestHeader(m,h[m]);c.xhr.send(e)},null,null,999);b.on(\"fileUploadResponse\",function(a){var b=a.data.fileLoader,c=b.xhr,d=a.data;try{var e=JSON.parse(c.responseText);e.error&&e.error.message&&(d.message=e.error.message);\nif(e.uploaded)for(var f in e)d[f]=e[f];else a.cancel()}catch(n){d.message=b.lang.filetools.responseError,CKEDITOR.warn(\"filetools-response-error\",{responseText:c.responseText}),a.cancel()}},null,null,999)}});a.prototype={create:function(a,b,c){c=c||e;var g=this.loaders.length;a=new c(this.editor,a,b);a.id=g;this.loaders[g]=a;this.fire(\"instanceCreated\",a);return a},isFinished:function(){for(var a=0;a<this.loaders.length;++a)if(!this.loaders[a].isFinished())return!1;return!0}};e.prototype={loadAndUpload:function(a,\nb){var c=this;this.once(\"loaded\",function(e){e.cancel();c.once(\"update\",function(a){a.cancel()},null,null,0);c.upload(a,b)},null,null,0);this.load()},load:function(){var a=this,b=this.reader=new FileReader;a.changeStatus(\"loading\");this.abort=function(){a.reader.abort()};b.onabort=function(){a.changeStatus(\"abort\")};b.onerror=function(){a.message=a.lang.filetools.loadError;a.changeStatus(\"error\")};b.onprogress=function(b){a.loaded=b.loaded;a.update()};b.onload=function(){a.loaded=a.total;a.data=b.result;\na.changeStatus(\"loaded\")};b.readAsDataURL(this.file)},upload:function(a,b){var c=b||{};a?(this.uploadUrl=a,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire(\"fileUploadRequest\",{fileLoader:this,requestData:c})&&this.changeStatus(\"uploading\")):(this.message=this.lang.filetools.noUrlError,this.changeStatus(\"error\"))},attachRequestListeners:function(){function a(){\"error\"!=c.status&&(c.message=c.lang.filetools.networkError,c.changeStatus(\"error\"))}function b(){\"abort\"!=c.status&&\nc.changeStatus(\"abort\")}var c=this,e=this.xhr;c.abort=function(){e.abort();b()};e.onerror=a;e.onabort=b;e.upload?(e.upload.onprogress=function(a){a.lengthComputable&&(c.uploadTotal||(c.uploadTotal=a.total),c.uploaded=a.loaded,c.update())},e.upload.onerror=a,e.upload.onabort=b):(c.uploadTotal=c.total,c.update());e.onload=function(){c.update();if(\"abort\"!=c.status)if(c.uploaded=c.uploadTotal,200>e.status||299<e.status)c.message=c.lang.filetools[\"httpError\"+e.status],c.message||(c.message=c.lang.filetools.httpError.replace(\"%1\",\ne.status)),c.changeStatus(\"error\");else{for(var a={fileLoader:c},b=[\"message\",\"fileName\",\"url\"],d=c.editor.fire(\"fileUploadResponse\",a),l=0;l<b.length;l++){var p=b[l];\"string\"===typeof a[p]&&(c[p]=a[p])}c.responseData=a;delete c.responseData.fileLoader;!1===d?c.changeStatus(\"error\"):c.changeStatus(\"uploaded\")}}},changeStatus:function(a){this.status=a;if(\"error\"==a||\"abort\"==a||\"loaded\"==a||\"uploaded\"==a)this.abort=function(){};this.fire(a);this.update()},update:function(){this.fire(\"update\")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}};\nCKEDITOR.event.implementOn(a.prototype);CKEDITOR.event.implementOn(e.prototype);var c=/^data:(\\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={});CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:a,fileLoader:e,getUploadUrl:function(a,b){var c=CKEDITOR.tools.capitalize;return b&&a[b+\"UploadUrl\"]?a[b+\"UploadUrl\"]:a.uploadUrl?a.uploadUrl:b&&a[\"filebrowser\"+c(b,1)+\"UploadUrl\"]?a[\"filebrowser\"+c(b,1)+\"UploadUrl\"]+\"\\x26responseType\\x3djson\":a.filebrowserUploadUrl?a.filebrowserUploadUrl+\n\"\\x26responseType\\x3djson\":null},isTypeSupported:function(a,b){return!!a.type.match(b)},isFileUploadSupported:\"function\"===typeof FileReader&&\"function\"===typeof(new FileReader).readAsDataURL&&\"function\"===typeof FormData&&\"function\"===typeof(new FormData).append&&\"function\"===typeof XMLHttpRequest&&\"function\"===typeof Blob})}(),function(){function a(a,b){var c=[];if(b)for(var d in b)c.push(d+\"\\x3d\"+encodeURIComponent(b[d]));else return a;return a+(-1!=a.indexOf(\"?\")?\"\\x26\":\"?\")+c.join(\"\\x26\")}function e(b){return!b.match(/command=QuickUpload/)||\nb.match(/(\\?|&)responseType=json/)?b:a(b,{responseType:\"json\"})}function b(a){a+=\"\";return a.charAt(0).toUpperCase()+a.substr(1)}function c(){var c=this.getDialog(),d=c.getParentEditor();d._.filebrowserSe=this;var e=d.config[\"filebrowser\"+b(c.getName())+\"WindowWidth\"]||d.config.filebrowserWindowWidth||\"80%\",c=d.config[\"filebrowser\"+b(c.getName())+\"WindowHeight\"]||d.config.filebrowserWindowHeight||\"70%\",f=this.filebrowser.params||{};f.CKEditor=d.name;f.CKEditorFuncNum=d._.filebrowserFn;f.langCode||\n(f.langCode=d.langCode);f=a(this.filebrowser.url,f);d.popup(f,e,c,d.config.filebrowserWindowFeatures||d.config.fileBrowserWindowFeatures)}function d(a){var b=new CKEDITOR.dom.element(a.$.form);b&&((a=b.$.elements.ckCsrfToken)?a=new CKEDITOR.dom.element(a):(a=new CKEDITOR.dom.element(\"input\"),a.setAttributes({name:\"ckCsrfToken\",type:\"hidden\"}),b.append(a)),a.setAttribute(\"value\",CKEDITOR.tools.getCsrfToken()))}function l(){var a=this.getDialog();a.getParentEditor()._.filebrowserSe=this;return a.getContentElement(this[\"for\"][0],\nthis[\"for\"][1]).getInputElement().$.value&&a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getAction()?!0:!1}function k(b,c,d){var e=d.params||{};e.CKEditor=b.name;e.CKEditorFuncNum=b._.filebrowserFn;e.langCode||(e.langCode=b.langCode);c.action=a(d.url,e);c.filebrowser=d}function g(a,m,r,v){if(v&&v.length)for(var x,q=v.length;q--;)if(x=v[q],\"hbox\"!=x.type&&\"vbox\"!=x.type&&\"fieldset\"!=x.type||g(a,m,r,x.children),x.filebrowser)if(\"string\"==typeof x.filebrowser&&(x.filebrowser={action:\"fileButton\"==\nx.type?\"QuickUpload\":\"Browse\",target:x.filebrowser}),\"Browse\"==x.filebrowser.action){var t=x.filebrowser.url;void 0===t&&(t=a.config[\"filebrowser\"+b(m)+\"BrowseUrl\"],void 0===t&&(t=a.config.filebrowserBrowseUrl));t&&(x.onClick=c,x.filebrowser.url=t,x.hidden=!1)}else if(\"QuickUpload\"==x.filebrowser.action&&x[\"for\"]&&(t=x.filebrowser.url,void 0===t&&(t=a.config[\"filebrowser\"+b(m)+\"UploadUrl\"],void 0===t&&(t=a.config.filebrowserUploadUrl)),t)){var u=x.onClick;x.onClick=function(b){var c=b.sender,g=c.getDialog().getContentElement(this[\"for\"][0],\nthis[\"for\"][1]).getInputElement(),k=CKEDITOR.fileTools&&CKEDITOR.fileTools.isFileUploadSupported;if(u&&!1===u.call(c,b))return!1;if(l.call(c,b)){if(\"form\"!==a.config.filebrowserUploadMethod&&k)return b=a.uploadRepository.create(g.$.files[0]),b.on(\"uploaded\",function(a){var b=a.sender.responseData;f.call(a.sender.editor,b.url,b.message)}),b.on(\"error\",h.bind(this)),b.on(\"abort\",h.bind(this)),b.loadAndUpload(e(t)),\"xhr\";d(g);return!0}return!1};x.filebrowser.url=t;x.hidden=!1;k(a,r.getContents(x[\"for\"][0]).get(x[\"for\"][1]),\nx.filebrowser)}}function h(a){var b={};try{b=JSON.parse(a.sender.xhr.response)||{}}catch(c){}this.enable();alert(b.error?b.error.message:a.sender.message)}function m(a,b,c){if(-1!==c.indexOf(\";\")){c=c.split(\";\");for(var d=0;d<c.length;d++)if(m(a,b,c[d]))return!0;return!1}return(a=a.getContents(b).get(c).filebrowser)&&a.url}function f(a,b){var c=this._.filebrowserSe.getDialog(),d=this._.filebrowserSe[\"for\"],e=this._.filebrowserSe.filebrowser.onSelect;d&&c.getContentElement(d[0],d[1]).reset();if(\"function\"!=\ntypeof b||!1!==b.call(this._.filebrowserSe))if(!e||!1!==e.call(this._.filebrowserSe,a,b))if(\"string\"==typeof b&&b&&alert(b),a&&(d=this._.filebrowserSe,c=d.getDialog(),d=d.filebrowser.target||null))if(d=d.split(\":\"),e=c.getContentElement(d[0],d[1]))e.setValue(a),c.selectPage(d[0])}CKEDITOR.plugins.add(\"filebrowser\",{requires:\"popup,filetools\",init:function(a){a._.filebrowserFn=CKEDITOR.tools.addFunction(f,a);a.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on(\"dialogDefinition\",\nfunction(a){if(a.editor.plugins.filebrowser)for(var b=a.data.definition,c,d=0;d<b.contents.length;++d)if(c=b.contents[d])g(a.editor,a.data.name,b,c.elements),c.hidden&&c.filebrowser&&(c.hidden=!m(b,c.id,c.filebrowser))})}(),function(){function a(a){var d=a.config,l=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,k=function(){function f(a,c,d){h.setStyle(c,b(d));h.setStyle(\"position\",a)}function g(a){var b=m.getDocumentPosition();switch(a){case \"top\":f(\"absolute\",\"top\",b.y-u-w);break;case \"pin\":f(\"fixed\",\n\"top\",y);break;case \"bottom\":f(\"absolute\",\"top\",b.y+(q.height||q.bottom-q.top)+w)}l=a}var l,m,x,q,t,u,A,z=d.floatSpaceDockedOffsetX||0,w=d.floatSpaceDockedOffsetY||0,C=d.floatSpacePinnedOffsetX||0,y=d.floatSpacePinnedOffsetY||0;return function(f){if(m=a.editable()){var n=f&&\"focus\"==f.name;n&&h.show();a.fire(\"floatingSpaceLayout\",{show:n});h.removeStyle(\"left\");h.removeStyle(\"right\");x=h.getClientRect();q=m.getClientRect();t=e.getViewPaneSize();u=x.height;A=\"pageXOffset\"in e.$?e.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft;\nl?(u+w<=q.top?g(\"top\"):u+w>t.height-q.bottom?g(\"pin\"):g(\"bottom\"),f=t.width/2,f=d.floatSpacePreferRight?\"right\":0<q.left&&q.right<t.width&&q.width>x.width?\"rtl\"==d.contentsLangDirection?\"right\":\"left\":f-q.left>q.right-f?\"left\":\"right\",x.width>t.width?(f=\"left\",n=0):(n=\"left\"==f?0<q.left?q.left:0:q.right<t.width?t.width-q.right:0,n+x.width>t.width&&(f=\"left\"==f?\"right\":\"left\",n=0)),h.setStyle(f,b((\"pin\"==l?C:z)+n+(\"pin\"==l?0:\"left\"==f?A:-A)))):(l=\"pin\",g(\"pin\"),k(f))}}}();if(l){var g=new CKEDITOR.template('\\x3cdiv id\\x3d\"cke_{name}\" class\\x3d\"cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+\nCKEDITOR.env.cssClass+'\" dir\\x3d\"{langDir}\" title\\x3d\"'+(CKEDITOR.env.gecko?\" \":\"\")+'\" lang\\x3d\"{langCode}\" role\\x3d\"application\" style\\x3d\"{style}\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\" \")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\" \")+'\\x3cdiv class\\x3d\"cke_inner\"\\x3e\\x3cdiv id\\x3d\"{topId}\" class\\x3d\"cke_top\" role\\x3d\"presentation\"\\x3e{content}\\x3c/div\\x3e\\x3c/div\\x3e\\x3c/div\\x3e'),h=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(g.output({content:l,\nid:a.id,langDir:a.lang.dir,langCode:a.langCode,name:a.name,style:\"display:none;z-index:\"+(d.baseFloatZIndex-1),topId:a.ui.spaceId(\"top\"),voiceLabel:a.title}))),m=CKEDITOR.tools.eventsBuffer(500,k),f=CKEDITOR.tools.eventsBuffer(100,k);h.unselectable();h.on(\"mousedown\",function(a){a=a.data;a.getTarget().hasAscendant(\"a\",1)||a.preventDefault()});a.on(\"focus\",function(b){k(b);a.on(\"change\",m.input);e.on(\"scroll\",f.input);e.on(\"resize\",f.input)});a.on(\"blur\",function(){h.hide();a.removeListener(\"change\",\nm.input);e.removeListener(\"scroll\",f.input);e.removeListener(\"resize\",f.input)});a.on(\"destroy\",function(){e.removeListener(\"scroll\",f.input);e.removeListener(\"resize\",f.input);h.clearCustomData();h.remove()});a.focusManager.hasFocus&&h.show();a.focusManager.add(h,1)}}var e=CKEDITOR.document.getWindow(),b=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add(\"floatingspace\",{init:function(b){b.on(\"loaded\",function(){a(this)},null,null,20)}})}(),CKEDITOR.plugins.add(\"listblock\",{requires:\"panel\",onLoad:function(){var a=\nCKEDITOR.addTemplate(\"panel-list\",'\\x3cul role\\x3d\"presentation\" class\\x3d\"cke_panel_list\"\\x3e{items}\\x3c/ul\\x3e'),e=CKEDITOR.addTemplate(\"panel-list-item\",'\\x3cli id\\x3d\"{id}\" class\\x3d\"cke_panel_listItem\" role\\x3dpresentation\\x3e\\x3ca id\\x3d\"{id}_option\" _cke_focus\\x3d1 hidefocus\\x3dtrue title\\x3d\"{title}\" href\\x3d\"javascript:void(\\'{val}\\')\"  {onclick}\\x3d\"CKEDITOR.tools.callFunction({clickFn},\\'{val}\\'); return false;\" role\\x3d\"option\"\\x3e{text}\\x3c/a\\x3e\\x3c/li\\x3e'),b=CKEDITOR.addTemplate(\"panel-list-group\",\n'\\x3ch1 id\\x3d\"{id}\" class\\x3d\"cke_panel_grouptitle\" role\\x3d\"presentation\" \\x3e{label}\\x3c/h1\\x3e'),c=/\\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){b=b||{};var c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&(c[\"aria-multiselectable\"]=!0);!c.role&&(c.role=\"listbox\");this.base.apply(this,arguments);\nthis.element.setAttribute(\"role\",c.role);c=this.keys;c[40]=\"next\";c[9]=\"next\";c[38]=\"prev\";c[CKEDITOR.SHIFT+9]=\"prev\";c[32]=CKEDITOR.env.ie?\"mouseup\":\"click\";CKEDITOR.env.ie&&(c[13]=\"mouseup\");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var b=a.output({items:this._.pendingList.join(\"\")});this._.pendingList=[];this._.pendingHtml.push(b);delete this._.started}},getClick:function(){this._.click||(this._.click=CKEDITOR.tools.addFunction(function(a){var b=\nthis.toggle(a);if(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,b,k){var g=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=g;var h;h=CKEDITOR.tools.htmlEncodeAttr(a).replace(c,\"\\\\'\");a={id:g,val:h,onclick:CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(k||a),text:b||a};this._.pendingList.push(e.output(a))},startGroup:function(a){this._.close();\nvar c=CKEDITOR.tools.getNextId();this._.groups[a]=c;this._.pendingHtml.push(b.output({id:c,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(\"\"));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle(\"display\",\"none\"),b&&\"ul\"==b.getName()&&b.setStyle(\"display\",\"none\"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle(\"display\",\n\"none\")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument(),e;for(e in a)c.getById(a[e]).setStyle(\"display\",\"\");for(var h in b)a=c.getById(b[h]),e=a.getNext(),a.setStyle(\"display\",\"\"),e&&\"ul\"==e.getName()&&e.setStyle(\"display\",\"\")},mark:function(a){this.multiSelect||this.unmarkAll();a=this._.items[a];var b=this.element.getDocument().getById(a);b.addClass(\"cke_selected\");this.element.getDocument().getById(a+\"_option\").setAttribute(\"aria-selected\",!0);this.onMark&&this.onMark(b)},\nmarkFirstDisplayed:function(){var a=this;this._.markFirstDisplayed(function(){a.multiSelect||a.unmarkAll()})},unmark:function(a){var b=this.element.getDocument();a=this._.items[a];var c=b.getById(a);c.removeClass(\"cke_selected\");b.getById(a+\"_option\").removeAttribute(\"aria-selected\");this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),c;for(c in a){var e=a[c];b.getById(e).removeClass(\"cke_selected\");b.getById(e+\"_option\").removeAttribute(\"aria-selected\")}this.onUnmark&&\nthis.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass(\"cke_selected\")},focus:function(a){this._.focusIndex=-1;var b=this.element.getElementsByTag(\"a\"),c,e=-1;if(a)for(c=this.element.getDocument().getById(this._.items[a]).getFirst();a=b.getItem(++e);){if(a.equals(c)){this._.focusIndex=e;break}}else this.element.focus();c&&setTimeout(function(){c.focus()},0)}}})}}),CKEDITOR.plugins.add(\"richcombo\",{requires:\"floatpanel,listblock,button\",beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_RICHCOMBO,\nCKEDITOR.ui.richCombo.handler)}}),function(){var a='\\x3cspan id\\x3d\"{id}\" class\\x3d\"cke_combo cke_combo__{name} {cls}\" role\\x3d\"presentation\"\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_combo_label\"\\x3e{label}\\x3c/span\\x3e\\x3ca class\\x3d\"cke_combo_button\" title\\x3d\"{title}\" tabindex\\x3d\"-1\"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-haspopup\\x3d\"true\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&\n(a+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event,this);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan id\\x3d\"{id}_text\" class\\x3d\"cke_combo_text cke_combo_inlinelabel\"\\x3e{label}\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_combo_open\"\\x3e\\x3cspan class\\x3d\"cke_combo_arrow\"\\x3e'+\n(CKEDITOR.env.hc?\"\\x26#9660;\":CKEDITOR.env.air?\"\\x26nbsp;\":\"\")+\"\\x3c/span\\x3e\\x3c/span\\x3e\\x3c/a\\x3e\\x3c/span\\x3e\"),e=CKEDITOR.addTemplate(\"combo\",a);CKEDITOR.UI_RICHCOMBO=\"richcombo\";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className=\"cke_combopanel\";\na.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{}}},proto:{renderHtml:function(a){var c=[];this.render(a,c);return c.join(\"\")},render:function(a,c){function d(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var c=this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(c=CKEDITOR.TRISTATE_DISABLED);this.setState(c);this.setValue(\"\");c!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var l=\nCKEDITOR.env,k=\"cke_\"+this.id,g=CKEDITOR.tools.addFunction(function(c){p&&(a.unlockSelection(1),p=0);m.execute(c)},this),h=this,m={id:k,combo:this,focus:function(){CKEDITOR.document.getById(k).getChild(1).focus()},execute:function(c){var d=h._;if(d.state!=CKEDITOR.TRISTATE_DISABLED)if(h.createPanel(a),d.on)d.panel.hide();else{h.commit();var e=h.getValue();e?d.list.mark(e):d.list.unmarkAll();d.panel.showBlock(h.id,new CKEDITOR.dom.element(c),4)}},clickFn:g};a.on(\"activeFilterChange\",d,this);a.on(\"mode\",\nd,this);a.on(\"selectionChange\",d,this);!this.readOnly&&a.on(\"readOnly\",d,this);var f=CKEDITOR.tools.addFunction(function(a,b){a=new CKEDITOR.dom.event(a);var c=a.getKeystroke();switch(c){case 13:case 32:case 40:CKEDITOR.tools.callFunction(g,b);break;default:m.onkey(m,c)}a.preventDefault()}),n=CKEDITOR.tools.addFunction(function(){m.onfocus&&m.onfocus()}),p=0;m.keyDownFn=f;l={id:k,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||\"\",titleJs:l.gecko&&!l.hc?\"\":(this.title||\n\"\").replace(\"'\",\"\"),keydownFn:f,focusFn:n,clickFn:g};e.output(l,c);if(this.onRender)this.onRender();return m},createPanel:function(a){if(!this._.panel){var c=this._.panelDefinition,d=this._.panelDefinition.block,e=c.parent||CKEDITOR.document.getBody(),k=\"cke_combopanel__\"+this.name,g=new CKEDITOR.ui.floatPanel(a,e,c),c=g.addListBlock(this.id,d),h=this;g.onShow=function(){this.element.addClass(k);h.setState(CKEDITOR.TRISTATE_ON);h._.on=1;h.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(h.onOpen)h.onOpen()};\ng.onHide=function(c){this.element.removeClass(k);h.setState(h.modes&&h.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);h._.on=0;if(!c&&h.onClose)h.onClose()};g.onEscape=function(){g.hide(1)};c.onClick=function(a,b){h.onClick&&h.onClick.call(h,a,b);g.hide()};this._.panel=g;this._.list=c;g.getBlock(this.id).onHide=function(){h._.on=0;h.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,c){this._.value=a;var d=this.document.getById(\"cke_\"+this.id+\"_text\");d&&\n(a||c?d.removeClass(\"cke_combo_inlinelabel\"):(c=this.label,d.addClass(\"cke_combo_inlinelabel\")),d.setText(\"undefined\"!=typeof c?c:a))},getValue:function(){return this._.value||\"\"},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,c,d){this._.items[a]=d||a;this._.list.add(a,c,d)},startGroup:function(a){this._.list.startGroup(a)},\ncommit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire(\"ready\",this));this._.committed=1},setState:function(a){if(this._.state!=a){var c=this.document.getById(\"cke_\"+this.id);c.setState(a,\"cke_combo\");a==CKEDITOR.TRISTATE_DISABLED?c.setAttribute(\"aria-disabled\",!0):c.removeAttribute(\"aria-disabled\");this._.state=a}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=\nCKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,c){this.add(a,CKEDITOR.UI_RICHCOMBO,c)}}(),CKEDITOR.plugins.add(\"format\",{requires:\"richcombo\",init:function(a){if(!a.blockless){for(var e=a.config,b=a.lang.format,c=e.format_tags.split(\";\"),d={},l=0,k=[],g=0;g<c.length;g++){var h=c[g],m=new CKEDITOR.style(e[\"format_\"+h]);\nif(!a.filter.customConfig||a.filter.check(m))l++,d[h]=m,d[h]._.enterMode=a.config.enterMode,k.push(m)}0!==l&&a.ui.addRichCombo(\"Format\",{label:b.label,title:b.panelTitle,toolbar:\"styles,20\",allowedContent:k,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(e.contentsCss),multiSelect:!1,attributes:{\"aria-label\":b.panelTitle}},init:function(){this.startGroup(b.panelTitle);for(var a in d){var c=b[\"tag_\"+a];this.add(a,d[a].buildPreview(c),c)}},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=\nd[b];var c=a.elementPath();b.checkActive(c,a)||a.applyStyle(b);setTimeout(function(){a.fire(\"saveSnapshot\")},0)},onRender:function(){a.on(\"selectionChange\",function(b){var c=this.getValue();b=b.data.path;this.refresh();for(var e in d)if(d[e].checkActive(b,a)){e!=c&&this.setValue(e,a.lang.format[\"tag_\"+e]);return}this.setValue(\"\")},this)},onOpen:function(){this.showAll();for(var b in d)a.activeFilter.check(d[b])||this.hideItem(b)},refresh:function(){var b=a.elementPath();if(b){if(b.isContextFor(\"p\"))for(var c in d)if(a.activeFilter.check(d[c]))return;\nthis.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags=\"p;h1;h2;h3;h4;h5;h6;pre;address;div\",CKEDITOR.config.format_p={element:\"p\"},CKEDITOR.config.format_div={element:\"div\"},CKEDITOR.config.format_pre={element:\"pre\"},CKEDITOR.config.format_address={element:\"address\"},CKEDITOR.config.format_h1={element:\"h1\"},CKEDITOR.config.format_h2={element:\"h2\"},CKEDITOR.config.format_h3={element:\"h3\"},CKEDITOR.config.format_h4={element:\"h4\"},CKEDITOR.config.format_h5={element:\"h5\"},CKEDITOR.config.format_h6=\n{element:\"h6\"},function(){var a={canUndo:!1,exec:function(a){var b=a.document.createElement(\"hr\");a.insertElement(b)},allowedContent:\"hr\",requiredContent:\"hr\"};CKEDITOR.plugins.add(\"horizontalrule\",{init:function(e){e.blockless||(e.addCommand(\"horizontalrule\",a),e.ui.addButton&&e.ui.addButton(\"HorizontalRule\",{label:e.lang.horizontalrule.toolbar,command:\"horizontalrule\",toolbar:\"insert,40\"}))}})}(),CKEDITOR.plugins.add(\"htmlwriter\",{init:function(a){var e=new CKEDITOR.htmlWriter;e.forceSimpleAmpersand=\na.config.forceSimpleAmpersand;e.indentationChars=a.config.dataIndentationChars||\"\\t\";a.dataProcessor.writer=e}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base();this.indentationChars=\"\\t\";this.selfClosingEnd=\" /\\x3e\";this.lineBreakChars=\"\\n\";this.sortAttributes=1;this._.indent=0;this._.indentation=\"\";this._.inPre=0;this._.rules={};var a=CKEDITOR.dtd,e;for(e in CKEDITOR.tools.extend({},a.$nonBodyContent,a.$block,a.$listItem,a.$tableContent))this.setRules(e,\n{indent:!a[e][\"#\"],breakBeforeOpen:1,breakBeforeClose:!a[e][\"#\"],breakAfterClose:1,needsSpace:e in a.$block&&!(e in{li:1,dt:1,dd:1})});this.setRules(\"br\",{breakAfterOpen:1});this.setRules(\"title\",{indent:0,breakAfterOpen:0});this.setRules(\"style\",{indent:0,breakBeforeClose:1});this.setRules(\"pre\",{breakAfterOpen:1,indent:0})},proto:{openTag:function(a){var e=this._.rules[a];this._.afterCloser&&e&&e.needsSpace&&this._.needsSpace&&this._.output.push(\"\\n\");this._.indent?this.indentation():e&&e.breakBeforeOpen&&\n(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c\",a);this._.afterCloser=0},openTagClose:function(a,e){var b=this._.rules[a];e?(this._.output.push(this.selfClosingEnd),b&&b.breakAfterClose&&(this._.needsSpace=b.needsSpace)):(this._.output.push(\"\\x3e\"),b&&b.indent&&(this._.indentation+=this.indentationChars));b&&b.breakAfterOpen&&this.lineBreak();\"pre\"==a&&(this._.inPre=1)},attribute:function(a,e){\"string\"==typeof e&&(this.forceSimpleAmpersand&&(e=e.replace(/&amp;/g,\"\\x26\")),e=CKEDITOR.tools.htmlEncodeAttr(e));\nthis._.output.push(\" \",a,'\\x3d\"',e,'\"')},closeTag:function(a){var e=this._.rules[a];e&&e.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length));this._.indent?this.indentation():e&&e.breakBeforeClose&&(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c/\",a,\"\\x3e\");\"pre\"==a&&(this._.inPre=0);e&&e.breakAfterClose&&(this.lineBreak(),this._.needsSpace=e.needsSpace);this._.afterCloser=1},text:function(a){this._.indent&&(this.indentation(),!this._.inPre&&(a=CKEDITOR.tools.ltrim(a)));\nthis._.output.push(a)},comment:function(a){this._.indent&&this.indentation();this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation=\"\";this._.afterCloser=0;this._.inPre=0;this._.needsSpace=0},setRules:function(a,e){var b=\nthis._.rules[a];b?CKEDITOR.tools.extend(b,e,!0):this._.rules[a]=e}}}),function(){function a(a,c){c||(c=a.getSelection().getSelectedElement());if(c&&c.is(\"img\")&&!c.data(\"cke-realelement\")&&!c.isReadOnly())return c}function e(a){var c=a.getStyle(\"float\");if(\"inherit\"==c||\"none\"==c)c=0;c||(c=a.getAttribute(\"align\"));return c}CKEDITOR.plugins.add(\"image\",{requires:\"dialog\",init:function(b){if(!b.plugins.image2){CKEDITOR.dialog.add(\"image\",this.path+\"dialogs/image.js\");var c=\"img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}\";\nCKEDITOR.dialog.isTabEnabled(b,\"image\",\"advanced\")&&(c=\"img[alt,dir,id,lang,longdesc,!src,title]{*}(*)\");b.addCommand(\"image\",new CKEDITOR.dialogCommand(\"image\",{allowedContent:c,requiredContent:\"img[alt,src]\",contentTransformations:[[\"img{width}: sizeToStyle\",\"img[width]: sizeToAttribute\"],[\"img{float}: alignmentToStyle\",\"img[align]: alignmentToAttribute\"]]}));b.ui.addButton&&b.ui.addButton(\"Image\",{label:b.lang.common.image,command:\"image\",toolbar:\"insert,10\"});b.on(\"doubleclick\",function(a){var b=\na.data.element;!b.is(\"img\")||b.data(\"cke-realelement\")||b.isReadOnly()||(a.data.dialog=\"image\")});b.addMenuItems&&b.addMenuItems({image:{label:b.lang.image.menu,command:\"image\",group:\"image\"}});b.contextMenu&&b.contextMenu.addListener(function(c){if(a(b,c))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(b){function c(c){var l=b.getCommand(\"justify\"+c);if(l){if(\"left\"==c||\"right\"==c)l.on(\"exec\",function(k){var g=a(b),h;g&&(h=e(g),h==c?(g.removeStyle(\"float\"),c==e(g)&&g.removeAttribute(\"align\")):\ng.setStyle(\"float\",c),k.cancel())});l.on(\"refresh\",function(k){var g=a(b);g&&(g=e(g),this.setState(g==c?CKEDITOR.TRISTATE_ON:\"right\"==c||\"left\"==c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),k.cancel())})}}b.plugins.image2||(c(\"left\"),c(\"right\"),c(\"center\"),c(\"block\"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function a(a,b){var d=c.exec(a),e=c.exec(b);if(d){if(!d[2]&&\"px\"==e[2])return e[1];if(\"px\"==d[2]&&!e[2])return e[1]+\"px\"}return b}var e=CKEDITOR.htmlParser.cssStyle,\nb=CKEDITOR.tools.cssLength,c=/^((?:\\d*(?:\\.\\d+))|(?:\\d+))(.*)?$/i,d={elements:{$:function(b){var c=b.attributes;if((c=(c=(c=c&&c[\"data-cke-realelement\"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(c)))&&c.children[0])&&b.attributes[\"data-cke-resizable\"]){var d=(new e(b)).rules;b=c.attributes;var h=d.width,d=d.height;h&&(b.width=a(b.width,h));d&&(b.height=a(b.height,d))}return c}}};CKEDITOR.plugins.add(\"fakeobjects\",{init:function(a){a.filter.allow(\"img[!data-cke-realelement,src,alt,title](*){*}\",\n\"fakeobjects\")},afterInit:function(a){(a=(a=a.dataProcessor)&&a.htmlFilter)&&a.addRules(d,{applyToAll:!0})}});CKEDITOR.editor.prototype.createFakeElement=function(a,c,d,h){var m=this.lang.fakeobjects,m=m[d]||m.unknown;c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(a.getOuterHtml()),\"data-cke-real-node-type\":a.type,alt:m,title:m,align:a.getAttribute(\"align\")||\"\"};CKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);h&&(c[\"data-cke-resizable\"]=\nh,d=new e,h=a.getAttribute(\"width\"),a=a.getAttribute(\"height\"),h&&(d.rules.width=b(h)),a&&(d.rules.height=b(a)),d.populate(c));return this.document.createElement(\"img\",{attributes:c})};CKEDITOR.editor.prototype.createFakeParserElement=function(a,c,d,h){var m=this.lang.fakeobjects,m=m[d]||m.unknown,f;f=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(f);f=f.getHtml();c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(f),\"data-cke-real-node-type\":a.type,alt:m,title:m,align:a.attributes.align||\"\"};\nCKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);h&&(c[\"data-cke-resizable\"]=h,h=a.attributes,a=new e,d=h.width,h=h.height,void 0!==d&&(a.rules.width=b(d)),void 0!==h&&(a.rules.height=b(h)),a.populate(c));return new CKEDITOR.htmlParser.element(\"img\",c)};CKEDITOR.editor.prototype.restoreRealElement=function(b){if(b.data(\"cke-real-node-type\")!=CKEDITOR.NODE_ELEMENT)return null;var c=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(b.data(\"cke-realelement\")),\nthis.document);if(b.data(\"cke-resizable\")){var d=b.getStyle(\"width\");b=b.getStyle(\"height\");d&&c.setAttribute(\"width\",a(c.getAttribute(\"width\"),d));b&&c.setAttribute(\"height\",a(c.getAttribute(\"height\"),b))}return c}}(),\"use strict\",function(){function a(a){return a.replace(/'/g,\"\\\\$\\x26\")}function e(a){for(var b,c=a.length,d=[],e=0;e<c;e++)b=a.charCodeAt(e),d.push(b);return\"String.fromCharCode(\"+d.join(\",\")+\")\"}function b(b,c){var d=b.plugins.link,e=d.compiledProtectionFunction.params,f,g;g=[d.compiledProtectionFunction.name,\n\"(\"];for(var h=0;h<e.length;h++)d=e[h].toLowerCase(),f=c[d],0<h&&g.push(\",\"),g.push(\"'\",f?a(encodeURIComponent(c[d])):\"\",\"'\");g.push(\")\");return g.join(\"\")}function c(a){a=a.config.emailProtection||\"\";var b;a&&\"encode\"!=a&&(b={},a.replace(/^([^(]+)\\(([^)]+)\\)$/,function(a,c,d){b.name=c;b.params=[];d.replace(/[^,\\s]+/g,function(a){b.params.push(a)})}));return b}CKEDITOR.plugins.add(\"link\",{requires:\"dialog,fakeobjects\",onLoad:function(){function a(b){return c.replace(/%1/g,\"rtl\"==b?\"right\":\"left\").replace(/%2/g,\n\"cke_contents_\"+b)}var b=\"background:url(\"+CKEDITOR.getUrl(this.path+\"images\"+(CKEDITOR.env.hidpi?\"/hidpi\":\"\")+\"/anchor.png\")+\") no-repeat %1 center;border:1px dotted #00f;background-size:16px;\",c=\".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{\"+b+\"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{\"+b+\"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}\";CKEDITOR.addCss(a(\"ltr\")+a(\"rtl\"))},init:function(a){var b=\"a[!href]\";\nCKEDITOR.dialog.isTabEnabled(a,\"link\",\"advanced\")&&(b=b.replace(\"]\",\",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)\"));CKEDITOR.dialog.isTabEnabled(a,\"link\",\"target\")&&(b=b.replace(\"]\",\",target,onclick]\"));a.addCommand(\"link\",new CKEDITOR.dialogCommand(\"link\",{allowedContent:b,requiredContent:\"a[href]\"}));a.addCommand(\"anchor\",new CKEDITOR.dialogCommand(\"anchor\",{allowedContent:\"a[!name,id]\",requiredContent:\"a[name]\"}));a.addCommand(\"unlink\",new CKEDITOR.unlinkCommand);\na.addCommand(\"removeAnchor\",new CKEDITOR.removeAnchorCommand);a.setKeystroke(CKEDITOR.CTRL+76,\"link\");a.ui.addButton&&(a.ui.addButton(\"Link\",{label:a.lang.link.toolbar,command:\"link\",toolbar:\"links,10\"}),a.ui.addButton(\"Unlink\",{label:a.lang.link.unlink,command:\"unlink\",toolbar:\"links,20\"}),a.ui.addButton(\"Anchor\",{label:a.lang.link.anchor.toolbar,command:\"anchor\",toolbar:\"links,30\"}));CKEDITOR.dialog.add(\"link\",this.path+\"dialogs/link.js\");CKEDITOR.dialog.add(\"anchor\",this.path+\"dialogs/anchor.js\");\na.on(\"doubleclick\",function(b){var c=b.data.element.getAscendant({a:1,img:1},!0);c&&!c.isReadOnly()&&(c.is(\"a\")?(b.data.dialog=!c.getAttribute(\"name\")||c.getAttribute(\"href\")&&c.getChildCount()?\"link\":\"anchor\",b.data.link=c):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,c)&&(b.data.dialog=\"anchor\"))},null,null,0);a.on(\"doubleclick\",function(b){b.data.dialog in{link:1,anchor:1}&&b.data.link&&a.getSelection().selectElement(b.data.link)},null,null,20);a.addMenuItems&&a.addMenuItems({anchor:{label:a.lang.link.anchor.menu,\ncommand:\"anchor\",group:\"anchor\",order:1},removeAnchor:{label:a.lang.link.anchor.remove,command:\"removeAnchor\",group:\"anchor\",order:5},link:{label:a.lang.link.menu,command:\"link\",group:\"link\",order:1},unlink:{label:a.lang.link.unlink,command:\"unlink\",group:\"link\",order:5}});a.contextMenu&&a.contextMenu.addListener(function(b){if(!b||b.isReadOnly())return null;b=CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b);if(!b&&!(b=CKEDITOR.plugins.link.getSelectedLink(a)))return null;var c={};b.getAttribute(\"href\")&&\nb.getChildCount()&&(c={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});b&&b.hasAttribute(\"name\")&&(c.anchor=c.removeAnchor=CKEDITOR.TRISTATE_OFF);return c});this.compiledProtectionFunction=c(a)},afterInit:function(a){a.dataProcessor.dataFilter.addRules({elements:{a:function(b){return b.attributes.name?b.children.length?null:a.createFakeParserElement(b,\"cke_anchor\",\"anchor\"):null}}});var b=a._.elementsPath&&a._.elementsPath.filters;b&&b.push(function(b,c){if(\"a\"==c&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,\nb)||b.getAttribute(\"name\")&&(!b.getAttribute(\"href\")||!b.getChildCount())))return\"anchor\"})}});var d=/^javascript:/,l=/^mailto:([^?]+)(?:\\?(.+))?$/,k=/subject=([^;?:@&=$,\\/]*)/i,g=/body=([^;?:@&=$,\\/]*)/i,h=/^#(.*)$/,m=/^((?:http|https|ftp|news):\\/\\/)?(.*)$/,f=/^(_(?:self|top|parent|blank))$/,n=/^javascript:void\\(location\\.href='mailto:'\\+String\\.fromCharCode\\(([^)]+)\\)(?:\\+'(.*)')?\\)$/,p=/^javascript:([^(]+)\\(([^)]+)\\)$/,r=/\\s*window.open\\(\\s*this\\.href\\s*,\\s*(?:'([^']*)'|null)\\s*,\\s*'([^']*)'\\s*\\)\\s*;\\s*return\\s*false;*\\s*/,\nv=/(?:^|,)([^=]+)=(\\d+|yes|no)/gi,x={id:\"advId\",dir:\"advLangDir\",accessKey:\"advAccessKey\",name:\"advName\",lang:\"advLangCode\",tabindex:\"advTabIndex\",title:\"advTitle\",type:\"advContentType\",\"class\":\"advCSSClasses\",charset:\"advCharset\",style:\"advStyles\",rel:\"advRel\"};CKEDITOR.plugins.link={getSelectedLink:function(a,b){var c=a.getSelection(),d=c.getSelectedElement(),e=c.getRanges(),f=[],g;if(!b&&d&&d.is(\"a\"))return d;for(d=0;d<e.length;d++)if(g=c.getRanges()[d],g.shrink(CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),\n(g=a.elementPath(g.getCommonAncestor()).contains(\"a\",1))&&b)f.push(g);else if(g)return g;return b?f:null},getEditorAnchors:function(a){for(var b=a.editable(),c=b.isInline()&&!a.plugins.divarea?a.document:b,b=c.getElementsByTag(\"a\"),c=c.getElementsByTag(\"img\"),d=[],e=0,f;f=b.getItem(e++);)(f.data(\"cke-saved-name\")||f.hasAttribute(\"name\"))&&d.push({name:f.data(\"cke-saved-name\")||f.getAttribute(\"name\"),id:f.getAttribute(\"id\")});for(e=0;f=c.getItem(e++);)(f=this.tryRestoreFakeAnchor(a,f))&&d.push({name:f.getAttribute(\"name\"),\nid:f.getAttribute(\"id\")});return d},fakeAnchor:!0,tryRestoreFakeAnchor:function(a,b){if(b&&b.data(\"cke-real-element-type\")&&\"anchor\"==b.data(\"cke-real-element-type\")){var c=a.restoreRealElement(b);if(c.data(\"cke-saved-name\"))return c}},parseLinkAttributes:function(a,b){var c=b&&(b.data(\"cke-saved-href\")||b.getAttribute(\"href\"))||\"\",e=a.plugins.link.compiledProtectionFunction,z=a.config.emailProtection,w,C={};c.match(d)&&(\"encode\"==z?c=c.replace(n,function(a,b,c){c=c||\"\";return\"mailto:\"+String.fromCharCode.apply(String,\nb.split(\",\"))+c.replace(/\\\\'/g,\"'\")}):z&&c.replace(p,function(a,b,c){if(b==e.name){C.type=\"email\";a=C.email={};b=/(^')|('$)/g;c=c.match(/[^,\\s]+/g);for(var d=c.length,f,g,h=0;h<d;h++)f=decodeURIComponent,g=c[h].replace(b,\"\").replace(/\\\\'/g,\"'\"),g=f(g),f=e.params[h].toLowerCase(),a[f]=g;a.address=[a.name,a.domain].join(\"@\")}}));if(!C.type)if(z=c.match(h))C.type=\"anchor\",C.anchor={},C.anchor.name=C.anchor.id=z[1];else if(z=c.match(l)){w=c.match(k);c=c.match(g);C.type=\"email\";var y=C.email={};y.address=\nz[1];w&&(y.subject=decodeURIComponent(w[1]));c&&(y.body=decodeURIComponent(c[1]))}else c&&(w=c.match(m))&&(C.type=\"url\",C.url={},C.url.protocol=w[1],C.url.url=w[2]);if(b){if(c=b.getAttribute(\"target\"))C.target={type:c.match(f)?c:\"frame\",name:c};else if(c=(c=b.data(\"cke-pa-onclick\")||b.getAttribute(\"onclick\"))&&c.match(r))for(C.target={type:\"popup\",name:c[1]};z=v.exec(c[2]);)\"yes\"!=z[2]&&\"1\"!=z[2]||z[1]in{height:1,width:1,top:1,left:1}?isFinite(z[2])&&(C.target[z[1]]=z[2]):C.target[z[1]]=!0;null!==\nb.getAttribute(\"download\")&&(C.download=!0);var c={},B;for(B in x)(z=b.getAttribute(B))&&(c[x[B]]=z);if(B=b.data(\"cke-saved-name\")||c.advName)c.advName=B;CKEDITOR.tools.isEmpty(c)||(C.advanced=c)}return C},getLinkAttributes:function(c,d){var f=c.config.emailProtection||\"\",g={};switch(d.type){case \"url\":var f=d.url&&void 0!==d.url.protocol?d.url.protocol:\"http://\",h=d.url&&CKEDITOR.tools.trim(d.url.url)||\"\";g[\"data-cke-saved-href\"]=0===h.indexOf(\"/\")?h:f+h;break;case \"anchor\":f=d.anchor&&d.anchor.id;\ng[\"data-cke-saved-href\"]=\"#\"+(d.anchor&&d.anchor.name||f||\"\");break;case \"email\":var k=d.email,h=k.address;switch(f){case \"\":case \"encode\":var m=encodeURIComponent(k.subject||\"\"),l=encodeURIComponent(k.body||\"\"),k=[];m&&k.push(\"subject\\x3d\"+m);l&&k.push(\"body\\x3d\"+l);k=k.length?\"?\"+k.join(\"\\x26\"):\"\";\"encode\"==f?(f=[\"javascript:void(location.href\\x3d'mailto:'+\",e(h)],k&&f.push(\"+'\",a(k),\"'\"),f.push(\")\")):f=[\"mailto:\",h,k];break;default:f=h.split(\"@\",2),k.name=f[0],k.domain=f[1],f=[\"javascript:\",b(c,\nk)]}g[\"data-cke-saved-href\"]=f.join(\"\")}if(d.target)if(\"popup\"==d.target.type){for(var f=[\"window.open(this.href, '\",d.target.name||\"\",\"', '\"],n=\"resizable status location toolbar menubar fullscreen scrollbars dependent\".split(\" \"),h=n.length,m=function(a){d.target[a]&&n.push(a+\"\\x3d\"+d.target[a])},k=0;k<h;k++)n[k]+=d.target[n[k]]?\"\\x3dyes\":\"\\x3dno\";m(\"width\");m(\"left\");m(\"height\");m(\"top\");f.push(n.join(\",\"),\"'); return false;\");g[\"data-cke-pa-onclick\"]=f.join(\"\")}else\"notSet\"!=d.target.type&&d.target.name&&\n(g.target=d.target.name);d.download&&(g.download=\"\");if(d.advanced){for(var p in x)(f=d.advanced[x[p]])&&(g[p]=f);g.name&&(g[\"data-cke-saved-name\"]=g.name)}g[\"data-cke-saved-href\"]&&(g.href=g[\"data-cke-saved-href\"]);p={target:1,onclick:1,\"data-cke-pa-onclick\":1,\"data-cke-saved-name\":1,download:1};d.advanced&&CKEDITOR.tools.extend(p,x);for(var r in g)delete p[r];return{set:g,removed:CKEDITOR.tools.objectKeys(p)}},showDisplayTextForElement:function(a,b){var c={img:1,table:1,tbody:1,thead:1,tfoot:1,\ninput:1,select:1,textarea:1},d=b.getSelection();return b.widgets&&b.widgets.focused||d&&1<d.getRanges().length?!1:!a||!a.getName||!a.is(c)}};CKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:function(a){if(CKEDITOR.env.ie){var b=a.getSelection().getRanges()[0],c=b.getPreviousEditableNode()&&b.getPreviousEditableNode().getAscendant(\"a\",!0)||b.getNextEditableNode()&&b.getNextEditableNode().getAscendant(\"a\",!0),d;b.collapsed&&c&&(d=b.createBookmark(),b.selectNodeContents(c),\nb.select())}c=new CKEDITOR.style({element:\"a\",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});a.removeStyle(c);d&&(b.moveToBookmark(d),b.select())},refresh:function(a,b){var c=b.lastElement&&b.lastElement.getAscendant(\"a\",!0);c&&\"a\"==c.getName()&&c.getAttribute(\"href\")&&c.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:\"a[href]\",editorFocus:1};CKEDITOR.removeAnchorCommand=function(){};CKEDITOR.removeAnchorCommand.prototype=\n{exec:function(a){var b=a.getSelection(),c=b.createBookmarks(),d;if(b&&(d=b.getSelectedElement())&&(d.getChildCount()?d.is(\"a\"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,d)))d.remove(1);else if(d=CKEDITOR.plugins.link.getSelectedLink(a))d.hasAttribute(\"href\")?(d.removeAttributes({name:1,\"data-cke-saved-name\":1}),d.removeClass(\"cke_anchor\")):d.remove(1);b.selectBookmarks(c)},requiredContent:\"a[name]\"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),\"use strict\",\nfunction(){function a(a,b,c){return n(b)&&n(c)&&c.equals(b.getNext(function(a){return!(aa(a)||ba(a)||p(a))}))}function e(a){this.upper=a[0];this.lower=a[1];this.set.apply(this,a.slice(2))}function b(a){var b=a.element;if(b&&n(b)&&(b=b.getAscendant(a.triggers,!0))&&a.editable.contains(b)){var c=k(b);if(\"true\"==c.getAttribute(\"contenteditable\"))return b;if(c.is(a.triggers))return c}return null}function c(a,b,c){z(a,b);z(a,c);a=b.size.bottom;c=c.size.top;return a&&c?0|(a+c)/2:a||c}function d(a,b,c){return b=\nb[c?\"getPrevious\":\"getNext\"](function(b){return b&&b.type==CKEDITOR.NODE_TEXT&&!aa(b)||n(b)&&!p(b)&&!f(a,b)})}function l(a,b,c){return a>b&&a<c}function k(a,b){if(a.data(\"cke-editable\"))return null;for(b||(a=a.getParent());a&&!a.data(\"cke-editable\");){if(a.hasAttribute(\"contenteditable\"))return a;a=a.getParent()}return null}function g(a){var b=a.doc,c=E('\\x3cspan contenteditable\\x3d\"false\" data-cke-magic-line\\x3d\"1\" style\\x3d\"'+U+\"position:absolute;border-top:1px dashed \"+a.boxColor+'\"\\x3e\\x3c/span\\x3e',\nb),d=CKEDITOR.getUrl(this.path+\"images/\"+(F.hidpi?\"hidpi/\":\"\")+\"icon\"+(a.rtl?\"-rtl\":\"\")+\".png\");B(c,{attach:function(){this.wrap.getParent()||this.wrap.appendTo(a.editable,!0);return this},lineChildren:[B(E('\\x3cspan title\\x3d\"'+a.editor.lang.magicline.title+'\" contenteditable\\x3d\"false\"\\x3e\\x26#8629;\\x3c/span\\x3e',b),{base:U+\"height:17px;width:17px;\"+(a.rtl?\"left\":\"right\")+\":17px;background:url(\"+d+\") center no-repeat \"+a.boxColor+\";cursor:pointer;\"+(F.hc?\"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;\":\n\"\")+(F.hidpi?\"background-size: 9px 10px;\":\"\"),looks:[\"top:-8px; border-radius: 2px;\",\"top:-17px; border-radius: 2px 2px 0px 0px;\",\"top:-1px; border-radius: 0px 0px 2px 2px;\"]}),B(E(O,b),{base:T+\"left:0px;border-left-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 0 8px 8px;top:-8px\",\"border-width:8px 0 0 8px;top:-8px\",\"border-width:0 0 8px 8px;top:0px\"]}),B(E(O,b),{base:T+\"right:0px;border-right-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 8px 8px 0;top:-8px\",\"border-width:8px 8px 0 0;top:-8px\",\n\"border-width:0 8px 8px 0;top:0px\"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){z(a,this);var b=a.holdDistance,c=this.size;return c&&l(a.mouse.y,c.top-b,c.bottom+b)&&l(a.mouse.x,c.left-b,c.right+b)?!0:!1},place:function(){var b=a.view,c=a.editable,d=a.trigger,e=d.upper,f=d.lower,g=e||f,h=g.getParent(),k={};this.trigger=d;e&&z(a,e,!0);f&&z(a,f,!0);z(a,h,!0);a.inInlineMode&&w(a,!0);h.equals(c)?(k.left=b.scroll.x,k.right=-b.scroll.x,k.width=\"\"):(k.left=\ng.size.left-g.size.margin.left+b.scroll.x-(a.inInlineMode?b.editable.left+b.editable.border.left:0),k.width=g.size.outerWidth+g.size.margin.left+g.size.margin.right+b.scroll.x,k.right=\"\");e&&f?k.top=e.size.margin.bottom===f.size.margin.top?0|e.size.bottom+e.size.margin.bottom/2:e.size.margin.bottom<f.size.margin.top?e.size.bottom+e.size.margin.bottom:e.size.bottom+e.size.margin.bottom-f.size.margin.top:e?f||(k.top=e.size.bottom+e.size.margin.bottom):k.top=f.size.top-f.size.margin.top;d.is(S)||l(k.top,\nb.scroll.y-15,b.scroll.y+5)?(k.top=a.inInlineMode?0:b.scroll.y,this.look(S)):d.is(L)||l(k.top,b.pane.bottom-5,b.pane.bottom+15)?(k.top=a.inInlineMode?b.editable.height+b.editable.padding.top+b.editable.padding.bottom:b.pane.bottom-1,this.look(L)):(a.inInlineMode&&(k.top-=b.editable.top+b.editable.border.top),this.look(V));a.inInlineMode&&(k.top--,k.top+=b.editable.scroll.top,k.left+=b.editable.scroll.left);for(var m in k)k[m]=CKEDITOR.tools.cssLength(k[m]);this.setStyles(k)},look:function(a){if(this.oldLook!=\na){for(var b=this.lineChildren.length,c;b--;)(c=this.lineChildren[b]).setAttribute(\"style\",c.base+c.looks[0|a/2]);this.oldLook=a}},wrap:new G(\"span\",a.doc)});for(b=c.lineChildren.length;b--;)c.lineChildren[b].appendTo(c);c.look(V);c.appendTo(c.wrap);c.unselectable();c.lineChildren[0].on(\"mouseup\",function(b){c.detach();h(a,function(b){var c=a.line.trigger;b[c.is(J)?\"insertBefore\":\"insertAfter\"](c.is(J)?c.lower:c.upper)},!0);a.editor.focus();F.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();\nb.data.preventDefault(!0)});c.on(\"mousedown\",function(a){a.data.preventDefault(!0)});a.line=c}function h(a,b,c){var d=new CKEDITOR.dom.range(a.doc),e=a.editor,f;F.ie&&a.enterMode==CKEDITOR.ENTER_BR?f=a.doc.createText(Z):(f=(f=k(a.element,!0))&&f.data(\"cke-enter-mode\")||a.enterMode,f=new G(K[f],a.doc),f.is(\"br\")||a.doc.createText(Z).appendTo(f));c&&e.fire(\"saveSnapshot\");b(f);d.moveToPosition(f,CKEDITOR.POSITION_AFTER_START);e.getSelection().selectRanges([d]);a.hotNode=f;c&&e.fire(\"saveSnapshot\")}\nfunction m(a,c){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function e(b){var d=F.ie&&9>F.version?\" \":Z,f=a.hotNode&&a.hotNode.getText()==d&&a.element.equals(a.hotNode)&&a.lastCmdDirection===!!c;h(a,function(d){f&&a.hotNode&&a.hotNode.remove();d[c?\"insertAfter\":\"insertBefore\"](b);d.setAttributes({\"data-cke-magicline-hot\":1,\"data-cke-magicline-dir\":!!c});a.lastCmdDirection=!!c});F.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();a.line.detach()}return function(f){f=f.getSelection().getStartElement();\nvar g;f=f.getAscendant(Q,1);if(!x(a,f)&&f&&!f.equals(a.editable)&&!f.contains(a.editable)){(g=k(f))&&\"false\"==g.getAttribute(\"contenteditable\")&&(f=g);a.element=f;g=d(a,f,!c);var h;n(g)&&g.is(a.triggers)&&g.is(P)&&(!d(a,g,!c)||(h=d(a,g,!c))&&n(h)&&h.is(a.triggers))?e(g):(h=b(a,f),n(h)&&(d(a,h,!c)?(f=d(a,h,!c))&&n(f)&&f.is(a.triggers)&&e(h):e(h)))}}}()}}function f(a,b){if(!b||b.type!=CKEDITOR.NODE_ELEMENT||!b.$)return!1;var c=a.line;return c.wrap.equals(b)||c.wrap.contains(b)}function n(a){return a&&\na.type==CKEDITOR.NODE_ELEMENT&&a.$}function p(a){if(!n(a))return!1;var b;(b=r(a))||(n(a)?(b={left:1,right:1,center:1},b=!(!b[a.getComputedStyle(\"float\")]&&!b[a.getAttribute(\"align\")])):b=!1);return b}function r(a){return!!{absolute:1,fixed:1}[a.getComputedStyle(\"position\")]}function v(a,b){return n(b)?b.is(a.triggers):null}function x(a,b){if(!b)return!1;for(var c=b.getParents(1),d=c.length;d--;)for(var e=a.tabuList.length;e--;)if(c[d].hasAttribute(a.tabuList[e]))return!0;return!1}function q(a,b,c){b=\nb[c?\"getLast\":\"getFirst\"](function(b){return a.isRelevant(b)&&!b.is(da)});if(!b)return!1;z(a,b);return c?b.size.top>a.mouse.y:b.size.bottom<a.mouse.y}function t(a){var b=a.editable,c=a.mouse,d=a.view,g=a.triggerOffset;w(a);var h=c.y>(a.inInlineMode?d.editable.top+d.editable.height/2:Math.min(d.editable.height,d.pane.height)/2),b=b[h?\"getLast\":\"getFirst\"](function(a){return!(aa(a)||ba(a))});if(!b)return null;f(a,b)&&(b=a.line.wrap[h?\"getPrevious\":\"getNext\"](function(a){return!(aa(a)||ba(a))}));if(!n(b)||\np(b)||!v(a,b))return null;z(a,b);return!h&&0<=b.size.top&&l(c.y,0,b.size.top+g)?(a=a.inInlineMode||0===d.scroll.y?S:V,new e([null,b,J,N,a])):h&&b.size.bottom<=d.pane.height&&l(c.y,b.size.bottom-g,d.pane.height)?(a=a.inInlineMode||l(b.size.bottom,d.pane.height-g,d.pane.height)?L:V,new e([b,null,D,N,a])):null}function u(a){var c=a.mouse,f=a.view,g=a.triggerOffset,h=b(a);if(!h)return null;z(a,h);var g=Math.min(g,0|h.size.outerHeight/2),k=[],m,O;if(l(c.y,h.size.top-1,h.size.top+g))O=!1;else if(l(c.y,\nh.size.bottom-g,h.size.bottom+1))O=!0;else return null;if(p(h)||q(a,h,O)||h.getParent().is(X))return null;var y=d(a,h,!O);if(y){if(y&&y.type==CKEDITOR.NODE_TEXT)return null;if(n(y)){if(p(y)||!v(a,y)||y.getParent().is(X))return null;k=[y,h][O?\"reverse\":\"concat\"]().concat([R,N])}}else h.equals(a.editable[O?\"getLast\":\"getFirst\"](a.isRelevant))?(w(a),O&&l(c.y,h.size.bottom-g,f.pane.height)&&l(h.size.bottom,f.pane.height-g,f.pane.height)?m=L:l(c.y,0,h.size.top+g)&&(m=S)):m=V,k=[null,h][O?\"reverse\":\"concat\"]().concat([O?\nD:J,N,m,h.equals(a.editable[O?\"getLast\":\"getFirst\"](a.isRelevant))?O?L:S:V]);return 0 in k?new e(k):null}function A(a,b,c,d){for(var e=b.getDocumentPosition(),f={},g={},h={},k={},m=ca.length;m--;)f[ca[m]]=parseInt(b.getComputedStyle.call(b,\"border-\"+ca[m]+\"-width\"),10)||0,h[ca[m]]=parseInt(b.getComputedStyle.call(b,\"padding-\"+ca[m]),10)||0,g[ca[m]]=parseInt(b.getComputedStyle.call(b,\"margin-\"+ca[m]),10)||0;c&&!d||C(a,d);k.top=e.y-(c?0:a.view.scroll.y);k.left=e.x-(c?0:a.view.scroll.x);k.outerWidth=\nb.$.offsetWidth;k.outerHeight=b.$.offsetHeight;k.height=k.outerHeight-(h.top+h.bottom+f.top+f.bottom);k.width=k.outerWidth-(h.left+h.right+f.left+f.right);k.bottom=k.top+k.outerHeight;k.right=k.left+k.outerWidth;a.inInlineMode&&(k.scroll={top:b.$.scrollTop,left:b.$.scrollLeft});return B({border:f,padding:h,margin:g,ignoreScroll:c},k,!0)}function z(a,b,c){if(!n(b))return b.size=null;if(!b.size)b.size={};else if(b.size.ignoreScroll==c&&b.size.date>new Date-M)return null;return B(b.size,A(a,b,c),{date:+new Date},\n!0)}function w(a,b){a.view.editable=A(a,a.editable,b,!0)}function C(a,b){a.view||(a.view={});var c=a.view;if(!(!b&&c&&c.date>new Date-M)){var d=a.win,c=d.getScrollPosition(),d=d.getViewPaneSize();B(a.view,{scroll:{x:c.x,y:c.y,width:a.doc.$.documentElement.scrollWidth-d.width,height:a.doc.$.documentElement.scrollHeight-d.height},pane:{width:d.width,height:d.height,bottom:d.height+c.y},date:+new Date},!0)}}function y(a,b,c,d){for(var f=d,g=d,h=0,k=!1,m=!1,l=a.view.pane.height,n=a.mouse;n.y+h<l&&0<n.y-\nh;){k||(k=b(f,d));m||(m=b(g,d));!k&&0<n.y-h&&(f=c(a,{x:n.x,y:n.y-h}));!m&&n.y+h<l&&(g=c(a,{x:n.x,y:n.y+h}));if(k&&m)break;h+=2}return new e([f,g,null,null])}CKEDITOR.plugins.add(\"magicline\",{init:function(a){var c=a.config,k=c.magicline_triggerOffset||30,l={editor:a,enterMode:c.enterMode,triggerOffset:k,holdDistance:0|k*(c.magicline_holdDistance||.5),boxColor:c.magicline_color||\"#ff0000\",rtl:\"rtl\"==c.contentsLangDirection,tabuList:[\"data-cke-hidden-sel\"].concat(c.magicline_tabuList||[]),triggers:c.magicline_everywhere?\nQ:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},O,y,q;l.isRelevant=function(a){return n(a)&&!f(l,a)&&!p(a)};a.on(\"contentDom\",function(){var k=a.editable(),n=a.document,p=a.window;B(l,{editable:k,inInlineMode:k.isInline(),doc:n,win:p,hotNode:null},!0);l.boundary=l.inInlineMode?l.editable:l.doc.getDocumentElement();k.is(H.$inline)||(l.inInlineMode&&!r(k)&&k.setStyles({position:\"relative\",top:null,left:null}),g.call(this,l),C(l),k.attachListener(a,\"beforeUndoImage\",function(){l.line.detach()}),\nk.attachListener(a,\"beforeGetData\",function(){l.line.wrap.getParent()&&(l.line.detach(),a.once(\"getData\",function(){l.line.attach()},null,null,1E3))},null,null,0),k.attachListener(l.inInlineMode?n:n.getWindow().getFrame(),\"mouseout\",function(b){if(\"wysiwyg\"==a.mode)if(l.inInlineMode){var c=b.data.$.clientX;b=b.data.$.clientY;C(l);w(l,!0);var d=l.view.editable,e=l.view.scroll;c>d.left-e.x&&c<d.right-e.x&&b>d.top-e.y&&b<d.bottom-e.y||(clearTimeout(q),q=null,l.line.detach())}else clearTimeout(q),q=null,\nl.line.detach()}),k.attachListener(k,\"keyup\",function(){l.hiddenMode=0}),k.attachListener(k,\"keydown\",function(b){if(\"wysiwyg\"==a.mode)switch(b.data.getKeystroke()){case 2228240:case 16:l.hiddenMode=1,l.line.detach()}}),k.attachListener(l.inInlineMode?k:n,\"mousemove\",function(b){y=!0;if(\"wysiwyg\"==a.mode&&!a.readOnly&&!q){var c={x:b.data.$.clientX,y:b.data.$.clientY};q=setTimeout(function(){l.mouse=c;q=l.trigger=null;C(l);y&&!l.hiddenMode&&a.focusManager.hasFocus&&!l.line.mouseNear()&&(l.element=\nW(l,!0))&&((l.trigger=t(l)||u(l)||Y(l))&&!x(l,l.trigger.upper||l.trigger.lower)?l.line.attach().place():(l.trigger=null,l.line.detach()),y=!1)},30)}}),k.attachListener(p,\"scroll\",function(){\"wysiwyg\"==a.mode&&(l.line.detach(),F.webkit&&(l.hiddenMode=1,clearTimeout(O),O=setTimeout(function(){l.mouseDown||(l.hiddenMode=0)},50)))}),k.attachListener(I?n:p,\"mousedown\",function(){\"wysiwyg\"==a.mode&&(l.line.detach(),l.hiddenMode=1,l.mouseDown=1)}),k.attachListener(I?n:p,\"mouseup\",function(){l.hiddenMode=\n0;l.mouseDown=0}),a.addCommand(\"accessPreviousSpace\",m(l)),a.addCommand(\"accessNextSpace\",m(l,!0)),a.setKeystroke([[c.magicline_keystrokePrevious,\"accessPreviousSpace\"],[c.magicline_keystrokeNext,\"accessNextSpace\"]]),a.on(\"loadSnapshot\",function(){var b,c,d,e;for(e in{p:1,br:1,div:1})for(b=a.document.getElementsByTag(e),d=b.count();d--;)if((c=b.getItem(d)).data(\"cke-magicline-hot\")){l.hotNode=c;l.lastCmdDirection=\"true\"===c.data(\"cke-magicline-dir\")?!0:!1;return}}),this.backdoor={accessFocusSpace:h,\nboxTrigger:e,isLine:f,getAscendantTrigger:b,getNonEmptyNeighbour:d,getSize:A,that:l,triggerEdge:u,triggerEditable:t,triggerExpand:Y})},this)}});var B=CKEDITOR.tools.extend,G=CKEDITOR.dom.element,E=G.createFromHtml,F=CKEDITOR.env,I=CKEDITOR.env.ie&&9>CKEDITOR.env.version,H=CKEDITOR.dtd,K={},J=128,D=64,R=32,N=16,S=4,L=2,V=1,Z=\" \",X=H.$listItem,da=H.$tableContent,P=B({},H.$nonEditable,H.$empty),Q=H.$block,M=100,U=\"width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;\",\nT=U+\"border-color:transparent;display:block;border-style:solid;\",O=\"\\x3cspan\\x3e\"+Z+\"\\x3c/span\\x3e\";K[CKEDITOR.ENTER_BR]=\"br\";K[CKEDITOR.ENTER_P]=\"p\";K[CKEDITOR.ENTER_DIV]=\"div\";e.prototype={set:function(a,b,c){this.properties=a+b+(c||V);return this},is:function(a){return(this.properties&a)==a}};var W=function(){function a(b,c){var d=b.$.elementFromPoint(c.x,c.y);return d&&d.nodeType?new CKEDITOR.dom.element(d):null}return function(b,c,d){if(!b.mouse)return null;var e=b.doc,g=b.line.wrap;d=d||b.mouse;\nvar h=a(e,d);c&&f(b,h)&&(g.hide(),h=a(e,d),g.show());return!h||h.type!=CKEDITOR.NODE_ELEMENT||!h.$||F.ie&&9>F.version&&!b.boundary.equals(h)&&!b.boundary.contains(h)?null:h}}(),aa=CKEDITOR.dom.walker.whitespaces(),ba=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),Y=function(){function b(e){var f=e.element,g,h,k;if(!n(f)||f.contains(e.editable)||f.isReadOnly())return null;k=y(e,function(a,b){return!b.equals(a)},function(a,b){return W(a,!0,b)},f);g=k.upper;h=k.lower;if(a(e,g,h))return k.set(R,\n8);if(g&&f.contains(g))for(;!g.getParent().equals(f);)g=g.getParent();else g=f.getFirst(function(a){return d(e,a)});if(h&&f.contains(h))for(;!h.getParent().equals(f);)h=h.getParent();else h=f.getLast(function(a){return d(e,a)});if(!g||!h)return null;z(e,g);z(e,h);if(!l(e.mouse.y,g.size.top,h.size.bottom))return null;for(var f=Number.MAX_VALUE,m,O,w,q;h&&!h.equals(g)&&(O=g.getNext(e.isRelevant));)m=Math.abs(c(e,g,O)-e.mouse.y),m<f&&(f=m,w=g,q=O),g=O,z(e,g);if(!w||!q||!l(e.mouse.y,w.size.top,q.size.bottom))return null;\nk.upper=w;k.lower=q;return k.set(R,8)}function d(a,b){return!(b&&b.type==CKEDITOR.NODE_TEXT||ba(b)||p(b)||f(a,b)||b.type==CKEDITOR.NODE_ELEMENT&&b.$&&b.is(\"br\"))}return function(c){var d=b(c),e;if(e=d){e=d.upper;var f=d.lower;e=!e||!f||p(f)||p(e)||f.equals(e)||e.equals(f)||f.contains(e)||e.contains(f)?!1:v(c,e)&&v(c,f)&&a(c,e,f)?!0:!1}return e?d:null}}(),ca=[\"top\",\"left\",\"right\",\"bottom\"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=\nCKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function a(a){if(!a||a.type!=CKEDITOR.NODE_ELEMENT||\"form\"!=a.getName())return[];for(var b=[],c=[\"style\",\"className\"],d=0;d<c.length;d++){var e=a.$.elements.namedItem(c[d]);e&&(e=new CKEDITOR.dom.element(e),b.push([e,e.nextSibling]),e.remove())}return b}function e(a,b){if(a&&a.type==CKEDITOR.NODE_ELEMENT&&\"form\"==a.getName()&&0<b.length)for(var c=b.length-1;0<=c;c--){var d=b[c][0],e=b[c][1];e?d.insertBefore(e):d.appendTo(a)}}function b(b,c){var d=a(b),h=\n{},m=b.$;c||(h[\"class\"]=m.className||\"\",m.className=\"\");h.inline=m.style.cssText||\"\";c||(m.style.cssText=\"position: static; overflow: visible\");e(d);return h}function c(b,c){var d=a(b),h=b.$;\"class\"in c&&(h.className=c[\"class\"]);\"inline\"in c&&(h.style.cssText=c.inline);e(d)}function d(a){if(!a.editable().isInline()){var b=CKEDITOR.instances,c;for(c in b){var d=b[c];\"wysiwyg\"!=d.mode||d.readOnly||(d=d.document.getBody(),d.setAttribute(\"contentEditable\",!1),d.setAttribute(\"contentEditable\",!0))}a.editable().hasFocus&&\n(a.toolbox.focus(),a.focus())}}CKEDITOR.plugins.add(\"maximize\",{init:function(a){function e(){var b=m.getViewPaneSize();a.resize(b.width,b.height,null,!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var g=a.lang,h=CKEDITOR.document,m=h.getWindow(),f,n,p,r=CKEDITOR.TRISTATE_OFF;a.addCommand(\"maximize\",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var v=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}),\nx=a.ui.space(\"contents\");if(\"wysiwyg\"==a.mode){var q=a.getSelection();f=q&&q.getRanges();n=m.getScrollPosition()}else{var t=a.editable().$;f=!CKEDITOR.env.ie&&[t.selectionStart,t.selectionEnd];n=[t.scrollLeft,t.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){m.on(\"resize\",e);p=m.getScrollPosition();for(q=a.container;q=q.getParent();)q.setCustomData(\"maximize_saved_styles\",b(q)),q.setStyle(\"z-index\",a.config.baseFloatZIndex-5);x.setCustomData(\"maximize_saved_styles\",b(x,!0));v.setCustomData(\"maximize_saved_styles\",\nb(v,!0));x={overflow:CKEDITOR.env.webkit?\"\":\"hidden\",width:0,height:0};h.getDocumentElement().setStyles(x);!CKEDITOR.env.gecko&&h.getDocumentElement().setStyle(\"position\",\"fixed\");CKEDITOR.env.gecko&&CKEDITOR.env.quirks||h.getBody().setStyles(x);CKEDITOR.env.ie?setTimeout(function(){m.$.scrollTo(0,0)},0):m.$.scrollTo(0,0);v.setStyle(\"position\",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?\"fixed\":\"absolute\");v.$.offsetLeft;v.setStyles({\"z-index\":a.config.baseFloatZIndex-5,left:\"0px\",top:\"0px\"});v.addClass(\"cke_maximized\");\ne();x=v.getDocumentPosition();v.setStyles({left:-1*x.x+\"px\",top:-1*x.y+\"px\"});CKEDITOR.env.gecko&&d(a)}else if(this.state==CKEDITOR.TRISTATE_ON){m.removeListener(\"resize\",e);for(var q=[x,v],u=0;u<q.length;u++)c(q[u],q[u].getCustomData(\"maximize_saved_styles\")),q[u].removeCustomData(\"maximize_saved_styles\");for(q=a.container;q=q.getParent();)c(q,q.getCustomData(\"maximize_saved_styles\")),q.removeCustomData(\"maximize_saved_styles\");CKEDITOR.env.ie?setTimeout(function(){m.$.scrollTo(p.x,p.y)},0):m.$.scrollTo(p.x,\np.y);v.removeClass(\"cke_maximized\");CKEDITOR.env.webkit&&(v.setStyle(\"display\",\"inline\"),setTimeout(function(){v.setStyle(\"display\",\"block\")},0));a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,contentsHeight:x.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState();if(q=this.uiItems[0])x=this.state==CKEDITOR.TRISTATE_OFF?g.maximize.maximize:g.maximize.minimize,q=CKEDITOR.document.getById(q._.id),q.getChild(1).setHtml(x),q.setAttribute(\"title\",x),q.setAttribute(\"href\",'javascript:void(\"'+\nx+'\");');\"wysiwyg\"==a.mode?f?(CKEDITOR.env.gecko&&d(a),a.getSelection().selectRanges(f),(t=a.getSelection().getStartElement())&&t.scrollIntoView(!0)):m.$.scrollTo(n.x,n.y):(f&&(t.selectionStart=f[0],t.selectionEnd=f[1]),t.scrollLeft=n[0],t.scrollTop=n[1]);f=n=null;r=this.state;a.fire(\"maximize\",this.state)},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"Maximize\",{label:g.maximize.maximize,command:\"maximize\",toolbar:\"tools,10\"});a.on(\"mode\",function(){var b=a.getCommand(\"maximize\");b.setState(b.state==\nCKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:r)},null,null,100)}}})}(),function(){function a(a,b,c){var d=CKEDITOR.cleanWord;d?c():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||b+\"filter/default.js\"),CKEDITOR.scriptLoader.load(a,c,null,!0));return!d}CKEDITOR.plugins.add(\"pastefromword\",{requires:\"clipboard\",init:function(e){function b(a){var b=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,c,d=[];if(b&&a.editor.filter.check(\"img[src]\")&&(c=b.extractTagsFromHtml(a.data.dataValue),\n0!==c.length&&(b=b.extractFromRtf(a.data.dataTransfer[\"text/rtf\"]),0!==b.length&&(CKEDITOR.tools.array.forEach(b,function(a){d.push(a.type?\"data:\"+a.type+\";base64,\"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(a.hex)):null)},this),c.length===d.length))))for(b=0;b<c.length;b++)0===c[b].indexOf(\"file://\")&&d[b]&&(a.data.dataValue=a.data.dataValue.replace(c[b],d[b]))}var c=0,d=this.path,l=void 0===e.config.pasteFromWord_inlineImages?!0:e.config.pasteFromWord_inlineImages;\ne.addCommand(\"pastefromword\",{canUndo:!1,async:!0,exec:function(a,b){c=1;a.execCommand(\"paste\",{type:\"html\",notification:b&&\"undefined\"!==typeof b.notification?b.notification:!0})}});CKEDITOR.plugins.clipboard.addPasteButton(e,\"PasteFromWord\",{label:e.lang.pastefromword.toolbar,command:\"pastefromword\",toolbar:\"clipboard,50\"});e.on(\"paste\",function(b){var g=b.data,h=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?g.dataTransfer.getData(\"text/html\",!0):null,m=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?\ng.dataTransfer.getData(\"text/rtf\"):null,h=h||g.dataValue,f={dataValue:h,dataTransfer:{\"text/rtf\":m}},m=/(class=\\\"?Mso|style=(?:\\\"|\\')[^\\\"]*?\\bmso\\-|w:WordDocument|<o:\\w+>|<\\/font>)/,m=/<meta\\s*name=(?:\\\"|\\')?generator(?:\\\"|\\')?\\s*content=(?:\\\"|\\')?microsoft/gi.test(h)||m.test(h);if(h&&(c||m)&&(!1!==e.fire(\"pasteFromWord\",f)||c)){g.dontFilter=!0;var l=a(e,d,function(){if(l)e.fire(\"paste\",g);else if(!e.config.pasteFromWordPromptCleanup||c||confirm(e.lang.pastefromword.confirmCleanup))f.dataValue=CKEDITOR.cleanWord(f.dataValue,\ne),e.fire(\"afterPasteFromWord\",f),g.dataValue=f.dataValue,!0===e.config.forcePasteAsPlainText?g.type=\"text\":CKEDITOR.env.ie&&\"allow-word\"===e.config.forcePasteAsPlainText&&(g.type=\"html\");c=0});l&&b.cancel()}},null,null,3);if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&l)e.on(\"afterPasteFromWord\",b)}})}(),function(){var a={canUndo:!1,async:!0,exec:function(a,b){var c=a.lang,d=CKEDITOR.tools.keystrokeToString(c.common.keyboard,a.getCommandKeystroke(CKEDITOR.env.ie?a.commands.paste:this)),\nl=b&&\"undefined\"!==typeof b.notification?b.notification:!b||!b.from||\"keystrokeHandler\"===b.from&&CKEDITOR.env.ie,c=l&&\"string\"===typeof l?l:c.pastetext.pasteNotification.replace(/%1/,'\\x3ckbd aria-label\\x3d\"'+d.aria+'\"\\x3e'+d.display+\"\\x3c/kbd\\x3e\");a.execCommand(\"paste\",{type:\"text\",notification:l?c:!1})}};CKEDITOR.plugins.add(\"pastetext\",{requires:\"clipboard\",init:function(e){var b=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;e.addCommand(\"pastetext\",\na);e.setKeystroke(b,\"pastetext\");CKEDITOR.plugins.clipboard.addPasteButton(e,\"PasteText\",{label:e.lang.pastetext.button,command:\"pastetext\",toolbar:\"clipboard,40\"});if(e.config.forcePasteAsPlainText)e.on(\"beforePaste\",function(a){\"html\"!=a.data.type&&(a.data.type=\"text\")});e.on(\"pasteState\",function(a){e.getCommand(\"pastetext\").setState(a.data)})}})}(),CKEDITOR.plugins.add(\"removeformat\",{init:function(a){a.addCommand(\"removeFormat\",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&\na.ui.addButton(\"RemoveFormat\",{label:a.lang.removeformat.toolbar,command:\"removeFormat\",toolbar:\"cleanup,10\"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var e=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp(\"^(?:\"+a.config.removeFormatTags.replace(/,/g,\"|\")+\")$\",\"i\")),b=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(\",\")),c=CKEDITOR.plugins.removeformat.filter,d=a.getSelection().getRanges(),l=d.createIterator(),k=function(a){return a.type==\nCKEDITOR.NODE_ELEMENT},g;g=l.getNextRange();){g.collapsed||g.enlarge(CKEDITOR.ENLARGE_ELEMENT);var h=g.createBookmark(),m=h.startNode,f=h.endNode,n=function(b){for(var d=a.elementPath(b),f=d.elements,g=1,h;(h=f[g])&&!h.equals(d.block)&&!h.equals(d.blockLimit);g++)e.test(h.getName())&&c(a,h)&&b.breakParent(h)};n(m);if(f)for(n(f),m=m.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);m&&!m.equals(f);)if(m.isReadOnly()){if(m.getPosition(f)&CKEDITOR.POSITION_CONTAINS)break;m=m.getNext(k)}else n=m.getNextSourceNode(!1,\nCKEDITOR.NODE_ELEMENT),\"img\"==m.getName()&&m.data(\"cke-realelement\")||!c(a,m)||(e.test(m.getName())?m.remove(1):(m.removeAttributes(b),a.fire(\"removeFormatCleanup\",m))),m=n;g.moveToBookmark(h)}a.forceNextSelectionCheck();a.getSelection().selectRanges(d)}}},filter:function(a,e){for(var b=a._.removeFormatFilters||[],c=0;c<b.length;c++)if(!1===b[c](e))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)},\nCKEDITOR.config.removeFormatTags=\"b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var\",CKEDITOR.config.removeFormatAttributes=\"class,style,lang,width,height,align,hspace,valign\",CKEDITOR.plugins.add(\"resize\",{init:function(a){function e(b){var d=h.width,e=h.height,k=d+(b.data.$.screenX-g.x)*(\"rtl\"==l?-1:1);b=e+(b.data.$.screenY-g.y);m&&(d=Math.max(c.resize_minWidth,Math.min(k,c.resize_maxWidth)));f&&(e=Math.max(c.resize_minHeight,Math.min(b,c.resize_maxHeight)));\na.resize(m?d:null,e)}function b(){CKEDITOR.document.removeListener(\"mousemove\",e);CKEDITOR.document.removeListener(\"mouseup\",b);a.document&&(a.document.removeListener(\"mousemove\",e),a.document.removeListener(\"mouseup\",b))}var c=a.config,d=a.ui.spaceId(\"resizer\"),l=a.element?a.element.getDirection(1):\"ltr\";!c.resize_dir&&(c.resize_dir=\"vertical\");void 0===c.resize_maxWidth&&(c.resize_maxWidth=3E3);void 0===c.resize_maxHeight&&(c.resize_maxHeight=3E3);void 0===c.resize_minWidth&&(c.resize_minWidth=\n750);void 0===c.resize_minHeight&&(c.resize_minHeight=250);if(!1!==c.resize_enabled){var k=null,g,h,m=(\"both\"==c.resize_dir||\"horizontal\"==c.resize_dir)&&c.resize_minWidth!=c.resize_maxWidth,f=(\"both\"==c.resize_dir||\"vertical\"==c.resize_dir)&&c.resize_minHeight!=c.resize_maxHeight,n=CKEDITOR.tools.addFunction(function(d){k||(k=a.getResizable());h={width:k.$.offsetWidth||0,height:k.$.offsetHeight||0};g={x:d.screenX,y:d.screenY};c.resize_minWidth>h.width&&(c.resize_minWidth=h.width);c.resize_minHeight>\nh.height&&(c.resize_minHeight=h.height);CKEDITOR.document.on(\"mousemove\",e);CKEDITOR.document.on(\"mouseup\",b);a.document&&(a.document.on(\"mousemove\",e),a.document.on(\"mouseup\",b));d.preventDefault&&d.preventDefault()});a.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(n)});a.on(\"uiSpace\",function(b){if(\"bottom\"==b.data.space){var c=\"\";m&&!f&&(c=\" cke_resizer_horizontal\");!m&&f&&(c=\" cke_resizer_vertical\");var e='\\x3cspan id\\x3d\"'+d+'\" class\\x3d\"cke_resizer'+c+\" cke_resizer_\"+l+'\" title\\x3d\"'+\nCKEDITOR.tools.htmlEncode(a.lang.common.resize)+'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+n+', event)\"\\x3e'+(\"ltr\"==l?\"◢\":\"◣\")+\"\\x3c/span\\x3e\";\"ltr\"==l&&\"ltr\"==c?b.data.html+=e:b.data.html=e+b.data.html}},a,null,100);a.on(\"maximize\",function(b){a.ui.space(\"resizer\")[b.data==CKEDITOR.TRISTATE_ON?\"hide\":\"show\"]()})}}}),CKEDITOR.plugins.add(\"menubutton\",{requires:\"button,menu\",onLoad:function(){var a=function(a){var b=this._,c=b.menu;b.state!==CKEDITOR.TRISTATE_DISABLED&&(b.on&&c?c.hide():(b.previousState=\nb.state,c||(c=b.menu=new CKEDITOR.menu(a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.common.options}}}),c.onHide=CKEDITOR.tools.bind(function(){var c=this.command?a.getCommand(this.command).modes:this.modes;this.setState(!c||c[a.mode]?b.previousState:CKEDITOR.TRISTATE_DISABLED);b.on=0},this),this.onMenu&&c.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),b.on=1,setTimeout(function(){c.show(CKEDITOR.document.getById(b.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,\n$:function(e){delete e.panel;this.base(e);this.hasArrow=!0;this.click=a},statics:{handler:{create:function(a){return new CKEDITOR.ui.menuButton(a)}}}})},beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON=\"menubutton\",\"use strict\",CKEDITOR.plugins.add(\"scayt\",{requires:\"menubutton,dialog\",tabToOpen:null,dialogName:\"scaytDialog\",onLoad:function(a){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime();\"moono-lisa\"==(CKEDITOR.skinName||\na.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+\"skins/\"+CKEDITOR.skin.name+\"/scayt.css\");CKEDITOR.document.appendStyleSheet(this.path+\"dialogs/dialog.css\")},init:function(a){var e=this,b=CKEDITOR.plugins.scayt;this.bindEvents(a);this.parseConfig(a);this.addRule(a);CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+\"dialogs/options.js\"));this.addMenuItems(a);var c=a.lang.scayt,d=CKEDITOR.env;a.ui.add(\"Scayt\",CKEDITOR.UI_MENUBUTTON,{label:c.text_title,title:a.plugins.wsc?a.lang.wsc.title:\nc.text_title,modes:{wysiwyg:!(d.ie&&(8>d.version||d.quirks))},toolbar:\"spellchecker,20\",refresh:function(){var c=a.ui.instances.Scayt.getState();a.scayt&&(c=b.state.scayt[a.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF);a.fire(\"scaytButtonState\",c)},onRender:function(){var b=this;a.on(\"scaytButtonState\",function(a){void 0!==typeof a.data&&b.setState(a.data)})},onMenu:function(){var c=a.scayt;a.getMenuItem(\"scaytToggle\").label=a.lang.scayt[c&&b.state.scayt[a.name]?\"btn_disable\":\"btn_enable\"];var d=\n{scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:a.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};a.config.scayt_uiTabs[0]||delete d.scaytOptions;a.config.scayt_uiTabs[1]||delete d.scaytLangs;a.config.scayt_uiTabs[2]||delete d.scaytDict;c&&!CKEDITOR.plugins.scayt.isNewUdSupported(c)&&\n(delete d.scaytDict,a.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage());return d}});a.contextMenu&&a.addMenuItems&&(a.contextMenu.addListener(function(b,c){var d=a.scayt,h,m;d&&(m=d.getSelectionNode())&&(h=e.menuGenerator(a,m),d.showBanner(\".\"+a.contextMenu._.definition.panel.className.split(\" \").join(\" .\")));return h}),a.contextMenu._.onHide=CKEDITOR.tools.override(a.contextMenu._.onHide,function(b){return function(){var c=a.scayt;c&&c.hideBanner();return b.apply(this)}}))},\naddMenuItems:function(a){var e=this,b=CKEDITOR.plugins.scayt;a.addMenuGroup(\"scaytButton\");for(var c=a.config.scayt_contextMenuItemsOrder.split(\"|\"),d=0;d<c.length;d++)c[d]=\"scayt_\"+c[d];if((c=[\"grayt_description\",\"grayt_suggest\",\"grayt_control\"].concat(c))&&c.length)for(d=0;d<c.length;d++)a.addMenuGroup(c[d],d-10);a.addCommand(\"scaytToggle\",{exec:function(a){var c=a.scayt;b.state.scayt[a.name]=!b.state.scayt[a.name];!0===b.state.scayt[a.name]?c||b.createScayt(a):c&&b.destroy(a)}});a.addCommand(\"scaytAbout\",\n{exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();a.openDialog(e.dialogName)}});a.addCommand(\"scaytOptions\",{exec:function(a){a.scayt.tabToOpen=\"options\";a.lockSelection();a.openDialog(e.dialogName)}});a.addCommand(\"scaytLangs\",{exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(e.dialogName)}});a.addCommand(\"scaytDict\",{exec:function(a){a.scayt.tabToOpen=\"dictionaries\";a.lockSelection();a.openDialog(e.dialogName)}});c={scaytToggle:{label:a.lang.scayt.btn_enable,\ngroup:\"scaytButton\",command:\"scaytToggle\"},scaytAbout:{label:a.lang.scayt.btn_about,group:\"scaytButton\",command:\"scaytAbout\"},scaytOptions:{label:a.lang.scayt.btn_options,group:\"scaytButton\",command:\"scaytOptions\"},scaytLangs:{label:a.lang.scayt.btn_langs,group:\"scaytButton\",command:\"scaytLangs\"},scaytDict:{label:a.lang.scayt.btn_dictionaries,group:\"scaytButton\",command:\"scaytDict\"}};a.plugins.wsc&&(c.WSC={label:a.lang.wsc.toolbar,group:\"scaytButton\",onClick:function(){var b=CKEDITOR.plugins.scayt,\nc=a.scayt,d=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(d=d.replace(/\\s/g,\"\"))?(c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!0),a.lockSelection(),a.execCommand(\"checkspell\")):alert(\"Nothing to check!\")}});a.addMenuItems(c)},bindEvents:function(a){var e=CKEDITOR.plugins.scayt,b=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,c=function(){e.destroy(a)},d=function(){!e.state.scayt[a.name]||a.readOnly||a.scayt||e.createScayt(a)},l=function(){var c=\na.editable();c.attachListener(c,\"focus\",function(c){CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(d,0);c=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&a.scayt;var e,f;if((b||c)&&a._.savedSelection){c=a._.savedSelection.getSelectedElement();c=!c&&a._.savedSelection.getRanges();for(var g=0;g<c.length;g++)f=c[g],\"string\"===typeof f.startContainer.$.nodeValue&&(e=f.startContainer.getText().length,(e<f.startOffset||e<f.endOffset)&&a.unlockSelection(!1))}},this,null,-10)},k=function(){b?\na.config.scayt_inlineModeImmediateMarkup?d():(a.on(\"blur\",function(){setTimeout(c,0)}),a.on(\"focus\",d),a.focusManager.hasFocus&&d()):d();l();var e=a.editable();e.attachListener(e,\"mousedown\",function(b){b=b.data.getTarget();var c=a.widgets&&a.widgets.getByElement(b);c&&(c.wrapper=b.getAscendant(function(a){return a.hasAttribute(\"data-cke-widget-wrapper\")},!0))},this,null,-10)};a.on(\"contentDom\",k);a.on(\"beforeCommandExec\",function(b){var c=a.scayt,d=!1,f=!1,k=!0;b.data.name in e.options.disablingCommandExec&&\n\"wysiwyg\"==a.mode?c&&(e.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED)):\"bold\"!==b.data.name&&\"italic\"!==b.data.name&&\"underline\"!==b.data.name&&\"strike\"!==b.data.name&&\"subscript\"!==b.data.name&&\"superscript\"!==b.data.name&&\"enter\"!==b.data.name&&\"cut\"!==b.data.name&&\"language\"!==b.data.name||!c||(\"cut\"===b.data.name&&(k=!1,f=!0),\"language\"===b.data.name&&(f=d=!0),a.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:k,forceBookmark:f,language:d},timeout:0}))});a.on(\"beforeSetMode\",\nfunction(b){if(\"source\"==b.data){if(b=a.scayt)e.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED);a.document&&a.document.getBody().removeAttribute(\"_jquid\")}});a.on(\"afterCommandExec\",function(b){\"wysiwyg\"!=a.mode||\"undo\"!=b.data.name&&\"redo\"!=b.data.name||setTimeout(function(){e.reloadMarkup(a.scayt)},250)});a.on(\"readOnly\",function(b){var c;b&&(c=a.scayt,!0===b.editor.readOnly?c&&c.fire(\"removeMarkupInDocument\",{}):c?e.reloadMarkup(c):\"wysiwyg\"==b.editor.mode&&!0===e.state.scayt[b.editor.name]&&\n(e.createScayt(a),b.editor.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_ON)))});a.on(\"beforeDestroy\",c);a.on(\"setData\",function(){c();(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||a.plugins.divarea)&&k()},this,null,50);a.on(\"reloadMarkupScayt\",function(b){var c=b.data&&b.data.removeOptions,d=b.data&&b.data.timeout,f=b.data&&b.data.language,k=a.scayt;k&&setTimeout(function(){f&&(c.selectionNode=a.plugins.language.getCurrentLangElement(a),c.selectionNode=c.selectionNode&&c.selectionNode.$||null);k.removeMarkupInSelectionNode(c);\ne.reloadMarkup(k)},d||0)});a.on(\"insertElement\",function(){a.fire(\"reloadMarkupScayt\",{removeOptions:{forceBookmark:!0}})},this,null,50);a.on(\"insertHtml\",function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0);a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"insertText\",function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0);a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"scaytDialogShown\",function(b){b.data.selectPage(a.scayt.tabToOpen)})},parseConfig:function(a){var e=CKEDITOR.plugins.scayt;\ne.replaceOldOptionsNames(a.config);\"boolean\"!==typeof a.config.scayt_autoStartup&&(a.config.scayt_autoStartup=!1);e.state.scayt[a.name]=a.config.scayt_autoStartup;\"boolean\"!==typeof a.config.grayt_autoStartup&&(a.config.grayt_autoStartup=!1);\"boolean\"!==typeof a.config.scayt_inlineModeImmediateMarkup&&(a.config.scayt_inlineModeImmediateMarkup=!1);e.state.grayt[a.name]=a.config.grayt_autoStartup;a.config.scayt_contextCommands||(a.config.scayt_contextCommands=\"ignoreall|add\");a.config.scayt_contextMenuItemsOrder||\n(a.config.scayt_contextMenuItemsOrder=\"suggest|moresuggest|control\");a.config.scayt_sLang||(a.config.scayt_sLang=\"en_US\");if(void 0===a.config.scayt_maxSuggestions||\"number\"!=typeof a.config.scayt_maxSuggestions||0>a.config.scayt_maxSuggestions)a.config.scayt_maxSuggestions=3;if(void 0===a.config.scayt_minWordLength||\"number\"!=typeof a.config.scayt_minWordLength||1>a.config.scayt_minWordLength)a.config.scayt_minWordLength=3;if(void 0===a.config.scayt_customDictionaryIds||\"string\"!==typeof a.config.scayt_customDictionaryIds)a.config.scayt_customDictionaryIds=\n\"\";if(void 0===a.config.scayt_userDictionaryName||\"string\"!==typeof a.config.scayt_userDictionaryName)a.config.scayt_userDictionaryName=null;if(\"string\"===typeof a.config.scayt_uiTabs&&3===a.config.scayt_uiTabs.split(\",\").length){var b=[],c=[];a.config.scayt_uiTabs=a.config.scayt_uiTabs.split(\",\");CKEDITOR.tools.search(a.config.scayt_uiTabs,function(a){1===Number(a)||0===Number(a)?(c.push(!0),b.push(Number(a))):c.push(!1)});null===CKEDITOR.tools.search(c,!1)?a.config.scayt_uiTabs=b:a.config.scayt_uiTabs=\n[1,1,1]}else a.config.scayt_uiTabs=[1,1,1];\"string\"!=typeof a.config.scayt_serviceProtocol&&(a.config.scayt_serviceProtocol=null);\"string\"!=typeof a.config.scayt_serviceHost&&(a.config.scayt_serviceHost=null);\"string\"!=typeof a.config.scayt_servicePort&&(a.config.scayt_servicePort=null);\"string\"!=typeof a.config.scayt_servicePath&&(a.config.scayt_servicePath=null);a.config.scayt_moreSuggestions||(a.config.scayt_moreSuggestions=\"on\");\"string\"!==typeof a.config.scayt_customerId&&(a.config.scayt_customerId=\n\"1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2\");\"string\"!==typeof a.config.scayt_customPunctuation&&(a.config.scayt_customPunctuation=\"-\");\"string\"!==typeof a.config.scayt_srcUrl&&(e=document.location.protocol,e=-1!=e.search(/https?:/)?e:\"http:\",a.config.scayt_srcUrl=e+\"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js\");\"boolean\"!==typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0);\"boolean\"!==typeof CKEDITOR.config.scayt_handleUndoRedo&&\n(CKEDITOR.config.scayt_handleUndoRedo=!0);CKEDITOR.config.scayt_handleUndoRedo=CKEDITOR.plugins.undo?CKEDITOR.config.scayt_handleUndoRedo:!1;\"boolean\"!==typeof a.config.scayt_multiLanguageMode&&(a.config.scayt_multiLanguageMode=!1);\"object\"!==typeof a.config.scayt_multiLanguageStyles&&(a.config.scayt_multiLanguageStyles={});a.config.scayt_ignoreAllCapsWords&&\"boolean\"!==typeof a.config.scayt_ignoreAllCapsWords&&(a.config.scayt_ignoreAllCapsWords=!1);a.config.scayt_ignoreDomainNames&&\"boolean\"!==typeof a.config.scayt_ignoreDomainNames&&\n(a.config.scayt_ignoreDomainNames=!1);a.config.scayt_ignoreWordsWithMixedCases&&\"boolean\"!==typeof a.config.scayt_ignoreWordsWithMixedCases&&(a.config.scayt_ignoreWordsWithMixedCases=!1);a.config.scayt_ignoreWordsWithNumbers&&\"boolean\"!==typeof a.config.scayt_ignoreWordsWithNumbers&&(a.config.scayt_ignoreWordsWithNumbers=!1);if(a.config.scayt_disableOptionsStorage){var e=CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage)?a.config.scayt_disableOptionsStorage:\"string\"===typeof a.config.scayt_disableOptionsStorage?\n[a.config.scayt_disableOptionsStorage]:void 0,d=\"all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers\".split(\" \"),l=[\"lang\",\"ignore-all-caps-words\",\"ignore-domain-names\",\"ignore-words-with-mixed-cases\",\"ignore-words-with-numbers\"],k=CKEDITOR.tools.search,g=CKEDITOR.tools.indexOf;a.config.scayt_disableOptionsStorage=function(a){for(var b=[],c=0;c<a.length;c++){var e=a[c],p=!!k(a,\"options\");if(!k(d,e)||p&&k(l,function(a){if(\"lang\"===a)return!1}))return;\nk(l,e)&&l.splice(g(l,e),1);if(\"all\"===e||p&&k(a,\"lang\"))return[];\"options\"===e&&(l=[\"lang\"])}return b=b.concat(l)}(e)}},addRule:function(a){var e=CKEDITOR.plugins.scayt,b=a.dataProcessor,c=b&&b.htmlFilter,d=a._.elementsPath&&a._.elementsPath.filters,b=b&&b.dataFilter,l=a.addRemoveFormatFilter,k=function(b){if(a.scayt&&(b.hasAttribute(e.options.data_attribute_name)||b.hasAttribute(e.options.problem_grammar_data_attribute)))return!1},g=function(b){var c=!0;a.scayt&&(b.hasAttribute(e.options.data_attribute_name)||\nb.hasAttribute(e.options.problem_grammar_data_attribute))&&(c=!1);return c};d&&d.push(k);b&&b.addRules({elements:{span:function(a){var b=a.hasClass(e.options.misspelled_word_class)&&a.attributes[e.options.data_attribute_name],c=a.hasClass(e.options.problem_grammar_class)&&a.attributes[e.options.problem_grammar_data_attribute];e&&(b||c)&&delete a.name;return a}}});c&&c.addRules({elements:{span:function(a){var b=a.hasClass(e.options.misspelled_word_class)&&a.attributes[e.options.data_attribute_name],\nc=a.hasClass(e.options.problem_grammar_class)&&a.attributes[e.options.problem_grammar_data_attribute];e&&(b||c)&&delete a.name;return a}}});l&&l.call(a,g)},scaytMenuDefinition:function(a){var e=this;a=a.scayt;return{scayt:{scayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"scayt_control\",order:1,exec:function(a){a.scayt.ignoreWord()}},scayt_ignoreall:{label:a.getLocal(\"btn_ignoreAll\"),group:\"scayt_control\",order:2,exec:function(a){a.scayt.ignoreAllWords()}},scayt_add:{label:a.getLocal(\"btn_addWord\"),\ngroup:\"scayt_control\",order:3,exec:function(a){var c=a.scayt;setTimeout(function(){c.addWordToUserDictionary()},10)}},scayt_option:{label:a.getLocal(\"btn_options\"),group:\"scayt_control\",order:4,exec:function(a){a.scayt.tabToOpen=\"options\";a.lockSelection();a.openDialog(e.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[0]?!0:!1}},scayt_language:{label:a.getLocal(\"btn_langs\"),group:\"scayt_control\",order:5,exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(e.dialogName)},\nverification:function(a){return 1==a.config.scayt_uiTabs[1]?!0:!1}},scayt_dictionary:{label:a.getLocal(\"btn_dictionaries\"),group:\"scayt_control\",order:6,exec:function(a){a.scayt.tabToOpen=\"dictionaries\";a.lockSelection();a.openDialog(e.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[2]?!0:!1}},scayt_about:{label:a.getLocal(\"btn_about\"),group:\"scayt_control\",order:7,exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();a.openDialog(e.dialogName)}}},grayt:{grayt_problemdescription:{label:\"Grammar problem description\",\ngroup:\"grayt_description\",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(a){}},grayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"grayt_control\",order:2,exec:function(a){a.scayt.ignorePhrase()}},grayt_ignoreall:{label:a.getLocal(\"btn_ignoreAll\"),group:\"grayt_control\",order:3,exec:function(a){a.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(a,e,b){var c={},d={},l=b?\"word\":\"phrase\",k=b?\"startGrammarCheck\":\"startSpellCheck\",g=a.scayt;if(0<e.length&&\"no_any_suggestions\"!==e[0])if(b)for(b=\n0;b<e.length;b++){var h=\"scayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\");a.addCommand(h,this.createCommand(CKEDITOR.plugins.scayt.suggestions[b],l,k));b<a.config.scayt_maxSuggestions?(a.addMenuItem(h,{label:e[b],command:h,group:\"scayt_suggest\",order:b+1}),c[h]=CKEDITOR.TRISTATE_OFF):(a.addMenuItem(h,{label:e[b],command:h,group:\"scayt_moresuggest\",order:b+1}),d[h]=CKEDITOR.TRISTATE_OFF,\"on\"===a.config.scayt_moreSuggestions&&(a.addMenuItem(\"scayt_moresuggest\",{label:g.getLocal(\"btn_moreSuggestions\"),\ngroup:\"scayt_moresuggest\",order:10,getItems:function(){return d}}),c.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(b=0;b<e.length;b++)h=\"grayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\"),a.addCommand(h,this.createCommand(CKEDITOR.plugins.scayt.suggestions[b],l,k)),a.addMenuItem(h,{label:e[b],command:h,group:\"grayt_suggest\",order:b+1}),c[h]=CKEDITOR.TRISTATE_OFF;else c.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,a.addCommand(\"no_scayt_suggest\",{exec:function(){}}),a.addMenuItem(\"no_scayt_suggest\",\n{label:g.getLocal(\"btn_noSuggestions\")||\"no_scayt_suggest\",command:\"no_scayt_suggest\",group:\"scayt_suggest\",order:0});return c},menuGenerator:function(a,e){var b=a.scayt,c=this.scaytMenuDefinition(a),d={},l=a.config.scayt_contextCommands.split(\"|\"),k=e.getAttribute(b.getLangAttribute())||b.getLang(),g,h,m;g=b.isScaytNode(e);h=b.isGraytNode(e);g?(c=c.scayt,d=e.getAttribute(b.getScaytNodeAttributeName()),b.fire(\"getSuggestionsList\",{lang:k,word:d}),d=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,\ng)):h&&(c=c.grayt,d=e.getAttribute(b.getGraytNodeAttributeName()),m=b.getProblemDescriptionText(d,k),c.grayt_problemdescription&&m&&(c.grayt_problemdescription.label=m),b.fire(\"getGrammarSuggestionsList\",{lang:k,phrase:d}),d=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,g));if(g&&\"off\"==a.config.scayt_contextCommands)return d;for(var f in c)g&&-1==CKEDITOR.tools.indexOf(l,f.replace(\"scayt_\",\"\"))&&\"all\"!=a.config.scayt_contextCommands||h&&\"grayt_problemdescription\"!==f&&-1==CKEDITOR.tools.indexOf(l,\nf.replace(\"grayt_\",\"\"))&&\"all\"!=a.config.scayt_contextCommands||(d[f]=\"undefined\"!=typeof c[f].state?c[f].state:CKEDITOR.TRISTATE_OFF,\"function\"!==typeof c[f].verification||c[f].verification(a)||delete d[f],a.addCommand(f,{exec:c[f].exec}),a.addMenuItem(f,{label:a.lang.scayt[c[f].label]||c[f].label,command:f,group:c[f].group,order:c[f].order}));return d},createCommand:function(a,e,b){return{exec:function(c){c=c.scayt;var d={};d[e]=a;c.replaceSelectionNode(d);\"startGrammarCheck\"===b&&c.removeMarkupInSelectionNode({grammarOnly:!0});\nc.fire(b)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:\"cke-fillingChar\",charCode:function(){var a=CKEDITOR.version.match(/^\\d(\\.\\d*)*/),a=a&&a[0],e;if(a){e=\"4.5.7\";var b,a=a.replace(/\\./g,\"\");e=e.replace(/\\./g,\"\");b=a.length-e.length;b=0<=b?b:0;e=parseInt(a)>=parseInt(e)*Math.pow(10,b)}return e?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],onLoadTimestamp:\"\",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,\ntemplates:!0},data_attribute_name:\"data-scayt-word\",misspelled_word_class:\"scayt-misspell-word\",problem_grammar_data_attribute:\"data-grayt-phrase\",problem_grammar_class:\"gramm-problem\"},backCompatibilityMap:{scayt_service_protocol:\"scayt_serviceProtocol\",scayt_service_host:\"scayt_serviceHost\",scayt_service_port:\"scayt_servicePort\",scayt_service_path:\"scayt_servicePath\",scayt_customerid:\"scayt_customerId\"},alarmCompatibilityMessage:function(){5>this.warningCounter&&(console.warn(\"You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net.\"),\nthis.warningCounter+=1)},isNewUdSupported:function(a){return a.getUserDictionary?!0:!1},reloadMarkup:function(a){var e;a&&(e=a.getScaytLangList(),a.reloadMarkup?a.reloadMarkup():(this.alarmCompatibilityMessage(),e&&e.ltr&&e.rtl&&a.fire(\"startSpellCheck, startGrammarCheck\")))},replaceOldOptionsNames:function(a){for(var e in a)e in this.backCompatibilityMap&&(a[this.backCompatibilityMap[e]]=a[e],delete a[e])},createScayt:function(a){var e=this,b=CKEDITOR.plugins.scayt;this.loadScaytLibrary(a,function(a){function d(a){return new SCAYT.CKSCAYT(a,\nfunction(){},function(){})}var l=a.window&&a.window.getFrame()||a.editable();if(l){l={lang:a.config.scayt_sLang,container:l.$,customDictionary:a.config.scayt_customDictionaryIds,userDictionaryName:a.config.scayt_userDictionaryName,localization:a.langCode,customer_id:a.config.scayt_customerId,customPunctuation:a.config.scayt_customPunctuation,debug:a.config.scayt_debug,data_attribute_name:e.options.data_attribute_name,misspelled_word_class:e.options.misspelled_word_class,problem_grammar_data_attribute:e.options.problem_grammar_data_attribute,\nproblem_grammar_class:e.options.problem_grammar_class,\"options-to-restore\":a.config.scayt_disableOptionsStorage,focused:a.editable().hasFocus,ignoreElementsRegex:a.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:a.config.grayt_elementsToIgnore,minWordLength:a.config.scayt_minWordLength,multiLanguageMode:a.config.scayt_multiLanguageMode,multiLanguageStyles:a.config.scayt_multiLanguageStyles,graytAutoStartup:a.config.grayt_autoStartup,charsToObserve:b.charsToObserve};a.config.scayt_serviceProtocol&&\n(l.service_protocol=a.config.scayt_serviceProtocol);a.config.scayt_serviceHost&&(l.service_host=a.config.scayt_serviceHost);a.config.scayt_servicePort&&(l.service_port=a.config.scayt_servicePort);a.config.scayt_servicePath&&(l.service_path=a.config.scayt_servicePath);\"boolean\"===typeof a.config.scayt_ignoreAllCapsWords&&(l[\"ignore-all-caps-words\"]=a.config.scayt_ignoreAllCapsWords);\"boolean\"===typeof a.config.scayt_ignoreDomainNames&&(l[\"ignore-domain-names\"]=a.config.scayt_ignoreDomainNames);\"boolean\"===\ntypeof a.config.scayt_ignoreWordsWithMixedCases&&(l[\"ignore-words-with-mixed-cases\"]=a.config.scayt_ignoreWordsWithMixedCases);\"boolean\"===typeof a.config.scayt_ignoreWordsWithNumbers&&(l[\"ignore-words-with-numbers\"]=a.config.scayt_ignoreWordsWithNumbers);var k;try{k=d(l)}catch(g){e.alarmCompatibilityMessage(),delete l.charsToObserve,k=d(l)}k.subscribe(\"suggestionListSend\",function(a){for(var b={},c=[],d=0;d<a.suggestionList.length;d++)b[\"word_\"+a.suggestionList[d]]||(b[\"word_\"+a.suggestionList[d]]=\na.suggestionList[d],c.push(a.suggestionList[d]));CKEDITOR.plugins.scayt.suggestions=c});k.subscribe(\"selectionIsChanged\",function(b){a.getSelection().isLocked&&\"restoreSelection\"!==b.action&&a.lockSelection();\"restoreSelection\"===b.action&&a.selectionChange(!0)});k.subscribe(\"graytStateChanged\",function(d){b.state.grayt[a.name]=d.state});k.addMarkupHandler&&k.addMarkupHandler(function(b){var d=a.editable(),e=d.getCustomData(b.charName);e&&(e.$=b.node,d.setCustomData(b.charName,e))});a.scayt=k;a.fire(\"scaytButtonState\",\na.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else b.state.scayt[a.name]=!1})},destroy:function(a){a.scayt&&a.scayt.destroy();delete a.scayt;a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(a,e){var b,c=function(){CKEDITOR.fireOnce(\"scaytReady\");a.scayt||\"function\"===typeof e&&e(a)};\"undefined\"===typeof window.SCAYT||\"function\"!==typeof window.SCAYT.CKSCAYT?(b=a.config.scayt_srcUrl+\"?\"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(b,function(a){a&&c()})):\nwindow.SCAYT&&\"function\"===typeof window.SCAYT.CKSCAYT&&c()}},CKEDITOR.on(\"dialogDefinition\",function(a){var e=a.data.name;a=a.data.definition.dialog;\"scaytDialog\"!==e&&\"checkspell\"!==e&&(a.on(\"show\",function(a){a=a.sender&&a.sender.getParentEditor();var c=CKEDITOR.plugins.scayt,d=a.scayt;d&&c.state.scayt[a.name]&&d.setMarkupPaused&&d.setMarkupPaused(!0)}),a.on(\"hide\",function(a){a=a.sender&&a.sender.getParentEditor();var c=CKEDITOR.plugins.scayt,d=a.scayt;d&&c.state.scayt[a.name]&&d.setMarkupPaused&&\nd.setMarkupPaused(!1)}));if(\"scaytDialog\"===e)a.on(\"cancel\",function(a){return!1},this,null,-1);if(\"checkspell\"===e)a.on(\"cancel\",function(a){a=a.sender&&a.sender.getParentEditor();var c=CKEDITOR.plugins.scayt,d=a.scayt;d&&c.state.scayt[a.name]&&d.setMarkupPaused&&d.setMarkupPaused(!1);a.unlockSelection()},this,null,-2);if(\"link\"===e)a.on(\"ok\",function(a){var c=a.sender&&a.sender.getParentEditor();c&&setTimeout(function(){c.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:!0,forceBookmark:!0},\ntimeout:0})},0)});if(\"replace\"===e)a.on(\"hide\",function(a){a=a.sender&&a.sender.getParentEditor();var c=CKEDITOR.plugins.scayt,d=a.scayt;a&&setTimeout(function(){d&&(d.fire(\"removeMarkupInDocument\",{}),c.reloadMarkup(d))},0)})}),CKEDITOR.on(\"scaytReady\",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var a=CKEDITOR.editor.prototype;a.checkDirty=CKEDITOR.tools.override(a.checkDirty,function(a){return function(){var c=null,d=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&\nthis.scayt){if(c=\"ready\"==this.status)var e=d.removeMarkupFromString(this.getSnapshot()),d=d.removeMarkupFromString(this._.previousValue),c=c&&d!==e}else c=a.call(this);return c}});a.resetDirty=CKEDITOR.tools.override(a.resetDirty,function(a){return function(){var c=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=c.removeMarkupFromString(this.getSnapshot()):a.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var a=CKEDITOR.plugins.undo.Image.prototype,\ne=\"function\"==typeof a.equalsContent?\"equalsContent\":\"equals\";a[e]=CKEDITOR.tools.override(a[e],function(a){return function(c){var d=c.editor.scayt,e=this.contents,k=c.contents,g=null;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[c.editor.name]&&c.editor.scayt&&(this.contents=d.removeMarkupFromString(e)||\"\",c.contents=d.removeMarkupFromString(k)||\"\");g=a.apply(this,arguments);this.contents=e;c.contents=k;return g}})}}),function(){var a={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState();\nthis.refresh(a)},refresh:function(a){if(a.document){var b=this.state==CKEDITOR.TRISTATE_ON?\"attachClass\":\"removeClass\";a.editable()[b](\"cke_show_borders\")}}};CKEDITOR.plugins.add(\"showborders\",{modes:{wysiwyg:1},onLoad:function(){var a;a=(CKEDITOR.env.ie6Compat?[\".%1 table.%2,\",\".%1 table.%2 td, .%1 table.%2 th\",\"{\",\"border : #d3d3d3 1px dotted\",\"}\"]:\".%1 table.%2,;.%1 table.%2 \\x3e tr \\x3e td, .%1 table.%2 \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tbody \\x3e tr \\x3e td, .%1 table.%2 \\x3e tbody \\x3e tr \\x3e th,;.%1 table.%2 \\x3e thead \\x3e tr \\x3e td, .%1 table.%2 \\x3e thead \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tfoot \\x3e tr \\x3e td, .%1 table.%2 \\x3e tfoot \\x3e tr \\x3e th;{;border : #d3d3d3 1px dotted;}\".split(\";\")).join(\"\").replace(/%2/g,\n\"cke_show_border\").replace(/%1/g,\"cke_show_borders \");CKEDITOR.addCss(a)},init:function(e){var b=e.addCommand(\"showborders\",a);b.canUndo=!1;!1!==e.config.startupShowBorders&&b.setState(CKEDITOR.TRISTATE_ON);e.on(\"mode\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(e)},null,null,100);e.on(\"contentDom\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(e)});e.on(\"removeFormatCleanup\",function(a){a=a.data;e.getCommand(\"showborders\").state==CKEDITOR.TRISTATE_ON&&a.is(\"table\")&&(!a.hasAttribute(\"border\")||\n0>=parseInt(a.getAttribute(\"border\"),10))&&a.addClass(\"cke_show_border\")})},afterInit:function(a){var b=a.dataProcessor;a=b&&b.dataFilter;b=b&&b.htmlFilter;a&&a.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"],e=parseInt(a.border,10);e&&!(0>=e)||b&&-1!=b.indexOf(\"cke_show_border\")||(a[\"class\"]=(b||\"\")+\" cke_show_border\")}}});b&&b.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"];b&&(a[\"class\"]=b.replace(\"cke_show_border\",\"\").replace(/\\s{2}/,\" \").replace(/^\\s+|\\s+$/,\n\"\"))}}})}});CKEDITOR.on(\"dialogDefinition\",function(a){var b=a.data.name;if(\"table\"==b||\"tableProperties\"==b)if(a=a.data.definition,b=a.getContents(\"info\").get(\"txtBorder\"),b.commit=CKEDITOR.tools.override(b.commit,function(a){return function(b,e){a.apply(this,arguments);var k=parseInt(this.getValue(),10);e[!k||0>=k?\"addClass\":\"removeClass\"](\"cke_show_border\")}}),a=(a=a.getContents(\"advanced\"))&&a.get(\"advCSSClasses\"))a.setup=CKEDITOR.tools.override(a.setup,function(a){return function(){a.apply(this,\narguments);this.setValue(this.getValue().replace(/cke_show_border/,\"\"))}}),a.commit=CKEDITOR.tools.override(a.commit,function(a){return function(b,e){a.apply(this,arguments);parseInt(e.getAttribute(\"border\"),10)||e.addClass(\"cke_show_border\")}})})}(),function(){CKEDITOR.plugins.add(\"sourcearea\",{init:function(e){function b(){var a=d&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle(\"height\",this.getParent().$.clientHeight+\"px\");this.setStyle(\"width\",this.getParent().$.clientWidth+\n\"px\");this.show();a&&this.focus()}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var c=CKEDITOR.plugins.sourcearea;e.addMode(\"source\",function(c){var d=e.ui.space(\"contents\").getDocument().createElement(\"textarea\");d.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?\"99%\":\"100%\",height:\"100%\",resize:\"none\",outline:\"none\",\"text-align\":\"left\"},CKEDITOR.tools.cssVendorPrefix(\"tab-size\",e.config.sourceAreaTabSize||4)));d.setAttribute(\"dir\",\"ltr\");d.addClass(\"cke_source\").addClass(\"cke_reset\").addClass(\"cke_enable_context_menu\");\ne.ui.space(\"contents\").append(d);d=e.editable(new a(e,d));d.setData(e.getData(1));CKEDITOR.env.ie&&(d.attachListener(e,\"resize\",b,d),d.attachListener(CKEDITOR.document.getWindow(),\"resize\",b,d),CKEDITOR.tools.setTimeout(b,0,d));e.fire(\"ariaWidget\",this);c()});e.addCommand(\"source\",c.commands.source);e.ui.addButton&&e.ui.addButton(\"Source\",{label:e.lang.sourcearea.toolbar,command:\"source\",toolbar:\"mode,10\"});e.on(\"mode\",function(){e.getCommand(\"source\").setState(\"source\"==e.mode?CKEDITOR.TRISTATE_ON:\nCKEDITOR.TRISTATE_OFF)});var d=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var a=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.status=\"ready\";this.editor.fire(\"dataReady\")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?\"set\":\"remove\")+\"Attribute\"](\"readOnly\",\"readonly\")},detach:function(){a.baseProto.detach.call(this);this.clearCustomData();\nthis.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(a){\"wysiwyg\"==a.mode&&a.fire(\"saveSnapshot\");a.getCommand(\"source\").setState(CKEDITOR.TRISTATE_DISABLED);a.setMode(\"source\"==a.mode?\"wysiwyg\":\"source\")},canUndo:!1}}},CKEDITOR.plugins.add(\"specialchar\",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-au\":1,\"en-ca\":1,\"en-gb\":1,eo:1,es:1,\"es-mx\":1,et:1,eu:1,fa:1,fi:1,fr:1,\"fr-ca\":1,\ngl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,\"pt-br\":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},requires:\"dialog\",init:function(a){var e=this;CKEDITOR.dialog.add(\"specialchar\",this.path+\"dialogs/specialchar.js\");a.addCommand(\"specialchar\",{exec:function(){var b=a.langCode,b=e.availableLangs[b]?b:e.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+\"dialogs/lang/\"+\nb+\".js\"),function(){CKEDITOR.tools.extend(a.lang.specialchar,e.langEntries[b]);a.openDialog(\"specialchar\")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"SpecialChar\",{label:a.lang.specialchar.toolbar,command:\"specialchar\",toolbar:\"insert,50\"})}}),CKEDITOR.config.specialChars=\"! \\x26quot; # $ % \\x26amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; \\x26lt; \\x3d \\x26gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ \\x26euro; \\x26lsquo; \\x26rsquo; \\x26ldquo; \\x26rdquo; \\x26ndash; \\x26mdash; \\x26iexcl; \\x26cent; \\x26pound; \\x26curren; \\x26yen; \\x26brvbar; \\x26sect; \\x26uml; \\x26copy; \\x26ordf; \\x26laquo; \\x26not; \\x26reg; \\x26macr; \\x26deg; \\x26sup2; \\x26sup3; \\x26acute; \\x26micro; \\x26para; \\x26middot; \\x26cedil; \\x26sup1; \\x26ordm; \\x26raquo; \\x26frac14; \\x26frac12; \\x26frac34; \\x26iquest; \\x26Agrave; \\x26Aacute; \\x26Acirc; \\x26Atilde; \\x26Auml; \\x26Aring; \\x26AElig; \\x26Ccedil; \\x26Egrave; \\x26Eacute; \\x26Ecirc; \\x26Euml; \\x26Igrave; \\x26Iacute; \\x26Icirc; \\x26Iuml; \\x26ETH; \\x26Ntilde; \\x26Ograve; \\x26Oacute; \\x26Ocirc; \\x26Otilde; \\x26Ouml; \\x26times; \\x26Oslash; \\x26Ugrave; \\x26Uacute; \\x26Ucirc; \\x26Uuml; \\x26Yacute; \\x26THORN; \\x26szlig; \\x26agrave; \\x26aacute; \\x26acirc; \\x26atilde; \\x26auml; \\x26aring; \\x26aelig; \\x26ccedil; \\x26egrave; \\x26eacute; \\x26ecirc; \\x26euml; \\x26igrave; \\x26iacute; \\x26icirc; \\x26iuml; \\x26eth; \\x26ntilde; \\x26ograve; \\x26oacute; \\x26ocirc; \\x26otilde; \\x26ouml; \\x26divide; \\x26oslash; \\x26ugrave; \\x26uacute; \\x26ucirc; \\x26uuml; \\x26yacute; \\x26thorn; \\x26yuml; \\x26OElig; \\x26oelig; \\x26#372; \\x26#374 \\x26#373 \\x26#375; \\x26sbquo; \\x26#8219; \\x26bdquo; \\x26hellip; \\x26trade; \\x26#9658; \\x26bull; \\x26rarr; \\x26rArr; \\x26hArr; \\x26diams; \\x26asymp;\".split(\" \"),\nfunction(){CKEDITOR.plugins.add(\"stylescombo\",{requires:\"richcombo\",init:function(a){var e=a.config,b=a.lang.stylescombo,c={},d=[],l=[];a.on(\"stylesSet\",function(b){if(b=b.data.styles){for(var g,h,m,f=0,n=b.length;f<n;f++)(g=b[f],a.blockless&&g.element in CKEDITOR.dtd.$block||\"string\"==typeof g.type&&!CKEDITOR.style.customHandlers[g.type]||(h=g.name,g=new CKEDITOR.style(g),a.filter.customConfig&&!a.filter.check(g)))||(g._name=h,g._.enterMode=e.enterMode,g._.type=m=g.assignedTo||g.type,g._.weight=\nf+1E3*(m==CKEDITOR.STYLE_OBJECT?1:m==CKEDITOR.STYLE_BLOCK?2:3),c[h]=g,d.push(g),l.push(g));d.sort(function(a,b){return a._.weight-b._.weight})}});a.ui.addRichCombo(\"Styles\",{label:b.label,title:b.panelTitle,toolbar:\"styles,10\",allowedContent:l,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(e.contentsCss),multiSelect:!0,attributes:{\"aria-label\":b.panelTitle}},init:function(){var a,c,e,m,f,l;f=0;for(l=d.length;f<l;f++)a=d[f],c=a._name,m=a._.type,m!=e&&(this.startGroup(b[\"panelTitle\"+String(m)]),\ne=m),this.add(c,a.type==CKEDITOR.STYLE_OBJECT?c:a.buildPreview(),c);this.commit()},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=c[b];var d=a.elementPath();if(b.group&&b.removeStylesFromSameGroup(a))a.applyStyle(b);else a[b.checkActive(d,a)?\"removeStyle\":\"applyStyle\"](b);a.fire(\"saveSnapshot\")},onRender:function(){a.on(\"selectionChange\",function(b){var d=this.getValue();b=b.data.path.elements;for(var e=0,m=b.length,f;e<m;e++){f=b[e];for(var l in c)if(c[l].checkElementRemovable(f,!0,a)){l!=\nd&&this.setValue(l);return}}this.setValue(\"\")},this)},onOpen:function(){var d=a.getSelection(),d=d.getSelectedElement()||d.getStartElement()||a.editable(),d=a.elementPath(d),e=[0,0,0,0];this.showAll();this.unmarkAll();for(var h in c){var m=c[h],f=m._.type;m.checkApplicable(d,a,a.activeFilter)?e[f]++:this.hideItem(h);m.checkActive(d,a)&&this.mark(h)}e[CKEDITOR.STYLE_BLOCK]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_BLOCK)]);e[CKEDITOR.STYLE_INLINE]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_INLINE)]);\ne[CKEDITOR.STYLE_OBJECT]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var b=a.elementPath();if(b){for(var d in c)if(c[d].checkApplicable(b,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={};d=[]}})}})}(),function(){function a(a){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(b){if(b.editable().hasFocus){var c=b.getSelection(),e;if(e=(new CKEDITOR.dom.elementPath(c.getCommonAncestor(),c.root)).contains({td:1,\nth:1},1)){var c=b.createRange(),h=CKEDITOR.tools.tryThese(function(){var b=e.getParent().$.cells[e.$.cellIndex+(a?-1:1)];b.parentNode.parentNode;return b},function(){var b=e.getParent(),b=b.getAscendant(\"table\").$.rows[b.$.rowIndex+(a?-1:1)];return b.cells[a?b.cells.length-1:0]});if(h||a)if(h)h=new CKEDITOR.dom.element(h),c.moveToElementEditStart(h),c.checkStartOfBlock()&&c.checkEndOfBlock()||c.selectNodeContents(h);else return!0;else{for(var m=e.getAscendant(\"table\").$,h=e.getParent().$.cells,m=\nnew CKEDITOR.dom.element(m.insertRow(-1),b.document),f=0,n=h.length;f<n;f++)m.append((new CKEDITOR.dom.element(h[f],b.document)).clone(!1,!1)).appendBogus();c.moveToElementEditStart(m)}c.select(!0);return!0}}return!1}}}var e={editorFocus:!1,modes:{wysiwyg:1,source:1}},b={exec:function(a){a.container.focusNext(!0,a.tabIndex)}},c={exec:function(a){a.container.focusPrevious(!0,a.tabIndex)}};CKEDITOR.plugins.add(\"tab\",{init:function(d){for(var l=!1!==d.config.enableTabKeyTools,k=d.config.tabSpaces||0,\ng=\"\";k--;)g+=\" \";if(g)d.on(\"key\",function(a){9==a.data.keyCode&&(d.insertText(g),a.cancel())});if(l)d.on(\"key\",function(a){(9==a.data.keyCode&&d.execCommand(\"selectNextCell\")||a.data.keyCode==CKEDITOR.SHIFT+9&&d.execCommand(\"selectPreviousCell\"))&&a.cancel()});d.addCommand(\"blur\",CKEDITOR.tools.extend(b,e));d.addCommand(\"blurBack\",CKEDITOR.tools.extend(c,e));d.addCommand(\"selectNextCell\",a());d.addCommand(\"selectPreviousCell\",a(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(a,e){var b=\nvoid 0===e?this.getTabIndex():e,c,d,l,k,g,h;if(0>=b)for(g=this.getNextSourceNode(a,CKEDITOR.NODE_ELEMENT);g;){if(g.isVisible()&&0===g.getTabIndex()){l=g;break}g=g.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(g=this.getDocument().getBody().getFirst();g=g.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!d&&g.equals(this)){if(d=!0,a){if(!(g=g.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else d&&!this.contains(g)&&(c=1);if(g.isVisible()&&!(0>(h=g.getTabIndex()))){if(c&&h==b){l=\ng;break}h>b&&(!l||!k||h<k)?(l=g,k=h):l||0!==h||(l=g,k=h)}}l&&l.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(a,e){for(var b=void 0===e?this.getTabIndex():e,c,d,l,k=0,g,h=this.getDocument().getBody().getLast();h=h.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!d&&h.equals(this)){if(d=!0,a){if(!(h=h.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else d&&!this.contains(h)&&(c=1);if(h.isVisible()&&!(0>(g=h.getTabIndex())))if(0>=b){if(c&&0===g){l=h;break}g>k&&\n(l=h,k=g)}else{if(c&&g==b){l=h;break}g<b&&(!l||g>k)&&(l=h,k=g)}}l&&l.focus()},CKEDITOR.plugins.add(\"table\",{requires:\"dialog\",init:function(a){function e(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains(\"table\",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!a.blockless){var b=a.lang.table;a.addCommand(\"table\",new CKEDITOR.dialogCommand(\"table\",{context:\"table\",allowedContent:\"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];\"+\n(a.plugins.dialogadvtab?\"table\"+a.plugins.dialogadvtab.allowedContent():\"\"),requiredContent:\"table\",contentTransformations:[[\"table{width}: sizeToStyle\",\"table[width]: sizeToAttribute\"],[\"td: splitBorderShorthand\"],[{element:\"table\",right:function(a){if(a.styles){var b;if(a.styles.border)b=CKEDITOR.tools.style.parse.border(a.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var e=a.styles;e[\"border-left\"]&&e[\"border-left\"]===e[\"border-right\"]&&e[\"border-right\"]===e[\"border-top\"]&&\ne[\"border-top\"]===e[\"border-bottom\"]&&(b=CKEDITOR.tools.style.parse.border(e[\"border-top\"]))}b&&b.style&&\"solid\"===b.style&&b.width&&0!==parseFloat(b.width)&&(a.attributes.border=1);\"collapse\"==a.styles[\"border-collapse\"]&&(a.attributes.cellspacing=0)}}}]]}));a.addCommand(\"tableProperties\",new CKEDITOR.dialogCommand(\"tableProperties\",e()));a.addCommand(\"tableDelete\",e({exec:function(a){var b=a.elementPath().contains(\"table\",1);if(b){var e=b.getParent(),k=a.editable();1!=e.getChildCount()||e.is(\"td\",\n\"th\")||e.equals(k)||(b=e);a=a.createRange();a.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START);b.remove();a.select()}}}));a.ui.addButton&&a.ui.addButton(\"Table\",{label:b.toolbar,command:\"table\",toolbar:\"insert,30\"});CKEDITOR.dialog.add(\"table\",this.path+\"dialogs/table.js\");CKEDITOR.dialog.add(\"tableProperties\",this.path+\"dialogs/table.js\");a.addMenuItems&&a.addMenuItems({table:{label:b.menu,command:\"tableProperties\",group:\"table\",order:5},tabledelete:{label:b.deleteTable,command:\"tableDelete\",group:\"table\",\norder:1}});a.on(\"doubleclick\",function(a){a.data.element.is(\"table\")&&(a.data.dialog=\"tableProperties\")});a.contextMenu&&a.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function a(a,b){function c(a){return b?b.contains(a)&&a.getAscendant(\"table\",!0).equals(b):!0}function d(a){0<e.length||a.type!=CKEDITOR.NODE_ELEMENT||!v.test(a.getName())||a.getCustomData(\"selected_cell\")||(CKEDITOR.dom.element.setMarker(f,a,\"selected_cell\",\n!0),e.push(a))}var e=[],f={};if(!a)return e;for(var g=a.getRanges(),h=0;h<g.length;h++){var k=g[h];if(k.collapsed)(k=k.getCommonAncestor().getAscendant({td:1,th:1},!0))&&c(k)&&e.push(k);else{var k=new CKEDITOR.dom.walker(k),m;for(k.guard=d;m=k.next();)m.type==CKEDITOR.NODE_ELEMENT&&m.is(CKEDITOR.dtd.table)||(m=m.getAscendant({td:1,th:1},!0))&&!m.getCustomData(\"selected_cell\")&&c(m)&&(CKEDITOR.dom.element.setMarker(f,m,\"selected_cell\",!0),e.push(m))}}CKEDITOR.dom.element.clearAllMarkers(f);return e}\nfunction e(b,c){for(var d=x(b)?b:a(b),e=d[0],f=e.getAscendant(\"table\"),e=e.getDocument(),g=d[0].getParent(),h=g.$.rowIndex,d=d[d.length-1],k=d.getParent().$.rowIndex+d.$.rowSpan-1,d=new CKEDITOR.dom.element(f.$.rows[k]),h=c?h:k,g=c?g:d,d=CKEDITOR.tools.buildTableMap(f),f=d[h],h=c?d[h-1]:d[h+1],d=d[0].length,e=e.createElement(\"tr\"),k=0;f[k]&&k<d;k++){var m;1<f[k].rowSpan&&h&&f[k]==h[k]?(m=f[k],m.rowSpan+=1):(m=(new CKEDITOR.dom.element(f[k])).clone(),m.removeAttribute(\"rowSpan\"),m.appendBogus(),e.append(m),\nm=m.$);k+=m.colSpan-1}c?e.insertBefore(g):e.insertAfter(g);return e}function b(c){if(c instanceof CKEDITOR.dom.selection){var d=c.getRanges(),e=a(c),f=e[0].getAscendant(\"table\"),g=CKEDITOR.tools.buildTableMap(f),h=e[0].getParent().$.rowIndex,e=e[e.length-1],k=e.getParent().$.rowIndex+e.$.rowSpan-1,e=[];c.reset();for(c=h;c<=k;c++){for(var m=g[c],l=new CKEDITOR.dom.element(f.$.rows[c]),n=0;n<m.length;n++){var p=new CKEDITOR.dom.element(m[n]),r=p.getParent().$.rowIndex;1==p.$.rowSpan?p.remove():(--p.$.rowSpan,\nr==c&&(r=g[c+1],r[n-1]?p.insertAfter(new CKEDITOR.dom.element(r[n-1])):(new CKEDITOR.dom.element(f.$.rows[c+1])).append(p,1)));n+=p.$.colSpan-1}e.push(l)}g=f.$.rows;d[0].moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);h=new CKEDITOR.dom.element(g[k+1]||(0<h?g[h-1]:null)||f.$.parentNode);for(c=e.length;0<=c;c--)b(e[c]);return f.$.parentNode?h:(d[0].select(),null)}c instanceof CKEDITOR.dom.element&&(f=c.getAscendant(\"table\"),1==f.$.rows.length?f.remove():c.remove());return null}function c(a){for(var b=\na.getParent().$.cells,c=0,d=0;d<b.length;d++){var e=b[d],c=c+e.colSpan;if(e==a.$)break}return c-1}function d(a,b){for(var d=b?Infinity:0,e=0;e<a.length;e++){var f=c(a[e]);if(b?f<d:f>d)d=f}return d}function l(b,c){for(var e=x(b)?b:a(b),f=e[0].getAscendant(\"table\"),g=d(e,1),e=d(e),h=c?g:e,k=CKEDITOR.tools.buildTableMap(f),f=[],g=[],e=[],m=k.length,l=0;l<m;l++)f.push(k[l][h]),g.push(c?k[l][h-1]:k[l][h+1]);for(l=0;l<m;l++)f[l]&&(1<f[l].colSpan&&g[l]==f[l]?(k=f[l],k.colSpan+=1):(h=new CKEDITOR.dom.element(f[l]),\nk=h.clone(),k.removeAttribute(\"colSpan\"),k.appendBogus(),k[c?\"insertBefore\":\"insertAfter\"].call(k,h),e.push(k),k=k.$),l+=k.rowSpan-1);return e}function k(b){function c(a){var b,d,e;b=a.getRanges();if(1!==b.length)return a;b=b[0];if(b.collapsed||0!==b.endOffset)return a;d=b.endContainer;e=d.getName().toLowerCase();if(\"td\"!==e&&\"th\"!==e)return a;for((e=d.getPrevious())||(e=d.getParent().getPrevious().getLast());e.type!==CKEDITOR.NODE_TEXT&&\"br\"!==e.getName().toLowerCase();)if(e=e.getLast(),!e)return a;\nb.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);return b.select()}CKEDITOR.env.webkit&&!b.isFake&&(b=c(b));var d=b.getRanges(),e=a(b),f=e[0],g=e[e.length-1],e=f.getAscendant(\"table\"),h=CKEDITOR.tools.buildTableMap(e),k,m,l=[];b.reset();var n=0;for(b=h.length;n<b;n++)for(var p=0,r=h[n].length;p<r;p++)void 0===k&&h[n][p]==f.$&&(k=p),h[n][p]==g.$&&(m=p);for(n=k;n<=m;n++)for(p=0;p<h.length;p++)g=h[p],f=new CKEDITOR.dom.element(e.$.rows[p]),g=new CKEDITOR.dom.element(g[n]),g.$&&(1==g.$.colSpan?g.remove():--g.$.colSpan,\np+=g.$.rowSpan-1,f.$.cells.length||l.push(f));k=h[0].length-1>m?new CKEDITOR.dom.element(h[0][m+1]):k&&-1!==h[0][k-1].cellIndex?new CKEDITOR.dom.element(h[0][k-1]):new CKEDITOR.dom.element(e.$.parentNode);l.length==b&&(d[0].moveToPosition(e,CKEDITOR.POSITION_AFTER_END),d[0].select(),e.remove());return k}function g(a,b){var c=a.getStartElement().getAscendant({td:1,th:1},!0);if(c){var d=c.clone();d.appendBogus();b?d.insertBefore(c):d.insertAfter(c)}}function h(b){if(b instanceof CKEDITOR.dom.selection){var c=\nb.getRanges(),d=a(b),e=d[0]&&d[0].getAscendant(\"table\"),f;a:{var g=0;f=d.length-1;for(var k={},l,n;l=d[g++];)CKEDITOR.dom.element.setMarker(k,l,\"delete_cell\",!0);for(g=0;l=d[g++];)if((n=l.getPrevious())&&!n.getCustomData(\"delete_cell\")||(n=l.getNext())&&!n.getCustomData(\"delete_cell\")){CKEDITOR.dom.element.clearAllMarkers(k);f=n;break a}CKEDITOR.dom.element.clearAllMarkers(k);g=d[0].getParent();(g=g.getPrevious())?f=g.getLast():(g=d[f].getParent(),f=(g=g.getNext())?g.getChild(0):null)}b.reset();for(b=\nd.length-1;0<=b;b--)h(d[b]);f?m(f,!0):e&&(c[0].moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),c[0].select(),e.remove())}else b instanceof CKEDITOR.dom.element&&(c=b.getParent(),1==c.getChildCount()?c.remove():b.remove())}function m(a,b){var c=a.getDocument(),d=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(d.focus(),c.focus());c=new CKEDITOR.dom.range(c);c[\"moveToElementEdit\"+(b?\"End\":\"Start\")](a)||(c.selectNodeContents(a),c.collapse(b?!1:!0));c.select(!0)}function f(a,b,c){a=a[b];\nif(\"undefined\"==typeof c)return a;for(b=0;a&&b<a.length;b++){if(c.is&&a[b]==c.$)return b;if(b==c)return new CKEDITOR.dom.element(a[b])}return c.is?-1:null}function n(b,c,d){var e=a(b),g;if((c?1!=e.length:2>e.length)||(g=b.getCommonAncestor())&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(\"table\"))return!1;var h;b=e[0];g=b.getAscendant(\"table\");var k=CKEDITOR.tools.buildTableMap(g),m=k.length,l=k[0].length,n=b.getParent().$.rowIndex,p=f(k,n,b);if(c){var r;try{var v=parseInt(b.getAttribute(\"rowspan\"),10)||1;\nh=parseInt(b.getAttribute(\"colspan\"),10)||1;r=k[\"up\"==c?n-v:\"down\"==c?n+v:n][\"left\"==c?p-h:\"right\"==c?p+h:p]}catch(x){return!1}if(!r||b.$==r)return!1;e[\"up\"==c||\"left\"==c?\"unshift\":\"push\"](new CKEDITOR.dom.element(r))}c=b.getDocument();var K=n,v=r=0,J=!d&&new CKEDITOR.dom.documentFragment(c),D=0;for(c=0;c<e.length;c++){h=e[c];var R=h.getParent(),N=h.getFirst(),S=h.$.colSpan,L=h.$.rowSpan,R=R.$.rowIndex,V=f(k,R,h),D=D+S*L,v=Math.max(v,V-p+S);r=Math.max(r,R-n+L);d||(S=h,(L=S.getBogus())&&L.remove(),\nS.trim(),h.getChildren().count()&&(R==K||!N||N.isBlockBoundary&&N.isBlockBoundary({br:1})||(K=J.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!K||K.is&&K.is(\"br\")||J.append(\"br\")),h.moveChildren(J)),c?h.remove():h.setHtml(\"\"));K=R}if(d)return r*v==D;J.moveChildren(b);b.appendBogus();v>=l?b.removeAttribute(\"rowSpan\"):b.$.rowSpan=r;r>=m?b.removeAttribute(\"colSpan\"):b.$.colSpan=v;d=new CKEDITOR.dom.nodeList(g.$.rows);e=d.count();for(c=e-1;0<=c;c--)g=d.getItem(c),g.$.cells.length||(g.remove(),e++);return b}\nfunction p(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),g=e.getAscendant(\"table\"),h=CKEDITOR.tools.buildTableMap(g),k=e.$.rowIndex,m=f(h,k,d),l=d.$.rowSpan,n;if(1<l){n=Math.ceil(l/2);for(var l=Math.floor(l/2),e=k+n,g=new CKEDITOR.dom.element(g.$.rows[e]),h=f(h,e),p,e=d.clone(),k=0;k<h.length;k++)if(p=h[k],p.parentNode==g.$&&k>m){e.insertBefore(new CKEDITOR.dom.element(p));break}else p=null;p||g.append(e)}else for(l=n=1,g=e.clone(),g.insertAfter(e),g.append(e=d.clone()),\np=f(h,k),m=0;m<p.length;m++)p[m].rowSpan++;e.appendBogus();d.$.rowSpan=n;e.$.rowSpan=l;1==n&&d.removeAttribute(\"rowSpan\");1==l&&e.removeAttribute(\"rowSpan\");return e}function r(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),g=e.getAscendant(\"table\"),g=CKEDITOR.tools.buildTableMap(g),h=f(g,e.$.rowIndex,d),k=d.$.colSpan;if(1<k)e=Math.ceil(k/2),k=Math.floor(k/2);else{for(var k=e=1,m=[],l=0;l<g.length;l++){var n=g[l];m.push(n[h]);1<n[h].rowSpan&&(l+=n[h].rowSpan-1)}for(g=\n0;g<m.length;g++)m[g].colSpan++}g=d.clone();g.insertAfter(d);g.appendBogus();d.$.colSpan=e;g.$.colSpan=k;1==e&&d.removeAttribute(\"colSpan\");1==k&&g.removeAttribute(\"colSpan\");return g}var v=/^(?:td|th)$/,x=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:\"table,dialog,contextmenu\",init:function(c){function d(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function f(a,\nb){var d=c.addCommand(a,b);c.addFeature(d)}var v=c.lang.table,x=CKEDITOR.tools.style.parse;f(\"cellProperties\",new CKEDITOR.dialogCommand(\"cellProperties\",d({allowedContent:\"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]\",requiredContent:\"table\",contentTransformations:[[{element:\"td\",left:function(a){return a.styles.background&&x.background(a.styles.background).color},right:function(a){a.styles[\"background-color\"]=x.background(a.styles.background).color}},\n{element:\"td\",check:\"td{vertical-align}\",left:function(a){return a.attributes&&a.attributes.valign},right:function(a){a.styles[\"vertical-align\"]=a.attributes.valign;delete a.attributes.valign}}],[{element:\"tr\",check:\"td{height}\",left:function(a){return a.styles&&a.styles.height},right:function(a){CKEDITOR.tools.array.forEach(a.children,function(b){b.name in{td:1,th:1}&&(b.attributes[\"cke-row-height\"]=a.styles.height)});delete a.styles.height}}],[{element:\"td\",check:\"td{height}\",left:function(a){return(a=\na.attributes)&&a[\"cke-row-height\"]},right:function(a){a.styles.height=a.attributes[\"cke-row-height\"];delete a.attributes[\"cke-row-height\"]}}]]})));CKEDITOR.dialog.add(\"cellProperties\",this.path+\"dialogs/tableCell.js\");f(\"rowDelete\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();(a=b(a))&&m(a)}}));f(\"rowInsertBefore\",d({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);e(b,!0)}}));f(\"rowInsertAfter\",d({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);\ne(b)}}));f(\"columnDelete\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();(a=k(a))&&m(a,!0)}}));f(\"columnInsertBefore\",d({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);l(b,!0)}}));f(\"columnInsertAfter\",d({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);l(b)}}));f(\"cellDelete\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();h(a)}}));f(\"cellMerge\",d({allowedContent:\"td[colspan,rowspan]\",requiredContent:\"td[colspan,rowspan]\",exec:function(a,\nb){b.cell=n(a.getSelection());m(b.cell,!0)}}));f(\"cellMergeRight\",d({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a,b){b.cell=n(a.getSelection(),\"right\");m(b.cell,!0)}}));f(\"cellMergeDown\",d({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a,b){b.cell=n(a.getSelection(),\"down\");m(b.cell,!0)}}));f(\"cellVerticalSplit\",d({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){m(r(a.getSelection()))}}));f(\"cellHorizontalSplit\",\nd({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){m(p(a.getSelection()))}}));f(\"cellInsertBefore\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();g(a,!0)}}));f(\"cellInsertAfter\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();g(a)}}));c.addMenuItems&&c.addMenuItems({tablecell:{label:v.cell.menu,group:\"tablecell\",order:1,getItems:function(){var b=c.getSelection(),d=a(b);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,\ntablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:n(b,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:n(b,\"right\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:n(b,\"down\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:r(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:p(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<d.length?CKEDITOR.TRISTATE_OFF:\nCKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:v.cell.insertBefore,group:\"tablecell\",command:\"cellInsertBefore\",order:5},tablecell_insertAfter:{label:v.cell.insertAfter,group:\"tablecell\",command:\"cellInsertAfter\",order:10},tablecell_delete:{label:v.cell.deleteCell,group:\"tablecell\",command:\"cellDelete\",order:15},tablecell_merge:{label:v.cell.merge,group:\"tablecell\",command:\"cellMerge\",order:16},tablecell_merge_right:{label:v.cell.mergeRight,group:\"tablecell\",command:\"cellMergeRight\",\norder:17},tablecell_merge_down:{label:v.cell.mergeDown,group:\"tablecell\",command:\"cellMergeDown\",order:18},tablecell_split_horizontal:{label:v.cell.splitHorizontal,group:\"tablecell\",command:\"cellHorizontalSplit\",order:19},tablecell_split_vertical:{label:v.cell.splitVertical,group:\"tablecell\",command:\"cellVerticalSplit\",order:20},tablecell_properties:{label:v.cell.title,group:\"tablecellproperties\",command:\"cellProperties\",order:21},tablerow:{label:v.row.menu,group:\"tablerow\",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,\ntablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:v.row.insertBefore,group:\"tablerow\",command:\"rowInsertBefore\",order:5},tablerow_insertAfter:{label:v.row.insertAfter,group:\"tablerow\",command:\"rowInsertAfter\",order:10},tablerow_delete:{label:v.row.deleteRow,group:\"tablerow\",command:\"rowDelete\",order:15},tablecolumn:{label:v.column.menu,group:\"tablecolumn\",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,\ntablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:v.column.insertBefore,group:\"tablecolumn\",command:\"columnInsertBefore\",order:5},tablecolumn_insertAfter:{label:v.column.insertAfter,group:\"tablecolumn\",command:\"columnInsertAfter\",order:10},tablecolumn_delete:{label:v.column.deleteColumn,group:\"tablecolumn\",command:\"columnDelete\",order:15}});c.contextMenu&&c.contextMenu.addListener(function(a,b,c){return(a=c.contains({td:1,th:1},\n1))&&!a.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:c,insertRow:e,insertColumn:l,getSelectedCells:a};CKEDITOR.plugins.add(\"tabletools\",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(a,e,b,c,d){a=a.$.rows;b=b||0;c=\"number\"===typeof c?c:a.length-1;d=\"number\"===typeof d?d:-1;var l=-1,k=[];for(e=e||0;e<=c;e++){l++;!k[l]&&(k[l]=[]);for(var g=-1,h=b;h<=(-1===d?a[e].cells.length-1:d);h++){var m=\na[e].cells[h];if(!m)break;for(g++;k[l][g];)g++;for(var f=isNaN(m.colSpan)?1:m.colSpan,m=isNaN(m.rowSpan)?1:m.rowSpan,n=0;n<m&&!(e+n>c);n++){k[l+n]||(k[l+n]=[]);for(var p=0;p<f;p++)k[l+n][g+p]=a[e].cells[h]}g+=f-1;if(-1!==d&&g>=d)break}}return k},function(){function a(a){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(a)}function e(a,b){var c=a.getAscendant(\"table\"),d=b.getAscendant(\"table\"),e=CKEDITOR.tools.buildTableMap(c),f=m(a),g=m(b),h=[],k={},l,n;c.contains(d)&&(b=b.getAscendant({td:1,\nth:1}),g=m(b));f>g&&(c=f,f=g,g=c,c=a,a=b,b=c);for(c=0;c<e[f].length;c++)if(a.$===e[f][c]){l=c;break}for(c=0;c<e[g].length;c++)if(b.$===e[g][c]){n=c;break}l>n&&(c=l,l=n,n=c);for(c=f;c<=g;c++)for(f=l;f<=n;f++)d=new CKEDITOR.dom.element(e[c][f]),d.$&&!d.getCustomData(\"selected_cell\")&&(h.push(d),CKEDITOR.dom.element.setMarker(k,d,\"selected_cell\",!0));CKEDITOR.dom.element.clearAllMarkers(k);return h}function b(a){if(a)return a=a.clone(),a.enlarge(CKEDITOR.ENLARGE_ELEMENT),(a=a.getEnclosedNode())&&a.is&&\na.is(CKEDITOR.dtd.$tableContent)}function c(a){return(a=a.editable().findOne(\".cke_table-faked-selection\"))&&a.getAscendant(\"table\")}function d(a,b){var c=a.editable().find(\".cke_table-faked-selection\"),d;a.fire(\"lockSnapshot\");a.editable().removeClass(\"cke_table-faked-selection-editor\");for(d=0;d<c.count();d++)c.getItem(d).removeClass(\"cke_table-faked-selection\");0<c.count()&&c.getItem(0).getAscendant(\"table\").data(\"cke-table-faked-selection-table\",!1);a.fire(\"unlockSnapshot\");b&&(q={active:!1},\na.getSelection().isInTable()&&a.getSelection().reset())}function l(a,b){var c=[],d,e;for(e=0;e<b.length;e++)d=a.createRange(),d.setStartBefore(b[e]),d.setEndAfter(b[e]),c.push(d);a.getSelection().selectRanges(c)}function k(a){var b=a.editable().find(\".cke_table-faked-selection\");1>b.count()||(b=e(b.getItem(0),b.getItem(b.count()-1)),l(a,b))}function g(b,c,f){var g=u(b.getSelection(!0));c=c.is(\"table\")?null:c;var h;(h=q.active&&!q.first)&&!(h=c)&&(h=b.getSelection().getRanges(),h=1<g.length||h[0]&&\n!h[0].collapsed?!0:!1);if(h)q.first=c||g[0],q.dirty=c?!1:1!==g.length;else if(q.active&&c&&q.first.getAscendant(\"table\").equals(c.getAscendant(\"table\"))){g=e(q.first,c);if(!q.dirty&&1===g.length&&!a(f.data.getTarget()))return d(b,\"mouseup\"===f.name);q.dirty=!0;q.last=c;l(b,g)}}function h(a){var b=(a=a.editor||a.sender.editor)&&a.getSelection(),c=b&&b.getRanges()||[],e;if(b&&(d(a),b.isInTable()&&b.isFake)){1===c.length&&c[0]._getTableElement()&&c[0]._getTableElement().is(\"table\")&&(e=c[0]._getTableElement());\ne=u(b,e);a.fire(\"lockSnapshot\");for(b=0;b<e.length;b++)e[b].addClass(\"cke_table-faked-selection\");0<e.length&&(a.editable().addClass(\"cke_table-faked-selection-editor\"),e[0].getAscendant(\"table\").data(\"cke-table-faked-selection-table\",\"\"));a.fire(\"unlockSnapshot\")}}function m(a){return a.getAscendant(\"tr\",!0).$.rowIndex}function f(b){function e(a,b){return a&&b?a.equals(b)||a.contains(b)||b.contains(a)||a.getCommonAncestor(b).is(t):!1}function h(a){return!a.getAscendant(\"table\",!0)&&a.getDocument().equals(l.document)}\nfunction m(a,b,c,d){return(\"mousedown\"!==a.name||CKEDITOR.tools.getMouseButton(a)!==CKEDITOR.MOUSE_BUTTON_LEFT&&d)&&(\"mouseup\"!==a.name||h(a.data.getTarget())||e(c,d))?!1:!0}if(b.data.getTarget().getName&&(\"mouseup\"===b.name||!a(b.data.getTarget()))){var l=b.editor||b.listenerData.editor,n=l.getSelection(1),p=c(l),v=b.data.getTarget(),r=v&&v.getAscendant({td:1,th:1},!0),v=v&&v.getAscendant(\"table\",!0),t={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};m(b,n,p,v)&&d(l,!0);!q.active&&\"mousedown\"===\nb.name&&CKEDITOR.tools.getMouseButton(b)===CKEDITOR.MOUSE_BUTTON_LEFT&&v&&(q={active:!0},CKEDITOR.document.on(\"mouseup\",f,null,{editor:l}));(r||v)&&g(l,r||v,b);\"mouseup\"===b.name&&(CKEDITOR.tools.getMouseButton(b)===CKEDITOR.MOUSE_BUTTON_LEFT&&(h(b.data.getTarget())||e(p,v))&&k(l),q={active:!1},CKEDITOR.document.removeListener(\"mouseup\",f))}}function n(a){var b=a.data.getTarget().getAscendant({td:1,th:1},!0);b&&!b.hasClass(\"cke_table-faked-selection\")&&(a.cancel(),a.data.preventDefault())}function p(a,\nb){function c(a){a.cancel()}var d=a.getSelection(),e=d.createBookmarks(),f=a.document,g=a.createRange(),h=f.getDocumentElement().$,k=CKEDITOR.env.ie&&9>CKEDITOR.env.version,m=a.blockless||CKEDITOR.env.ie?\"span\":\"div\",l,n,p,v;f.getById(\"cke_table_copybin\")||(l=f.createElement(m),n=f.createElement(m),n.setAttributes({id:\"cke_table_copybin\",\"data-cke-temp\":\"1\"}),l.setStyles({position:\"absolute\",width:\"1px\",height:\"1px\",overflow:\"hidden\"}),l.setStyle(\"ltr\"==a.config.contentsLangDirection?\"left\":\"right\",\n\"-5000px\"),l.setHtml(a.getSelectedHtml(!0)),a.fire(\"lockSnapshot\"),n.append(l),a.editable().append(n),v=a.on(\"selectionChange\",c,null,null,0),k&&(p=h.scrollTop),g.selectNodeContents(l),g.select(),k&&(h.scrollTop=p),setTimeout(function(){n.remove();d.selectBookmarks(e);v.removeListener();a.fire(\"unlockSnapshot\");b&&(a.extractSelectedHtml(),a.fire(\"saveSnapshot\"))},100))}function r(a){var b=a.editor||a.sender.editor;b.getSelection().isInTable()&&p(b,\"cut\"===a.name)}function v(a){this._reset();a&&this.setSelectedCells(a)}\nfunction x(a,b,c){a.on(\"beforeCommandExec\",function(c){-1!==CKEDITOR.tools.array.indexOf(b,c.data.name)&&(c.data.selectedCells=u(a.getSelection()))});a.on(\"afterCommandExec\",function(d){-1!==CKEDITOR.tools.array.indexOf(b,d.data.name)&&c(a,d.data)})}var q={active:!1},t,u,A,z,w;v.prototype={};v.prototype._reset=function(){this.cells={first:null,last:null,all:[]};this.rows={first:null,last:null}};v.prototype.setSelectedCells=function(a){this._reset();a=a.slice(0);this._arraySortByDOMOrder(a);this.cells.all=\na;this.cells.first=a[0];this.cells.last=a[a.length-1];this.rows.first=a[0].getAscendant(\"tr\");this.rows.last=this.cells.last.getAscendant(\"tr\")};v.prototype.getTableMap=function(){var a=A(this.cells.first),b;a:{b=this.cells.last;var c=b.getAscendant(\"table\"),d=m(b),c=CKEDITOR.tools.buildTableMap(c),e;for(e=0;e<c[d].length;e++)if((new CKEDITOR.dom.element(c[d][e])).equals(b)){b=e;break a}b=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),m(this.rows.first),a,m(this.rows.last),b)};v.prototype._getTable=\nfunction(){return this.rows.first.getAscendant(\"table\")};v.prototype.insertRow=function(a,b,c){if(\"undefined\"===typeof a)a=1;else if(0>=a)return;for(var d=this.cells.first.$.cellIndex,e=this.cells.last.$.cellIndex,f=c?[]:this.cells.all,g,h=0;h<a;h++)g=z(c?this.cells.all:f,b),g=CKEDITOR.tools.array.filter(g.find(\"td, th\").toArray(),function(a){return c?!0:a.$.cellIndex>=d&&a.$.cellIndex<=e}),f=b?g.concat(f):f.concat(g);this.setSelectedCells(f)};v.prototype.insertColumn=function(a){function b(a){a=\nm(a);return a>=e&&a<=f}if(\"undefined\"===typeof a)a=1;else if(0>=a)return;for(var c=this.cells,d=c.all,e=m(c.first),f=m(c.last),c=0;c<a;c++)d=d.concat(CKEDITOR.tools.array.filter(w(d),b));this.setSelectedCells(d)};v.prototype.emptyCells=function(a){a=a||this.cells.all;for(var b=0;b<a.length;b++)a[b].setHtml(\"\")};v.prototype._arraySortByDOMOrder=function(a){a.sort(function(a,b){return a.getPosition(b)&CKEDITOR.POSITION_PRECEDING?-1:1})};var C={onPaste:function(a){function c(a){return Math.max.apply(null,\nCKEDITOR.tools.array.map(a,function(a){return a.length},0))}function d(a){var b=f.createRange();b.selectNodeContents(a);b.select()}var f=a.editor,g=f.getSelection(),h=u(g),k=this.findTableInPastedContent(f,a.data.dataValue),m=g.isInTable(!0)&&this.isBoundarySelection(g),n,p;!h.length||1===h.length&&!b(g.getRanges()[0])&&!m||m&&!k||(h=h[0].getAscendant(\"table\"),n=new v(u(g,h)),f.once(\"afterPaste\",function(){var a;if(p){a=new CKEDITOR.dom.element(p[0][0]);var b=p[p.length-1];a=e(a,new CKEDITOR.dom.element(b[b.length-\n1]))}else a=n.cells.all;l(f,a)}),k?(a.stop(),m?(n.insertRow(1,1===m,!0),g.selectElement(n.rows.first)):(n.emptyCells(),l(f,n.cells.all)),a=n.getTableMap(),p=CKEDITOR.tools.buildTableMap(k),n.insertRow(p.length-a.length),n.insertColumn(c(p)-c(a)),a=n.getTableMap(),this.pasteTable(n,a,p),f.fire(\"saveSnapshot\"),setTimeout(function(){f.fire(\"afterPaste\")},0)):(d(n.cells.first),f.once(\"afterPaste\",function(){f.fire(\"lockSnapshot\");n.emptyCells(n.cells.all.slice(1));l(f,n.cells.all);f.fire(\"unlockSnapshot\")})))},\nisBoundarySelection:function(a){a=a.getRanges()[0];var b=a.endContainer.getAscendant(\"tr\",!0);if(b&&a.collapsed){if(a.checkBoundaryOfElement(b,CKEDITOR.START))return 1;if(a.checkBoundaryOfElement(b,CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(a,b){var c=a.dataProcessor,d=new CKEDITOR.dom.element(\"body\");c||(c=new CKEDITOR.htmlDataProcessor(a));d.setHtml(c.toHtml(b),{fixForBody:!1});return 1<d.getChildCount()?null:d.findOne(\"table\")},pasteTable:function(a,b,c){var d,e=A(a.cells.first),\nf=a._getTable(),g={},h,k,m,l;for(m=0;m<c.length;m++)for(h=new CKEDITOR.dom.element(f.$.rows[a.rows.first.$.rowIndex+m]),l=0;l<c[m].length;l++)if(k=new CKEDITOR.dom.element(c[m][l]),d=b[m]&&b[m][l]?new CKEDITOR.dom.element(b[m][l]):null,k&&!k.getCustomData(\"processed\")){if(d&&d.getParent())k.replace(d);else if(0===l||c[m][l-1])(d=0!==l?new CKEDITOR.dom.element(c[m][l-1]):null)&&h.equals(d.getParent())?k.insertAfter(d):0<e?h.$.cells[e]?k.insertAfter(new CKEDITOR.dom.element(h.$.cells[e])):h.append(k):\nh.append(k,!0);CKEDITOR.dom.element.setMarker(g,k,\"processed\",!0)}else k.getCustomData(\"processed\")&&d&&d.remove();CKEDITOR.dom.element.clearAllMarkers(g)}};CKEDITOR.plugins.tableselection={getCellsBetween:e,keyboardIntegration:function(a){function b(a){var c=a.getEnclosedNode();c&&c.is({td:1,th:1})?a.getEnclosedNode().setText(\"\"):a.deleteContents();CKEDITOR.tools.array.forEach(a._find(\"td\"),function(a){a.appendBogus()})}var c=a.editable();c.attachListener(c,\"keydown\",function(a){function c(b,d){if(!d.length)return null;\nvar f=a.createRange(),g=CKEDITOR.dom.range.mergeRanges(d);CKEDITOR.tools.array.forEach(g,function(a){a.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var h=g[0].getBoundaryNodes(),k=h.startNode,h=h.endNode;if(k&&k.is&&k.is(e)){for(var m=k.getAscendant(\"table\",!0),l=k.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,m),n=!1,p=function(a){return!k.contains(a)&&a.is&&a.is(\"td\",\"th\")};l&&!p(l);)l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,m);!l&&h&&h.is&&!h.is(\"table\")&&h.getNext()&&(l=h.getNext().findOne(\"td, th\"),\nn=!0);if(l)f[\"moveToElementEdit\"+(n?\"Start\":\"End\")](l);else f.setStartBefore(k.getAscendant(\"table\",!0)),f.collapse(!0);g[0].deleteContents();return[f]}if(k)return f.moveToElementEditablePosition(k),[f]}var d={37:1,38:1,39:1,40:1,8:1,46:1},e=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);delete e.td;delete e.th;return function(e){var f=e.data.getKey(),g,h=37===f||38==f,k,m,l;if(d[f]&&(g=a.getSelection())&&g.isInTable()&&g.isFake)if(k=g.getRanges(),m=k[0]._getTableElement(),l=k[k.length-\n1]._getTableElement(),e.data.preventDefault(),e.cancel(),8<f&&46>f)k[0].moveToElementEditablePosition(h?m:l,!h),g.selectRanges([k[0]]);else{for(e=0;e<k.length;e++)b(k[e]);(e=c(m,k))?k=e:k[0].moveToElementEditablePosition(m);g.selectRanges(k);a.fire(\"saveSnapshot\")}}}(a),null,null,-1);c.attachListener(c,\"keypress\",function(c){var d=a.getSelection(),e=c.data.$.charCode||13===c.data.getKey(),f;if(d&&d.isInTable()&&d.isFake&&e&&!(c.data.getKeystroke()&CKEDITOR.CTRL)){c=d.getRanges();e=c[0].getEnclosedNode().getAscendant({td:1,\nth:1},!0);for(f=0;f<c.length;f++)b(c[f]);e&&(c[0].moveToElementEditablePosition(e),d.selectRanges([c[0]]))}},null,null,-1)},isSupportedEnvironment:!(CKEDITOR.env.ie&&11>CKEDITOR.env.version)};CKEDITOR.plugins.add(\"tableselection\",{requires:\"clipboard,tabletools\",onLoad:function(){t=CKEDITOR.plugins.tabletools;u=t.getSelectedCells;A=t.getCellColIndex;z=t.insertRow;w=t.insertColumn;CKEDITOR.document.appendStyleSheet(this.path+\"styles/tableselection.css\")},init:function(a){CKEDITOR.plugins.tableselection.isSupportedEnvironment&&\n(a.addContentsCss&&a.addContentsCss(this.path+\"styles/tableselection.css\"),a.on(\"contentDom\",function(){var b=a.editable(),c=b.isInline()?b:a.document,d={editor:a};b.attachListener(c,\"mousedown\",f,null,d);b.attachListener(c,\"mousemove\",f,null,d);b.attachListener(c,\"mouseup\",f,null,d);b.attachListener(b,\"dragstart\",n);b.attachListener(a,\"selectionCheck\",h);CKEDITOR.plugins.tableselection.keyboardIntegration(a);CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(b.attachListener(b,\n\"cut\",r),b.attachListener(b,\"copy\",r))}),a.on(\"paste\",C.onPaste,C),x(a,\"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter\".split(\" \"),function(a,b){l(a,b.selectedCells)}),x(a,[\"cellMerge\",\"cellMergeRight\",\"cellMergeDown\"],function(a,b){l(a,[b.commandData.cell])}),x(a,[\"cellDelete\"],function(a){d(a,!0)}))}})}(),\"use strict\",function(){var a=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],e={8:1,46:1};CKEDITOR.plugins.add(\"undo\",\n{init:function(c){function d(a){f.enabled&&!1!==a.data.command.canUndo&&f.save()}function e(){f.enabled=c.readOnly?!1:\"wysiwyg\"==c.mode;f.onChange()}var f=c.undoManager=new b(c),k=f.editingHandler=new l(f),p=c.addCommand(\"undo\",{exec:function(){f.undo()&&(c.selectionChange(),this.fire(\"afterUndo\"))},startDisabled:!0,canUndo:!1}),r=c.addCommand(\"redo\",{exec:function(){f.redo()&&(c.selectionChange(),this.fire(\"afterRedo\"))},startDisabled:!0,canUndo:!1});c.setKeystroke([[a[0],\"undo\"],[a[1],\"redo\"],[a[2],\n\"redo\"]]);f.onChange=function(){p.setState(f.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);r.setState(f.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};c.on(\"beforeCommandExec\",d);c.on(\"afterCommandExec\",d);c.on(\"saveSnapshot\",function(a){f.save(a.data&&a.data.contentOnly)});c.on(\"contentDom\",k.attachListeners,k);c.on(\"instanceReady\",function(){c.fire(\"saveSnapshot\")});c.on(\"beforeModeUnload\",function(){\"wysiwyg\"==c.mode&&f.save(!0)});c.on(\"mode\",e);c.on(\"readOnly\",e);\nc.ui.addButton&&(c.ui.addButton(\"Undo\",{label:c.lang.undo.undo,command:\"undo\",toolbar:\"undo,10\"}),c.ui.addButton(\"Redo\",{label:c.lang.undo.redo,command:\"redo\",toolbar:\"undo,20\"}));c.resetUndo=function(){f.reset();c.fire(\"saveSnapshot\")};c.on(\"updateSnapshot\",function(){f.currentImage&&f.update()});c.on(\"lockSnapshot\",function(a){a=a.data;f.lock(a&&a.dontUpdate,a&&a.forceUpdate)});c.on(\"unlockSnapshot\",f.unlock,f)}});CKEDITOR.plugins.undo={};var b=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=\n[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this.editor=a;this.reset()};b.prototype={type:function(a,c){var d=b.getKeyGroup(a),e=this.strokesRecorded[d]+1;c=c||e>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());c?(e=0,this.editor.fire(\"saveSnapshot\")):this.editor.fire(\"change\");this.strokesRecorded[d]=e;this.previousKeyGroup=d},keyGroupChanged:function(a){return b.getKeyGroup(a)!=this.previousKeyGroup},\nreset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,d){var e=this.editor;if(this.locked||\"ready\"!=e.status||\"wysiwyg\"!=e.mode)return!1;var k=e.editable();if(!k||\"ready\"!=k.status)return!1;\nk=this.snapshots;b||(b=new c(e));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||b.equalsSelection(this.currentImage))return!1}else!1!==d&&e.fire(\"change\");k.splice(this.index+1,k.length-this.index-1);k.length==this.limit&&k.shift();this.index=k.push(b)-1;this.currentImage=b;!1!==d&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);\na.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),c.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire(\"change\")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,d;if(c)if(a)for(d=this.index-1;0<=d;d--){if(a=b[d],!c.equalsContent(a))return a.index=d,a}else for(d=this.index+1;d<b.length;d++)if(a=b[d],!c.equalsContent(a))return a.index=\nd,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||(a=new c(this.editor));for(var b=this.index,d=this.snapshots;0<b&&this.currentImage.equalsContent(d[b-\n1]);)--b;d.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;var b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var d=null;if(b)d=!0;else{var e=new c(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(e)&&(d=e)}this.locked={update:d,level:1}}},\nunlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=new c(this.editor,!0);a.equalsContent(b)||this.update()}}}};b.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};b.keyGroups={PRINTABLE:0,FUNCTIONAL:1};b.isNavigationKey=function(a){return!!b.navigationKeyCodes[a]};b.getKeyGroup=function(a){var c=b.keyGroups;return e[a]?c.FUNCTIONAL:c.PRINTABLE};b.getOppositeKeyGroup=function(a){var c=b.keyGroups;return a==\nc.FUNCTIONAL?c.PRINTABLE:c.FUNCTIONAL};b.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&b.getKeyGroup(a)==b.keyGroups.FUNCTIONAL};var c=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire(\"beforeUndoImage\");var c=a.getSnapshot();CKEDITOR.env.ie&&c&&(c=c.replace(/\\s+data-cke-expando=\".*?\"/g,\"\"));this.contents=c;b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire(\"afterUndoImage\")},d=/\\b(?:href|src|name)=\"[^\"]*?\"/gi;c.prototype={equalsContent:function(a){var b=\nthis.contents;a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(d,\"\"),a=a.replace(d,\"\"));return b!=a?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],e=a[c];if(d.startOffset!=e.startOffset||d.endOffset!=e.endOffset||!CKEDITOR.tools.arrayCompare(d.start,e.start)||!CKEDITOR.tools.arrayCompare(d.end,e.end))return!1}}return!0}};var l=CKEDITOR.plugins.undo.NativeEditingHandler=\nfunction(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new k;this.lastKeydownImage=null};l.prototype={onKeydown:function(d){var e=d.data.getKey();if(229!==e)if(-1<CKEDITOR.tools.indexOf(a,d.data.getKeystroke()))d.data.preventDefault();else if(this.keyEventsStack.cleanUp(d),d=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new c(d.editor),b.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))if(d.strokesRecorded[0]||d.strokesRecorded[1])d.save(!1,\nthis.lastKeydownImage,!1),d.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var d=this.undoManager;a=a.data.getKey();var e=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);\nif(!(b.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new c(d.editor,!0))))if(0<e)d.type(a);else if(b.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new c(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var a=this.undoManager.editor,c=a.editable(),\nd=this;c.attachListener(c,\"keydown\",function(a){d.onKeydown(a);if(b.ieFunctionalKeysBug(a.data.getKey()))d.onInput()},null,null,999);c.attachListener(c,CKEDITOR.env.ie?\"keypress\":\"input\",d.onInput,d,null,999);c.attachListener(c,\"keyup\",d.onKeyup,d,null,999);c.attachListener(c,\"paste\",d.ignoreInputEventListener,d,null,999);c.attachListener(c,\"drop\",d.ignoreInputEventListener,d,null,999);a.on(\"afterPaste\",d.activateInputEventListener,d,null,999);c.attachListener(c.isInline()?c:a.document.getDocumentElement(),\n\"click\",function(){d.onNavigationKey()},null,null,999);c.attachListener(this.undoManager.editor,\"blur\",function(){d.keyEventsStack.remove(9)},null,null,999)}};var k=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};k.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});return this.stack[a-1]},getLastIndex:function(a){if(\"number\"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);\nreturn-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){if(\"number\"==typeof a)this.getLast(a).inputs=0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},getTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}}(),\n\"use strict\",function(){function a(a,b){CKEDITOR.tools.extend(this,{editor:a,editable:a.editable(),doc:a.document,win:a.window},b,!0);this.inline=this.editable.isInline();this.inline||(this.frame=this.win.getFrame());this.target=this[this.inline?\"editable\":\"doc\"]}function e(a,b){CKEDITOR.tools.extend(this,b,{editor:a},!0)}function b(a,b){var c=a.editable();CKEDITOR.tools.extend(this,{editor:a,editable:c,inline:c.isInline(),doc:a.document,win:a.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},\nb,!0);this.hidden={};this.visible={};this.inline||(this.frame=this.win.getFrame());this.queryViewport();var e=CKEDITOR.tools.bind(this.queryViewport,this),g=CKEDITOR.tools.bind(this.hideVisible,this),k=CKEDITOR.tools.bind(this.removeAll,this);c.attachListener(this.winTop,\"resize\",e);c.attachListener(this.winTop,\"scroll\",e);c.attachListener(this.winTop,\"resize\",g);c.attachListener(this.win,\"scroll\",g);c.attachListener(this.inline?c:this.frame,\"mouseout\",function(a){var b=a.data.$.clientX;a=a.data.$.clientY;\nthis.queryViewport();(b<=this.rect.left||b>=this.rect.right||a<=this.rect.top||a>=this.rect.bottom)&&this.hideVisible();(0>=b||b>=this.winTopPane.width||0>=a||a>=this.winTopPane.height)&&this.hideVisible()},this);c.attachListener(a,\"resize\",e);c.attachListener(a,\"mode\",k);a.on(\"destroy\",k);this.lineTpl=(new CKEDITOR.template('\\x3cdiv data-cke-lineutils-line\\x3d\"1\" class\\x3d\"cke_reset_all\" style\\x3d\"{lineStyle}\"\\x3e\\x3cspan style\\x3d\"{tipLeftStyle}\"\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3cspan style\\x3d\"{tipRightStyle}\"\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3c/div\\x3e')).output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},\nl,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},d,{left:\"0px\",\"border-left-color\":\"red\",\"border-width\":\"6px 0 6px 6px\"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},d,{right:\"0px\",\"border-right-color\":\"red\",\"border-width\":\"6px 6px 6px 0\"},this.tipCss,this.tipRightStyle,!0))})}function c(a){var b;if(b=a&&a.type==CKEDITOR.NODE_ELEMENT)b=!(k[a.getComputedStyle(\"float\")]||k[a.getAttribute(\"align\")]);return b&&\n!g[a.getComputedStyle(\"position\")]}CKEDITOR.plugins.add(\"lineutils\");CKEDITOR.LINEUTILS_BEFORE=1;CKEDITOR.LINEUTILS_AFTER=2;CKEDITOR.LINEUTILS_INSIDE=4;a.prototype={start:function(a){var b=this,c=this.editor,d=this.doc,e,g,k,l,q=CKEDITOR.tools.eventsBuffer(50,function(){c.readOnly||\"wysiwyg\"!=c.mode||(b.relations={},(g=d.$.elementFromPoint(k,l))&&g.nodeType&&(e=new CKEDITOR.dom.element(g),b.traverseSearch(e),isNaN(k+l)||b.pixelSearch(e,k,l),a&&a(b.relations,k,l)))});this.listener=this.editable.attachListener(this.target,\n\"mousemove\",function(a){k=a.data.$.clientX;l=a.data.$.clientY;q.input()});this.editable.attachListener(this.inline?this.editable:this.frame,\"mouseout\",function(){q.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var a={};a[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START;a[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END;a[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START;return function(b){var c=this.editor.createRange();c.moveToPosition(this.relations[b.uid].element,\na[b.type]);return c}}(),store:function(){function a(b,c,d){var e=b.getUniqueId();e in d?d[e].type|=c:d[e]={element:b,type:c}}return function(b,d){var e;d&CKEDITOR.LINEUTILS_AFTER&&c(e=b.getNext())&&e.isVisible()&&(a(e,CKEDITOR.LINEUTILS_BEFORE,this.relations),d^=CKEDITOR.LINEUTILS_AFTER);d&CKEDITOR.LINEUTILS_INSIDE&&c(e=b.getFirst())&&e.isVisible()&&(a(e,CKEDITOR.LINEUTILS_BEFORE,this.relations),d^=CKEDITOR.LINEUTILS_INSIDE);a(b,d,this.relations)}}(),traverseSearch:function(a){var b,d,e;do if(e=a.$[\"data-cke-expando\"],\n!(e&&e in this.relations)){if(a.equals(this.editable))break;if(c(a))for(b in this.lookups)(d=this.lookups[b](a))&&this.store(a,d)}while((!a||a.type!=CKEDITOR.NODE_ELEMENT||\"true\"!=a.getAttribute(\"contenteditable\"))&&(a=a.getParent()))},pixelSearch:function(){function a(d,e,g,h,k){for(var l=0,q;k(g);){g+=h;if(25==++l)break;if(q=this.doc.$.elementFromPoint(e,g))if(q==d)l=0;else if(b(d,q)&&(l=0,c(q=new CKEDITOR.dom.element(q))))return q}}var b=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(a,b){return a.contains(b)}:\nfunction(a,b){return!!(a.compareDocumentPosition(b)&16)};return function(b,d,e){var g=this.win.getViewPaneSize().height,k=a.call(this,b.$,d,e,-1,function(a){return 0<a});d=a.call(this,b.$,d,e,1,function(a){return a<g});if(k)for(this.traverseSearch(k);!k.getParent().equals(b);)k=k.getParent();if(d)for(this.traverseSearch(d);!d.getParent().equals(b);)d=d.getParent();for(;k||d;){k&&(k=k.getNext(c));if(!k||k.equals(d))break;this.traverseSearch(k);d&&(d=d.getPrevious(c));if(!d||d.equals(k))break;this.traverseSearch(d)}}}(),\ngreedySearch:function(){this.relations={};for(var a=this.editable.getElementsByTag(\"*\"),b=0,d,e,g;d=a.getItem(b++);)if(!d.equals(this.editable)&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasAttribute(\"contenteditable\")||!d.isReadOnly())&&c(d)&&d.isVisible())for(g in this.lookups)(e=this.lookups[g](d))&&this.store(d,e);return this.relations}};e.prototype={locate:function(){function a(b,d){var e=b.element[d===CKEDITOR.LINEUTILS_BEFORE?\"getPrevious\":\"getNext\"]();return e&&c(e)?(b.siblingRect=e.getClientRect(),\nd==CKEDITOR.LINEUTILS_BEFORE?(b.siblingRect.bottom+b.elementRect.top)/2:(b.elementRect.bottom+b.siblingRect.top)/2):d==CKEDITOR.LINEUTILS_BEFORE?b.elementRect.top:b.elementRect.bottom}return function(b){var c;this.locations={};for(var d in b)c=b[d],c.elementRect=c.element.getClientRect(),c.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(d,CKEDITOR.LINEUTILS_BEFORE,a(c,CKEDITOR.LINEUTILS_BEFORE)),c.type&CKEDITOR.LINEUTILS_AFTER&&this.store(d,CKEDITOR.LINEUTILS_AFTER,a(c,CKEDITOR.LINEUTILS_AFTER)),c.type&\nCKEDITOR.LINEUTILS_INSIDE&&this.store(d,CKEDITOR.LINEUTILS_INSIDE,(c.elementRect.top+c.elementRect.bottom)/2);return this.locations}}(),sort:function(){var a,b,c,d;return function(e,g){a=this.locations;b=[];for(var k in a)for(var l in a[k])if(c=Math.abs(e-a[k][l]),b.length){for(d=0;d<b.length;d++)if(c<b[d].dist){b.splice(d,0,{uid:+k,type:l,dist:c});break}d==b.length&&b.push({uid:+k,type:l,dist:c})}else b.push({uid:+k,type:l,dist:c});return\"undefined\"!=typeof g?b.slice(0,g):b}}(),store:function(a,\nb,c){this.locations[a]||(this.locations[a]={});this.locations[a][b]=c}};var d={display:\"block\",width:\"0px\",height:\"0px\",\"border-color\":\"transparent\",\"border-style\":\"solid\",position:\"absolute\",top:\"-6px\"},l={height:\"0px\",\"border-top\":\"1px dashed red\",position:\"absolute\",\"z-index\":9999};b.prototype={removeAll:function(){for(var a in this.hidden)this.hidden[a].remove(),delete this.hidden[a];for(a in this.visible)this.visible[a].remove(),delete this.visible[a]},hideLine:function(a){var b=a.getUniqueId();\na.hide();this.hidden[b]=a;delete this.visible[b]},showLine:function(a){var b=a.getUniqueId();a.show();this.visible[b]=a;delete this.hidden[b]},hideVisible:function(){for(var a in this.visible)this.hideLine(this.visible[a])},placeLine:function(a,b){var c,d,e;if(c=this.getStyle(a.uid,a.type)){for(e in this.visible)if(this.visible[e].getCustomData(\"hash\")!==this.hash){d=this.visible[e];break}if(!d)for(e in this.hidden)if(this.hidden[e].getCustomData(\"hash\")!==this.hash){this.showLine(d=this.hidden[e]);\nbreak}d||this.showLine(d=this.addLine());d.setCustomData(\"hash\",this.hash);this.visible[d.getUniqueId()]=d;d.setStyles(c);b&&b(d)}},getStyle:function(a,b){var c=this.relations[a],d=this.locations[a][b],e={};e.width=c.siblingRect?Math.max(c.siblingRect.width,c.elementRect.width):c.elementRect.width;e.top=this.inline?d+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+d;if(e.top-this.winTopScroll.y<this.rect.top||e.top-this.winTopScroll.y>this.rect.bottom)return!1;this.inline?\ne.left=c.elementRect.left-this.rect.relativeX:(0<c.elementRect.left?e.left=this.rect.left+c.elementRect.left:(e.width+=c.elementRect.left,e.left=this.rect.left),0<(c=e.left+e.width-(this.rect.left+this.winPane.width))&&(e.width-=c));e.left+=this.winTopScroll.x;for(var g in e)e[g]=CKEDITOR.tools.cssLength(e[g]);return e},addLine:function(){var a=CKEDITOR.dom.element.createFromHtml(this.lineTpl);a.appendTo(this.container);return a},prepare:function(a,b){this.relations=a;this.locations=b;this.hash=Math.random()},\ncleanup:function(){var a,b;for(b in this.visible)a=this.visible[b],a.getCustomData(\"hash\")!==this.hash&&this.hideLine(a)},queryViewport:function(){this.winPane=this.win.getViewPaneSize();this.winTopScroll=this.winTop.getScrollPosition();this.winTopPane=this.winTop.getViewPaneSize();this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(a){a=a.getClientRect();var b=this.container.getDocumentPosition(),c=this.container.getComputedStyle(\"position\");a.relativeX=a.relativeY=\n0;\"static\"!=c&&(a.relativeY=b.y,a.relativeX=b.x,a.top-=a.relativeY,a.bottom-=a.relativeY,a.left-=a.relativeX,a.right-=a.relativeX);return a}};var k={left:1,right:1,center:1},g={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:a,locator:e,liner:b}}(),function(){function a(a){return a.getName&&!a.hasAttribute(\"data-cke-temp\")}CKEDITOR.plugins.add(\"widgetselection\",{init:function(a){if(CKEDITOR.env.webkit){var b=CKEDITOR.plugins.widgetselection;a.on(\"contentDom\",function(a){a=a.editor;var d=a.document,\ne=a.editable();e.attachListener(d,\"keydown\",function(a){a.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout(function(){b.addFillers(e)||b.removeFillers(e)},0)},null,null,-1);a.on(\"selectionCheck\",function(a){b.removeFillers(a.editor.editable())});a.on(\"paste\",function(a){a.data.dataValue=b.cleanPasteData(a.data.dataValue)});\"selectall\"in a.plugins&&b.addSelectAllIntegration(a)})}}});CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:\"data-cke-filler-webkit\",\nfillerContent:\"\\x26nbsp;\",fillerTagName:\"div\",addFillers:function(e){var b=e.editor;if(!this.isWholeContentSelected(e)&&0<e.getChildCount()){var c=e.getFirst(a),d=e.getLast(a);c&&c.type==CKEDITOR.NODE_ELEMENT&&!c.isEditable()&&(this.startFiller=this.createFiller(),e.append(this.startFiller,1));d&&d.type==CKEDITOR.NODE_ELEMENT&&!d.isEditable()&&(this.endFiller=this.createFiller(!0),e.append(this.endFiller,0));if(this.hasFiller(e))return b=b.createRange(),b.selectNodeContents(e),b.select(),!0}return!1},\nremoveFillers:function(a){if(this.hasFiller(a)&&!this.isWholeContentSelected(a)){var b=a.findOne(this.fillerTagName+\"[\"+this.fillerAttribute+\"\\x3dstart]\"),c=a.findOne(this.fillerTagName+\"[\"+this.fillerAttribute+\"\\x3dend]\");this.startFiller&&b&&this.startFiller.equals(b)?this.removeFiller(this.startFiller,a):this.startFiller=b;this.endFiller&&c&&this.endFiller.equals(c)?this.removeFiller(this.endFiller,a):this.endFiller=c}},cleanPasteData:function(a){a&&a.length&&(a=a.replace(this.createFillerRegex(),\n\"\").replace(this.createFillerRegex(!0),\"\"));return a},isWholeContentSelected:function(a){var b=a.editor.getSelection().getRanges()[0];return!b||b&&b.collapsed?!1:(b=b.clone(),b.enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(b&&a&&b.startContainer&&b.endContainer&&0===b.startOffset&&b.endOffset===a.getChildCount()&&b.startContainer.equals(a)&&b.endContainer.equals(a)))},hasFiller:function(a){return 0<a.find(this.fillerTagName+\"[\"+this.fillerAttribute+\"]\").count()},createFiller:function(a){var b=new CKEDITOR.dom.element(this.fillerTagName);\nb.setHtml(this.fillerContent);b.setAttribute(this.fillerAttribute,a?\"end\":\"start\");b.setAttribute(\"data-cke-temp\",1);b.setStyles({display:\"block\",width:0,height:0,padding:0,border:0,margin:0,position:\"absolute\",top:0,left:\"-9999px\",opacity:0,overflow:\"hidden\"});return b},removeFiller:function(a,b){if(a){var c=b.editor,d=b.editor.getSelection().getRanges()[0].startPath(),l=c.createRange(),k,g;d.contains(a)&&(k=a.getHtml(),g=!0);d=\"start\"==a.getAttribute(this.fillerAttribute);a.remove();k&&0<k.length&&\nk!=this.fillerContent?(b.insertHtmlIntoRange(k,c.getSelection().getRanges()[0]),l.setStartAt(b.getChild(b.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),c.getSelection().selectRanges([l])):g&&(d?l.setStartAt(b.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):l.setEndAt(b.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),b.editor.getSelection().selectRanges([l]))}},createFillerRegex:function(a){var b=this.createFiller(a).getOuterHtml().replace(/style=\"[^\"]*\"/gi,'style\\x3d\"[^\"]*\"').replace(/>[^<]*</gi,\n\"\\x3e[^\\x3c]*\\x3c\");return new RegExp((a?\"\":\"^\")+b+(a?\"$\":\"\"))},addSelectAllIntegration:function(a){var b=this;a.editable().attachListener(a,\"beforeCommandExec\",function(c){var d=a.editable();\"selectAll\"==c.data.name&&d&&b.addFillers(d)},null,null,9999)}}}(),\"use strict\",function(){function a(a){this.editor=a;this.registered={};this.instances={};this.selected=[];this.widgetHoldingFocusedEditable=this.focused=null;this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}};G(this);B(this);this.on(\"checkWidgets\",\nk);this.editor.on(\"contentDomInvalidated\",this.checkWidgets,this);y(this);z(this);w(this);A(this);C(this)}function e(a,b,c,d,f){var g=a.editor;CKEDITOR.tools.extend(this,d,{editor:g,id:b,inline:\"span\"==c.getParent().getName(),element:c,data:CKEDITOR.tools.extend({},\"function\"==typeof d.defaults?d.defaults():d.defaults),dataReady:!1,inited:!1,ready:!1,edit:e.prototype.edit,focusedEditable:null,definition:d,repository:a,draggable:!1!==d.draggable,_:{downcastFn:d.downcast&&\"string\"==typeof d.downcast?\nd.downcasts[d.downcast]:d.downcast}},!0);a.fire(\"instanceCreated\",this);da(this,d);this.init&&this.init();this.inited=!0;(a=this.element.data(\"cke-widget-data\"))&&this.setData(JSON.parse(decodeURIComponent(a)));f&&this.setData(f);this.data.classes||this.setData(\"classes\",this.getClasses());this.dataReady=!0;Q(this);this.fire(\"data\",this.data);this.isInited()&&g.editable().contains(this.wrapper)&&(this.ready=!0,this.fire(\"ready\"))}function b(a,b,c){CKEDITOR.dom.element.call(this,b.$);this.editor=a;\nthis._={};b=this.filter=c.filter;CKEDITOR.dtd[this.getName()].p?(this.enterMode=b?b.getAllowedEnterMode(a.enterMode):a.enterMode,this.shiftEnterMode=b?b.getAllowedEnterMode(a.shiftEnterMode,!0):a.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function c(a,b){a.addCommand(b.name,{exec:function(a,c){function d(){a.widgets.finalizeCreation(h)}var e=a.widgets.focused;if(e&&e.name==b.name)e.edit();else if(b.insert)b.insert();else if(b.template){var e=\"function\"==typeof b.defaults?\nb.defaults():b.defaults,e=CKEDITOR.dom.element.createFromHtml(b.template.output(e)),f,g=a.widgets.wrapElement(e,b.name),h=new CKEDITOR.dom.documentFragment(g.getDocument());h.append(g);(f=a.widgets.initOn(e,b,c&&c.startupData))?(e=f.once(\"edit\",function(b){if(b.data.dialog)f.once(\"dialog\",function(b){b=b.data;var c,e;c=b.once(\"ok\",d,null,null,20);e=b.once(\"cancel\",function(b){b.data&&!1===b.data.hide||a.widgets.destroy(f,!0)});b.once(\"hide\",function(){c.removeListener();e.removeListener()})});else d()},\nnull,null,999),f.edit(),e.removeListener()):d()}},allowedContent:b.allowedContent,requiredContent:b.requiredContent,contentForms:b.contentForms,contentTransformations:b.contentTransformations})}function d(a,b){function c(a,d){var e=b.upcast.split(\",\"),f,g;for(g=0;g<e.length;g++)if(f=e[g],f===a.name)return b.upcasts[f].call(this,a,d);return!1}function d(b,c,e){var f=CKEDITOR.tools.getIndex(a._.upcasts,function(a){return a[2]>e});0>f&&(f=a._.upcasts.length);a._.upcasts.splice(f,0,[CKEDITOR.tools.bind(b,\nc),c.name,e])}var e=b.upcast,f=b.upcastPriority||10;e&&(\"string\"==typeof e?d(c,b,f):d(e,b,f))}function l(a,b){a.focused=null;if(b.isInited()){var c=b.editor.checkDirty();a.fire(\"widgetBlurred\",{widget:b});b.setFocused(!1);!c&&b.editor.resetDirty()}}function k(a){a=a.data;if(\"wysiwyg\"==this.editor.mode){var b=this.editor.editable(),c=this.instances,d,f,g,h;if(b){for(d in c)c[d].isReady()&&!b.contains(c[d].wrapper)&&this.destroy(c[d],!0);if(a&&a.initOnlyNew)c=this.initOnAll();else{var k=b.find(\".cke_widget_wrapper\"),\nc=[];d=0;for(f=k.count();d<f;d++){g=k.getItem(d);if(h=!this.getByElement(g,!0)){a:{h=x;for(var l=g;l=l.getParent();)if(h(l)){h=!0;break a}h=!1}h=!h}h&&b.contains(g)&&(g.addClass(\"cke_widget_new\"),c.push(this.initOn(g.getFirst(e.isDomWidgetElement))))}}a&&a.focusInited&&1==c.length&&c[0].focus()}}}function g(a){if(\"undefined\"!=typeof a.attributes&&a.attributes[\"data-widget\"]){var b=h(a),c=m(a),d=!1;b&&b.value&&b.value.match(/^\\s/g)&&(b.parent.attributes[\"data-cke-white-space-first\"]=1,b.value=b.value.replace(/^\\s/g,\n\"\\x26nbsp;\"),d=!0);c&&c.value&&c.value.match(/\\s$/g)&&(c.parent.attributes[\"data-cke-white-space-last\"]=1,c.value=c.value.replace(/\\s$/g,\"\\x26nbsp;\"),d=!0);d&&(a.attributes[\"data-cke-widget-white-space\"]=1)}}function h(a){return a.find(function(a){return 3===a.type},!0).shift()}function m(a){return a.find(function(a){return 3===a.type},!0).pop()}function f(a,b,c){if(!c.allowedContent&&!c.disallowedContent)return null;var d=this._.filters[a];d||(this._.filters[a]=d={});a=d[b];a||(a=c.allowedContent?\nnew CKEDITOR.filter(c.allowedContent):this.editor.filter.clone(),d[b]=a,c.disallowedContent&&a.disallow(c.disallowedContent));return a}function n(a){var b=[],c=a._.upcasts,d=a._.upcastCallbacks;return{toBeWrapped:b,iterator:function(a){var f,g,h,k,l;if(\"data-cke-widget-wrapper\"in a.attributes)return(a=a.getFirst(e.isParserWidgetElement))&&b.push([a]),!1;if(\"data-widget\"in a.attributes)return b.push([a]),!1;if(l=c.length){if(a.attributes[\"data-cke-widget-upcasted\"])return!1;k=0;for(f=d.length;k<f;++k)if(!1===\nd[k](a))return;for(k=0;k<l;++k)if(f=c[k],h={},g=f[0](a,h))return g instanceof CKEDITOR.htmlParser.element&&(a=g),a.attributes[\"data-cke-widget-data\"]=encodeURIComponent(JSON.stringify(h)),a.attributes[\"data-cke-widget-upcasted\"]=1,b.push([a,f[1]]),!1}}}}function p(a,b){return{tabindex:-1,contenteditable:\"false\",\"data-cke-widget-wrapper\":1,\"data-cke-filter\":\"off\",\"class\":\"cke_widget_wrapper cke_widget_new cke_widget_\"+(a?\"inline\":\"block\")+(b?\" cke_widget_\"+b:\"\")}}function r(a,b,c){if(a.type==CKEDITOR.NODE_ELEMENT){var d=\nCKEDITOR.dtd[a.name];if(d&&!d[c.name]){var d=a.split(b),e=a.parent;b=d.getIndex();a.children.length||(--b,a.remove());d.children.length||d.remove();return r(e,b,c)}}a.add(c,b)}function v(a,b){return\"boolean\"==typeof a.inline?a.inline:!!CKEDITOR.dtd.$inline[b]}function x(a){return a.hasAttribute(\"data-cke-temp\")}function q(a,b,c,d){var e=a.editor;e.fire(\"lockSnapshot\");c?(d=c.data(\"cke-widget-editable\"),d=b.editables[d],a.widgetHoldingFocusedEditable=b,b.focusedEditable=d,c.addClass(\"cke_widget_editable_focused\"),\nd.filter&&e.setActiveFilter(d.filter),e.setActiveEnterMode(d.enterMode,d.shiftEnterMode)):(d||b.focusedEditable.removeClass(\"cke_widget_editable_focused\"),b.focusedEditable=null,a.widgetHoldingFocusedEditable=null,e.setActiveFilter(null),e.setActiveEnterMode(null,null));e.fire(\"unlockSnapshot\")}function t(a){a.contextMenu&&a.contextMenu.addListener(function(b){if(b=a.widgets.getByElement(b,!0))return b.fire(\"contextMenu\",{})})}function u(a,b){return CKEDITOR.tools.trim(b)}function A(a){var b=a.editor,\nc=CKEDITOR.plugins.lineutils;b.on(\"dragstart\",function(c){var d=c.data.target;e.isDomDragHandler(d)&&(d=a.getByElement(d),c.data.dataTransfer.setData(\"cke/widget-id\",d.id),b.focus(),d.focus())});b.on(\"drop\",function(c){var d=c.data.dataTransfer,e=d.getData(\"cke/widget-id\"),f=d.getTransferType(b),d=b.createRange();\"\"!==e&&f===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?c.cancel():\"\"!==e&&f==CKEDITOR.DATA_TRANSFER_INTERNAL&&(e=a.instances[e])&&(d.setStartBefore(e.wrapper),d.setEndAfter(e.wrapper),c.data.dragRange=\nd,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,c.data.dataTransfer.setData(\"text/html\",b.editable().getHtmlFromRange(d).getHtml()),b.widgets.destroy(e,!0))});b.on(\"contentDom\",function(){var d=b.editable();CKEDITOR.tools.extend(a,{finder:new c.finder(b,{lookups:{\"default\":function(b){if(!b.is(CKEDITOR.dtd.$listItem)&&b.is(CKEDITOR.dtd.$block)&&!e.isDomNestedEditable(b)&&!a._.draggedWidget.wrapper.contains(b)){var c=e.getNestedEditable(d,\nb);if(c){b=a._.draggedWidget;if(a.getByElement(c)==b)return;c=CKEDITOR.filter.instances[c.data(\"cke-filter\")];b=b.requiredContent;if(c&&b&&!c.check(b))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new c.locator(b),liner:new c.liner(b,{lineStyle:{cursor:\"move !important\",\"border-top-color\":\"#666\"},tipLeftStyle:{\"border-left-color\":\"#666\"},tipRightStyle:{\"border-right-color\":\"#666\"}})},!0)})}function z(a){var b=a.editor;b.on(\"contentDom\",function(){var c=b.editable(),\nd=c.isInline()?c:b.document,f,g;c.attachListener(d,\"mousedown\",function(c){var d=c.data.getTarget();f=d instanceof CKEDITOR.dom.element?a.getByElement(d):null;g=0;f&&(f.inline&&d.type==CKEDITOR.NODE_ELEMENT&&d.hasAttribute(\"data-cke-widget-drag-handler\")?(g=1,a.focused!=f&&b.getSelection().removeAllRanges()):e.getNestedEditable(f.wrapper,d)?f=null:(c.data.preventDefault(),CKEDITOR.env.ie||f.focus()))});c.attachListener(d,\"mouseup\",function(){g&&f&&f.wrapper&&(g=0,f.focus())});CKEDITOR.env.ie&&c.attachListener(d,\n\"mouseup\",function(){setTimeout(function(){f&&f.wrapper&&c.contains(f.wrapper)&&(f.focus(),f=null)})})});b.on(\"doubleclick\",function(b){var c=a.getByElement(b.data.element);if(c&&!e.getNestedEditable(c.wrapper,b.data.element))return c.fire(\"doubleclick\",{element:b.data.element})},null,null,1)}function w(a){a.editor.on(\"key\",function(b){var c=a.focused,d=a.widgetHoldingFocusedEditable,e;c?e=c.fire(\"key\",{keyCode:b.data.keyCode}):d&&(c=b.data.keyCode,b=d.focusedEditable,c==CKEDITOR.CTRL+65?(c=b.getBogus(),\nd=d.editor.createRange(),d.selectNodeContents(b),c&&d.setEndAt(c,CKEDITOR.POSITION_BEFORE_START),d.select(),e=!1):8==c||46==c?(e=d.editor.getSelection().getRanges(),d=e[0],e=!(1==e.length&&d.collapsed&&d.checkBoundaryOfElement(b,CKEDITOR[8==c?\"START\":\"END\"]))):e=void 0);return e},null,null,1)}function C(a){function b(c){a.focused&&H(a.focused,\"cut\"==c.name)}var c=a.editor;c.on(\"contentDom\",function(){var a=c.editable();a.attachListener(a,\"copy\",b);a.attachListener(a,\"cut\",b)})}function y(a){var b=\na.editor;b.on(\"selectionCheck\",function(){a.fire(\"checkSelection\")});a.on(\"checkSelection\",a.checkSelection,a);b.on(\"selectionChange\",function(c){var d=(c=e.getNestedEditable(b.editable(),c.data.selection.getStartElement()))&&a.getByElement(c),f=a.widgetHoldingFocusedEditable;f?f===d&&f.focusedEditable.equals(c)||(q(a,f,null),d&&c&&q(a,d,c)):d&&c&&q(a,d,c)});b.on(\"dataReady\",function(){E(a).commit()});b.on(\"blur\",function(){var b;(b=a.focused)&&l(a,b);(b=a.widgetHoldingFocusedEditable)&&q(a,b,null)})}\nfunction B(a){var b=a.editor,c={};b.on(\"toDataFormat\",function(b){var d=CKEDITOR.tools.getNextNumber(),f=[];b.data.downcastingSessionId=d;c[d]=f;b.data.dataValue.forEach(function(b){var c=b.attributes,d;if(\"data-cke-widget-white-space\"in c){d=h(b);var g=m(b);d.parent.attributes[\"data-cke-white-space-first\"]&&(d.value=d.value.replace(/^&nbsp;/g,\" \"));g.parent.attributes[\"data-cke-white-space-last\"]&&(g.value=g.value.replace(/&nbsp;$/g,\" \"))}if(\"data-cke-widget-id\"in c){if(c=a.instances[c[\"data-cke-widget-id\"]])d=\nb.getFirst(e.isParserWidgetElement),f.push({wrapper:b,element:d,widget:c,editables:{}}),\"1\"!=d.attributes[\"data-cke-widget-keep-attr\"]&&delete d.attributes[\"data-widget\"]}else if(\"data-cke-widget-editable\"in c)return f[f.length-1].editables[c[\"data-cke-widget-editable\"]]=b,!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8);b.on(\"toDataFormat\",function(a){if(a.data.downcastingSessionId){a=c[a.data.downcastingSessionId];for(var b,d,e,f,g,h;b=a.shift();){d=b.widget;e=b.element;f=d._.downcastFn&&d._.downcastFn.call(d,\ne);for(h in b.editables)g=b.editables[h],delete g.attributes.contenteditable,g.setHtml(d.editables[h].getData());f||(f=e);b.wrapper.replaceWith(f)}}},null,null,13);b.on(\"contentDomUnload\",function(){a.destroyAll(!0)})}function G(a){var b=a.editor,c,d;b.on(\"toHtml\",function(b){var d=n(a),f;for(b.data.dataValue.forEach(d.iterator,CKEDITOR.NODE_ELEMENT,!0);f=d.toBeWrapped.pop();){var g=f[0],h=g.parent;h.type==CKEDITOR.NODE_ELEMENT&&h.attributes[\"data-cke-widget-wrapper\"]&&h.replaceWith(g);a.wrapElement(f[0],\nf[1])}c=b.data.protectedWhitespaces?3==b.data.dataValue.children.length&&e.isParserWidgetWrapper(b.data.dataValue.children[1]):1==b.data.dataValue.children.length&&e.isParserWidgetWrapper(b.data.dataValue.children[0])},null,null,8);b.on(\"dataReady\",function(){if(d)for(var c=b.editable().find(\".cke_widget_wrapper\"),f,g,h=0,k=c.count();h<k;++h)f=c.getItem(h),g=f.getFirst(e.isDomWidgetElement),g.type==CKEDITOR.NODE_ELEMENT&&g.data(\"widget\")?(g.replace(f),a.wrapElement(g)):f.remove();d=0;a.destroyAll(!0);\na.initOnAll()});b.on(\"loadSnapshot\",function(b){/data-cke-widget/.test(b.data)&&(d=1);a.destroyAll(!0)},null,null,9);b.on(\"paste\",function(a){a=a.data;a.dataValue=a.dataValue.replace(U,u);a.range&&(a=e.getNestedEditable(b.editable(),a.range.startContainer))&&(a=CKEDITOR.filter.instances[a.data(\"cke-filter\")])&&b.setActiveFilter(a)});b.on(\"afterInsertHtml\",function(d){d.data.intoRange?a.checkWidgets({initOnlyNew:!0}):(b.fire(\"lockSnapshot\"),a.checkWidgets({initOnlyNew:!0,focusInited:c}),b.fire(\"unlockSnapshot\"))})}\nfunction E(a){var b=a.selected,c=[],d=b.slice(0),e=null;return{select:function(a){0>CKEDITOR.tools.indexOf(b,a)&&c.push(a);a=CKEDITOR.tools.indexOf(d,a);0<=a&&d.splice(a,1);return this},focus:function(a){e=a;return this},commit:function(){var f=a.focused!==e,g,h;a.editor.fire(\"lockSnapshot\");for(f&&(g=a.focused)&&l(a,g);g=d.pop();)b.splice(CKEDITOR.tools.indexOf(b,g),1),g.isInited()&&(h=g.editor.checkDirty(),g.setSelected(!1),!h&&g.editor.resetDirty());f&&e&&(h=a.editor.checkDirty(),a.focused=e,a.fire(\"widgetFocused\",\n{widget:e}),e.setFocused(!0),!h&&a.editor.resetDirty());for(;g=c.pop();)b.push(g),g.setSelected(!0);a.editor.fire(\"unlockSnapshot\")}}}function F(a,b,c){var d=0;b=K(b);var e=a.data.classes||{},f;if(b){for(e=CKEDITOR.tools.clone(e);f=b.pop();)c?e[f]||(d=e[f]=1):e[f]&&(delete e[f],d=1);d&&a.setData(\"classes\",e)}}function I(a){a.cancel()}function H(a,b){var c=a.editor,d=c.document,e=CKEDITOR.env.edge&&16<=CKEDITOR.env.version;if(!d.getById(\"cke_copybin\")){var f=!c.blockless&&!CKEDITOR.env.ie||e?\"div\":\n\"span\",e=d.createElement(f),g=d.createElement(f),f=CKEDITOR.env.ie&&9>CKEDITOR.env.version;g.setAttributes({id:\"cke_copybin\",\"data-cke-temp\":\"1\"});e.setStyles({position:\"absolute\",width:\"1px\",height:\"1px\",overflow:\"hidden\"});e.setStyle(\"ltr\"==c.config.contentsLangDirection?\"left\":\"right\",\"-5000px\");var h=c.createRange();h.setStartBefore(a.wrapper);h.setEndAfter(a.wrapper);e.setHtml('\\x3cspan data-cke-copybin-start\\x3d\"1\"\\x3e​\\x3c/span\\x3e'+c.editable().getHtmlFromRange(h).getHtml()+'\\x3cspan data-cke-copybin-end\\x3d\"1\"\\x3e​\\x3c/span\\x3e');\nc.fire(\"saveSnapshot\");c.fire(\"lockSnapshot\");g.append(e);c.editable().append(g);var k=c.on(\"selectionChange\",I,null,null,0),l=a.repository.on(\"checkSelection\",I,null,null,0);if(f)var m=d.getDocumentElement().$,n=m.scrollTop;h=c.createRange();h.selectNodeContents(e);h.select();f&&(m.scrollTop=n);setTimeout(function(){b||a.focus();g.remove();k.removeListener();l.removeListener();c.fire(\"unlockSnapshot\");b&&!c.readOnly&&(a.repository.del(a),c.fire(\"saveSnapshot\"))},100)}}function K(a){return(a=(a=a.getDefinition().attributes)&&\na[\"class\"])?a.split(/\\s+/):null}function J(){var a=CKEDITOR.document.getActive(),b=this.editor,c=b.editable();(c.isInline()?c:b.document.getWindow().getFrame()).equals(a)&&b.focusManager.focus(c)}function D(){CKEDITOR.env.gecko&&this.editor.unlockSelection();CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function R(a){var b=null;a.on(\"data\",function(){var a=this.data.classes,c;if(b!=a){for(c in b)a&&a[c]||this.removeClass(c);for(c in a)this.addClass(c);\nb=a}})}function N(a){a.on(\"data\",function(){if(a.wrapper){var b=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());a.wrapper.setAttribute(\"role\",\"region\");a.wrapper.setAttribute(\"aria-label\",b)}},null,null,9999)}function S(a){if(a.draggable){var b=a.editor,c=a.wrapper.getLast(e.isDomDragHandlerContainer),d;c?d=c.findOne(\"img\"):(c=new CKEDITOR.dom.element(\"span\",b.document),c.setAttributes({\"class\":\"cke_reset cke_widget_drag_handler_container\",\nstyle:\"background:rgba(220,220,220,0.5);background-image:url(\"+b.plugins.widget.path+\"images/handle.png)\"}),d=new CKEDITOR.dom.element(\"img\",b.document),d.setAttributes({\"class\":\"cke_reset cke_widget_drag_handler\",\"data-cke-widget-drag-handler\":\"1\",src:CKEDITOR.tools.transparentImageData,width:15,title:b.lang.widget.move,height:15,role:\"presentation\"}),a.inline&&d.setAttribute(\"draggable\",\"true\"),c.append(d),a.wrapper.append(c));a.wrapper.on(\"dragover\",function(a){a.data.preventDefault()});a.wrapper.on(\"mouseenter\",\na.updateDragHandlerPosition,a);setTimeout(function(){a.on(\"data\",a.updateDragHandlerPosition,a)},50);if(!a.inline&&(d.on(\"mousedown\",L,a),CKEDITOR.env.ie&&9>CKEDITOR.env.version))d.on(\"dragstart\",function(a){a.data.preventDefault(!0)});a.dragHandlerContainer=c}}function L(a){function b(){var c;for(p.reset();c=h.pop();)c.removeListener();var d=k;c=a.sender;var e=this.repository.finder,f=this.repository.liner,g=this.editor,l=this.editor.editable();CKEDITOR.tools.isEmpty(f.visible)||(d=e.getRange(d[0]),\nthis.focus(),g.fire(\"drop\",{dropRange:d,target:d.startContainer}));l.removeClass(\"cke_widget_dragging\");f.hideVisible();g.fire(\"dragend\",{target:c})}if(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT){var c=this.repository.finder,d=this.repository.locator,e=this.repository.liner,f=this.editor,g=f.editable(),h=[],k=[],l,m;this.repository._.draggedWidget=this;var n=c.greedySearch(),p=CKEDITOR.tools.eventsBuffer(50,function(){l=d.locate(n);k=d.sort(m,1);k.length&&(e.prepare(n,l),e.placeLine(k[0]),\ne.cleanup())});g.addClass(\"cke_widget_dragging\");h.push(g.on(\"mousemove\",function(a){m=a.data.$.clientY;p.input()}));f.fire(\"dragstart\",{target:a.sender});h.push(f.document.once(\"mouseup\",b,this));g.isInline()||h.push(CKEDITOR.document.once(\"mouseup\",b,this))}}function V(a){var b,c,d=a.editables;a.editables={};if(a.editables)for(b in d)c=d[b],a.initEditable(b,\"string\"==typeof c?{selector:c}:c)}function Z(a){if(a.mask){var b=a.wrapper.findOne(\".cke_widget_mask\");b||(b=new CKEDITOR.dom.element(\"img\",\na.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,\"class\":\"cke_reset cke_widget_mask\"}),a.wrapper.append(b));a.mask=b}}function X(a){if(a.parts){var b={},c,d;for(d in a.parts)c=a.wrapper.findOne(a.parts[d]),b[d]=c;a.parts=b}}function da(a,b){P(a);X(a);V(a);Z(a);S(a);R(a);N(a);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)a.wrapper.on(\"dragstart\",function(b){var c=b.data.getTarget();e.getNestedEditable(a,c)||a.inline&&e.isDomDragHandler(c)||b.data.preventDefault()});a.wrapper.removeClass(\"cke_widget_new\");\na.element.addClass(\"cke_widget_element\");a.on(\"key\",function(b){b=b.data.keyCode;if(13==b)a.edit();else{if(b==CKEDITOR.CTRL+67||b==CKEDITOR.CTRL+88){H(a,b==CKEDITOR.CTRL+88);return}if(b in T||CKEDITOR.CTRL&b||CKEDITOR.ALT&b)return}return!1},null,null,999);a.on(\"doubleclick\",function(b){a.edit()&&b.cancel()});if(b.data)a.on(\"data\",b.data);if(b.edit)a.on(\"edit\",b.edit)}function P(a){(a.wrapper=a.element.getParent()).setAttribute(\"data-cke-widget-id\",a.id)}function Q(a){a.element.data(\"cke-widget-data\",\nencodeURIComponent(JSON.stringify(a.data)))}function M(){function a(){}function b(a,c,d){return d&&this.checkElement(a)?(a=d.widgets.getByElement(a,!0))&&a.checkStyleActive(this):!1}var c={};CKEDITOR.style.addCustomHandler({type:\"widget\",setup:function(a){this.widget=a.widget;if(this.group=\"string\"==typeof a.group?[a.group]:a.group){a=this.widget;var b;c[a]||(c[a]={});for(var d=0,e=this.group.length;d<e;d++)b=this.group[d],c[a][b]||(c[a][b]=[]),c[a][b].push(this)}},apply:function(a){var b;a instanceof\nCKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&(b=a.widgets.focused,this.group&&this.removeStylesFromSameGroup(a),b.applyStyle(this))},remove:function(a){a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&a.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(a){var b,d,e=!1;if(!(a instanceof CKEDITOR.editor))return!1;d=a.elementPath();if(this.checkApplicable(d,a))for(var f=0,g=this.group.length;f<g;f++){b=c[this.widget][this.group[f]];for(var h=0;h<\nb.length;h++)b[h]!==this&&b[h].checkActive(d,a)&&(a.widgets.focused.removeStyle(b[h]),e=!0)}return e},checkActive:function(a,b){return this.checkElementMatch(a.lastElement,0,b)},checkApplicable:function(a,b){return b instanceof CKEDITOR.editor?this.checkElement(a.lastElement):!1},checkElementMatch:b,checkElementRemovable:b,checkElement:function(a){return e.isDomWidgetWrapper(a)?(a=a.getFirst(e.isDomWidgetElement))&&a.data(\"widget\")==this.widget:!1},buildPreview:function(a){return a||this._.definition.name},\ntoAllowedContentRules:function(a){if(!a)return null;a=a.widgets.registered[this.widget];var b,c={};if(!a)return null;if(a.styleableElements){b=this.getClassesArray();if(!b)return null;c[a.styleableElements]={classes:b,propertiesOnly:!0};return c}return a.styleToAllowedContentRules?a.styleToAllowedContentRules(this):null},getClassesArray:function(){var a=this._.definition.attributes&&this._.definition.attributes[\"class\"];return a?CKEDITOR.tools.trim(a).split(/\\s+/):null},applyToRange:a,removeFromRange:a,\napplyToObject:a})}CKEDITOR.plugins.add(\"widget\",{requires:\"lineutils,clipboard,widgetselection\",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss(\".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover\\x3e.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused\\x3e.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:none;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover\\x3e.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}\"),\nM())},beforeInit:function(b){void 0!==CKEDITOR.document.$.querySelectorAll&&(b.widgets=new a(b))},afterInit:function(a){if(void 0!==CKEDITOR.document.$.querySelectorAll){var b=a.widgets.registered,c,d,e;for(d in b)c=b[d],(e=c.button)&&a.ui.addButton&&a.ui.addButton(CKEDITOR.tools.capitalize(c.name,!0),{label:e,command:c.name,toolbar:\"insert,10\"});t(a)}}});a.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(a,b){b=CKEDITOR.tools.prototypedCopy(b);b.name=a;b._=b._||{};this.editor.fire(\"widgetDefinition\",\nb);b.template&&(b.template=new CKEDITOR.template(b.template));c(this.editor,b);d(this,b);return this.registered[a]=b},addUpcastCallback:function(a){this._.upcastCallbacks.push(a)},checkSelection:function(){var a=this.editor.getSelection(),b=a.getSelectedElement(),c=E(this),d;if(b&&(d=this.getByElement(b,!0)))return c.focus(d).select(d).commit();a=a.getRanges()[0];if(!a||a.collapsed)return c.commit();a=new CKEDITOR.dom.walker(a);for(a.evaluator=e.isDomWidgetWrapper;b=a.next();)c.select(this.getByElement(b));\nc.commit()},checkWidgets:function(a){this.fire(\"checkWidgets\",CKEDITOR.tools.copy(a||{}))},del:function(a){if(this.focused===a){var b=a.editor,c=b.createRange(),d;(d=c.moveToClosestEditablePosition(a.wrapper,!0))||(d=c.moveToClosestEditablePosition(a.wrapper,!1));d&&b.getSelection().selectRanges([c])}a.wrapper.remove();this.destroy(a,!0)},destroy:function(a,b){this.widgetHoldingFocusedEditable===a&&q(this,a,null,b);a.destroy(b);delete this.instances[a.id];this.fire(\"instanceDestroyed\",a)},destroyAll:function(a,\nb){var c,d,e=this.instances;if(b&&!a){d=b.find(\".cke_widget_wrapper\");for(var e=d.count(),f=0;f<e;++f)(c=this.getByElement(d.getItem(f),!0))&&this.destroy(c)}else for(d in e)c=e[d],this.destroy(c,a)},finalizeCreation:function(a){(a=a.getFirst())&&e.isDomWidgetWrapper(a)&&(this.editor.insertElement(a),a=this.getByElement(a),a.ready=!0,a.fire(\"ready\"),a.focus())},getByElement:function(){function a(c){return c.is(b)&&c.data(\"cke-widget-id\")}var b={div:1,span:1};return function(b,c){if(!b)return null;\nvar d=a(b);if(!c&&!d){var e=this.editor.editable();do b=b.getParent();while(b&&!b.equals(e)&&!(d=a(b)))}return this.instances[d]||null}}(),initOn:function(a,b,c){b?\"string\"==typeof b&&(b=this.registered[b]):b=this.registered[a.data(\"widget\")];if(!b)return null;var d=this.wrapElement(a,b.name);return d?d.hasClass(\"cke_widget_new\")?(a=new e(this,this._.nextId++,a,b,c),a.isInited()?this.instances[a.id]=a:null):this.getByElement(a):null},initOnAll:function(a){a=(a||this.editor.editable()).find(\".cke_widget_new\");\nfor(var b=[],c,d=a.count();d--;)(c=this.initOn(a.getItem(d).getFirst(e.isDomWidgetElement)))&&b.push(c);return b},onWidget:function(a){var b=Array.prototype.slice.call(arguments);b.shift();for(var c in this.instances){var d=this.instances[c];d.name==a&&d.on.apply(d,b)}this.on(\"instanceCreated\",function(c){c=c.data;c.name==a&&c.on.apply(c,b)})},parseElementClasses:function(a){if(!a)return null;a=CKEDITOR.tools.trim(a).split(/\\s+/);for(var b,c={},d=0;b=a.pop();)-1==b.indexOf(\"cke_\")&&(c[b]=d=1);return d?\nc:null},wrapElement:function(a,b){var c=null,d,e;if(a instanceof CKEDITOR.dom.element){b=b||a.data(\"widget\");d=this.registered[b];if(!d)return null;if((c=a.getParent())&&c.type==CKEDITOR.NODE_ELEMENT&&c.data(\"cke-widget-wrapper\"))return c;a.hasAttribute(\"data-cke-widget-keep-attr\")||a.data(\"cke-widget-keep-attr\",a.data(\"widget\")?1:0);a.data(\"widget\",b);(e=v(d,a.getName()))&&g(a);c=new CKEDITOR.dom.element(e?\"span\":\"div\");c.setAttributes(p(e,b));c.data(\"cke-display-name\",d.pathName?d.pathName:a.getName());\na.getParent(!0)&&c.replace(a);a.appendTo(c)}else if(a instanceof CKEDITOR.htmlParser.element){b=b||a.attributes[\"data-widget\"];d=this.registered[b];if(!d)return null;if((c=a.parent)&&c.type==CKEDITOR.NODE_ELEMENT&&c.attributes[\"data-cke-widget-wrapper\"])return c;\"data-cke-widget-keep-attr\"in a.attributes||(a.attributes[\"data-cke-widget-keep-attr\"]=a.attributes[\"data-widget\"]?1:0);b&&(a.attributes[\"data-widget\"]=b);(e=v(d,a.name))&&g(a);c=new CKEDITOR.htmlParser.element(e?\"span\":\"div\",p(e,b));c.attributes[\"data-cke-display-name\"]=\nd.pathName?d.pathName:a.name;d=a.parent;var f;d&&(f=a.getIndex(),a.remove());c.add(a);d&&r(d,f,c)}return c},_tests_createEditableFilter:f};CKEDITOR.event.implementOn(a.prototype);e.prototype={addClass:function(a){this.element.addClass(a);this.wrapper.addClass(e.WRAPPER_CLASS_PREFIX+a)},applyStyle:function(a){F(this,a,1)},checkStyleActive:function(a){a=K(a);var b;if(!a)return!1;for(;b=a.pop();)if(!this.hasClass(b))return!1;return!0},destroy:function(a){this.fire(\"destroy\");if(this.editables)for(var b in this.editables)this.destroyEditable(b,\na);a||(\"0\"==this.element.data(\"cke-widget-keep-attr\")&&this.element.removeAttribute(\"data-widget\"),this.element.removeAttributes([\"data-cke-widget-data\",\"data-cke-widget-keep-attr\"]),this.element.removeClass(\"cke_widget_element\"),this.element.replace(this.wrapper));this.wrapper=null},destroyEditable:function(a,b){var c=this.editables[a];c.removeListener(\"focus\",D);c.removeListener(\"blur\",J);this.editor.focusManager.remove(c);b||(this.repository.destroyAll(!1,c),c.removeClass(\"cke_widget_editable\"),\nc.removeClass(\"cke_widget_editable_focused\"),c.removeAttributes([\"contenteditable\",\"data-cke-widget-editable\",\"data-cke-enter-mode\"]));delete this.editables[a]},edit:function(){var a={dialog:this.dialog},b=this;if(!1===this.fire(\"edit\",a)||!a.dialog)return!1;this.editor.openDialog(a.dialog,function(a){var c,d;!1!==b.fire(\"dialog\",a)&&(c=a.on(\"show\",function(){a.setupContent(b)}),d=a.on(\"ok\",function(){var c,d=b.on(\"data\",function(a){c=1;a.cancel()},null,null,0);b.editor.fire(\"saveSnapshot\");a.commitContent(b);\nd.removeListener();c&&(b.fire(\"data\",b.data),b.editor.fire(\"saveSnapshot\"))}),a.once(\"hide\",function(){c.removeListener();d.removeListener()}))});return!0},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute(\"class\"))},hasClass:function(a){return this.element.hasClass(a)},initEditable:function(a,c){var d=this._findOneNotNested(c.selector);return d&&d.is(CKEDITOR.dtd.$editable)?(d=new b(this.editor,d,{filter:f.call(this.repository,this.name,a,c)}),this.editables[a]=\nd,d.setAttributes({contenteditable:\"true\",\"data-cke-widget-editable\":a,\"data-cke-enter-mode\":d.enterMode}),d.filter&&d.data(\"cke-filter\",d.filter.id),d.addClass(\"cke_widget_editable\"),d.removeClass(\"cke_widget_editable_focused\"),c.pathName&&d.data(\"cke-display-name\",c.pathName),this.editor.focusManager.add(d),d.on(\"focus\",D,this),CKEDITOR.env.ie&&d.on(\"blur\",J,this),d._.initialSetData=!0,d.setData(d.getHtml()),!0):!1},_findOneNotNested:function(a){a=this.wrapper.find(a);for(var b,c,d=0;d<a.count();d++)if(b=\na.getItem(d),c=b.getAscendant(e.isDomWidgetWrapper),this.wrapper.equals(c))return b;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var a=this.editor.getSelection();if(a){var b=this.editor.checkDirty();a.fake(this.wrapper);!b&&this.editor.resetDirty()}this.editor.focus()},removeClass:function(a){this.element.removeClass(a);this.wrapper.removeClass(e.WRAPPER_CLASS_PREFIX+a)},removeStyle:function(a){F(this,\na,0)},setData:function(a,b){var c=this.data,d=0;if(\"string\"==typeof a)c[a]!==b&&(c[a]=b,d=1);else{var e=a;for(a in e)c[a]!==e[a]&&(d=1,c[a]=e[a])}d&&this.dataReady&&(Q(this),this.fire(\"data\",c));return this},setFocused:function(a){this.wrapper[a?\"addClass\":\"removeClass\"](\"cke_widget_focused\");this.fire(a?\"focus\":\"blur\");return this},setSelected:function(a){this.wrapper[a?\"addClass\":\"removeClass\"](\"cke_widget_selected\");this.fire(a?\"select\":\"deselect\");return this},updateDragHandlerPosition:function(){var a=\nthis.editor,b=this.element.$,c=this._.dragHandlerOffset,b={x:b.offsetLeft,y:b.offsetTop-15};c&&b.x==c.x&&b.y==c.y||(c=a.checkDirty(),a.fire(\"lockSnapshot\"),this.dragHandlerContainer.setStyles({top:b.y+\"px\",left:b.x+\"px\",display:\"block\"}),a.fire(\"unlockSnapshot\"),!c&&a.resetDirty(),this._.dragHandlerOffset=b)}};CKEDITOR.event.implementOn(e.prototype);e.getNestedEditable=function(a,b){return!b||b.equals(a)?null:e.isDomNestedEditable(b)?b:e.getNestedEditable(a,b.getParent())};e.isDomDragHandler=function(a){return a.type==\nCKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"data-cke-widget-drag-handler\")};e.isDomDragHandlerContainer=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_widget_drag_handler_container\")};e.isDomNestedEditable=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"data-cke-widget-editable\")};e.isDomWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"data-widget\")};e.isDomWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"data-cke-widget-wrapper\")};\ne.isDomWidget=function(a){return a?this.isDomWidgetWrapper(a)||this.isDomWidgetElement(a):!1};e.isParserWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes[\"data-widget\"]};e.isParserWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes[\"data-cke-widget-wrapper\"]};e.WRAPPER_CLASS_PREFIX=\"cke_widget_wrapper_\";b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(a){this._.initialSetData||\nthis.editor.widgets.destroyAll(!1,this);this._.initialSetData=!1;a=this.editor.dataProcessor.toHtml(a,{context:this.getName(),filter:this.filter,enterMode:this.enterMode});this.setHtml(a);this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var U=/^(?:<(?:div|span)(?: data-cke-temp=\"1\")?(?: id=\"cke_copybin\")?(?: data-cke-temp=\"1\")?>)?(?:<(?:div|span)(?: style=\"[^\"]+\")?>)?<span [^>]*data-cke-copybin-start=\"1\"[^>]*>.?<\\/span>([\\s\\S]+)<span [^>]*data-cke-copybin-end=\"1\"[^>]*>.?<\\/span>(?:<\\/(?:div|span)>)?(?:<\\/(?:div|span)>)?$/i,\nT={37:1,38:1,39:1,40:1,8:1,46:1};CKEDITOR.plugins.widget=e;e.repository=a;e.nestedEditable=b}(),function(){function a(a,c,d){this.editor=a;this.notification=null;this._message=new CKEDITOR.template(c);this._singularMessage=d?new CKEDITOR.template(d):null;this._tasks=[];this._doneTasks=this._doneWeights=this._totalWeights=0}function e(a){this._weight=a||1;this._doneWeight=0;this._isCanceled=!1}CKEDITOR.plugins.add(\"notificationaggregator\",{requires:\"notification\"});a.prototype={createTask:function(a){a=\na||{};var c=!this.notification,d;c&&(this.notification=this._createNotification());d=this._addTask(a);d.on(\"updated\",this._onTaskUpdate,this);d.on(\"done\",this._onTaskDone,this);d.on(\"canceled\",function(){this._removeTask(d)},this);this.update();c&&this.notification.show();return d},update:function(){this._updateNotification();this.isFinished()&&this.fire(\"finished\")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===\nthis.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},_getNotificationMessage:function(){var a=this.getTaskCount(),c={current:this.getDoneTaskCount(),max:a,percentage:Math.round(100*this.getPercentage())};return(1==a&&this._singularMessage?this._singularMessage:this._message).output(c)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,\n{type:\"progress\"})},_addTask:function(a){a=new e(a.weight);this._tasks.push(a);this._totalWeights+=a._weight;return a},_removeTask:function(a){var c=CKEDITOR.tools.indexOf(this._tasks,a);-1!==c&&(a._doneWeight&&(this._doneWeights-=a._doneWeight),this._totalWeights-=a._weight,this._tasks.splice(c,1),this.update())},_onTaskUpdate:function(a){this._doneWeights+=a.data;this.update()},_onTaskDone:function(){this._doneTasks+=1;this.update()}};CKEDITOR.event.implementOn(a.prototype);e.prototype={done:function(){this.update(this._weight)},\nupdate:function(a){if(!this.isDone()&&!this.isCanceled()){a=Math.min(this._weight,a);var c=a-this._doneWeight;this._doneWeight=a;this.fire(\"updated\",c);this.isDone()&&this.fire(\"done\")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire(\"canceled\"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}};CKEDITOR.event.implementOn(e.prototype);CKEDITOR.plugins.notificationAggregator=a;CKEDITOR.plugins.notificationAggregator.task=\ne}(),\"use strict\",function(){CKEDITOR.plugins.add(\"uploadwidget\",{requires:\"widget,clipboard,filetools,notificationaggregator\",init:function(a){a.filter.allow(\"*[!data-widget,!data-cke-upload-id]\")}});CKEDITOR.fileTools||(CKEDITOR.fileTools={});CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(a,e,b){var c=CKEDITOR.fileTools,d=a.uploadRepository,l=b.supportedTypes?10:20;if(b.fileToElement)a.on(\"paste\",function(b){b=b.data;var g=a.widgets.registered[e],h=b.dataTransfer,l=h.getFilesCount(),\nf=g.loadMethod||\"loadAndUpload\",n,p;if(!b.dataValue&&l)for(p=0;p<l;p++)if(n=h.getFile(p),!g.supportedTypes||c.isTypeSupported(n,g.supportedTypes)){var r=g.fileToElement(n);n=d.create(n,void 0,g.loaderType);r&&(n[f](g.uploadUrl,g.additionalRequestParameters),CKEDITOR.fileTools.markElement(r,e,n.id),\"loadAndUpload\"!=f&&\"upload\"!=f||g.skipNotifications||CKEDITOR.fileTools.bindNotifications(a,n),b.dataValue+=r.getOuterHtml())}},null,null,l);CKEDITOR.tools.extend(b,{downcast:function(){return new CKEDITOR.htmlParser.text(\"\")},\ninit:function(){var b=this,c=this.wrapper.findOne(\"[data-cke-upload-id]\").data(\"cke-upload-id\"),e=d.loaders[c],l=CKEDITOR.tools.capitalize,f,n;e.on(\"update\",function(d){if(b.wrapper&&b.wrapper.getParent()){a.fire(\"lockSnapshot\");d=\"on\"+l(e.status);if(\"function\"!==typeof b[d]||!1!==b[d](e))n=\"cke_upload_\"+e.status,b.wrapper&&n!=f&&(f&&b.wrapper.removeClass(f),b.wrapper.addClass(n),f=n),\"error\"!=e.status&&\"abort\"!=e.status||a.widgets.del(b);a.fire(\"unlockSnapshot\")}else a.editable().find('[data-cke-upload-id\\x3d\"'+\nc+'\"]').count()||e.abort(),d.removeListener()});e.update()},replaceWith:function(b,c){if(\"\"===b.trim())a.widgets.del(this);else{var d=this==a.widgets.focused,e=a.editable(),f=a.createRange(),l,p;d||(p=a.getSelection().createBookmarks());f.setStartBefore(this.wrapper);f.setEndAfter(this.wrapper);d&&(l=f.createBookmark());e.insertHtmlIntoRange(b,f,c);a.widgets.checkWidgets({initOnlyNew:!0});a.widgets.destroy(this,!0);d?(f.moveToBookmark(l),f.select()):a.getSelection().selectBookmarks(p)}},_getLoader:function(){var a=\nthis.wrapper.findOne(\"[data-cke-upload-id]\");return a?this.editor.uploadRepository.loaders[a.data(\"cke-upload-id\")]:null}});a.widgets.add(e,b)},markElement:function(a,e,b){a.setAttributes({\"data-cke-upload-id\":b,\"data-widget\":e})},bindNotifications:function(a,e){function b(){c=a._.uploadWidgetNotificaionAggregator;if(!c||c.isFinished())c=a._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(a,a.lang.uploadwidget.uploadMany,a.lang.uploadwidget.uploadOne),c.once(\"finished\",\nfunction(){var b=c.getTaskCount();0===b?c.notification.hide():c.notification.update({message:1==b?a.lang.uploadwidget.doneOne:a.lang.uploadwidget.doneMany.replace(\"%1\",b),type:\"success\",important:1})})}var c,d=null;e.on(\"update\",function(){!d&&e.uploadTotal&&(b(),d=c.createTask({weight:e.uploadTotal}));d&&\"uploading\"==e.status&&d.update(e.uploaded)});e.on(\"uploaded\",function(){d&&d.done()});e.on(\"error\",function(){d&&d.cancel();a.showNotification(e.message,\"warning\")});e.on(\"abort\",function(){d&&\nd.cancel();a.showNotification(a.lang.uploadwidget.abort,\"info\")})}})}(),\"use strict\",function(){function a(a){9>=a&&(a=\"0\"+a);return String(a)}function e(c){var d=new Date,d=[d.getFullYear(),d.getMonth()+1,d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()];b+=1;return\"image-\"+CKEDITOR.tools.array.map(d,a).join(\"\")+\"-\"+b+\".\"+c}var b=0;CKEDITOR.plugins.add(\"uploadimage\",{requires:\"uploadwidget\",onLoad:function(){CKEDITOR.addCss(\".cke_upload_uploading img{opacity: 0.3}\")},init:function(a){if(CKEDITOR.plugins.clipboard.isFileApiSupported){var b=\nCKEDITOR.fileTools,l=b.getUploadUrl(a.config,\"image\");l&&(b.addUploadWidget(a,\"uploadimage\",{supportedTypes:/image\\/(jpeg|png|gif|bmp)/,uploadUrl:l,fileToElement:function(){var a=new CKEDITOR.dom.element(\"img\");a.setAttribute(\"src\",\"data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs\\x3d\");return a},parts:{img:\"img\"},onUploading:function(a){this.parts.img.setAttribute(\"src\",a.data)},onUploaded:function(a){var b=this.parts.img.$;this.replaceWith('\\x3cimg src\\x3d\"'+\na.url+'\" width\\x3d\"'+(a.responseData.width||b.naturalWidth)+'\" height\\x3d\"'+(a.responseData.height||b.naturalHeight)+'\"\\x3e')}}),a.on(\"paste\",function(k){if(k.data.dataValue.match(/<img[\\s\\S]+data:/i)){k=k.data;var g=document.implementation.createHTMLDocument(\"\"),g=new CKEDITOR.dom.element(g.body),h,m,f;g.data(\"cke-editable\",1);g.appendHtml(k.dataValue);h=g.find(\"img\");for(f=0;f<h.count();f++){m=h.getItem(f);var n=m.getAttribute(\"src\"),p=n&&\"data:\"==n.substring(0,5),r=null===m.data(\"cke-realelement\");\np&&r&&!m.data(\"cke-upload-id\")&&!m.isReadOnly(1)&&(p=(p=n.match(/image\\/([a-z]+?);/i))&&p[1]||\"jpg\",n=a.uploadRepository.create(n,e(p)),n.upload(l),b.markElement(m,\"uploadimage\",n.id),b.bindNotifications(a,n))}k.dataValue=g.getHtml()}}))}}})}(),CKEDITOR.plugins.add(\"wsc\",{requires:\"dialog\",parseApi:function(a){a.config.wsc_onFinish=\"function\"===typeof a.config.wsc_onFinish?a.config.wsc_onFinish:function(){};a.config.wsc_onClose=\"function\"===typeof a.config.wsc_onClose?a.config.wsc_onClose:function(){}},\nparseConfig:function(a){a.config.wsc_customerId=a.config.wsc_customerId||CKEDITOR.config.wsc_customerId||\"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk\";a.config.wsc_customDictionaryIds=a.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||\"\";a.config.wsc_userDictionaryName=a.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||\"\";a.config.wsc_customLoaderScript=a.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript;a.config.wsc_interfaceLang=\na.config.wsc_interfaceLang;CKEDITOR.config.wsc_cmd=a.config.wsc_cmd||CKEDITOR.config.wsc_cmd||\"spell\";CKEDITOR.config.wsc_version=\"v4.3.0-master-d769233\";CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(a){\"moono-lisa\"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+\"skins/\"+CKEDITOR.skin.name+\"/wsc.css\")},init:function(a){var e=CKEDITOR.env;this.parseConfig(a);this.parseApi(a);a.addCommand(\"checkspell\",new CKEDITOR.dialogCommand(\"checkspell\")).modes=\n{wysiwyg:!CKEDITOR.env.opera&&!CKEDITOR.env.air&&document.domain==window.location.hostname&&!(e.ie&&(8>e.version||e.quirks))};\"undefined\"==typeof a.plugins.scayt&&a.ui.addButton&&a.ui.addButton(\"SpellChecker\",{label:a.lang.wsc.toolbar,click:function(a){var c=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(c=c.replace(/\\s/g,\"\"))?a.execCommand(\"checkspell\"):alert(\"Nothing to check!\")},toolbar:\"spellchecker,10\"});CKEDITOR.dialog.add(\"checkspell\",this.path+\n(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?\"dialogs/wsc_ie.js\":window.postMessage?\"dialogs/wsc.js\":\"dialogs/wsc_ie.js\"))}}),function(){function a(a){function b(a){var c=!1;f.attachListener(f,\"keydown\",function(){var b=g.getBody().getElementsByTag(a);if(!c){for(var d=0;d<b.count();d++)b.getItem(d).setCustomData(\"retain\",!0);c=!0}},null,null,1);f.attachListener(f,\"keyup\",function(){var b=g.getElementsByTag(a);c&&(1==b.count()&&!b.getItem(0).getCustomData(\"retain\")&&CKEDITOR.tools.isEmpty(b.getItem(0).getAttributes())&&\nb.getItem(0).remove(1),c=!1)})}var c=this.editor,g=a.document,h=g.body,m=g.getElementById(\"cke_actscrpt\");m&&m.parentNode.removeChild(m);(m=g.getElementById(\"cke_shimscrpt\"))&&m.parentNode.removeChild(m);(m=g.getElementById(\"cke_basetagscrpt\"))&&m.parentNode.removeChild(m);h.contentEditable=!0;CKEDITOR.env.ie&&(h.hideFocus=!0,h.disabled=!0,h.removeAttribute(\"disabled\"));delete this._.isLoadingData;this.$=h;g=new CKEDITOR.dom.document(g);this.setup();this.fixInitialSelection();var f=this;CKEDITOR.env.ie&&\n!CKEDITOR.env.edge&&g.getDocumentElement().addClass(g.$.compatMode);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&c.enterMode!=CKEDITOR.ENTER_P?b(\"p\"):CKEDITOR.env.edge&&15>CKEDITOR.env.version&&c.enterMode!=CKEDITOR.ENTER_DIV&&b(\"div\");if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)g.getDocumentElement().on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&setTimeout(function(){c.editable().focus()})});e(c);try{c.document.$.execCommand(\"2D-position\",!1,!0)}catch(n){}(CKEDITOR.env.gecko||\nCKEDITOR.env.ie&&\"CSS1Compat\"==c.document.$.compatMode)&&this.attachListener(this,\"keydown\",function(a){var b=a.data.getKeystroke();if(33==b||34==b)if(CKEDITOR.env.ie)setTimeout(function(){c.getSelection().scrollIntoView()},0);else if(c.window.$.innerHeight>this.$.offsetHeight){var d=c.createRange();d[33==b?\"moveToElementEditStart\":\"moveToElementEditEnd\"](this);d.select();a.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(g,\"blur\",function(){try{g.$.selection.empty()}catch(a){}});CKEDITOR.env.iOS&&\nthis.attachListener(g,\"touchend\",function(){a.focus()});h=c.document.getElementsByTag(\"title\").getItem(0);h.data(\"cke-title\",h.getText());CKEDITOR.env.ie&&(c.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){\"unloaded\"==this.status&&(this.status=\"ready\");c.fire(\"contentDom\");this._.isPendingFocus&&(c.focus(),this._.isPendingFocus=!1);setTimeout(function(){c.fire(\"dataReady\")},0)},0,this)}function e(a){function b(){var e;a.editable().attachListener(a,\"selectionChange\",function(){var b=\na.getSelection().getSelectedElement();b&&(e&&(e.detachEvent(\"onresizestart\",c),e=null),b.$.attachEvent(\"onresizestart\",c),e=b.$)})}function c(a){a.returnValue=!1}if(CKEDITOR.env.gecko)try{var e=a.document.$;e.execCommand(\"enableObjectResizing\",!1,!a.config.disableObjectResizing);e.execCommand(\"enableInlineTableEditing\",!1,!a.config.disableNativeTableHandles)}catch(h){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&a.config.disableObjectResizing&&b(a)}function b(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push(\"html.CSS1Compat [contenteditable\\x3dfalse]{min-height:0 !important}\");\nvar b=[],c;for(c in CKEDITOR.dtd.$removeEmpty)b.push(\"html.CSS1Compat \"+c+\"[contenteditable\\x3dfalse]\");a.push(b.join(\",\")+\"{display:inline-block}\")}else CKEDITOR.env.gecko&&(a.push(\"html{height:100% !important}\"),a.push(\"img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\"));a.push(\"html{cursor:text;*cursor:auto}\");a.push(\"img,input,textarea{cursor:default}\");return a.join(\"\\n\")}var c;CKEDITOR.plugins.add(\"wysiwygarea\",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:\"html head title; style [media,type]; body (*)[id]; meta link [*]\",\nrequiredContent:\"body\"});a.addMode(\"wysiwyg\",function(b){function e(f){f&&f.removeListener();a.editable(new c(a,h.$.contentWindow.document.body));a.setData(a.getData(1),b)}var g=\"document.open();\"+(CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\")+\"document.close();\",g=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie&&!CKEDITOR.env.edge?\"javascript:void(function(){\"+encodeURIComponent(g)+\"}())\":\"\",h=CKEDITOR.dom.element.createFromHtml('\\x3ciframe src\\x3d\"'+g+'\" frameBorder\\x3d\"0\"\\x3e\\x3c/iframe\\x3e');\nh.setStyles({width:\"100%\",height:\"100%\"});h.addClass(\"cke_wysiwyg_frame\").addClass(\"cke_reset\");g=a.ui.space(\"contents\");g.append(h);var m=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;if(m)h.on(\"load\",e);var f=a.title,n=a.fire(\"ariaEditorHelpLabel\",{}).label;f&&(CKEDITOR.env.ie&&n&&(f+=\", \"+n),h.setAttribute(\"title\",f));if(n){var f=CKEDITOR.tools.getNextId(),p=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+f+'\" class\\x3d\"cke_voice_label\"\\x3e'+n+\"\\x3c/span\\x3e\");g.append(p,1);h.setAttribute(\"aria-describedby\",\nf)}a.on(\"beforeModeUnload\",function(a){a.removeListener();p&&p.remove()});h.setAttributes({tabIndex:a.tabIndex,allowTransparency:\"true\"});!m&&e();a.fire(\"ariaWidget\",h)})}});CKEDITOR.editor.prototype.addContentsCss=function(a){var b=this.config,c=b.contentsCss;CKEDITOR.tools.isArray(c)||(b.contentsCss=c?[c]:[]);b.contentsCss.push(a)};c=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments);this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(b){CKEDITOR.tools.setTimeout(a,\n0,this,b)},this);this._.docTitle=this.getWindow().getFrame().getAttribute(\"title\")},base:CKEDITOR.editable,proto:{setData:function(a,c){var e=this.editor;if(c)this.setHtml(a),this.fixInitialSelection(),e.fire(\"dataReady\");else{this._.isLoadingData=!0;e._.dataStore={id:1};var g=e.config,h=g.fullPage,m=g.docType,f=CKEDITOR.tools.buildStyleHtml(b()).replace(/<style>/,'\\x3cstyle data-cke-temp\\x3d\"1\"\\x3e');h||(f+=CKEDITOR.tools.buildStyleHtml(e.config.contentsCss));var n=g.baseHref?'\\x3cbase href\\x3d\"'+\ng.baseHref+'\" data-cke-temp\\x3d\"1\" /\\x3e':\"\";h&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){e.docType=m=a;return\"\"}).replace(/<\\?xml\\s[^\\?]*\\?>/i,function(a){e.xmlDeclaration=a;return\"\"}));a=e.dataProcessor.toHtml(a);h?(/<body[\\s|>]/.test(a)||(a=\"\\x3cbody\\x3e\"+a),/<html[\\s|>]/.test(a)||(a=\"\\x3chtml\\x3e\"+a+\"\\x3c/html\\x3e\"),/<head[\\s|>]/.test(a)?/<title[\\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,\"$\\x26\\x3ctitle\\x3e\\x3c/title\\x3e\")):a=a.replace(/<html[^>]*>/,\"$\\x26\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\"),\nn&&(a=a.replace(/<head[^>]*?>/,\"$\\x26\"+n)),a=a.replace(/<\\/head\\s*>/,f+\"$\\x26\"),a=m+a):a=g.docType+'\\x3chtml dir\\x3d\"'+g.contentsLangDirection+'\" lang\\x3d\"'+(g.contentsLanguage||e.langCode)+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e'+this._.docTitle+\"\\x3c/title\\x3e\"+n+f+\"\\x3c/head\\x3e\\x3cbody\"+(g.bodyId?' id\\x3d\"'+g.bodyId+'\"':\"\")+(g.bodyClass?' class\\x3d\"'+g.bodyClass+'\"':\"\")+\"\\x3e\"+a+\"\\x3c/body\\x3e\\x3c/html\\x3e\";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'\\x3cbody contenteditable\\x3d\"true\" '),2E4>CKEDITOR.env.version&&\n(a=a.replace(/<body[^>]*>/,\"$\\x26\\x3c!-- cke-content-start --\\x3e\")));g='\\x3cscript id\\x3d\"cke_actscrpt\" type\\x3d\"text/javascript\"'+(CKEDITOR.env.ie?' defer\\x3d\"defer\" ':\"\")+\"\\x3evar wasLoaded\\x3d0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(\"+this._.frameLoadedHandler+\",window);wasLoaded\\x3d1;}\"+(CKEDITOR.env.ie?\"onload();\":'document.addEventListener(\"DOMContentLoaded\", onload, false );')+\"\\x3c/script\\x3e\";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(g+='\\x3cscript id\\x3d\"cke_shimscrpt\"\\x3ewindow.parent.CKEDITOR.tools.enableHtml5Elements(document)\\x3c/script\\x3e');\nn&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(g+='\\x3cscript id\\x3d\"cke_basetagscrpt\"\\x3evar baseTag \\x3d document.querySelector( \"base\" );baseTag.href \\x3d baseTag.href;\\x3c/script\\x3e');a=a.replace(/(?=\\s*<\\/(:?head)>)/,g);this.clearCustomData();this.clearListeners();e.fire(\"contentDomUnload\");var p=this.getDocument();try{p.write(a)}catch(r){setTimeout(function(){p.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();a=this.editor;var b=a.config,c=b.fullPage,e=c&&a.docType,h=c&&a.xmlDeclaration,\nm=this.getDocument(),c=c?m.getDocumentElement().getOuterHtml():m.getBody().getHtml();CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/<br>(?=\\s*(:?$|<\\/body>))/,\"\"));c=a.dataProcessor.toDataFormat(c);h&&(c=h+\"\\n\"+c);e&&(c=e+\"\\n\"+c);return c},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:c.baseProto.focus.call(this)},detach:function(){var a=this.editor,b=a.document,e;try{e=a.window.getFrame()}catch(g){}c.baseProto.detach.call(this);this.clearCustomData();b.getDocumentElement().clearCustomData();\nCKEDITOR.tools.removeFunction(this._.frameLoadedHandler);e&&e.getParent()?(e.clearCustomData(),(a=e.removeCustomData(\"onResize\"))&&a.removeListener(),e.remove()):CKEDITOR.warn(\"editor-destroy-iframe\")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.plugins=\"dialogui,dialog,a11yhelp,about,basicstyles,blockquote,notification,button,toolbar,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filetools,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wsc,wysiwygarea\",\nCKEDITOR.config.skin=\"moono-lisa\",function(){var a=function(a,b){var c=CKEDITOR.getUrl(\"plugins/\"+b);a=a.split(\",\");for(var d=0;d<a.length;d++)CKEDITOR.skin.icons[a[d]]={path:c,offset:-a[++d],bgsize:a[++d]}};CKEDITOR.env.hidpi?a(\"about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,easyimagealigncenter,552,,easyimagealignleft,576,,easyimagealignright,600,,easyimagealt,624,,easyimagefull,648,,easyimageside,672,,easyimageupload,696,,embed,720,,embedsemantic,744,,find-rtl,768,,find,792,,replace,816,,flash,840,,button,864,,checkbox,888,,form,912,,hiddenfield,936,,imagebutton,960,,radio,984,,select-rtl,1008,,select,1032,,textarea-rtl,1056,,textarea,1080,,textfield-rtl,1104,,textfield,1128,,horizontalrule,1152,,iframe,1176,,image,1200,,indent-rtl,1224,,indent,1248,,outdent-rtl,1272,,outdent,1296,,justifyblock,1320,,justifycenter,1344,,justifyleft,1368,,justifyright,1392,,language,1416,,anchor-rtl,1440,,anchor,1464,,link,1488,,unlink,1512,,bulletedlist-rtl,1536,,bulletedlist,1560,,numberedlist-rtl,1584,,numberedlist,1608,,mathjax,1632,,maximize,1656,,newpage-rtl,1680,,newpage,1704,,pagebreak-rtl,1728,,pagebreak,1752,,pastefromword-rtl,1776,,pastefromword,1800,,pastetext-rtl,1824,,pastetext,1848,,placeholder,1872,,preview-rtl,1896,,preview,1920,,print,1944,,removeformat,1968,,save,1992,,scayt,2016,,selectall,2040,,showblocks-rtl,2064,,showblocks,2088,,smiley,2112,,source-rtl,2136,,source,2160,,sourcedialog-rtl,2184,,sourcedialog,2208,,specialchar,2232,,table,2256,,templates-rtl,2280,,templates,2304,,uicolor,2328,,redo-rtl,2352,,redo,2376,,undo-rtl,2400,,undo,2424,,simplebox,4896,auto,spellchecker,2472,\",\n\"icons_hidpi.png\"):a(\"about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,easyimagealigncenter,552,auto,easyimagealignleft,576,auto,easyimagealignright,600,auto,easyimagealt,624,auto,easyimagefull,648,auto,easyimageside,672,auto,easyimageupload,696,auto,embed,720,auto,embedsemantic,744,auto,find-rtl,768,auto,find,792,auto,replace,816,auto,flash,840,auto,button,864,auto,checkbox,888,auto,form,912,auto,hiddenfield,936,auto,imagebutton,960,auto,radio,984,auto,select-rtl,1008,auto,select,1032,auto,textarea-rtl,1056,auto,textarea,1080,auto,textfield-rtl,1104,auto,textfield,1128,auto,horizontalrule,1152,auto,iframe,1176,auto,image,1200,auto,indent-rtl,1224,auto,indent,1248,auto,outdent-rtl,1272,auto,outdent,1296,auto,justifyblock,1320,auto,justifycenter,1344,auto,justifyleft,1368,auto,justifyright,1392,auto,language,1416,auto,anchor-rtl,1440,auto,anchor,1464,auto,link,1488,auto,unlink,1512,auto,bulletedlist-rtl,1536,auto,bulletedlist,1560,auto,numberedlist-rtl,1584,auto,numberedlist,1608,auto,mathjax,1632,auto,maximize,1656,auto,newpage-rtl,1680,auto,newpage,1704,auto,pagebreak-rtl,1728,auto,pagebreak,1752,auto,pastefromword-rtl,1776,auto,pastefromword,1800,auto,pastetext-rtl,1824,auto,pastetext,1848,auto,placeholder,1872,auto,preview-rtl,1896,auto,preview,1920,auto,print,1944,auto,removeformat,1968,auto,save,1992,auto,scayt,2016,auto,selectall,2040,auto,showblocks-rtl,2064,auto,showblocks,2088,auto,smiley,2112,auto,source-rtl,2136,auto,source,2160,auto,sourcedialog-rtl,2184,auto,sourcedialog,2208,auto,specialchar,2232,auto,table,2256,auto,templates-rtl,2280,auto,templates,2304,auto,uicolor,2328,auto,redo-rtl,2352,auto,redo,2376,auto,undo-rtl,2400,auto,undo,2424,auto,simplebox,2448,auto,spellchecker,2472,auto\",\n\"icons.png\")}())})();","/*!\n * money.js / fx() v0.2\n * Copyright 2014 Open Exchange Rates\n *\n * JavaScript library for realtime currency conversion and exchange rate calculation.\n *\n * Freely distributable under the MIT license.\n * Portions of money.js are inspired by or borrowed from underscore.js\n *\n * For details, examples and documentation:\n * http://openexchangerates.github.io/money.js/\n */\n(function(root, undefined) {\n\n\t// Create a safe reference to the money.js object for use below.\n\tvar fx = function(obj) {\n\t\treturn new fxWrapper(obj);\n\t};\n\n\t// Current version.\n\tfx.version = '0.2';\n\n\n\t/* --- Setup --- */\n\n\t// fxSetup can be defined before loading money.js, to set the exchange rates and the base\n\t// (and default from/to) currencies - or the rates can be loaded in later if needed.\n\tvar fxSetup = root.fxSetup || {\n\t\trates : {},\n\t\tbase : \"\"\n\t};\n\n\t// Object containing exchange rates relative to the fx.base currency, eg { \"GBP\" : \"0.64\" }\n\tfx.rates = fxSetup.rates;\n\n\t// Default exchange rate base currency (eg \"USD\"), which all the exchange rates are relative to\n\tfx.base = fxSetup.base;\n\n\t// Default from / to currencies for conversion via fx.convert():\n\tfx.settings = {\n\t\tfrom : fxSetup.from || fx.base,\n\t\tto : fxSetup.to || fx.base\n\t};\n\n\n\t/* --- Conversion --- */\n\n\t// The base function of the library: converts a value from one currency to another\n\tvar convert = fx.convert = function(val, opts) {\n\t\t// Convert arrays recursively\n\t\tif (typeof val === 'object' && val.length) {\n\t\t\tfor (var i = 0; i< val.length; i++ ) {\n\t\t\t\tval[i] = convert(val[i], opts);\n\t\t\t}\n\t\t\treturn val;\n\t\t}\n\n\t\t// Make sure we gots some opts\n\t\topts = opts || {};\n\n\t\t// We need to know the `from` and `to` currencies\n\t\tif( !opts.from ) opts.from = fx.settings.from;\n\t\tif( !opts.to ) opts.to = fx.settings.to;\n\n\t\t// Multiple the value by the exchange rate\n\t\treturn val * getRate( opts.to, opts.from );\n\t};\n\n\t// Returns the exchange rate to `target` currency from `base` currency\n\tvar getRate = function(to, from) {\n\t\t// Save bytes in minified version\n\t\tvar rates = fx.rates;\n\n\t\t// Make sure the base rate is in the rates object:\n\t\trates[fx.base] = 1;\n\n\t\t// Throw an error if either rate isn't in the rates array\n\t\tif ( !rates[to] || !rates[from] ) throw \"fx error\";\n\n\t\t// If `from` currency === fx.base, return the basic exchange rate for the `to` currency\n\t\tif ( from === fx.base ) {\n\t\t\treturn rates[to];\n\t\t}\n\n\t\t// If `to` currency === fx.base, return the basic inverse rate of the `from` currency\n\t\tif ( to === fx.base ) {\n\t\t\treturn 1 / rates[from];\n\t\t}\n\n\t\t// Otherwise, return the `to` rate multipled by the inverse of the `from` rate to get the\n\t\t// relative exchange rate between the two currencies\n\t\treturn rates[to] * (1 / rates[from]);\n\t};\n\n\n\t/* --- OOP wrapper and chaining --- */\n\n\t// If fx(val) is called as a function, it returns a wrapped object that can be used OO-style\n\tvar fxWrapper = function(val) {\n\t\t// Experimental: parse strings to pull out currency code and value:\n\t\tif ( typeof\tval === \"string\" ) {\n\t\t\tthis._v = parseFloat(val.replace(/[^0-9-.]/g, \"\"));\n\t\t\tthis._fx = val.replace(/([^A-Za-z])/g, \"\");\n\t\t} else {\n\t\t\tthis._v = val;\n\t\t}\n\t};\n\n\t// Expose `wrapper.prototype` as `fx.prototype`\n\tvar fxProto = fx.prototype = fxWrapper.prototype;\n\n\t// fx(val).convert(opts) does the same thing as fx.convert(val, opts)\n\tfxProto.convert = function() {\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\targs.unshift(this._v);\n\t\treturn convert.apply(fx, args);\n\t};\n\n\t// fx(val).from(currency) returns a wrapped `fx` where the value has been converted from\n\t// `currency` to the `fx.base` currency. Should be followed by `.to(otherCurrency)`\n\tfxProto.from = function(currency) {\n\t\tvar wrapped = fx(convert(this._v, {from: currency, to: fx.base}));\n\t\twrapped._fx = fx.base;\n\t\treturn wrapped;\n\t};\n\n\t// fx(val).to(currency) returns the value, converted from `fx.base` to `currency`\n\tfxProto.to = function(currency) {\n\t\treturn convert(this._v, {from: this._fx ? this._fx : fx.settings.from, to: currency});\n\t};\n\n\n\t/* --- Module Definition --- */\n\n\t// Export the fx object for CommonJS. If being loaded as an AMD module, define it as such.\n\t// Otherwise, just add `fx` to the global object\n\tif (typeof exports !== 'undefined') {\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\texports = module.exports = fx;\n\t\t}\n\t\texports.fx = fx;\n\t} else if (typeof define === 'function' && define.amd) {\n\t\t// Return the library as an AMD module:\n\t\tdefine([], function() {\n\t\t\treturn fx;\n\t\t});\n\t} else {\n\t\t// Use fx.noConflict to restore `fx` back to its original value before money.js loaded.\n\t\t// Returns a reference to the library's `fx` object; e.g. `var money = fx.noConflict();`\n\t\tfx.noConflict = (function(previousFx) {\n\t\t\treturn function() {\n\t\t\t\t// Reset the value of the root's `fx` variable:\n\t\t\t\troot.fx = previousFx;\n\t\t\t\t// Delete the noConflict function:\n\t\t\t\tfx.noConflict = undefined;\n\t\t\t\t// Return reference to the library to re-assign it:\n\t\t\t\treturn fx;\n\t\t\t};\n\t\t})(root.fx);\n\n\t\t// Declare `fx` on the root (global/window) object:\n\t\troot['fx'] = fx;\n\t}\n\n\t// Root will be `window` in browser or `global` on the server:\n}(this));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2hvbWUvYWdhbGFuLy5ucG0tZ2xvYmFsL2xpYi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwibWFpbi5qcyIsIm5vZGVfbW9kdWxlcy9ja2VkaXRvci9ja2VkaXRvci5qcyIsIm5vZGVfbW9kdWxlcy9tb25leS9tb25leS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNudENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsInZhciBjdHJsSSA9IGZhbHNlO1xudmFyIGZ4ID0gcmVxdWlyZSgnbW9uZXknKTtcbi8vIHZhciBTcGVlY2ggPSByZXF1aXJlKCdzcGVhay10dHMnKVxuXG4vLyBBZGQgYW4gZXZlbnQgbGlzdGVuZXJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJuYW1lLW9mLWV2ZW50XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhlLmRldGFpbCk7IC8vIFByaW50cyBcIkV4YW1wbGUgb2YgYW4gZXZlbnRcIlxufSk7XG5cblxuXG5cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAvLyB2YXIgYjEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIk1XXCIpO1xuICAgIC8vIGIxLnRhYkluZGV4ID0gNTsgLy9jaGFuZ2UgdGhlIGRlZmF1bHQgdGFiaW5kZXhcblxuXG4gICAgZnVuY3Rpb24gbW9iaWxlICgpe1xuXG5cbiAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDYwMCkge1xuICAgIGNvbnNvbGUubG9nKCd0aGlzIGlzIGEgbW9iaWxlIGRldmljZScpXG5yZXR1cm4gdHJ1ZTtcbiAgIH1cbiAgIGVsc2VcbiAgIHtcbiAgICBjb25zb2xlLmxvZygndGhpcyBpcyBhIGJpZyBzY3JlZW4nKSBcbiAgICByZXR1cm4gZmFsc2U7XG4gICB9XG5cbiAgICB9XG5cbiBpZiAobW9iaWxlKCkpIHtcblxuY29uc29sZS5sb2coJ2FhJylcbiAgICAkKCcjaW50cm9kdWN0aW9uJykuYXR0cignY29udGVudGVkaXRhYmxlJywgZmFsc2UpXG4gIFxuICAgIHJlcXVpcmUoJ2NrZWRpdG9yJyk7XG4gICAgQ0tFRElUT1IuaW5zdGFuY2VzWydpbnRyb2R1Y3Rpb24nXS5kZXN0cm95KCk7XG5cbiB9XG5lbHNlIHtcbiAgICBcbiAgICAkKCcjaW50cm9kdWN0aW9uJykuYXR0cignY29udGVudGVkaXRhYmxlJywgdHJ1ZSlcbiAgXG4gICAgcmVxdWlyZSgnY2tlZGl0b3InKTtcbiAgICBDS0VESVRPUi5pbnN0YW5jZXNbJ2ludHJvZHVjdGlvbiddLmRlc3Ryb3koKTtcbiAgICB2YXIgZWRpdG9yID0gQ0tFRElUT1IuaW5saW5lKFwiaW50cm9kdWN0aW9uXCIpO1xufVxuXG4gICAgJCgnLmppZWJhJykub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGlmIChtb2JpbGUoKSkge1xuICAgICAgICB0ZXh0ID0gJCh0aGlzKS50ZXh0KClcbiAgICAgICAgY29uc29sZS5sb2codGV4dClcbiAgICAgICAgbGFuZyA9ICd6aCdcbiAgICAgICAgbGFuZ3RvID0gJ2VuJ1xuICAgICAgICBjb25zb2xlLmxvZygnZG9pbmcgdHJhbnNsYXRpb24nKVxuICAgICAgICB0cmFuc2xhdGVfc2VsZWN0KHRleHQpXG4gICBcbn1cbiAgICB9KTtcblxuXG5cbiAgICAkKFwiI21lbnVwYW5lbFwiKS5vbignY2xpY2sgdG91Y2hzdGFydCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQoXCIjY29tbWFuZEFyZWFcIikuc2hvdygpXG5cbiAgICB9KVxuXG5cblxuICAgICQoXCIjY29tbWFuZEFyZWFcIikub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICBzcyA9IDYwMFxuXG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDYwMCkge1xuXG5cbiAgICAgICAgICAgICQoXCIjY29tbWFuZEFyZWFcIikuaGlkZShzcyAvIDMpXG5cblxuICAgICAgICB9XG5cbiAgICB9KVxuXG4gICAgLy8gJChcIiNjb21tYW5kQXJlYVwiKS5vbignY2xpY2sgdG91Y2hzdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICBzcyA9IDYwMFxuICAgIC8vICAgICAvLyAkKHRoaXMpLmNzcyhcInotaW5kZXhcIiwyMDApXG4gICAgLy8gICAgICQoXCIuZmFueWlcIikuYW5pbWF0ZSh7XG4gICAgLy8gICAgICAgICBcInRvcFwiOiAxODZcbiAgICAvLyAgICAgfSwgc3MpO1xuICAgIC8vIH0pXG5cbiAgICAkKFwiLmZhbnlpXCIpLm9uKCdjbGljayB0b3VjaHN0YXJ0JywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgc3MgPSA2MDBcblxuICAgICAgICAkKFwiLmZhbnlpXCIpLmFuaW1hdGUoe1xuICAgICAgICAgICAgXCJ0b3BcIjogMFxuICAgICAgICB9LCBzcywgZnVuY3Rpb24oKSB7XG5cblxuICAgICAgICAgICAgJCh0aGlzKS5oaWRlKHNzIC8gMylcblxuICAgICAgICB9KTtcblxuICAgIH0pXG5cblxuXG4gICAgdmFyIHVybCA9IGdldFBhcmFtZXRlckJ5TmFtZSgndXJsJyk7XG4gICAgaWYgKHVybCkge1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVybCk7XG5cbiAgICAgICAgJChcIiN0aXR0bGVcIikudmFsKHVybCk7XG4gICAgICAgICQoXCIjcmVuYW1lXCIpLnZhbCh1cmwpO1xuICAgICAgICAvLyAgcmVhZCgpO1xuICAgICAgICAvLyQoXCIuZmlyc3RfZWRpdG9yXCIpLmZvY3VzKCk7XG4gICAgICAgIC8vICQoXCIjdGl0dGxlXCIpLmZvY3VzKCkuc2VsZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiN0aXR0bGVcIikuZm9jdXMoKS5zZWxlY3QoKTtcbiAgICB9XG5cblxuICAgIC8vIGxvYWRhdXRvc2VhcmNoKFwiL3Jlc291cmNlcy9maWxlczIuanNvblwiKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBEbyBub3RoaW5nIGlmIHRoZSBldmVudCB3YXMgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG5cbiAgICAgICAgICAgIGNhc2UgXCJFc2NhcGVcIjpcbiAgICAgICAgICAgICAgICAvLyBEbyBzb21ldGhpbmcgZm9yIFwiZXNjXCIga2V5IHByZXNzLlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcmVzcyBlc2NhcGUnKVxuICAgICAgICAgICAgICAgIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2VsICcgKyBzZWwpXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlX3NlbGVjdChzZWwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIFF1aXQgd2hlbiB0aGlzIGRvZXNuJ3QgaGFuZGxlIHRoZSBrZXkgZXZlbnQuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYW5jZWwgdGhlIGRlZmF1bHQgYWN0aW9uIHRvIGF2b2lkIGl0IGJlaW5nIGhhbmRsZWQgdHdpY2VcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCB0cnVlKTtcblxuXG5cbiQoXCIjc21hbGxcIikuY2xpY2sgKGZ1bmN0aW9uKCl7XG5cbiQoXCIjc21hbGxcIikuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwicmVkXCIpXG4kKFwiI21lZGl1bVwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJncmV5XCIpXG4kKFwiI2JpZ1wiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJncmV5XCIpXG4kKFwiLmppZWJhXCIpLmNzcyhcImZvbnQtc2l6ZVwiLFwibWVkaXVtXCIpXG5cblxufSlcblxuXG5cbiQoXCIjbWVkaXVtXCIpLmNsaWNrIChmdW5jdGlvbigpe1xuXG4kKFwiI3NtYWxsXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcImdyZXlcIilcbiQoXCIjbWVkaXVtXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcInJlZFwiKVxuJChcIiNiaWdcIikuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiZ3JleVwiKVxuJChcIi5qaWViYVwiKS5jc3MoXCJmb250LXNpemVcIixcImxhcmdlXCIpXG5cblxufSlcblxuXG4kKFwiI2JpZ1wiKS5jbGljayAoZnVuY3Rpb24oKXtcblxuJChcIiNzbWFsbFwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJncmV5XCIpXG4kKFwiI21lZGl1bVwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJncmV5XCIpXG4kKFwiI2JpZ1wiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJyZWRcIilcbiQoXCIuamllYmFcIikuY3NzKFwiZm9udC1zaXplXCIsXCJsYXJnZXJcIilcblxuXG59KVxuXG5cbiAgICAkKFwiYnV0dG9uI3Rlc3RzcGVlY2hcIikuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy9pZiB5b3UgdXNlIGVzNVxuICAgICAgICAvLyBTcGVlY2guaW5pdCh7XG4gICAgICAgIC8vICAgICAnb25Wb2ljZXNMb2FkZWQnOiAoZGF0YSkgPT4geyBjb25zb2xlLmxvZygndm9pY2VzJywgZGF0YS52b2ljZXMpIH0sXG4gICAgICAgIC8vICAgICAnbGFuZyc6ICd6aC1DTicsIC8vIHNwZWNpZnkgZW4tVVMgbGFuZ3VhZ2UgKG5vIGRldGVjdGlvbiBhcHBsaWVkKVxuICAgICAgICAvLyAgICAgJ3ZvbHVtZSc6IDAuNSxcbiAgICAgICAgLy8gICAgICdyYXRlJzogMC44LFxuICAgICAgICAvLyAgICAgJ3BpdGNoJzogMC44LFxuICAgICAgICAvLyAgICAgJ3ZvaWNlJzogJ1NhbWFudGhhJ1xuICAgICAgICAvLyB9KVxuICAgICAgICAvLyBTcGVlY2guc3BlYWsoe1xuICAgICAgICAvLyAgICAgdGV4dDogJ0hlbGxvLCBob3cgYXJlIHlvdSB0b2RheSA/JyxcbiAgICAgICAgLy8gICAgIG9uRXJyb3I6IChlKSA9PiB7Y29uc29sZS5sb2coJ3NvcnJ5IGFuIGVycm9yIG9jY3VycmVkLicsIGUpfSwgLy8gb3B0aW9ubmFsIGVycm9yIGNhbGxiYWNrXG4gICAgICAgIC8vICAgICBvbkVuZDogKCkgPT4ge2NvbnNvbGUubG9nKCd5b3VyIHRleHQgaGFzIHN1Y2Nlc3NmdWxseSBiZWVuIHNwb2tlbi4nKX0gLy8gb3B0aW9ubmFsIG9uRW5kIGNhbGxiYWNrXG4gICAgICAgIC8vIH0pXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VyZWFkeVwiLCBvbkRldmljZVJlYWR5LCBmYWxzZSk7XG5cbiAgICAgICAgZnVuY3Rpb24gb25EZXZpY2VSZWFkeSgpIHtcblxuICAgICAgICAgICAgd2luZG93LlRUUy5zcGVhayh7XG4gICAgICAgICAgICAgICAgdGV4dDogJ1dlbGNvbWUgdG8gdGhlIGFwcCEnLFxuICAgICAgICAgICAgICAgIGxvY2FsZTogJ2VuLUdCJyxcbiAgICAgICAgICAgICAgICByYXRlOiAwLjc1XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgnc3VjY2VzcycpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQocmVhc29uKTtcblxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfSlcblxuXG5cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVfc2VsZWN0KHRleHRvKSB7XG4gICAgICAgICQoXCIuZmFueWlcIikuc2hvdygpXG5cbiAgICAgICAgY29uc29sZS5sb2codGV4dG8pXG4gICAgICAgIGxhbmcgPSAnemgnXG4gICAgICAgIGxhbmd0byA9ICdlbidcbiAgICAgICAgY29uc29sZS5sb2coJ2RvaW5nIHRyYW5zbGF0aW9uIC4uJylcbiAgICAgICAgZmFueWkodGV4dG8sIGxhbmcsIGxhbmd0bykudGhlbihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgYWEuZHN0ID0gYWEucGlueWluICsgXCI8YnI+XCIgKyBhYS50cmFuc2xhdGUgKyBhYS5oYW5kaVxuICAgICAgICAgICAgdmFyIHRyYWQgPSBhYS5zcmMgKyAnOiA8L2JyPiAnICsgYWEucGlueWluICsgJzwvYnI+JyArIGFhLnRyYW5zbGF0ZSArICc8L2JyPiAnICsgYWEuaGFuZGk7XG4gICAgICAgICAgICAkKCcjZmFueWk1NScpLmh0bWwodHJhZClcbiAgICAgICAgICAgICQoJyNhdWRpb2ZhbnlpJykuYXR0cignc3JjJywgYWEuYXVkaW8pXG4gICAgICAgICAgICAkKCcjYXVkaW9mYW55aScpLmF0dHIoJ2F1dG9wbHknLCB0cnVlKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKFwiLmppZWJhXCIpLmRibGNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyB0ZXh0ID0gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKClcbiAgICAgICAgaWYgKCEgbW9iaWxlKCkpXG4gICAgICAgIHtcbiAgICAgICAgdGV4dCA9ICQodGhpcykudGV4dCgpXG4gICAgICAgIGNvbnNvbGUubG9nKHRleHQpXG4gICAgICAgIHRyYW5zbGF0ZV9zZWxlY3QodGV4dClcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSlcblxuICAgICQoXCJidXR0b24jcHV0dG9nZXRoZXJcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbCA9IGVkaXRvci5leHRyYWN0U2VsZWN0ZWRIdG1sKClcbiAgICAgICAgYWEgPSBzZWwuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4vZ20sICcnKVxuICAgICAgICBlZGl0b3IuaW5zZXJ0SHRtbChhYSk7XG4gICAgfSlcblxuXG5cbiAgICAvLyAkKCcuamllYmEnKS5vbignY2xpY2sgdG91Y2hzdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICAgIHRleHQgPSAkKHRoaXMpLnRleHQoKVxuICAgIC8vICAgICAgIGNvbnNvbGUubG9nKHRleHQpXG4gICAgLy8gICAgICAgbGFuZyA9ICd6aCdcbiAgICAvLyAgICAgICBsYW5ndG8gPSAnZW4nXG4gICAgLy8gICAgICAgY29uc29sZS5sb2coJ2RvaW5nIHRyYW5zbGF0aW9uJylcbiAgICAvLyAgICAgICB0cmFuc2xhdGVfc2VsZWN0KHRleHQpXG4gICAgLy8gICB9KTtcblxuXG5cblxuXG4gICAgJChcIiNlZGl0bW9kZVwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gQ0tFRElUT1IuaW5zdGFuY2VzWydpbnRyb2R1Y3Rpb24nXS5kZXN0cm95KCk7XG4gICAgICAgIC8vIHZhciBlZGl0b3IgPSBDS0VESVRPUi5pbmxpbmUoXCJpbnRyb2R1Y3Rpb25cIik7XG5cbiAgICAgICAgaWYgKCQoJyNlZGl0bW9kZScpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAkKCcjaW50cm9kdWN0aW9uJykuYXR0cignY29udGVudGVkaXRhYmxlJywgdHJ1ZSlcbiAgICAgICAgICAgIC8vIGVkaXRvci5yZWFkT25seSA9IGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjaW50cm9kdWN0aW9uJykuYXR0cignY29udGVudGVkaXRhYmxlJywgZmFsc2UpXG4gICAgICAgICAgICAvLyBlZGl0b3IucmVhZE9ubHkgPSB0cnVlXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWFkIG1vZGUnKVxuICAgICAgICB9XG4gICAgfSlcblxuICAgICQoXCJidXR0b24jamllYmEzXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBzZWwgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRUZXh0KClcblxuICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrIGluIGppZWJhIGJ1dHRvblwiKVxuICAgICAgICBjb25zb2xlLmxvZyh1cmwpXG5cblxuICAgICAgICAkKFwiZGl2LnBhZ2U6ZXEoMikgIHNwYW4ubGluZVwiKS5tYXAoZnVuY3Rpb24odmFsLCBlKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKGUpLmh0bWwoKSlcbiAgICAgICAgICAgIGxldCBkZCA9IHt9XG4gICAgICAgICAgICBkZC5kYXRhID0gJChlKS5odG1sKClcbiAgICAgICAgICAgIGRkLmkgPSB2YWxcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbClcbiAgICAgICAgICAgIHVybCA9IFwiaHR0cDovL2k0ODcubHhjL2VicmFpbi9qaWViYVwiXG4gICAgICAgICAgICAkLnBvc3QodXJsLCBkZCkuZG9uZShmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgYiA9ICQubWFwKHJlc3AsIGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgYWEgPSAkKCc8c3BhbiBjbGFzcz1cImppZWJhXCI+PC9zcGFuPicpLnRleHQobilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFhLnByb3AoJ291dGVySFRNTCcpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICByZXN1bHRhZG8gPSBiLmpvaW4oXCJcIilcbiAgICAgICAgICAgICAgICAvLyAkKFwiZGl2LnBhZ2U6ZXEoMikgIHNwYW4ubGluZTplcShcIiArIHZhbCArIFwiKVwiKS5odG1sKHJlc3VsdGFkbylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRhZG8pXG4gICAgICAgICAgICB9KTtcblxuXG5cbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICAkKFwiYnV0dG9uI2ppZWJhMlwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsID0gZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkVGV4dCgpXG4gICAgICAgIHVybCA9IFwiaHR0cDovL2k0ODcubHhjL2VicmFpbi9qaWViYVwiXG5cbiAgICAgICAgY29uc29sZS5sb2coXCJjbGljayBpbiBqaWViYSBidXR0b25cIilcbiAgICAgICAgY29uc29sZS5sb2codXJsKVxuICAgICAgICBsZXQgZGQgPSB7fVxuICAgICAgICBkZC5kYXRhID0gc2VsXG4gICAgICAgICQucG9zdCh1cmwsIGRkKS5kb25lKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGIgPSAkLm1hcChyZXNwLCBmdW5jdGlvbihuKSB7XG4gICAgICAgICAgICAgICAgYWEgPSAkKCc8c3BhbiBjbGFzcz1cImppZWJhXCI+PC9zcGFuPicpLnRleHQobilcbiAgICAgICAgICAgICAgICByZXR1cm4gYWEucHJvcCgnb3V0ZXJIVE1MJylcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGVkaXRvci5pbnNlcnRIdG1sKGIuam9pbihcIlwiKSlcbiAgICAgICAgfSk7XG4gICAgfSlcblxuXG4gICAkKFwiYnV0dG9uI2ppZWJhYXV0b1wiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgJChcInBcIikuY3NzKCdjb2xvcicsICdyZWQnKVxuICAgICAgICBsZXQgbGFuZyA9ICd6aCdcbiAgICAgICAgbGV0IGxhbmd0byA9ICdlbidcbiAgICAgICAgbGV0IHNlbGVjdG9yPVwicDpub3QoLmNvbnZlcnRlZCk6ZXEoMClcIlxuICAgICAgICBsZXQgc2VsID0gJChzZWxlY3RvcikudGV4dCgpXG5cbiAgICAgICAgICB1cmwgPSBcImh0dHA6Ly9pNDg3Lmx4Yy9lYnJhaW4vamllYmFcIlxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2sgaW4gYXV0byBqaWViYSBidXR0b25cIilcbiAgICAgICAgY29uc29sZS5sb2codXJsKVxuICAgICAgICBsZXQgZGQgPSB7fVxuICAgICAgICBkZC5kYXRhID0gc2VsXG4gICAgICAgICQucG9zdCh1cmwsIGRkKS5kb25lKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGIgPSAkLm1hcChyZXNwLCBmdW5jdGlvbihuKSB7XG4gICAgICAgICAgICAgICAgYWEgPSAkKCc8c3BhbiBjbGFzcz1cImppZWJhXCI+PC9zcGFuPicpLnRleHQobilcbiAgICAgICAgICAgICAgICByZXR1cm4gYWEucHJvcCgnb3V0ZXJIVE1MJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAkKHNlbGVjdG9yKS5odG1sKGIuam9pbihcIlwiKSlcbiAgICAgICAgICAgICQoc2VsZWN0b3IpLmF0dHIoXCJjbGFzc1wiLFwiY29udmVydGVkXCIpXG5cbiAgICAgICAgICAgIC8vIGVkaXRvci5pbnNlcnRIdG1sKGIuam9pbihcIlwiKSlcbiAgICAgICAgfSk7XG5cbiAgICB9KVxuXG4gICAgJChcImJ1dHRvbiNhdXRvdHJhbnNcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCJzcGFuW2xhbmc9J3poLWNuJ11cIikuY3NzKCdjb2xvcicsICdyZWQnKVxuICAgICAgICBsZXQgbGFuZyA9ICd6aCdcbiAgICAgICAgbGV0IGxhbmd0byA9ICdlbidcbiAgICAgICAgbGV0IGJiID0gJChcInNwYW5bbGFuZz0nemgtY24nXTplcSgxKVwiKS50ZXh0KClcbiAgICAgICAgY29uc29sZS5sb2coYHRvIHRyYW5zbGF0ZTogJHtiYn1gKVxuICAgICAgICBmYW55aShiYiwgJ3poJywgJ2VuJykudGhlbihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgbGV0IHRyYW5zbGF0aW9uID0gXCI8c3BhbiBjbGFzcz0nb3JpZ2luYWwnIGxhbmc9J1wiICsgbGFuZyArIFwiJyBkYXRhLXBzZXVkby1jb250ZW50PSdcIiArIGFhLnNyYyArIFwiJyA+Jm5ic3A7PC9zcGFuPjxzcGFuIGNsYXNzPSd0cmFuc2xhdGUnICBsYW5nPSdcIiArIGxhbmd0byArIFwiJyA+XCIgKyBhYS50cmFuc2xhdGUgKyBcIjwvc3Bhbj5cIlxuICAgICAgICAgICAgY29uc29sZS5sb2coYWEuaSlcbiAgICAgICAgICAgICQoXCJzcGFuW2xhbmc9J3poLWNuJ106ZXEoMSlcIikuaHRtbCh0cmFuc2xhdGlvbilcbiAgICAgICAgICAgICQoXCJzcGFuW2xhbmc9J3poLWNuJ106ZXEoMSlcIikuYXR0cignbGFuZycsICcnKVxuICAgICAgICB9KVxuXG4gICAgfSlcblxuXG5cbiAgICAkKFwiYnV0dG9uI3Bvc2l0aW9uXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCBzYXZlIHBvc2l0aW9uJylcbiAgICAgICAgJChcIiNzY3JvbGxBcmVhXCIpLnNjcm9sbFRvcCgpXG5cblxuICAgIH0pO1xuXG4gICAgJChcImJ1dHRvbiN0cmFuc1wiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgdHJhbnNsYXRlJylcbiAgICAgICAgJChcIi50cmFuc2xhdGVcIikuc2hvdygpO1xuICAgICAgICAkKFwiLm9yaWdpbmFsXCIpLmhpZGUoKTtcblxuXG4gICAgfSk7XG5cbiAgICAkKFwiYnV0dG9uI3Nob3d0cmFuc2xhdGVcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGlja2VkIHNob3d0cmFuc2xhdGUnKVxuICAgICAgICAkKFwiLnRyYW5zbGF0ZVwiKS5zaG93KCk7XG4gICAgICAgICQoXCIub3JpZ2luYWxcIikuc2hvdygpO1xuXG4gICAgfSk7XG5cblxuICAgICQoXCJidXR0b24jYWRkYWJzb2x1dGVwYXRoXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGlja2VkIGFkZGFic29sdXRlcGF0aDInKVxuXG5cbiAgICAgICAgJCgnaW1nJykuZWFjaChmdW5jdGlvbihpLCB2KSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKS5pbmNsdWRlcyhcImh0dHBcIikpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbm90IGNoYW5nZScpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGFhYSA9IGRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbiArICQodGhpcykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdzcmMnLCBhYWEpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCQodGhpcykuYXR0cignc3JjJykpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgICAkKFwiYnV0dG9uI3NoYXJlbGlua1wiKS5jbGljayhmdW5jdGlvbigpIHtcblxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGlja2VkIHNoYXJlbGluayAnKVxuICAgICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW4gKyBcIi9lYnJhaW4/dXJsPVwiICsgJCgnI3RpdHRsZScpLnZhbCgpKVxuXG4gICAgICAgIGRhdGEgPSB7IHVybDogJCgnI3RpdHRsZScpLnZhbCgpIH1cbiAgICAgICAgJC5wb3N0KCdlYnJhaW4vc2hhcmVsaW5rJywgZGF0YSkuZG9uZShmdW5jdGlvbihyZXNwKSB7XG5cblxuICAgICAgICAgICAgJCgnI3NoYXJlbGluaycpLmF0dHIoJ2hyZWYnLCAnL3ZpZXcucGhwP3VybD0nICsgcmVzcC5oYXNoKVxuXG4gICAgICAgIH0pXG4gICAgICAgIC8vICQuZ2V0SlNPTig/dXJsPScgKyAsXG4gICAgICAgIC8vICAgICBmdW5jdGlvbihkYXRhKSB7XG5cblxuICAgICAgICAvLyAgICAgfSlcblxuXG4gICAgfSk7XG5cbiAgICAkKFwiYnV0dG9uI3VwZGF0ZWNvc3RcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGlja2VkIHVwZGF0ZWRjb3N0ICcpXG5cbiAgICAgICAgJC5nZXRKU09OKFxuICAgICAgICAgICAgLy8gTkI6IHVzaW5nIE9wZW4gRXhjaGFuZ2UgUmF0ZXMgaGVyZSwgYnV0IHlvdSBjYW4gdXNlIGFueSBzb3VyY2UhXG4gICAgICAgICAgICAnaHR0cHM6Ly9vcGVuZXhjaGFuZ2VyYXRlcy5vcmcvYXBpL2xhdGVzdC5qc29uP2FwcF9pZD05NjBmMGI4ZGNhOTM0NDMyOGIxM2VmODE2OTU3ZDgxMCcsXG4gICAgICAgICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgbW9uZXkuanMgaGFzIGZpbmlzaGVkIGxvYWRpbmc6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmeCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBmeC5yYXRlcykge1xuICAgICAgICAgICAgICAgICAgICBmeC5yYXRlcyA9IGRhdGEucmF0ZXM7XG4gICAgICAgICAgICAgICAgICAgIGZ4LmJhc2UgPSBkYXRhLmJhc2U7XG5cblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXBkYXRpbmcgY29zdC4uLicpXG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLmNvc3QnKS5lYWNoKGZ1bmN0aW9uKGksIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFhID0gJCh0aGlzKS5hdHRyKCdkYXRhLWNvc3QnKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSBNYXRoLnJvdW5kKGZ4KGFhKS5mcm9tKFwiQ05ZXCIpLnRvKFwiRVVSXCIpIC8gMC4wMDk1KSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29udmVydGluZyBDTlkgaW50byBFVVJcIiArIGZ4KDEpLmZyb20oXCJDTllcIikudG8oXCJFVVJcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KHRvdGFsKVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIG5vdCwgYXBwbHkgIHRvIGZ4U2V0dXAgZ2xvYmFsOlxuICAgICAgICAgICAgICAgICAgICB2YXIgZnhTZXR1cCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGVzOiBkYXRhLnJhdGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogZGF0YS5iYXNlXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGV0aW1lID0gZC5nZXRGdWxsWWVhcigpICsgJy0nICsgZC5nZXRNb250aCgpICsgJy0nICsgZC5nZXREYXRlKCk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmluc2VydEh0bWwoXCI8c3BhbiBjbGFzcz0naW5mb3JtYXRpb24nPiBkYXRlOiBcIiArIGRhdGV0aW1lICsgXCIgQ05ZIHRvIEVVUiBDb252ZXJ0IHJhdGUgaXMgIFwiICsgZngoMSkuZnJvbShcIkNOWVwiKS50byhcIkVVUlwiKSArIFwiPC9zcGFuPlwiKVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG5cblxuXG5cblxuICAgIH0pO1xuICAgIC8vIGh0dHBzOi8vb3BlbmV4Y2hhbmdlcmF0ZXMuZ2l0aHViLmlvL21vbmV5LmpzLyNkb3dubG9hZFxuXG5cbiAgICAkKFwiI3RpdHRsZVwiKS5mb2N1c291dChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJzEnKTtcblxuICAgICAgICBjb25zb2xlLmxvZygkKFwiI3RpdHRsZVwiKS52YWwoKSk7XG4gICAgICAgICQoXCIjcmVuYW1lXCIpLnZhbCgkKFwiI3RpdHRsZVwiKS52YWwoKSk7XG4gICAgICAgICQoJy5maXJzdF9lZGl0b3InKS5hdHRyKCdpZCcsICQoXCIjdGl0dGxlXCIpLnZhbCgpKTtcbiAgICAgICAgJCgnLmZpcnN0X2VkaXRvcicpLmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAkKCcuZmlyc3RfZWRpdG9yJykuZm9jdXMoKTtcbiAgICAgICAgcmVhZCgpO1xuICAgICAgICAvLyBlZGl0b3Iuc2V0RGF0YSgkKCBcIiNoaWRkZW5cIiApLmh0bWwoKSk7ICAvLyBsb2FkIGRhdGEgaW4gdGhlIGVkaXRvclxuXG4gICAgICAgIC8vIGhsanMuaW5pdEhpZ2hsaWdodGluZ09uTG9hZCgpO1xuXG4gICAgfSk7XG5cblxuXG5cbiAgICAkKFwiI3JlbmFtZVwiKS5mb2N1c291dChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJzInKTtcblxuICAgICAgICBpZiAoJChcIiN0aXR0bGVcIikudmFsKCkgPT0gJChcIiNyZW5hbWVcIikudmFsKCkpXG5cbiAgICAgICAgICAgIC8vIGVkaXRvci5zZXREYXRhKCQoIFwiI2hpZGRlblwiICkuaHRtbCgpKTsgIC8vIGxvYWQgZGF0YSBpbiB0aGUgZWRpdG9yXG4gICAgICAgICAgICByZWFkKCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVuYW1lKCk7XG4gICAgICAgIH1cblxuXG4gICAgfSk7XG5cblxuXG5cblxuXG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gICAgdmFyIGh0bWwgPSBlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSAoXCJUZXh0XCIpO1xuICAgICAgICAvLyBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vICAgICAgaWYgKCBjdHJsSSApe1xuICAgICAgICAvLyAgICAgICAgLy8gQ0tFRElUT1IuaW5zdGFuY2VzWydpbnRyb2R1Y3Rpb24nXS5kZXN0cm95KCk7XG4gICAgICAgIC8vICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICAgLy8gICAgdmFyIGVkaXRvciA9IENLRURJVE9SLmlubGluZShcImludHJvZHVjdGlvblwiKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgIGNvbnNvbGUubG9nIChcInBhc3RlIGV2ZW50XCIpO1xuICAgICAgICAvLyAgICAgICAgLy8gZWRpdG9yLmluc2VydEh0bWwoaHRtbCk7XG4gICAgICAgIC8vICAgICAgfVxuICAgICAgICAvLyAgICAvLyB2YXIgaHRtbCA9IGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L2h0bWwnKTtcbiAgICAgICAgLy8gICAgY29uc29sZS5sb2coaHRtbCk7XG4gICAgICAgIC8vICAgIC8vIFdoYXRldmVyIHlvdSB3YW50IHRvIGRvIHdpdGggdGhlIGh0bWxcbiAgICB9KTtcblxuXG4gICAgZWRpdG9yLm9uKCdwYXN0ZScsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBldnQuc3RvcCgpO1xuICAgICAgICB2YXIgZGF0YSA9IGV2dC5kYXRhLmRhdGFWYWx1ZTtcblxuICAgICAgICBpZiAod2luZG93LmNocm9tZSB8fCB3aW5kb3cuc2FmYXJpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmluZyBzcGFuIHdyYXBwZXIgb24gd2Via2l0IGJyb3dzZXJzLlxuICAgICAgICAgICAgZGF0YSA9ICQoZGF0YSkuaHRtbCgpO1xuICAgICAgICB9XG4gICAgICAgIGV2dC5lZGl0b3IuaW5zZXJ0SHRtbChkYXRhKTtcbiAgICB9KTtcblxuXG5cbiAgICBlZGl0b3Iub24oJ2tleScsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnMycpO1xuICAgICAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDQwMTQ2OS9ob3ctdG8tc2VsZWN0LWEtdGV4dC1yYW5nZS1pbi1ja2VkaXRvci1wcm9ncmFtYXRpY2FsbHlcblxuICAgICAgICB2YXIgY2hhckNvZGUgPSBldnQuZGF0YS5rZXlDb2RlOyAvLyBhdCB0aGUgbW9tZW50IHRoaXMgaXMgd3JvbmcsIGtleUNvZGUgbmVlZHMgdG8gYmUgcHJvcGVybHkgY29udmVydGVkIHRvIGNoYXJDb2RlXG4gICAgICAgIC8vIHZhciBjbGlwYm9hcmREYXRhID0gZXZ0LmRhdGEuZGF0YVZhbHVlO1xuICAgICAgICBjb25zb2xlLmxvZyhjaGFyQ29kZSk7XG4gICAgICAgIHZhciB0YWcgPSBcImgxXCI7XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhzZWxlY3RlZFRleHQpO1xuICAgICAgICBzd2l0Y2ggKGNoYXJDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDExMTQxNjE6IC8vIEN0cmwgMVxuICAgICAgICAgICAgICAgIHRhZyA9IFwiPGgxPjwvaDE+XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExMTQxNjI6IC8vIEN0cmwgMlxuICAgICAgICAgICAgICAgIHRhZyA9IFwiPGgyPjwvaDI+XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExMTQxNjM6IC8vIEN0cmwgM1xuICAgICAgICAgICAgICAgIHRhZyA9IFwiPGgzPjwvaDM+XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExMTQxNjQ6IC8vIEN0cmwgNFxuICAgICAgICAgICAgICAgIHRhZyA9IFwiPGg0PjwvaDQ+XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExMTQxNjY6IC8vIEN0cmwgNlxuICAgICAgICAgICAgICAgIHRhZyA9IFwiPGg1PjwvaDU+XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExMTQxNjk6IC8vIEN0cmwgNlxuICAgICAgICAgICAgICAgIGVkaXRvci5pbnNlcnRIdG1sKFwiPGRpdiBjbGFzcz0nc2F2ZXRvZmlsZSc+cHV0IHRleHQ8L2Rpdj5cIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTExNDMwMDogLy8gQ3RybCAsXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NvbnZlcnQgQ29pbicpO1xuXG4gICAgICAgICAgICAgICAgc2VsID0gZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkVGV4dCgpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2VsKVxuXG4gICAgICAgICAgICAgICAgZWRpdG9yLmluc2VydEh0bWwoY29udmVydENvaW4oc2VsLCBcInl1YW5cIiwgXCJldXJvXCIpKVxuICAgICAgICAgICAgICAgICQoJ3A6aGFzKHNwYW4uY29zdCknKS5hZGRDbGFzcygnbWlkZGxlJyk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuXG4gICAgICAgICAgICBjYXNlIDExMTQzMDQ6IC8vIEN0cmwgYFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXF1ZXN0IGZhbnlpJyk7XG4gICAgICAgICAgICAgICAgbGV0IGxhbmcgPSAkKFwiI2xhbmdcIikudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIGxhbmd0byA9ICQoXCIjbGFuZ3RvXCIpLnZhbCgpXG5cblxuXG4gICAgICAgICAgICAgICAgc2VsID0gZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkVGV4dCgpLnJlcGxhY2UoLyhcXHJcXG5cXHR8XFxufFxcclxcdCkvZ20sIFwiXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzZWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmYW55aShzZWwsIGxhbmcsIGxhbmd0bykudGhlbihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyYW5zbGF0aW9uID0gXCI8c3BhbiBjbGFzcz0nb3JpZ2luYWwnIGxhbmc9J1wiICsgbGFuZyArIFwiJyBkYXRhLXBzZXVkby1jb250ZW50PSdcIiArIGFhLnNyYyArIFwiJyA+Jm5ic3A7PC9zcGFuPjxzcGFuIGNsYXNzPSd0cmFuc2xhdGUnICBsYW5nPSdcIiArIGxhbmd0byArIFwiJyA+XCIgKyBhYS50cmFuc2xhdGUgKyBcIjwvc3Bhbj5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmluc2VydEh0bWwodHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuXG5cblxuICAgICAgICAgICAgY2FzZSA1NTcwNjM4OiAvLyBDdHJsIEFsdCBOXG4gICAgICAgICAgICAgICAgLy8gdGFnPVwiPGI+PC9iPlwiO1xuICAgICAgICAgICAgICAgIHRhZyA9IFwiPGVtPjwvZW0+XCI7IC8vZW1waGFzaXNcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA1NTcwNjM3OiAvLyBDdHJsIEFsdCBNXG4gICAgICAgICAgICAgICAgdGFnID0gXCI8bWFyaz48L21hcms+XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU1NzA2Mjg6IC8vIEN0cmwgQWx0IERcbiAgICAgICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGV0aW1lID0gZC5nZXRGdWxsWWVhcigpICsgJy0nICsgZC5nZXRNb250aCgpICsgJy0nICsgZC5nZXREYXRlKCk7XG4gICAgICAgICAgICAgICAgdGFnID0gXCI8ZGVsIGRhdGV0aW1lPVwiICsgZGF0ZXRpbWUgKyBcIiB0aXRsZT1cIiArIGRhdGV0aW1lICsgXCI+PC9kaXY+XCI7IC8vZGVsIHRleHRcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTU3MDYzMzogLy8gQ3RybCBBbHQgSVxuICAgICAgICAgICAgICAgIHRhZyA9IFwiPGVtPjwvZW0+XCI7IC8vZW1waGFzaXNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjIyODMxNDogLy8gU2hpZnQgWiAgIFRlc3RcbiAgICAgICAgICAgICAgICAkKFwiI2NrZV8zX3RvcFwiKS50b2dnbGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzM0MjQwODogLy8gQ1RSTCBTaGlmdCBIICBIaWRlL3Nob3cgdG9vbCBiYXJcbiAgICAgICAgICAgICAgICAvLyBldnQuZGF0YS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAvLyBldnQuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICQoXCIjY2tlXzNfdG9wXCIpLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMTE0MTk1OiAvL0N0cmwgUyBzYXZlIGEgdmVyc2lvblxuICAgICAgICAgICAgICAgIHZlcnNpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoJCgnLnNhdmV0b2ZpbGUnKS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICBzYXZlKGV2dCwgXCJzYXZldG9maWxlXCIpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMzM0MjQwNDogLy8gQ3RybCBTaGlmdCBEICBJbnNlcnQgZGV0YWlsL1N1bW1hcnkgaHRtbFxuICAgICAgICAgICAgICAgIHZhciBzZWwgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRUZXh0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxzID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCdkZXRhaWxzJyk7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMuc2V0SHRtbCgnIDxzdW1tYXJ5PicgKyBzZWwgKyAnPC9zdW1tYXJ5PjxwPk1vcmUgaW5mbyBhYm91dCB0aGUgZGV0YWlscy48L3A+Jyk7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5pbnNlcnRFbGVtZW50KGRldGFpbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTExNDE5MTogLy8gQ3RybCBPICBPcGVuIGNvZGVTbmlwcGV0IGRpYWxvZ1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgnY29kZVNuaXBwZXQnKTsgLy93aWRnZXRcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxMTE0MTg1OiAvLyBDdHJsIEkgIEluc2VydGh0bWxcbiAgICAgICAgICAgICAgICAvLyB2YXIgc2VsID0gZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkVGV4dCgpO1xuICAgICAgICAgICAgICAgIGN0cmxJID0gIWN0cmxJO1xuXG4gICAgICAgICAgICAgICAgLy8gZXZ0LmRhdGEuZGF0YVZhbHVlID0gZXZ0LmRhdGEuZGF0YVZhbHVlXG4gICAgICAgICAgICAgICAgLy8gZWRpdG9yLmZpcmUoICdwYXN0ZScsZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9odG1sJykpO1xuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBjb2RlIG9idmlvdXNseSB3aWxsIG5vdCBwcmVzZXJ2ZSB0aGUgY2FzZSBvZiB0aGUgZmlyc3QgYW5kIGxhc3QgbGV0dGVycy5cbiAgICAgICAgICAgICAgICAvLyBMZXQgaXQgYmUgYW4gZXhlcmNpc2UgZm9yIHRoZSByZWFkZXIgOykuXG4gICAgICAgICAgICAgICAgLy8gZWRpdG9yLmV4ZWNDb21tYW5kKCAnaW5zZXJ0aHRtbDR4Jyk7ICAvL3dpZGdldFxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTExNDE4MjogLy8gQ3RybCBGIG9wZW4gZGlhbG9nIEZpbmQgYW5kIHJlcGxhY2VcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ2ZpbmQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAzMzQyNDAyOiAvLyBDdHJsIFNoaWZ0IEJcbiAgICAgICAgICAgICAgICBlZGl0b3IuaW5zZXJ0SHRtbChcIjxici8+XCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIGNhc2UgNzc5ODg2ODovLyBDdHJsIEFMVCBTSElUIFRcbiAgICAgICAgICAgICAgICAvLyAgIGVkaXRvci5pbnNlcnRIdG1sKCBcIjx0YWJsZSBjbGFzcz10YWJsZTFDbGFzcycgPiA8dGJvZHk+IFxcXG4gICAgICAgICAgICAgICAgLy8gICAgICA8dHI+PHRkPjE8L3RkPjx0ZD4yPC90ZD48L3RyPjx0cj48dGQ+MTwvdGQ+PHRkPjI8L3RkPjwvdHI+IFxcXG4gICAgICAgICAgICAgICAgLy8gICAgICA8L3Rib2R5PjwvdGFibGU+XCIpO1xuICAgICAgICAgICAgICAgIC8vICAgLy8gIGVkaXRvci5pbnNlcnRIdG1sKCBjbGlwYm9hcmREYXRhKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coY2xpcGJvYXJkRGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDMzNDI0MjI6IC8vIEN0cm9sIHNoaWZ0IFZcbiAgICAgICAgICAgICAgICB0ZXh0byA9ICdDcnRsICsgU0hJRlQgVic7IC8vIEN0cmwgMVxuICAgICAgICAgICAgICAgIC8vIHRleHQgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwiVGV4dFwiKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0ZXh0byk7XG4gICAgICAgICAgICAgICAgLy8gZWRpdG9yLmluc2VydEh0bWwoIGNsaXBib2FyZERhdGEpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRleHRvKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGV4dG8gPSAnT3RoZXIga2V5JztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIGtleXByZXNzID0gWzExMTQxNjEsIDExMTQxNjIsIDExMTQxNjMsIDExMTQxNjQsIDExMTQxNjYsIDExMTQxNjksIDU1NzA2MzcsIDU1NzA2MjgsIDU1NzA2MzMsIDU1NzA2MzhdO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhrZXlwcmVzcy5pbmRleE9mKGNoYXJDb2RlKSk7XG4gICAgICAgIGlmIChrZXlwcmVzcy5pbmRleE9mKGNoYXJDb2RlKSA+IC0xKSB7IC8vIHJldGFnIHRoZSBzZWxlY3QgYXJlYVxuICAgICAgICAgICAgdmFyIHNlbCA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZFRleHQoKTtcbiAgICAgICAgICAgIGlmIChzZWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vICB2YXIgbmV3RWxlbWVudCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0YWcpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdFbGVtZW50ID0gQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwodGFnKVxuICAgICAgICAgICAgICAgIC8vIG5ld0VsZW1lbnQuc2V0QXR0cmlidXRlcyh7c3R5bGU6ICcnfSk7XG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudC5zZXRUZXh0KHNlbCk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmluc2VydEVsZW1lbnQobmV3RWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBuZXdFbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRhZyk7XG4gICAgICAgICAgICAgICAgLy8gbmV3RWxlbWVudC5zZXRBdHRyaWJ1dGVzKHtzdHlsZTogJyd9KTtcbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50LnNldFRleHQoc2VsKTtcbiAgICAgICAgICAgICAgICAvLyAgZWRpdG9yLmluc2VydEVsZW1lbnQobmV3RWxlbWVudCkuc2VsZWN0RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIC8vICBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChuZXdFbGVtZW50KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgIH0pO1xuXG5cblxuXG5cbiAgICAvLyBvdmVycmlkZSBzaG9ydGN1dCBmaXJlZm94IGtleWJvYXJkXG4gICAgJCgnLmZpcnN0X2VkaXRvcicpLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJzQnKTtcblxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdldmVudG8gZXM6ICcrIGV2ZW50LmtleSArJ3NoaWZ0OiAnK2V2ZW50LmN0cmxLZXkgKyAnY3J0bDogJysgZXZlbnQuY3RybEtleSk7XG4gICAgICAgIHZhciBhID0gZXZlbnQua2V5O1xuICAgICAgICB2YXIgYiA9IGV2ZW50LmN0cmxLZXk7XG4gICAgICAgIHZhciBjID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgICAgIHZhciBkID0gZXZlbnQuYWx0S2V5O1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBldmVudC5rZXkgKyBldmVudC5jdHJsS2V5ICsgZXZlbnQuc2hpZnRLZXkgKyBldmVudC5hbHRLZXk7XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGIpO1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcblxuXG4gICAgICAgICAgICBjYXNlIChhID09ICdGJyAmJiBiICYmIGMgJiYgZCk6XG4gICAgICAgICAgICAgICAgdmFyIHNlbCA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZFRleHQoKTtcbiAgICAgICAgICAgICAgICBzZWwgPSBzZWwucmVwbGFjZSgvXFxzKy9nLCAnKycpOzsgLy9yZXBsYWNlIGFueSBzcGFjZSB3aXRoICtcbiAgICAgICAgICAgICAgICBvcGVuSW5OZXdUYWIoJ2h0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93L2luZGV4LnBocD9zZWFyY2g9JyArIHNlbCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2VsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAoYSA9PSAnRicgJiYgYiAmJiBjKTpcbiAgICAgICAgICAgICAgICB2YXIgc2VsID0gZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkVGV4dCgpO1xuICAgICAgICAgICAgICAgIHNlbCA9IHNlbC5yZXBsYWNlKC9cXHMrL2csICcrJyk7OyAvL3JlcGxhY2UgYW55IHNwYWNlIHdpdGggK1xuICAgICAgICAgICAgICAgIG9wZW5Jbk5ld1RhYignaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT0nICsgc2VsKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzZWwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cbiAgICAgICAgICAgIGNhc2UgKGEgPT0gJ0gnICYmIGIgJiYgYyk6XG4gICAgICAgICAgICBjYXNlIChhID09ICdzJyAmJiBiKTpcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvL2F2b2lkIG90aGVyIHNob3J0Y3V0IGtleXNcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIC8vIGNhc2UgKGEgPT0gJ0wnICYmIGIgICYmIGMpIDogLy8gQ3RybCBTaGlmdCBMXG4gICAgICAgICAgICAgICAgLy8gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvL2F2b2lkIG90aGVyIHNob3J0Y3V0IGtleXNcbiAgICAgICAgICAgICAgICAvLyAgICAgdGV4dCA9IGVkaXRvci5nZXRDbGlwYm9hcmREYXRhKFwiVGV4dFwiKTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBicmVhaztcblxuXG5cblxuICAgICAgICAgICAgY2FzZSAoYSA9PSAnaScgJiYgYiAmJiBkKTogLy9DdHJsIEFsdCBpXG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCdtYXRoamF4Jyk7IC8vd2lkZ2V0XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgKGEgPT0gJ2knICYmIGIpOlxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwcmVzcyBjdHJsIEknKTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvL2F2b2lkIG90aGVyIHNob3J0Y3V0IGtleXNcblxuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgnaW5zZXJ0aHRtbDR4Jyk7IC8vd2lkZ2V0XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cblxuXG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIGlmIChldmVudC5rZXkgPT09ICdIJyAmJiBldmVudC5jdHJsS2V5ICYmIGV2ZW50LnNoaWZ0S2V5ICApXG4gICAgICAgIC8vICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBpZiAoZXZlbnQua2V5ID09PSAncycgJiYgZXZlbnQuY3RybEtleSAgKVxuICAgICAgICAvLyAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuXG4gICAgZWRpdG9yLm9uKCdwYXN0ZScsIGZ1bmN0aW9uKGV2dCkge1xuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGlmICggY3RybEkgPT0gMSl7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgLy8gdmFyIGh0bWwgPSBlZGl0b3IuZ2V0Q2xpcGJvYXJkRGF0YShcIlRleHRcIik7XG4gICAgICAgIC8vICAgLy8gY29uc29sZS5sb2cgKFwicGFzdGUgZXZlbnRcIiArIGh0bWwpO1xuICAgICAgICAvLyAgIC8vIGVkaXRvci5pbnNlcnRIdG1sKGh0bWwpO1xuICAgICAgICAvLyAgIGN0cmxJPTA7XG4gICAgICAgIC8vICAgZWRpdG9yLmdldENsaXBib2FyZERhdGEoIHsgdGl0bGU6ICdHZXQgbXkgZGF0YScgfSwgZnVuY3Rpb24oIGRhdGEgKSB7XG4gICAgICAgIC8vICAgICAgIGlmICggZGF0YSApXG4gICAgICAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyggJ2RhdGEgaXM6ICcgKyBkYXRhLmRhdGFWYWx1ZSApO1xuICAgICAgICAvLyAgIH0gKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gfVxuICAgICAgICAvL1xuXG5cblxuXG4gICAgICAgIC8vIGhpZ2hsaWdodGpzd29ya2VycygpO1xuICAgIH0pO1xuXG5cbiAgICBlZGl0b3Iub24oJ2ZvY3VzJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIC8vICAgICAgICAgLy8gaGlnaGxpZ2h0anN3b3JrZXJzKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdsb29zZSBmb2N1cyBjb21tYW5kIEFyZWEnKVxuICAgICAgICAvLyAkKFwiI2NvbW1hbmRBcmVhXCIpLmNzcyhcInotaW5kZXhcIiwwKVxuICAgICAgICAvLyAkKFwiLmZhbnlpXCIpLmNzcyhcInotaW5kZXhcIiwzMClcblxuXG5cbiAgICB9KTtcblxuICAgIGVkaXRvci5vbignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcblxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2snKTtcblxuICAgIH0pO1xuXG4gICAgZWRpdG9yLm9uKCdkb3VibGVjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGV2dC5kYXRhLmVsZW1lbnQ7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ2RvdWJsZWNsaWNrJyk7XG4gICAgICAgIGNsYXNzZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdkb3VibGVjbGljayBpbiBjbGFzcyAnICsgY2xhc3NlKVxuICAgICAgICBpZiAoY2xhc3NlID09ICdqaWViYScpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGV4dClcbiAgICAgICAgICAgIHRyYW5zbGF0ZV9zZWxlY3QodGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsYXNzZSA9PSAndmlkZW9saW5rJykge1xuICAgICAgICAgICAgbG9hZFZpZGVvKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgICAgIGlmIChjbGFzc2UgPT0gJ3ZpZGVvbGluaycpIHtcbiAgICAgICAgICAgIGxvYWRWaWRlbyhlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFnID0gZWxlbWVudC5nZXROYW1lKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhZyk7XG4gICAgICAgIGlmICh0YWcgPT0gJ2EnKSB7XG4gICAgICAgICAgICB1cmwgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICAgICAgICBvcGVuSW5OZXdUYWIodXJsKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nICgnY2xpY2sgbGluaycrIHVybCk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgZWRpdG9yLm9uKCdibHVyJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiYmx1cnJcIik7XG4gICAgICAgIHNhdmUoZXZ0LCBcInNhdmVcIik7XG4gICAgfSk7XG5cbiAgICBlZGl0b3Iub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyggJ1RvdGFsIGJ5dGVzOiAnICsgZXZ0LmVkaXRvci5nZXREYXRhKCkubGVuZ3RoICk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzYXZlZCcrJCggXCIjdGl0dGxlXCIgKS52YWwoKSk7XG4gICAgICAgIC8vICQucG9zdCggXCIvaW5jL3NhdmUucGhwXCIsIHsgZWRpdGFibGVkYXRhOiBldnQuZWRpdG9yLmdldERhdGEoKSwgZWRpdG9ySUQ6ICQoIFwiI3RpdHRsZVwiICkudmFsKCkgfSApO1xuICAgIH0pO1xufSk7XG5cblxuZnVuY3Rpb24gb3BlbkluTmV3VGFiKHVybCkge1xuICAgIHZhciB3aW4gPSB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKTtcbiAgICB3aW4uZm9jdXMoKTtcbn1cblxuZnVuY3Rpb24gaGFzaENvZGUoc3RyKSB7XG4gICAgdmFyIGhhc2ggPSAwO1xuICAgIGlmIChzdHIubGVuZ3RoID09IDApIHJldHVybiBoYXNoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hhciA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyO1xuICAgICAgICBoYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICAgIH1cbiAgICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBjb252ZXJ0Q29pbih2YWx1ZSwgY29pbiwgdG9jb2luKSB7XG4gICAgY29uc29sZS5sb2coJ2NvbnZlcnRDb2luJylcblxuICAgIGxldCBhYSA9IFwiPHNwYW4gZGF0YS1jb3N0PSdcIiArIHZhbHVlICsgXCInIGRhdGEtY29pbj0nXCIgKyBjb2luICsgXCInIGRhdGEtY29pbi1jb252ZXJ0PSdcIiArIHRvY29pbiArIFwiJyBjbGFzcz0nY29zdCc+VG8gY29udmVydCBcIiArIGNvaW4gKyBcIiBpbnRvIFwiICsgdG9jb2luICsgXCIgXCIgKyB2YWx1ZSArIFwiPC9zcGFuPlwiXG4gICAgLy8gJCgndGQgcDpoYXMoc3Bhbi5jb3N0KScpLmFkZENsYXNzKCdtaWRkbGUnKTtcbiAgICByZXR1cm4gYWFcbn1cblxuXG5mdW5jdGlvbiBkb1NvbWV0aGluZygpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkl0IGlzIGRvbmUuXCIpO1xuICAgICAgICAvLyBTdWNjZWVkIGhhbGYgb2YgdGhlIHRpbWUuXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gLjUpIHtcbiAgICAgICAgICAgIHJlc29sdmUoXCJTVUNDRVNTXCIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoXCJGQUlMVVJFXCIpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5mdW5jdGlvbiBmYW55aSh0ZXh0LCBsYW5nLCBsYW5ndG8pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB2YXIgdXJsID0gZG9jdW1lbnQubG9jYXRpb24ub3JpZ2luICsgJy9mYW55aSdcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBcImZyb21cIjogbGFuZyxcbiAgICAgICAgICAgIFwidG9cIjogbGFuZ3RvLFxuICAgICAgICAgICAgXCJzcmNcIjogdGV4dCxcbiAgICAgICAgICAgIFwiaVwiOiAnMSdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGVuY29kZV9wYXJhbXMgPSAkLnBhcmFtKGRhdGEsIHRydWUpXG4gICAgICAgIHZhciB1cmwgPSB1cmwgKyAnPycgKyBlbmNvZGVfcGFyYW1zXG5cbiAgICAgICAgJC5nZXRKU09OKHVybCwgZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgICAgICByZXNvbHZlKGRhdGEpXG4gICAgICAgIH0pO1xuXG5cbiAgICB9KVxuXG5cbn1cblxuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBtZXNzYWdlKHN0cikge1xuXG4gICAgJChcIiN0ZXh0aW5mb1wiKS5odG1sKHN0cikuY3NzKHsgb3BhY2l0eTogMC45OSB9KTtcbiAgICAkKFwiI3RleHRpbmZvXCIpLmFuaW1hdGUoeyBvcGFjaXR5OiAwIH0sIDEyMDApO1xufVxuXG5mdW5jdGlvbiBiYXNlbmFtZShwYXRoLCBzdWZmaXgpIHtcbiAgICB2YXIgYiA9IHBhdGhcbiAgICB2YXIgbGFzdENoYXIgPSBiLmNoYXJBdChiLmxlbmd0aCAtIDEpXG5cbiAgICBpZiAobGFzdENoYXIgPT09ICcvJyB8fCBsYXN0Q2hhciA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIGIgPSBiLnNsaWNlKDAsIC0xKVxuICAgIH1cblxuICAgIGIgPSBiLnJlcGxhY2UoL14uKltcXC9cXFxcXS9nLCAnJylcblxuICAgIGlmICh0eXBlb2Ygc3VmZml4ID09PSAnc3RyaW5nJyAmJiBiLnN1YnN0cihiLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpID09PSBzdWZmaXgpIHtcbiAgICAgICAgYiA9IGIuc3Vic3RyKDAsIGIubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aClcbiAgICB9XG5cbiAgICByZXR1cm4gYlxufVxuXG5cbmZ1bmN0aW9uIGRpcm5hbWUocGF0aCkge1xuICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKS5yZXBsYWNlKC9cXC9bXlxcL10qXFwvPyQvLCAnJylcbn1cblxuZnVuY3Rpb24gYWdyZWdhdGV4dChzZWxlY3Rvcikge1xuICAgIHZhciB0ZXh0cyA9ICcnO1xuXG4gICAgJChcIi5maXJzdF9lZGl0b3JcIikuY2hpbGRyZW4oc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbihcInBcIikuZWFjaChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdGV4dHMgKz0gJCh0aGlzKS50ZXh0KCkgKyBcIlxcclxcblwiO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBhbGxMaXN0RWxlbWVudHMgPSAkKFwibGkgYnJcIik7XG5cbiAgICAgICAgJChcIi5maXJzdF9lZGl0b3JcIikuZmluZChhbGxMaXN0RWxlbWVudHMpLmVhY2goZnVuY3Rpb24oKVxuICAgICAgICAgICAgLy8gJCh0aGlzKS5uZXh0QWxsKFwibGlcIikuZWFjaChmdW5jdGlvbigpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHMgKz0gXCIgIFwiICsgJCh0aGlzKS5jb250ZW50cygpLmdldCgwKS5ub2RlVmFsdWUgKyBcIlxcclxcblwiO1xuXG4gICAgICAgICAgICB9KTtcblxuXG5cblxuXG4gICAgfSk7XG5cblxuICAgIHJldHVybiB0ZXh0cztcbn1cblxuXG5cblxuXG5cbmZ1bmN0aW9uIHNhdmUoZXZ0LCBhY3Rpb24pIHtcblxuXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgY2FzZSBcInNhdmVcIjogLy8gZWRpdG9yIHNhdmUgY29udGVudFxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlZGl0b3Igc2F2ZSAyXCIpO1xuICAgICAgICAgICAgJC5wb3N0KFwiL2luYy9zYXZlLnBocFwiLCB7IGFjdGlvbjogXCJzYXZlXCIsIGRhdGE6IGV2dC5lZGl0b3IuZ2V0RGF0YSgpLCBwYXRoOiBcIi9kYXRhL3J3MS9tMVwiLCBmaWxlOiAkKFwiI3RpdHRsZVwiKS52YWwoKSB9KTtcbiAgICAgICAgICAgIC8vICB0byBwcmV2ZW50IHRpbWUgY29uc3VtaW5nXG4gICAgICAgICAgICAvLyAgcmVhZCgpO1xuICAgICAgICAgICAgbWVzc2FnZShcImZpbGUgc2F2ZWRcIik7XG5cblxuXG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2F2ZXRvZmlsZVwiOlxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYXZlIHRleHRcIik7XG4gICAgICAgICAgICB2YXIgZmlsZSA9ICQoXCIuZmlyc3RfZWRpdG9yXCIpLmNoaWxkcmVuKFwiLnBhdGhcIikudGV4dCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZSk7XG4gICAgICAgICAgICBtZXNzYWdlKFwiZmlsZSBzYXZlZCBcIiArIGZpbGUpO1xuXG5cbiAgICAgICAgICAgIC8vIHZhciBmaWxlID0gXCIvZGF0YS9tMy9tbS5tbVwiO1xuICAgICAgICAgICAgdmFyIHBhdGggPSBkaXJuYW1lKGZpbGUpO1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBiYXNlbmFtZShmaWxlLCAnJyk7XG4gICAgICAgICAgICAvLyB2YXIgZGF0YT0nJztcbiAgICAgICAgICAgIC8vICQoXCIjc2F2ZXRvZmlsZVwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gICAgZGF0YSA9IGRhdGEgICsgICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAvLyAgICAvL2NvZGVcbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgZGF0YSA9IGFncmVnYXRleHQoXCIuc2F2ZXRvZmlsZVwiKTtcbiAgICAgICAgICAgIC8vICBkYXRhPVwidGVzdFwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwYXRoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGUpO1xuXG4gICAgICAgICAgICAkLnBvc3QoXCIvaW5jL3NhdmUucGhwXCIsIHsgYWN0aW9uOiBcInNhdmVcIiwgZGF0YTogZGF0YSwgcGF0aDogcGF0aCwgZmlsZTogZmlsZSB9KTtcblxuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXRoLmJhc2VuYW1lKHN0ciwgJy5odG1sJykpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcblxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNhdmUgZGVmYXVsdFwiKTtcblxuICAgIH1cblxuXG5cblxuICAgIC8vICBjb25zb2xlLmxvZyhcImhhc2NvZGUgaXMgaXM6IFwiICsgaGFzaENvZGUoJCggXCIjaGlkZGVuXCIgKS50ZXh0KCkpKTtcbiAgICAvLyBjb25zb2xlLmxvZyAoXCIxIFwiICtoYXNoQ29kZSgkKCBcIiNoaWRkZW5cIiApLnRleHQoKSkpO1xuICAgIC8vIGNvbnNvbGUubG9nIChcIjIgXCIgKyQoIFwiI2hhc2hcIiApLnRleHQoKSk7XG5cbn1cblxuXG5mdW5jdGlvbiByZWFkKCkge1xuXG5cblxuICAgICQuZ2V0KCcvbTEvJyArICQoXCIjdGl0dGxlXCIpLnZhbCgpLCB7IFwiX1wiOiAkLm5vdygpIH0sIGZ1bmN0aW9uKGRhdGEyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVhZGluZyBmaWxlIFwiICsgJy9tMS8nICsgJChcIiN0aXR0bGVcIikudmFsKCkpO1xuXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIC8vICAkKCcjaGlkZGVuJykuaHRtbChkYXRhMik7XG4gICAgICAgICQoJy5maXJzdF9lZGl0b3InKS5odG1sKGRhdGEyKTtcblxuICAgICAgICBoaWdobGlnaHRqc3dvcmtlcnMoKTtcblxuXG4gICAgICAgIC8vICQoJy5maXJzdF9lZGl0b3InKS5odG1sKGRhdGEpO1xuXG4gICAgfSkuZG9uZShmdW5jdGlvbigpIHtcblxuXG4gICAgICAgIC8vIGlmIChoYXNoQ29kZSgkKCBcIiNoaWRkZW5cIiApLnRleHQoKSkgPT0gJCggXCIjaGFzaFwiICkudGV4dCgpICAgKVxuICAgICAgICAvLyBtZXNzYWdlKFwibm8gbW9kaWZpYXRpb25zXCIpO1xuICAgICAgICAvLyBlbHNlIHtcbiAgICAgICAgLy8gICBtZXNzYWdlIChcInNhdmVkIVwiKVxuICAgICAgICAvLyAgICQoIFwiI2hhc2hcIiApLmh0bWwoaGFzaENvZGUoJCggXCIjaGlkZGVuXCIgKS50ZXh0KCkpKTt9XG4gICAgICAgIC8vXG4gICAgfSkuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8kKCcuZmlyc3RfZWRpdG9yJykuaHRtbChcIjxoMT5lcnJvciA0MDQgbm8gZmlsZTwvaDE+XCIpOyAvLyBvciB3aGF0ZXZlclxuICAgIH0sICd0ZXh0Jyk7XG5cbn1cblxuZnVuY3Rpb24gaGlnaGxpZ2h0anN3b3JrZXJzKCkge1xuXG4gICAgLy8gaGxqcy5pbml0SGlnaGxpZ2h0aW5nT25Mb2FkKCk7XG4gICAgJCgncHJlIGNvZGUnKS5lYWNoKGZ1bmN0aW9uKGksIGJsb2NrKSB7XG4gICAgICAgIGhsanMuaGlnaGxpZ2h0QmxvY2soYmxvY2spO1xuICAgIH0pO1xuXG4gICAgLy8gIHZhciBjb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigncHJlIGNvZGUnKTtcbiAgICAvLyAgdmFyIHdvcmtlciA9IG5ldyBXb3JrZXIoJy9qcy93b3JrZXIuanMnKTtcbiAgICAvLyAgaWYgKCF3b3JrZXIub25tZXNzYWdlKSB7Ly9hdm9pZCBudWxsIG9iamVjdCBpbiBjYXNlIGRvZXNudCBleGlzdHNcbiAgICAvLyAgd29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7IGNvZGUuaW5uZXJIVE1MID0gZXZlbnQuZGF0YTsgfVxuICAgIC8vIC8vIHdvcmtlci5wb3N0TWVzc2FnZShjb2RlLnRleHRDb250ZW50KTtcbiAgICAvLyB9XG59O1xuXG5cbi8vcmVuYW1lIGZpbGVcbmZ1bmN0aW9uIHJlbmFtZSgpIHtcblxuICAgIGNvbnNvbGUubG9nKFwiY2hhbmdlIHRoaXMgZmlsZTogXCIgKyAkKFwiI3RpdHRsZVwiKS52YWwoKSArIFwiIGJ5IHRoaXMgZmlsZTogXCIgKyAkKFwiI3JlbmFtZVwiKS52YWwoKSk7XG4gICAgJC5wb3N0KFwiL2luYy9zYXZlLnBocFwiLCB7IGFjdGlvbjogXCJyZW5hbWVcIiwgZmlsZTogJChcIiN0aXR0bGVcIikudmFsKCksIHBhdGg6IFwiL2RhdGEvcncxL20xXCIsIGZpbGVvdXQ6ICQoXCIjcmVuYW1lXCIpLnZhbCgpIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChcIiN0aXR0bGVcIikudmFsKCQoXCIjcmVuYW1lXCIpLnZhbCgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtZXNzYWdlKFwiZmlsZSByZW5hbWVkIHRvIFwiICsgJChcIiNyZW5hbWVcIikudmFsKCkpO1xuICAgICAgICB9KVxuICAgICAgICAuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiZXJyb3JcIik7XG4gICAgICAgIH0pO1xuXG59O1xuXG5cbi8vcmVuYW1lIGZpbGVcbmZ1bmN0aW9uIHZlcnNpb24oKSB7XG5cbiAgICBjb25zb2xlLmxvZyhcImNyZWF0aW5nIGEgbmV3IHZlcnNpb24gb2YgdGhpczogXCIgKyAkKFwiI3RpdHRsZVwiKS52YWwoKSk7XG5cbiAgICAkLnBvc3QoXCIvaW5jL3NhdmUucGhwXCIsIHsgYWN0aW9uOiBcInZlcnNpb25cIiwgZmlsZTogJChcIiN0aXR0bGVcIikudmFsKCksIHBhdGg6IFwiL2RhdGEvcncxL20xXCIsIGZpbGVvdXQ6ICQoXCIjcmVuYW1lXCIpLnZhbCgpIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChcIiN0aXR0bGVcIikudmFsKCQoXCIjcmVuYW1lXCIpLnZhbCgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtZXNzYWdlKFwiTmV3IHZlcnNpb24gYmFja2VkXCIpO1xuICAgICAgICB9KVxuICAgICAgICAuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiZXJyb3JcIik7XG4gICAgICAgIH0pO1xuXG59O1xuXG5cblxuXG5cblxuZnVuY3Rpb24gbG9hZGF1dG9zZWFyY2goc291cmNlKSB7XG5cbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgdXJsOiBzb3VyY2UsXG4gICAgICAgIGdldFZhbHVlOiBcImZpbGVuYW1lXCIsXG4gICAgICAgIC8vIG1pbkxlbmd0aDogMyxcbiAgICAgICAgLy8gIGF1dG9Gb2N1czogdHJ1ZSxcbiAgICAgICAgLy8gIG15IDogXCIxMDAgMTAwXCIsXG4gICAgICAgIC8vICBhdDogXCJib3R0b21cIiAsXG4gICAgICAgIC8vICBvZjpcIiN0aXR0bGVcIixcblxuICAgICAgICB0ZW1wbGF0ZToge1xuICAgICAgICAgICAgdHlwZTogXCJkZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgLy8gZGVzY3JpcHRpb246IFwiZW1haWxcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsaXN0OiB7XG4gICAgICAgICAgICBtYXRjaDoge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICB0aGVtZTogXCJwbGF0ZS1kYXJrXCJcbiAgICB9O1xuXG4gICAgJChcIiN0aXR0bGVcIikuZWFzeUF1dG9jb21wbGV0ZShvcHRpb25zKTtcblxufTtcblxuXG5cblxuXG5mdW5jdGlvbiBsb2FkVmlkZW8oZWxlbWVudCkge1xuXG4gICAgY29uc29sZS5sb2coJ2VsZW1lbnQgaXMgdmlkZW9saW5rJyk7XG4gICAgY29uc29sZS5sb2coZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSk7XG4gICAgc3JjID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcbiAgICAvLyAkKCd2aWRlby52aWRlb3JlYWQgc291cmNlJykuYXR0cignc3JjJywgc3JjKTtcbiAgICAkKCcjdmlkZW8nKS5zaG93KCk7XG4gICAgJCgnI215LXBsYXllcl9odG1sNV9hcGknKS5hdHRyKCdzcmMnLCBzcmMpO1xuICAgICQoJyNteS1wbGF5ZXJfaHRtbDVfYXBpJykubG9hZCgpO1xuICAgICQoJyNteS1wbGF5ZXJfaHRtbDVfYXBpJykucGxheSgpO1xuICAgIC8vICQoXCJ2aWRlby52aWRlb3JlYWRcIilbMF0ubG9hZCgpO1xuICAgIC8vICQoXCJ2aWRlby52aWRlb3JlYWRcIilbMF0ucGxheSgpO1xuICAgIC8vIGV2dC5kYXRhLmRpYWxvZyA9ICd0YWJsZVByb3BlcnRpZXMnICAgO1xuXG59XG5cblxuXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XG4gICAgaWYgKCF1cmwpIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcbiAgICAgICAgcmVzdWx0cyA9IHJlZ2V4LmV4ZWModXJsKTtcbiAgICBpZiAoIXJlc3VsdHMpIHJldHVybiBudWxsO1xuICAgIGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1syXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbn1cblxuXG5mdW5jdGlvbiBpbnNlcnRCYWlkdW1hcCgpIHtcblxuXG4gICAgdmFyIG1hcCA9IG5ldyBCTWFwLk1hcChcImFsbG1hcFwiKTsgLy8g5Yib5bu6TWFw5a6e5L6LXG4gICAgbWFwLmNlbnRlckFuZFpvb20obmV3IEJNYXAuUG9pbnQoMTE2LjQwNCwgMzkuOTE1KSwgMTEpOyAvLyDliJ3lp4vljJblnLDlm74s6K6+572u5Lit5b+D54K55Z2Q5qCH5ZKM5Zyw5Zu+57qn5YirXG4gICAgLy/mt7vliqDlnLDlm77nsbvlnovmjqfku7ZcbiAgICBtYXAuYWRkQ29udHJvbChuZXcgQk1hcC5NYXBUeXBlQ29udHJvbCh7XG4gICAgICAgIG1hcFR5cGVzOiBbXG4gICAgICAgICAgICBCTUFQX05PUk1BTF9NQVAsXG4gICAgICAgICAgICBCTUFQX0hZQlJJRF9NQVBcbiAgICAgICAgXVxuICAgIH0pKTtcbiAgICBtYXAuc2V0Q3VycmVudENpdHkoXCLljJfkuqxcIik7IC8vIOiuvue9ruWcsOWbvuaYvuekuueahOWfjuW4giDmraTpobnmmK/lv4Xpobvorr7nva7nmoRcbiAgICBtYXAuZW5hYmxlU2Nyb2xsV2hlZWxab29tKHRydWUpOyAvL+W8gOWQr+m8oOagh+a7mui9rue8qeaUvlxuXG59IiwiLypcbkNvcHlyaWdodCAoYykgMjAwMy0yMDE4LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2VcbiovXG4oZnVuY3Rpb24oKXt3aW5kb3cuQ0tFRElUT1ImJndpbmRvdy5DS0VESVRPUi5kb218fCh3aW5kb3cuQ0tFRElUT1J8fCh3aW5kb3cuQ0tFRElUT1I9ZnVuY3Rpb24oKXt2YXIgYT0vKF58LipbXFxcXFxcL10pY2tlZGl0b3JcXC5qcyg/OlxcPy4qfDsuKik/JC9pLGU9e3RpbWVzdGFtcDpcIkkzSThcIix2ZXJzaW9uOlwiNC45LjIgKFN0YW5kYXJkKVwiLHJldmlzaW9uOlwiOTVlNWQ4M2VlXCIscm5kOk1hdGguZmxvb3IoOTAwKk1hdGgucmFuZG9tKCkpKzEwMCxfOntwZW5kaW5nOltdLGJhc2VQYXRoU3JjUGF0dGVybjphfSxzdGF0dXM6XCJ1bmxvYWRlZFwiLGJhc2VQYXRoOmZ1bmN0aW9uKCl7dmFyIGI9d2luZG93LkNLRURJVE9SX0JBU0VQQVRIfHxcIlwiO2lmKCFiKWZvcih2YXIgYz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBnPWNbZV0uc3JjLm1hdGNoKGEpO2lmKGcpe2I9Z1sxXTticmVha319LTE9PWIuaW5kZXhPZihcIjovXCIpJiZcIi8vXCIhPVxuYi5zbGljZSgwLDIpJiYoYj0wPT09Yi5pbmRleE9mKFwiL1wiKT9sb2NhdGlvbi5ocmVmLm1hdGNoKC9eLio/OlxcL1xcL1teXFwvXSovKVswXStiOmxvY2F0aW9uLmhyZWYubWF0Y2goL15bXlxcP10qXFwvKD86KS8pWzBdK2IpO2lmKCFiKXRocm93J1RoZSBDS0VkaXRvciBpbnN0YWxsYXRpb24gcGF0aCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBkZXRlY3RlZC4gUGxlYXNlIHNldCB0aGUgZ2xvYmFsIHZhcmlhYmxlIFwiQ0tFRElUT1JfQkFTRVBBVEhcIiBiZWZvcmUgY3JlYXRpbmcgZWRpdG9yIGluc3RhbmNlcy4nO3JldHVybiBifSgpLGdldFVybDpmdW5jdGlvbihhKXstMT09YS5pbmRleE9mKFwiOi9cIikmJjAhPT1hLmluZGV4T2YoXCIvXCIpJiYoYT10aGlzLmJhc2VQYXRoK2EpO3RoaXMudGltZXN0YW1wJiZcIi9cIiE9YS5jaGFyQXQoYS5sZW5ndGgtMSkmJiEvWyY/XXQ9Ly50ZXN0KGEpJiYoYSs9KDA8PWEuaW5kZXhPZihcIj9cIik/XCJcXHgyNlwiOlwiP1wiKStcInRcXHgzZFwiK3RoaXMudGltZXN0YW1wKTtcbnJldHVybiBhfSxkb21SZWFkeTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0cnl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixhLCExKSxiKCkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiZcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYoZG9jdW1lbnQuZGV0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixhKSxiKCkpfWNhdGNoKGcpe319ZnVuY3Rpb24gYigpe2Zvcih2YXIgYTthPWMuc2hpZnQoKTspYSgpfXZhciBjPVtdO3JldHVybiBmdW5jdGlvbihnKXtmdW5jdGlvbiBiKCl7dHJ5e2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbChcImxlZnRcIil9Y2F0Y2goZil7c2V0VGltZW91dChiLDEpO3JldHVybn1hKCl9Yy5wdXNoKGcpO1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJnNldFRpbWVvdXQoYSwxKTtpZigxPT1jLmxlbmd0aClpZihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsXG5hLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixhLCExKTtlbHNlIGlmKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGEpO3dpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLGEpO2c9ITE7dHJ5e2c9IXdpbmRvdy5mcmFtZUVsZW1lbnR9Y2F0Y2gobSl7fWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCYmZyYmYigpfX19KCl9LGI9d2luZG93LkNLRURJVE9SX0dFVFVSTDtpZihiKXt2YXIgYz1lLmdldFVybDtlLmdldFVybD1mdW5jdGlvbihhKXtyZXR1cm4gYi5jYWxsKGUsYSl8fGMuY2FsbChlLGEpfX1yZXR1cm4gZX0oKSksQ0tFRElUT1IuZXZlbnR8fChDS0VESVRPUi5ldmVudD1mdW5jdGlvbigpe30sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T249ZnVuY3Rpb24oYSl7dmFyIGU9Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLGI7Zm9yKGIgaW4gZSludWxsPT1hW2JdJiYoYVtiXT1lW2JdKX0sXG5DS0VESVRPUi5ldmVudC5wcm90b3R5cGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBkPWUodGhpcyk7cmV0dXJuIGRbYV18fChkW2FdPW5ldyBiKGEpKX12YXIgZT1mdW5jdGlvbihhKXthPWEuZ2V0UHJpdmF0ZSYmYS5nZXRQcml2YXRlKCl8fGEuX3x8KGEuXz17fSk7cmV0dXJuIGEuZXZlbnRzfHwoYS5ldmVudHM9e30pfSxiPWZ1bmN0aW9uKGEpe3RoaXMubmFtZT1hO3RoaXMubGlzdGVuZXJzPVtdfTtiLnByb3RvdHlwZT17Z2V0TGlzdGVuZXJJbmRleDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxlPXRoaXMubGlzdGVuZXJzO2I8ZS5sZW5ndGg7YisrKWlmKGVbYl0uZm49PWEpcmV0dXJuIGI7cmV0dXJuLTF9fTtyZXR1cm57ZGVmaW5lOmZ1bmN0aW9uKGIsZCl7dmFyIGU9YS5jYWxsKHRoaXMsYik7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGUsZCwhMCl9LG9uOmZ1bmN0aW9uKGIsZCxlLGssZyl7ZnVuY3Rpb24gaChmLGEsZyxuKXtmPXtuYW1lOmIsc2VuZGVyOnRoaXMsZWRpdG9yOmYsXG5kYXRhOmEsbGlzdGVuZXJEYXRhOmssc3RvcDpnLGNhbmNlbDpuLHJlbW92ZUxpc3RlbmVyOm19O3JldHVybiExPT09ZC5jYWxsKGUsZik/ITE6Zi5kYXRhfWZ1bmN0aW9uIG0oKXtuLnJlbW92ZUxpc3RlbmVyKGIsZCl9dmFyIGY9YS5jYWxsKHRoaXMsYik7aWYoMD5mLmdldExpc3RlbmVySW5kZXgoZCkpe2Y9Zi5saXN0ZW5lcnM7ZXx8KGU9dGhpcyk7aXNOYU4oZykmJihnPTEwKTt2YXIgbj10aGlzO2guZm49ZDtoLnByaW9yaXR5PWc7Zm9yKHZhciBwPWYubGVuZ3RoLTE7MDw9cDtwLS0paWYoZltwXS5wcmlvcml0eTw9ZylyZXR1cm4gZi5zcGxpY2UocCsxLDAsaCkse3JlbW92ZUxpc3RlbmVyOm19O2YudW5zaGlmdChoKX1yZXR1cm57cmVtb3ZlTGlzdGVuZXI6bX19LG9uY2U6ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGI9YVsxXTthWzFdPWZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtyZXR1cm4gYi5hcHBseSh0aGlzLFxuYXJndW1lbnRzKX07cmV0dXJuIHRoaXMub24uYXBwbHkodGhpcyxhKX0sY2FwdHVyZTpmdW5jdGlvbigpe0NLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MTt2YXIgYT10aGlzLm9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTA7cmV0dXJuIGF9LGZpcmU6ZnVuY3Rpb24oKXt2YXIgYT0wLGI9ZnVuY3Rpb24oKXthPTF9LGw9MCxrPWZ1bmN0aW9uKCl7bD0xfTtyZXR1cm4gZnVuY3Rpb24oZyxoLG0pe3ZhciBmPWUodGhpcylbZ107Zz1hO3ZhciBuPWw7YT1sPTA7aWYoZil7dmFyIHA9Zi5saXN0ZW5lcnM7aWYocC5sZW5ndGgpZm9yKHZhciBwPXAuc2xpY2UoMCkscix2PTA7djxwLmxlbmd0aDt2Kyspe2lmKGYuZXJyb3JQcm9vZil0cnl7cj1wW3ZdLmNhbGwodGhpcyxtLGgsYixrKX1jYXRjaCh4KXt9ZWxzZSByPXBbdl0uY2FsbCh0aGlzLG0saCxiLGspOyExPT09cj9sPTE6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJihoPXIpO2lmKGF8fGwpYnJlYWt9fWg9XG5sPyExOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBoPyEwOmg7YT1nO2w9bjtyZXR1cm4gaH19KCksZmlyZU9uY2U6ZnVuY3Rpb24oYSxiLGwpe2I9dGhpcy5maXJlKGEsYixsKTtkZWxldGUgZSh0aGlzKVthXTtyZXR1cm4gYn0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oYSxiKXt2YXIgbD1lKHRoaXMpW2FdO2lmKGwpe3ZhciBrPWwuZ2V0TGlzdGVuZXJJbmRleChiKTswPD1rJiZsLmxpc3RlbmVycy5zcGxpY2UoaywxKX19LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPWUodGhpcyksYjtmb3IoYiBpbiBhKWRlbGV0ZSBhW2JdfSxoYXNMaXN0ZW5lcnM6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9ZSh0aGlzKVthXSkmJjA8YS5saXN0ZW5lcnMubGVuZ3RofX19KCkpLENLRURJVE9SLmVkaXRvcnx8KENLRURJVE9SLmVkaXRvcj1mdW5jdGlvbigpe0NLRURJVE9SLl8ucGVuZGluZy5wdXNoKFt0aGlzLGFyZ3VtZW50c10pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZT1cbmZ1bmN0aW9uKGEsZSl7YSBpbntpbnN0YW5jZVJlYWR5OjEsbG9hZGVkOjF9JiYodGhpc1thXT0hMCk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5maXJlLmNhbGwodGhpcyxhLGUsdGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZU9uY2U9ZnVuY3Rpb24oYSxlKXthIGlue2luc3RhbmNlUmVhZHk6MSxsb2FkZWQ6MX0mJih0aGlzW2FdPSEwKTtyZXR1cm4gQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlLmZpcmVPbmNlLmNhbGwodGhpcyxhLGUsdGhpcyl9LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUpKSxDS0VESVRPUi5lbnZ8fChDS0VESVRPUi5lbnY9ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksZT1hLm1hdGNoKC9lZGdlWyBcXC9dKFxcZCsuP1xcZCopLyksYj0tMTxhLmluZGV4T2YoXCJ0cmlkZW50L1wiKSxiPSEoIWUmJiFiKSxiPXtpZTpiLGVkZ2U6ISFlLHdlYmtpdDohYiYmXG4tMTxhLmluZGV4T2YoXCIgYXBwbGV3ZWJraXQvXCIpLGFpcjotMTxhLmluZGV4T2YoXCIgYWRvYmVhaXIvXCIpLG1hYzotMTxhLmluZGV4T2YoXCJtYWNpbnRvc2hcIikscXVpcmtzOlwiQmFja0NvbXBhdFwiPT1kb2N1bWVudC5jb21wYXRNb2RlJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTA+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSxtb2JpbGU6LTE8YS5pbmRleE9mKFwibW9iaWxlXCIpLGlPUzovKGlwYWR8aXBob25lfGlwb2QpLy50ZXN0KGEpLGlzQ3VzdG9tRG9tYWluOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaWUpcmV0dXJuITE7dmFyIGE9ZG9jdW1lbnQuZG9tYWluLGI9d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO3JldHVybiBhIT1iJiZhIT1cIltcIitiK1wiXVwifSxzZWN1cmU6XCJodHRwczpcIj09bG9jYXRpb24ucHJvdG9jb2x9O2IuZ2Vja289XCJHZWNrb1wiPT1uYXZpZ2F0b3IucHJvZHVjdCYmIWIud2Via2l0JiYhYi5pZTtiLndlYmtpdCYmKC0xPGEuaW5kZXhPZihcImNocm9tZVwiKT9iLmNocm9tZT1cbiEwOmIuc2FmYXJpPSEwKTt2YXIgYz0wO2IuaWUmJihjPWU/cGFyc2VGbG9hdChlWzFdKTpiLnF1aXJrc3x8IWRvY3VtZW50LmRvY3VtZW50TW9kZT9wYXJzZUZsb2F0KGEubWF0Y2goL21zaWUgKFxcZCspLylbMV0pOmRvY3VtZW50LmRvY3VtZW50TW9kZSxiLmllOUNvbXBhdD05PT1jLGIuaWU4Q29tcGF0PTg9PWMsYi5pZTdDb21wYXQ9Nz09YyxiLmllNkNvbXBhdD03PmN8fGIucXVpcmtzKTtiLmdlY2tvJiYoZT1hLm1hdGNoKC9ydjooW1xcZFxcLl0rKS8pKSYmKGU9ZVsxXS5zcGxpdChcIi5cIiksYz0xRTQqZVswXSsxMDAqKGVbMV18fDApKzEqKGVbMl18fDApKTtiLmFpciYmKGM9cGFyc2VGbG9hdChhLm1hdGNoKC8gYWRvYmVhaXJcXC8oXFxkKykvKVsxXSkpO2Iud2Via2l0JiYoYz1wYXJzZUZsb2F0KGEubWF0Y2goLyBhcHBsZXdlYmtpdFxcLyhcXGQrKS8pWzFdKSk7Yi52ZXJzaW9uPWM7Yi5pc0NvbXBhdGlibGU9IShiLmllJiY3PmMpJiYhKGIuZ2Vja28mJjRFND5jKSYmIShiLndlYmtpdCYmXG41MzQ+Yyk7Yi5oaWRwaT0yPD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztiLm5lZWRzQnJGaWxsZXI9Yi5nZWNrb3x8Yi53ZWJraXR8fGIuaWUmJjEwPGM7Yi5uZWVkc05ic3BGaWxsZXI9Yi5pZSYmMTE+YztiLmNzc0NsYXNzPVwiY2tlX2Jyb3dzZXJfXCIrKGIuaWU/XCJpZVwiOmIuZ2Vja28/XCJnZWNrb1wiOmIud2Via2l0P1wid2Via2l0XCI6XCJ1bmtub3duXCIpO2IucXVpcmtzJiYoYi5jc3NDbGFzcys9XCIgY2tlX2Jyb3dzZXJfcXVpcmtzXCIpO2IuaWUmJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9pZVwiKyhiLnF1aXJrcz9cIjYgY2tlX2Jyb3dzZXJfaWVxdWlya3NcIjpiLnZlcnNpb24pKTtiLmFpciYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2FpclwiKTtiLmlPUyYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2lvc1wiKTtiLmhpZHBpJiYoYi5jc3NDbGFzcys9XCIgY2tlX2hpZHBpXCIpO3JldHVybiBifSgpKSxcInVubG9hZGVkXCI9PUNLRURJVE9SLnN0YXR1cyYmZnVuY3Rpb24oKXtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUik7XG5DS0VESVRPUi5sb2FkRnVsbENvcmU9ZnVuY3Rpb24oKXtpZihcImJhc2ljX3JlYWR5XCIhPUNLRURJVE9SLnN0YXR1cylDS0VESVRPUi5sb2FkRnVsbENvcmUuX2xvYWQ9MTtlbHNle2RlbGV0ZSBDS0VESVRPUi5sb2FkRnVsbENvcmU7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTthLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjthLnNyYz1DS0VESVRPUi5iYXNlUGF0aCtcImNrZWRpdG9yLmpzXCI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGEpfX07Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dD0wO0NLRURJVE9SLmFkZD1mdW5jdGlvbihhKXsodGhpcy5fLnBlbmRpbmd8fCh0aGlzLl8ucGVuZGluZz1bXSkpLnB1c2goYSl9OyhmdW5jdGlvbigpe0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IubG9hZEZ1bGxDb3JlLGU9Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dDthJiYoQ0tFRElUT1Iuc3RhdHVzPVxuXCJiYXNpY19yZWFkeVwiLGEmJmEuX2xvYWQ/YSgpOmUmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtDS0VESVRPUi5sb2FkRnVsbENvcmUmJkNLRURJVE9SLmxvYWRGdWxsQ29yZSgpfSwxRTMqZSkpfSl9KSgpO0NLRURJVE9SLnN0YXR1cz1cImJhc2ljX2xvYWRlZFwifSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLlZFUkJPU0lUWV9XQVJOPTEsQ0tFRElUT1IuVkVSQk9TSVRZX0VSUk9SPTIsQ0tFRElUT1IudmVyYm9zaXR5PUNLRURJVE9SLlZFUkJPU0lUWV9XQVJOfENLRURJVE9SLlZFUkJPU0lUWV9FUlJPUixDS0VESVRPUi53YXJuPWZ1bmN0aW9uKGEsZSl7Q0tFRElUT1IudmVyYm9zaXR5JkNLRURJVE9SLlZFUkJPU0lUWV9XQVJOJiZDS0VESVRPUi5maXJlKFwibG9nXCIse3R5cGU6XCJ3YXJuXCIsZXJyb3JDb2RlOmEsYWRkaXRpb25hbERhdGE6ZX0pfSxDS0VESVRPUi5lcnJvcj1mdW5jdGlvbihhLGUpe0NLRURJVE9SLnZlcmJvc2l0eSZDS0VESVRPUi5WRVJCT1NJVFlfRVJST1ImJkNLRURJVE9SLmZpcmUoXCJsb2dcIixcbnt0eXBlOlwiZXJyb3JcIixlcnJvckNvZGU6YSxhZGRpdGlvbmFsRGF0YTplfSl9LENLRURJVE9SLm9uKFwibG9nXCIsZnVuY3Rpb24oYSl7aWYod2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyl7dmFyIGU9Y29uc29sZVthLmRhdGEudHlwZV0/YS5kYXRhLnR5cGU6XCJsb2dcIixiPWEuZGF0YS5lcnJvckNvZGU7aWYoYT1hLmRhdGEuYWRkaXRpb25hbERhdGEpY29uc29sZVtlXShcIltDS0VESVRPUl0gRXJyb3IgY29kZTogXCIrYitcIi5cIixhKTtlbHNlIGNvbnNvbGVbZV0oXCJbQ0tFRElUT1JdIEVycm9yIGNvZGU6IFwiK2IrXCIuXCIpO2NvbnNvbGVbZV0oXCJbQ0tFRElUT1JdIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgZXJyb3IgZ28gdG8gaHR0cHM6Ly9kb2NzLmNrZWRpdG9yLmNvbS9ja2VkaXRvcjQvZG9jcy8jIS9ndWlkZS9kZXZfZXJyb3JzLXNlY3Rpb24tXCIrYil9fSxudWxsLG51bGwsOTk5KSxDS0VESVRPUi5kb209e30sZnVuY3Rpb24oKXt2YXIgYT1bXSxlPUNLRURJVE9SLmVudi5nZWNrbz9cblwiLW1vei1cIjpDS0VESVRPUi5lbnYud2Via2l0P1wiLXdlYmtpdC1cIjpDS0VESVRPUi5lbnYuaWU/XCItbXMtXCI6XCJcIixiPS8mL2csYz0vPi9nLGQ9LzwvZyxsPS9cIi9nLGs9LyYobHR8Z3R8YW1wfHF1b3R8bmJzcHxzaHl8I1xcZHsxLDV9KTsvZyxnPXtsdDpcIlxceDNjXCIsZ3Q6XCJcXHgzZVwiLGFtcDpcIlxceDI2XCIscXVvdDonXCInLG5ic3A6XCLCoFwiLHNoeTpcIsKtXCJ9LGg9ZnVuY3Rpb24oYSxmKXtyZXR1cm5cIiNcIj09ZlswXT9TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGYuc2xpY2UoMSksMTApKTpnW2ZdfTtDS0VESVRPUi5vbihcInJlc2V0XCIsZnVuY3Rpb24oKXthPVtdfSk7Q0tFRElUT1IudG9vbHM9e2FycmF5Q29tcGFyZTpmdW5jdGlvbihhLGYpe2lmKCFhJiYhZilyZXR1cm4hMDtpZighYXx8IWZ8fGEubGVuZ3RoIT1mLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdIT1mW2JdKXJldHVybiExO3JldHVybiEwfSxnZXRJbmRleDpmdW5jdGlvbihhLGYpe2Zvcih2YXIgYj1cbjA7YjxhLmxlbmd0aDsrK2IpaWYoZihhW2JdKSlyZXR1cm4gYjtyZXR1cm4tMX0sY2xvbmU6ZnVuY3Rpb24oYSl7dmFyIGY7aWYoYSYmYSBpbnN0YW5jZW9mIEFycmF5KXtmPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWZbYl09Q0tFRElUT1IudG9vbHMuY2xvbmUoYVtiXSk7cmV0dXJuIGZ9aWYobnVsbD09PWF8fFwib2JqZWN0XCIhPXR5cGVvZiBhfHxhIGluc3RhbmNlb2YgU3RyaW5nfHxhIGluc3RhbmNlb2YgTnVtYmVyfHxhIGluc3RhbmNlb2YgQm9vbGVhbnx8YSBpbnN0YW5jZW9mIERhdGV8fGEgaW5zdGFuY2VvZiBSZWdFeHB8fGEubm9kZVR5cGV8fGEud2luZG93PT09YSlyZXR1cm4gYTtmPW5ldyBhLmNvbnN0cnVjdG9yO2ZvcihiIGluIGEpZltiXT1DS0VESVRPUi50b29scy5jbG9uZShhW2JdKTtyZXR1cm4gZn0sY2FwaXRhbGl6ZTpmdW5jdGlvbihhLGYpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKyhmP2Euc2xpY2UoMSk6YS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKX0sXG5leHRlbmQ6ZnVuY3Rpb24oYSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCxiLGc7XCJib29sZWFuXCI9PXR5cGVvZihiPWFyZ3VtZW50c1tmLTFdKT9mLS06XCJib29sZWFuXCI9PXR5cGVvZihiPWFyZ3VtZW50c1tmLTJdKSYmKGc9YXJndW1lbnRzW2YtMV0sZi09Mik7Zm9yKHZhciBoPTE7aDxmO2grKyl7dmFyIGM9YXJndW1lbnRzW2hdLGQ7Zm9yKGQgaW4gYylpZighMD09PWJ8fG51bGw9PWFbZF0paWYoIWd8fGQgaW4gZylhW2RdPWNbZF19cmV0dXJuIGF9LHByb3RvdHlwZWRDb3B5OmZ1bmN0aW9uKGEpe3ZhciBmPWZ1bmN0aW9uKCl7fTtmLnByb3RvdHlwZT1hO3JldHVybiBuZXcgZn0sY29weTpmdW5jdGlvbihhKXt2YXIgZj17fSxiO2ZvcihiIGluIGEpZltiXT1hW2JdO3JldHVybiBmfSxpc0FycmF5OmZ1bmN0aW9uKGEpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfSxpc0VtcHR5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgZiBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZikpcmV0dXJuITE7XG5yZXR1cm4hMH0sY3NzVmVuZG9yUHJlZml4OmZ1bmN0aW9uKGEsZixiKXtpZihiKXJldHVybiBlK2ErXCI6XCIrZitcIjtcIithK1wiOlwiK2Y7Yj17fTtiW2FdPWY7YltlK2FdPWY7cmV0dXJuIGJ9LGNzc1N0eWxlVG9Eb21TdHlsZTpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUsZj1cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jc3NGbG9hdD9cImNzc0Zsb2F0XCI6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3R5bGVGbG9hdD9cInN0eWxlRmxvYXRcIjpcImZsb2F0XCI7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVyblwiZmxvYXRcIj09YT9mOmEucmVwbGFjZSgvLS4vZyxmdW5jdGlvbihmKXtyZXR1cm4gZi5zdWJzdHIoMSkudG9VcHBlckNhc2UoKX0pfX0oKSxidWlsZFN0eWxlSHRtbDpmdW5jdGlvbihhKXthPVtdLmNvbmNhdChhKTtmb3IodmFyIGYsYj1bXSxnPTA7ZzxhLmxlbmd0aDtnKyspaWYoZj1hW2ddKS9AaW1wb3J0fFt7fV0vLnRlc3QoZik/Yi5wdXNoKFwiXFx4M2NzdHlsZVxceDNlXCIrXG5mK1wiXFx4M2Mvc3R5bGVcXHgzZVwiKTpiLnB1c2goJ1xceDNjbGluayB0eXBlXFx4M2RcInRleHQvY3NzXCIgcmVsXFx4M2RzdHlsZXNoZWV0IGhyZWZcXHgzZFwiJytmKydcIlxceDNlJyk7cmV0dXJuIGIuam9pbihcIlwiKX0saHRtbEVuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09PWE/XCJcIjpTdHJpbmcoYSkucmVwbGFjZShiLFwiXFx4MjZhbXA7XCIpLnJlcGxhY2UoYyxcIlxceDI2Z3Q7XCIpLnJlcGxhY2UoZCxcIlxceDI2bHQ7XCIpfSxodG1sRGVjb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoayxoKX0saHRtbEVuY29kZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYSkucmVwbGFjZShsLFwiXFx4MjZxdW90O1wiKX0saHRtbERlY29kZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmh0bWxEZWNvZGUoYSl9LHRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbDpmdW5jdGlvbihhLGYpe3ZhciBiPWY9PUNLRURJVE9SLkVOVEVSX0JSLFxuZz10aGlzLmh0bWxFbmNvZGUoYS5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKSksZz1nLnJlcGxhY2UoL1xcdC9nLFwiXFx4MjZuYnNwO1xceDI2bmJzcDsgXFx4MjZuYnNwO1wiKSxoPWY9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIjtpZighYil7dmFyIGM9L1xcbnsyfS9nO2lmKGMudGVzdChnKSl2YXIgZD1cIlxceDNjXCIraCtcIlxceDNlXCIsZT1cIlxceDNjL1wiK2grXCJcXHgzZVwiLGc9ZCtnLnJlcGxhY2UoYyxmdW5jdGlvbigpe3JldHVybiBlK2R9KStlfWc9Zy5yZXBsYWNlKC9cXG4vZyxcIlxceDNjYnJcXHgzZVwiKTtifHwoZz1nLnJlcGxhY2UobmV3IFJlZ0V4cChcIlxceDNjYnJcXHgzZSg/XFx4M2RcXHgzYy9cIitoK1wiXFx4M2UpXCIpLGZ1bmN0aW9uKGYpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoZiwyKX0pKTtnPWcucmVwbGFjZSgvXiB8ICQvZyxcIlxceDI2bmJzcDtcIik7cmV0dXJuIGc9Zy5yZXBsYWNlKC8oPnxcXHMpIC9nLGZ1bmN0aW9uKGYsYSl7cmV0dXJuIGErXCJcXHgyNm5ic3A7XCJ9KS5yZXBsYWNlKC8gKD89PCkvZyxcblwiXFx4MjZuYnNwO1wiKX0sZ2V0TmV4dE51bWJlcjpmdW5jdGlvbigpe3ZhciBhPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuKythfX0oKSxnZXROZXh0SWQ6ZnVuY3Rpb24oKXtyZXR1cm5cImNrZV9cIit0aGlzLmdldE5leHROdW1iZXIoKX0sZ2V0VW5pcXVlSWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJlXCIsZj0wOzg+ZjtmKyspYSs9TWF0aC5mbG9vcig2NTUzNiooMStNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtyZXR1cm4gYX0sb3ZlcnJpZGU6ZnVuY3Rpb24oYSxmKXt2YXIgYj1mKGEpO2IucHJvdG90eXBlPWEucHJvdG90eXBlO3JldHVybiBifSxzZXRUaW1lb3V0OmZ1bmN0aW9uKGEsZixiLGcsaCl7aHx8KGg9d2luZG93KTtifHwoYj1oKTtyZXR1cm4gaC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zz9hLmFwcGx5KGIsW10uY29uY2F0KGcpKTphLmFwcGx5KGIpfSxmfHwwKX0sdHJpbTpmdW5jdGlvbigpe3ZhciBhPS8oPzpeWyBcXHRcXG5cXHJdKyl8KD86WyBcXHRcXG5cXHJdKyQpL2c7XG5yZXR1cm4gZnVuY3Rpb24oZil7cmV0dXJuIGYucmVwbGFjZShhLFwiXCIpfX0oKSxsdHJpbTpmdW5jdGlvbigpe3ZhciBhPS9eWyBcXHRcXG5cXHJdKy9nO3JldHVybiBmdW5jdGlvbihmKXtyZXR1cm4gZi5yZXBsYWNlKGEsXCJcIil9fSgpLHJ0cmltOmZ1bmN0aW9uKCl7dmFyIGE9L1sgXFx0XFxuXFxyXSskL2c7cmV0dXJuIGZ1bmN0aW9uKGYpe3JldHVybiBmLnJlcGxhY2UoYSxcIlwiKX19KCksaW5kZXhPZjpmdW5jdGlvbihhLGYpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYpZm9yKHZhciBiPTAsZz1hLmxlbmd0aDtiPGc7YisrKXtpZihmKGFbYl0pKXJldHVybiBifWVsc2V7aWYoYS5pbmRleE9mKXJldHVybiBhLmluZGV4T2YoZik7Yj0wO2ZvcihnPWEubGVuZ3RoO2I8ZztiKyspaWYoYVtiXT09PWYpcmV0dXJuIGJ9cmV0dXJuLTF9LHNlYXJjaDpmdW5jdGlvbihhLGYpe3ZhciBiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYSxmKTtyZXR1cm4gMDw9Yj9hW2JdOm51bGx9LGJpbmQ6ZnVuY3Rpb24oYSxcbmYpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGYsYXJndW1lbnRzKX19LGNyZWF0ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBmPWEuJCxiPWEuYmFzZSxnPWEucHJpdmF0ZXN8fGEuXyxoPWEucHJvdG87YT1hLnN0YXRpY3M7IWYmJihmPWZ1bmN0aW9uKCl7YiYmdGhpcy5iYXNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO2lmKGcpdmFyIGM9ZixmPWZ1bmN0aW9uKCl7dmFyIGY9dGhpcy5ffHwodGhpcy5fPXt9KSxhO2ZvcihhIGluIGcpe3ZhciBiPWdbYV07ZlthXT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBiP0NLRURJVE9SLnRvb2xzLmJpbmQoYix0aGlzKTpifWMuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtiJiYoZi5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGVkQ29weShiLnByb3RvdHlwZSksZi5wcm90b3R5cGUuY29uc3RydWN0b3I9ZixmLmJhc2U9YixmLmJhc2VQcm90bz1iLnByb3RvdHlwZSxmLnByb3RvdHlwZS5iYXNlPWZ1bmN0aW9uKCl7dGhpcy5iYXNlPWIucHJvdG90eXBlLmJhc2U7XG5iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmJhc2U9YXJndW1lbnRzLmNhbGxlZX0pO2gmJnRoaXMuZXh0ZW5kKGYucHJvdG90eXBlLGgsITApO2EmJnRoaXMuZXh0ZW5kKGYsYSwhMCk7cmV0dXJuIGZ9LGFkZEZ1bmN0aW9uOmZ1bmN0aW9uKGIsZil7cmV0dXJuIGEucHVzaChmdW5jdGlvbigpe3JldHVybiBiLmFwcGx5KGZ8fHRoaXMsYXJndW1lbnRzKX0pLTF9LHJlbW92ZUZ1bmN0aW9uOmZ1bmN0aW9uKGIpe2FbYl09bnVsbH0sY2FsbEZ1bmN0aW9uOmZ1bmN0aW9uKGIpe3ZhciBmPWFbYl07cmV0dXJuIGYmJmYuYXBwbHkod2luZG93LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9LGNzc0xlbmd0aDpmdW5jdGlvbigpe3ZhciBhPS9eLT9cXGQrXFwuP1xcZCpweCQvLGY7cmV0dXJuIGZ1bmN0aW9uKGIpe2Y9Q0tFRElUT1IudG9vbHMudHJpbShiK1wiXCIpK1wicHhcIjtyZXR1cm4gYS50ZXN0KGYpP2Y6Ynx8XCJcIn19KCksY29udmVydFRvUHg6ZnVuY3Rpb24oKXt2YXIgYTtcbnJldHVybiBmdW5jdGlvbihmKXthfHwoYT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgc3R5bGVcXHgzZFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OXB4O3RvcDotOTk5OXB4O21hcmdpbjowcHg7cGFkZGluZzowcHg7Ym9yZGVyOjBweDtcIlxceDNlXFx4M2MvZGl2XFx4M2UnLENLRURJVE9SLmRvY3VtZW50KSxDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKGEpKTtyZXR1cm4vJSQvLnRlc3QoZik/ZjooYS5zZXRTdHlsZShcIndpZHRoXCIsZiksYS4kLmNsaWVudFdpZHRoKX19KCkscmVwZWF0OmZ1bmN0aW9uKGEsZil7cmV0dXJuIEFycmF5KGYrMSkuam9pbihhKX0sdHJ5VGhlc2U6ZnVuY3Rpb24oKXtmb3IodmFyIGEsZj0wLGI9YXJndW1lbnRzLmxlbmd0aDtmPGI7ZisrKXt2YXIgZz1hcmd1bWVudHNbZl07dHJ5e2E9ZygpO2JyZWFrfWNhdGNoKGgpe319cmV0dXJuIGF9LGdlbktleTpmdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oXCItXCIpfSxcbmRlZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBmPWFyZ3VtZW50cyxiPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmFwcGx5KGIsZil9LDApfX0sbm9ybWFsaXplQ3NzVGV4dDpmdW5jdGlvbihhLGYpe3ZhciBiPVtdLGcsaD1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYSwhMCxmKTtmb3IoZyBpbiBoKWIucHVzaChnK1wiOlwiK2hbZ10pO2Iuc29ydCgpO3JldHVybiBiLmxlbmd0aD9iLmpvaW4oXCI7XCIpK1wiO1wiOlwiXCJ9LGNvbnZlcnRSZ2JUb0hleDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oPzpyZ2JcXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKlxcKSkvZ2ksZnVuY3Rpb24oZixhLGIsZyl7Zj1bYSxiLGddO2ZvcihhPTA7Mz5hO2ErKylmW2FdPShcIjBcIitwYXJzZUludChmW2FdLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtyZXR1cm5cIiNcIitmLmpvaW4oXCJcIil9KX0sbm9ybWFsaXplSGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyMoKFswLTlhLWZdezN9KXsxLDJ9KSgkfDt8XFxzKykvZ2ksXG5mdW5jdGlvbihhLGIsZyxoKXthPWIudG9Mb3dlckNhc2UoKTszPT1hLmxlbmd0aCYmKGE9YS5zcGxpdChcIlwiKSxhPVthWzBdLGFbMF0sYVsxXSxhWzFdLGFbMl0sYVsyXV0uam9pbihcIlwiKSk7cmV0dXJuXCIjXCIrYStofSl9LHBhcnNlQ3NzVGV4dDpmdW5jdGlvbihhLGYsYil7dmFyIGc9e307YiYmKGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIikpLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYSkuZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFwiXCIpO2EmJihhPUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUhleChDS0VESVRPUi50b29scy5jb252ZXJ0UmdiVG9IZXgoYSkpKTtpZighYXx8XCI7XCI9PWEpcmV0dXJuIGc7YS5yZXBsYWNlKC8mcXVvdDsvZywnXCInKS5yZXBsYWNlKC9cXHMqKFteOjtcXHNdKylcXHMqOlxccyooW147XSspXFxzKig/PTt8JCkvZyxmdW5jdGlvbihhLGIsaCl7ZiYmKGI9Yi50b0xvd2VyQ2FzZSgpLFwiZm9udC1mYW1pbHlcIj09YiYmKGg9aC5yZXBsYWNlKC9cXHMqLFxccyovZyxcblwiLFwiKSksaD1DS0VESVRPUi50b29scy50cmltKGgpKTtnW2JdPWh9KTtyZXR1cm4gZ30sd3JpdGVDc3NUZXh0OmZ1bmN0aW9uKGEsZil7dmFyIGIsZz1bXTtmb3IoYiBpbiBhKWcucHVzaChiK1wiOlwiK2FbYl0pO2YmJmcuc29ydCgpO3JldHVybiBnLmpvaW4oXCI7IFwiKX0sb2JqZWN0Q29tcGFyZTpmdW5jdGlvbihhLGYsYil7dmFyIGc7aWYoIWEmJiFmKXJldHVybiEwO2lmKCFhfHwhZilyZXR1cm4hMTtmb3IoZyBpbiBhKWlmKGFbZ10hPWZbZ10pcmV0dXJuITE7aWYoIWIpZm9yKGcgaW4gZilpZihhW2ddIT1mW2ddKXJldHVybiExO3JldHVybiEwfSxvYmplY3RLZXlzOmZ1bmN0aW9uKGEpe3ZhciBmPVtdLGI7Zm9yKGIgaW4gYSlmLnB1c2goYik7cmV0dXJuIGZ9LGNvbnZlcnRBcnJheVRvT2JqZWN0OmZ1bmN0aW9uKGEsZil7dmFyIGI9e307MT09YXJndW1lbnRzLmxlbmd0aCYmKGY9ITApO2Zvcih2YXIgZz0wLGg9YS5sZW5ndGg7ZzxoOysrZyliW2FbZ11dPWY7cmV0dXJuIGJ9LGZpeERvbWFpbjpmdW5jdGlvbigpe2Zvcih2YXIgYTs7KXRyeXthPVxud2luZG93LnBhcmVudC5kb2N1bWVudC5kb21haW47YnJlYWt9Y2F0Y2goZil7YT1hP2EucmVwbGFjZSgvLis/KD86XFwufCQpLyxcIlwiKTpkb2N1bWVudC5kb21haW47aWYoIWEpYnJlYWs7ZG9jdW1lbnQuZG9tYWluPWF9cmV0dXJuISFhfSxldmVudHNCdWZmZXI6ZnVuY3Rpb24oYSxmLGIpe2Z1bmN0aW9uIGcoKXtjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2g9ITE7Yj9mLmNhbGwoYik6ZigpfXZhciBoLGM9MDtyZXR1cm57aW5wdXQ6ZnVuY3Rpb24oKXtpZighaCl7dmFyIGY9KG5ldyBEYXRlKS5nZXRUaW1lKCktYztmPGE/aD1zZXRUaW1lb3V0KGcsYS1mKTpnKCl9fSxyZXNldDpmdW5jdGlvbigpe2gmJmNsZWFyVGltZW91dChoKTtoPWM9MH19fSxlbmFibGVIdG1sNUVsZW1lbnRzOmZ1bmN0aW9uKGEsZil7Zm9yKHZhciBiPVwiYWJiciBhcnRpY2xlIGFzaWRlIGF1ZGlvIGJkaSBjYW52YXMgZGF0YSBkYXRhbGlzdCBkZXRhaWxzIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHByb2dyZXNzIHNlY3Rpb24gc3VtbWFyeSB0aW1lIHZpZGVvXCIuc3BsaXQoXCIgXCIpLFxuZz1iLmxlbmd0aCxoO2ctLTspaD1hLmNyZWF0ZUVsZW1lbnQoYltnXSksZiYmYS5hcHBlbmRDaGlsZChoKX0sY2hlY2tJZkFueUFycmF5SXRlbU1hdGNoZXM6ZnVuY3Rpb24oYSxmKXtmb3IodmFyIGI9MCxnPWEubGVuZ3RoO2I8ZzsrK2IpaWYoYVtiXS5tYXRjaChmKSlyZXR1cm4hMDtyZXR1cm4hMX0sY2hlY2tJZkFueU9iamVjdFByb3BlcnR5TWF0Y2hlczpmdW5jdGlvbihhLGYpe2Zvcih2YXIgYiBpbiBhKWlmKGIubWF0Y2goZikpcmV0dXJuITA7cmV0dXJuITF9LGtleXN0cm9rZVRvU3RyaW5nOmZ1bmN0aW9uKGEsZil7dmFyIGI9dGhpcy5rZXlzdHJva2VUb0FycmF5KGEsZik7Yi5kaXNwbGF5PWIuZGlzcGxheS5qb2luKFwiK1wiKTtiLmFyaWE9Yi5hcmlhLmpvaW4oXCIrXCIpO3JldHVybiBifSxrZXlzdHJva2VUb0FycmF5OmZ1bmN0aW9uKGEsZil7dmFyIGI9ZiYxNjcxMTY4MCxnPWYmNjU1MzUsaD1DS0VESVRPUi5lbnYubWFjLGM9W10sZD1bXTtiJkNLRURJVE9SLkNUUkwmJihjLnB1c2goaD9cblwi4oyYXCI6YVsxN10pLGQucHVzaChoP2FbMjI0XTphWzE3XSkpO2ImQ0tFRElUT1IuQUxUJiYoYy5wdXNoKGg/XCLijKVcIjphWzE4XSksZC5wdXNoKGFbMThdKSk7YiZDS0VESVRPUi5TSElGVCYmKGMucHVzaChoP1wi4oenXCI6YVsxNl0pLGQucHVzaChhWzE2XSkpO2cmJihhW2ddPyhjLnB1c2goYVtnXSksZC5wdXNoKGFbZ10pKTooYy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoZykpLGQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGcpKSkpO3JldHVybntkaXNwbGF5OmMsYXJpYTpkfX0sdHJhbnNwYXJlbnRJbWFnZURhdGE6XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQVBBQkFQLy8vd0FBQUNINUJBRUtBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPd1xceDNkXFx4M2RcIixnZXRDb29raWU6ZnVuY3Rpb24oYSl7YT1hLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBmPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIiksYixnLGg9MDtoPGYubGVuZ3RoO2grKylpZihiPWZbaF0uc3BsaXQoXCJcXHgzZFwiKSxcbmc9ZGVjb2RlVVJJQ29tcG9uZW50KENLRURJVE9SLnRvb2xzLnRyaW0oYlswXSkudG9Mb3dlckNhc2UoKSksZz09PWEpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCgxPGIubGVuZ3RoP2JbMV06XCJcIik7cmV0dXJuIG51bGx9LHNldENvb2tpZTpmdW5jdGlvbihhLGYpe2RvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQoYSkrXCJcXHgzZFwiK2VuY29kZVVSSUNvbXBvbmVudChmKStcIjtwYXRoXFx4M2QvXCJ9LGdldENzcmZUb2tlbjpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmdldENvb2tpZShcImNrQ3NyZlRva2VuXCIpO2lmKCFhfHw0MCE9YS5sZW5ndGgpe3ZhciBhPVtdLGY9XCJcIjtpZih3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcylhPW5ldyBVaW50OEFycmF5KDQwKSx3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhKTtlbHNlIGZvcih2YXIgYj0wOzQwPmI7YisrKWEucHVzaChNYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKSk7XG5mb3IoYj0wO2I8YS5sZW5ndGg7YisrKXZhciBnPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIuY2hhckF0KGFbYl0lMzYpLGY9ZisoLjU8TWF0aC5yYW5kb20oKT9nLnRvVXBwZXJDYXNlKCk6Zyk7YT1mO0NLRURJVE9SLnRvb2xzLnNldENvb2tpZShcImNrQ3NyZlRva2VuXCIsYSl9cmV0dXJuIGF9LGVzY2FwZUNzczpmdW5jdGlvbihhKXtyZXR1cm4gYT93aW5kb3cuQ1NTJiZDU1MuZXNjYXBlP0NTUy5lc2NhcGUoYSk6aXNOYU4ocGFyc2VJbnQoYS5jaGFyQXQoMCksMTApKT9hOlwiXFxcXDNcIithLmNoYXJBdCgwKStcIiBcIithLnN1YnN0cmluZygxLGEubGVuZ3RoKTpcIlwifSxnZXRNb3VzZUJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgZj0oYT1hLmRhdGEpJiZhLiQ7cmV0dXJuIGEmJmY/Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uPzQ9PT1mLmJ1dHRvbj9DS0VESVRPUi5NT1VTRV9CVVRUT05fTUlERExFOjE9PT1mLmJ1dHRvbj9DS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVDpcbkNLRURJVE9SLk1PVVNFX0JVVFRPTl9SSUdIVDpmLmJ1dHRvbjohMX0sY29udmVydEhleFN0cmluZ1RvQnl0ZXM6ZnVuY3Rpb24oYSl7dmFyIGY9W10sYj1hLmxlbmd0aC8yLGc7Zm9yKGc9MDtnPGI7ZysrKWYucHVzaChwYXJzZUludChhLnN1YnN0cigyKmcsMiksMTYpKTtyZXR1cm4gZn0sY29udmVydEJ5dGVzVG9CYXNlNjQ6ZnVuY3Rpb24oYSl7dmFyIGY9XCJcIixiPWEubGVuZ3RoLGc7Zm9yKGc9MDtnPGI7Zys9Myl7dmFyIGg9YS5zbGljZShnLGcrMyksYz1oLmxlbmd0aCxkPVtdLGU7aWYoMz5jKWZvcihlPWM7Mz5lO2UrKyloW2VdPTA7ZFswXT0oaFswXSYyNTIpPj4yO2RbMV09KGhbMF0mMyk8PDR8aFsxXT4+NDtkWzJdPShoWzFdJjE1KTw8MnwoaFsyXSYxOTIpPj42O2RbM109aFsyXSY2Mztmb3IoZT0wOzQ+ZTtlKyspZj1lPD1jP2YrXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIuY2hhckF0KGRbZV0pOmYrXG5cIlxceDNkXCJ9cmV0dXJuIGZ9LHN0eWxlOntwYXJzZTp7X2NvbG9yczp7YWxpY2VibHVlOlwiI0YwRjhGRlwiLGFudGlxdWV3aGl0ZTpcIiNGQUVCRDdcIixhcXVhOlwiIzAwRkZGRlwiLGFxdWFtYXJpbmU6XCIjN0ZGRkQ0XCIsYXp1cmU6XCIjRjBGRkZGXCIsYmVpZ2U6XCIjRjVGNURDXCIsYmlzcXVlOlwiI0ZGRTRDNFwiLGJsYWNrOlwiIzAwMDAwMFwiLGJsYW5jaGVkYWxtb25kOlwiI0ZGRUJDRFwiLGJsdWU6XCIjMDAwMEZGXCIsYmx1ZXZpb2xldDpcIiM4QTJCRTJcIixicm93bjpcIiNBNTJBMkFcIixidXJseXdvb2Q6XCIjREVCODg3XCIsY2FkZXRibHVlOlwiIzVGOUVBMFwiLGNoYXJ0cmV1c2U6XCIjN0ZGRjAwXCIsY2hvY29sYXRlOlwiI0QyNjkxRVwiLGNvcmFsOlwiI0ZGN0Y1MFwiLGNvcm5mbG93ZXJibHVlOlwiIzY0OTVFRFwiLGNvcm5zaWxrOlwiI0ZGRjhEQ1wiLGNyaW1zb246XCIjREMxNDNDXCIsY3lhbjpcIiMwMEZGRkZcIixkYXJrYmx1ZTpcIiMwMDAwOEJcIixkYXJrY3lhbjpcIiMwMDhCOEJcIixkYXJrZ29sZGVucm9kOlwiI0I4ODYwQlwiLGRhcmtncmF5OlwiI0E5QTlBOVwiLFxuZGFya2dyZWVuOlwiIzAwNjQwMFwiLGRhcmtncmV5OlwiI0E5QTlBOVwiLGRhcmtraGFraTpcIiNCREI3NkJcIixkYXJrbWFnZW50YTpcIiM4QjAwOEJcIixkYXJrb2xpdmVncmVlbjpcIiM1NTZCMkZcIixkYXJrb3JhbmdlOlwiI0ZGOEMwMFwiLGRhcmtvcmNoaWQ6XCIjOTkzMkNDXCIsZGFya3JlZDpcIiM4QjAwMDBcIixkYXJrc2FsbW9uOlwiI0U5OTY3QVwiLGRhcmtzZWFncmVlbjpcIiM4RkJDOEZcIixkYXJrc2xhdGVibHVlOlwiIzQ4M0Q4QlwiLGRhcmtzbGF0ZWdyYXk6XCIjMkY0RjRGXCIsZGFya3NsYXRlZ3JleTpcIiMyRjRGNEZcIixkYXJrdHVycXVvaXNlOlwiIzAwQ0VEMVwiLGRhcmt2aW9sZXQ6XCIjOTQwMEQzXCIsZGVlcHBpbms6XCIjRkYxNDkzXCIsZGVlcHNreWJsdWU6XCIjMDBCRkZGXCIsZGltZ3JheTpcIiM2OTY5NjlcIixkaW1ncmV5OlwiIzY5Njk2OVwiLGRvZGdlcmJsdWU6XCIjMUU5MEZGXCIsZmlyZWJyaWNrOlwiI0IyMjIyMlwiLGZsb3JhbHdoaXRlOlwiI0ZGRkFGMFwiLGZvcmVzdGdyZWVuOlwiIzIyOEIyMlwiLGZ1Y2hzaWE6XCIjRkYwMEZGXCIsXG5nYWluc2Jvcm86XCIjRENEQ0RDXCIsZ2hvc3R3aGl0ZTpcIiNGOEY4RkZcIixnb2xkOlwiI0ZGRDcwMFwiLGdvbGRlbnJvZDpcIiNEQUE1MjBcIixncmF5OlwiIzgwODA4MFwiLGdyZWVuOlwiIzAwODAwMFwiLGdyZWVueWVsbG93OlwiI0FERkYyRlwiLGdyZXk6XCIjODA4MDgwXCIsaG9uZXlkZXc6XCIjRjBGRkYwXCIsaG90cGluazpcIiNGRjY5QjRcIixpbmRpYW5yZWQ6XCIjQ0Q1QzVDXCIsaW5kaWdvOlwiIzRCMDA4MlwiLGl2b3J5OlwiI0ZGRkZGMFwiLGtoYWtpOlwiI0YwRTY4Q1wiLGxhdmVuZGVyOlwiI0U2RTZGQVwiLGxhdmVuZGVyYmx1c2g6XCIjRkZGMEY1XCIsbGF3bmdyZWVuOlwiIzdDRkMwMFwiLGxlbW9uY2hpZmZvbjpcIiNGRkZBQ0RcIixsaWdodGJsdWU6XCIjQUREOEU2XCIsbGlnaHRjb3JhbDpcIiNGMDgwODBcIixsaWdodGN5YW46XCIjRTBGRkZGXCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCIjRkFGQUQyXCIsbGlnaHRncmF5OlwiI0QzRDNEM1wiLGxpZ2h0Z3JlZW46XCIjOTBFRTkwXCIsbGlnaHRncmV5OlwiI0QzRDNEM1wiLGxpZ2h0cGluazpcIiNGRkI2QzFcIixcbmxpZ2h0c2FsbW9uOlwiI0ZGQTA3QVwiLGxpZ2h0c2VhZ3JlZW46XCIjMjBCMkFBXCIsbGlnaHRza3libHVlOlwiIzg3Q0VGQVwiLGxpZ2h0c2xhdGVncmF5OlwiIzc3ODg5OVwiLGxpZ2h0c2xhdGVncmV5OlwiIzc3ODg5OVwiLGxpZ2h0c3RlZWxibHVlOlwiI0IwQzRERVwiLGxpZ2h0eWVsbG93OlwiI0ZGRkZFMFwiLGxpbWU6XCIjMDBGRjAwXCIsbGltZWdyZWVuOlwiIzMyQ0QzMlwiLGxpbmVuOlwiI0ZBRjBFNlwiLG1hZ2VudGE6XCIjRkYwMEZGXCIsbWFyb29uOlwiIzgwMDAwMFwiLG1lZGl1bWFxdWFtYXJpbmU6XCIjNjZDREFBXCIsbWVkaXVtYmx1ZTpcIiMwMDAwQ0RcIixtZWRpdW1vcmNoaWQ6XCIjQkE1NUQzXCIsbWVkaXVtcHVycGxlOlwiIzkzNzBEQlwiLG1lZGl1bXNlYWdyZWVuOlwiIzNDQjM3MVwiLG1lZGl1bXNsYXRlYmx1ZTpcIiM3QjY4RUVcIixtZWRpdW1zcHJpbmdncmVlbjpcIiMwMEZBOUFcIixtZWRpdW10dXJxdW9pc2U6XCIjNDhEMUNDXCIsbWVkaXVtdmlvbGV0cmVkOlwiI0M3MTU4NVwiLG1pZG5pZ2h0Ymx1ZTpcIiMxOTE5NzBcIixtaW50Y3JlYW06XCIjRjVGRkZBXCIsXG5taXN0eXJvc2U6XCIjRkZFNEUxXCIsbW9jY2FzaW46XCIjRkZFNEI1XCIsbmF2YWpvd2hpdGU6XCIjRkZERUFEXCIsbmF2eTpcIiMwMDAwODBcIixvbGRsYWNlOlwiI0ZERjVFNlwiLG9saXZlOlwiIzgwODAwMFwiLG9saXZlZHJhYjpcIiM2QjhFMjNcIixvcmFuZ2U6XCIjRkZBNTAwXCIsb3JhbmdlcmVkOlwiI0ZGNDUwMFwiLG9yY2hpZDpcIiNEQTcwRDZcIixwYWxlZ29sZGVucm9kOlwiI0VFRThBQVwiLHBhbGVncmVlbjpcIiM5OEZCOThcIixwYWxldHVycXVvaXNlOlwiI0FGRUVFRVwiLHBhbGV2aW9sZXRyZWQ6XCIjREI3MDkzXCIscGFwYXlhd2hpcDpcIiNGRkVGRDVcIixwZWFjaHB1ZmY6XCIjRkZEQUI5XCIscGVydTpcIiNDRDg1M0ZcIixwaW5rOlwiI0ZGQzBDQlwiLHBsdW06XCIjRERBMEREXCIscG93ZGVyYmx1ZTpcIiNCMEUwRTZcIixwdXJwbGU6XCIjODAwMDgwXCIscmViZWNjYXB1cnBsZTpcIiM2NjMzOTlcIixyZWQ6XCIjRkYwMDAwXCIscm9zeWJyb3duOlwiI0JDOEY4RlwiLHJveWFsYmx1ZTpcIiM0MTY5RTFcIixzYWRkbGVicm93bjpcIiM4QjQ1MTNcIixzYWxtb246XCIjRkE4MDcyXCIsXG5zYW5keWJyb3duOlwiI0Y0QTQ2MFwiLHNlYWdyZWVuOlwiIzJFOEI1N1wiLHNlYXNoZWxsOlwiI0ZGRjVFRVwiLHNpZW5uYTpcIiNBMDUyMkRcIixzaWx2ZXI6XCIjQzBDMEMwXCIsc2t5Ymx1ZTpcIiM4N0NFRUJcIixzbGF0ZWJsdWU6XCIjNkE1QUNEXCIsc2xhdGVncmF5OlwiIzcwODA5MFwiLHNsYXRlZ3JleTpcIiM3MDgwOTBcIixzbm93OlwiI0ZGRkFGQVwiLHNwcmluZ2dyZWVuOlwiIzAwRkY3RlwiLHN0ZWVsYmx1ZTpcIiM0NjgyQjRcIix0YW46XCIjRDJCNDhDXCIsdGVhbDpcIiMwMDgwODBcIix0aGlzdGxlOlwiI0Q4QkZEOFwiLHRvbWF0bzpcIiNGRjYzNDdcIix0dXJxdW9pc2U6XCIjNDBFMEQwXCIsdmlvbGV0OlwiI0VFODJFRVwiLHdoZWF0OlwiI0Y1REVCM1wiLHdoaXRlOlwiI0ZGRkZGRlwiLHdoaXRlc21va2U6XCIjRjVGNUY1XCIseWVsbG93OlwiI0ZGRkYwMFwiLHllbGxvd2dyZWVuOlwiIzlBQ0QzMlwifSxfYm9yZGVyU3R5bGU6XCJub25lIGhpZGRlbiBkb3R0ZWQgZGFzaGVkIHNvbGlkIGRvdWJsZSBncm9vdmUgcmlkZ2UgaW5zZXQgb3V0c2V0XCIuc3BsaXQoXCIgXCIpLFxuX3dpZHRoUmVnRXhwOi9eKHRoaW58bWVkaXVtfHRoaWNrfFtcXCstXT9cXGQrKFxcLlxcZCspP1thLXolXSt8W1xcKy1dPzArKFxcLjArKT98XFwuXFxkK1thLXolXSspJC8sX3JnYmFSZWdFeHA6L3JnYmE/XFwoXFxzKlxcZCslP1xccyosXFxzKlxcZCslP1xccyosXFxzKlxcZCslP1xccyooPzosXFxzKlswLTkuXStcXHMqKT9cXCkvZ2ksX2hzbGFSZWdFeHA6L2hzbGE/XFwoXFxzKlswLTkuXStcXHMqLFxccypcXGQrJVxccyosXFxzKlxcZCslXFxzKig/OixcXHMqWzAtOS5dK1xccyopP1xcKS9naSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKGEpe3ZhciBmPXt9LGI9dGhpcy5fZmluZENvbG9yKGEpO2IubGVuZ3RoJiYoZi5jb2xvcj1iWzBdLENLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goYixmdW5jdGlvbihmKXthPWEucmVwbGFjZShmLFwiXCIpfSkpO2lmKGE9Q0tFRElUT1IudG9vbHMudHJpbShhKSlmLnVucHJvY2Vzc2VkPWE7cmV0dXJuIGZ9LG1hcmdpbjpmdW5jdGlvbihhKXtmdW5jdGlvbiBmKGEpe2IudG9wPWdbYVswXV07Yi5yaWdodD1cbmdbYVsxXV07Yi5ib3R0b209Z1thWzJdXTtiLmxlZnQ9Z1thWzNdXX12YXIgYj17fSxnPWEubWF0Y2goLyg/OlxcLT9bXFwuXFxkXSsoPzolfFxcdyopfGF1dG98aW5oZXJpdHxpbml0aWFsfHVuc2V0KS9nKXx8W1wiMHB4XCJdO3N3aXRjaChnLmxlbmd0aCl7Y2FzZSAxOmYoWzAsMCwwLDBdKTticmVhaztjYXNlIDI6ZihbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpmKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmYoWzAsMSwyLDNdKX1yZXR1cm4gYn0sYm9yZGVyOmZ1bmN0aW9uKGEpe3ZhciBmPXt9LGI9YS5zcGxpdCgvXFxzKy9nKTthPUNLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLl9maW5kQ29sb3IoYSk7YS5sZW5ndGgmJihmLmNvbG9yPWFbMF0pO0NLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goYixmdW5jdGlvbihhKXtmLnN0eWxlfHwtMT09PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoQ0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2UuX2JvcmRlclN0eWxlLGEpPyFmLndpZHRoJiZDS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5fd2lkdGhSZWdFeHAudGVzdChhKSYmXG4oZi53aWR0aD1hKTpmLnN0eWxlPWF9KTtyZXR1cm4gZn0sX2ZpbmRDb2xvcjpmdW5jdGlvbihhKXt2YXIgZj1bXSxiPUNLRURJVE9SLnRvb2xzLmFycmF5LGY9Zi5jb25jYXQoYS5tYXRjaCh0aGlzLl9yZ2JhUmVnRXhwKXx8W10pLGY9Zi5jb25jYXQoYS5tYXRjaCh0aGlzLl9oc2xhUmVnRXhwKXx8W10pO3JldHVybiBmPWYuY29uY2F0KGIuZmlsdGVyKGEuc3BsaXQoL1xccysvKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5tYXRjaCgvXlxcI1thLWYwLTldezN9KD86W2EtZjAtOV17M30pPyQvZ2kpPyEwOmEudG9Mb3dlckNhc2UoKWluIENLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLl9jb2xvcnN9KSl9fX0sYXJyYXk6e2ZpbHRlcjpmdW5jdGlvbihhLGYsYil7dmFyIGc9W107dGhpcy5mb3JFYWNoKGEsZnVuY3Rpb24oaCxjKXtmLmNhbGwoYixoLGMsYSkmJmcucHVzaChoKX0pO3JldHVybiBnfSxmb3JFYWNoOmZ1bmN0aW9uKGEsZixiKXt2YXIgZz1hLmxlbmd0aCxoO2ZvcihoPTA7aDxnO2grKylmLmNhbGwoYixcbmFbaF0saCxhKX0sbWFwOmZ1bmN0aW9uKGEsZixiKXtmb3IodmFyIGc9W10saD0wO2g8YS5sZW5ndGg7aCsrKWcucHVzaChmLmNhbGwoYixhW2hdLGgsYSkpO3JldHVybiBnfSxyZWR1Y2U6ZnVuY3Rpb24oYSxmLGIsZyl7Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspYj1mLmNhbGwoZyxiLGFbaF0saCxhKTtyZXR1cm4gYn0sZXZlcnk6ZnVuY3Rpb24oYSxmLGIpe2lmKCFhLmxlbmd0aClyZXR1cm4hMDtmPXRoaXMuZmlsdGVyKGEsZixiKTtyZXR1cm4gYS5sZW5ndGg9PT1mLmxlbmd0aH19LG9iamVjdDp7ZmluZEtleTpmdW5jdGlvbihhLGYpe2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYSlyZXR1cm4gbnVsbDtmb3IodmFyIGIgaW4gYSlpZihhW2JdPT09ZilyZXR1cm4gYjtyZXR1cm4gbnVsbH0sbWVyZ2U6ZnVuY3Rpb24oYSxmKXt2YXIgYj1DS0VESVRPUi50b29scyxnPWIuY2xvbmUoYSksaD1iLmNsb25lKGYpO2IuYXJyYXkuZm9yRWFjaChiLm9iamVjdEtleXMoaCksZnVuY3Rpb24oYSl7Z1thXT1cblwib2JqZWN0XCI9PT10eXBlb2YgaFthXSYmXCJvYmplY3RcIj09PXR5cGVvZiBnW2FdP2Iub2JqZWN0Lm1lcmdlKGdbYV0saFthXSk6aFthXX0pO3JldHVybiBnfX19O0NLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2Y9Q0tFRElUT1IudG9vbHMuaW5kZXhPZjtDS0VESVRPUi50b29scy5hcnJheS5pc0FycmF5PUNLRURJVE9SLnRvb2xzLmlzQXJyYXk7Q0tFRElUT1IuTU9VU0VfQlVUVE9OX0xFRlQ9MDtDS0VESVRPUi5NT1VTRV9CVVRUT05fTUlERExFPTE7Q0tFRElUT1IuTU9VU0VfQlVUVE9OX1JJR0hUPTJ9KCksQ0tFRElUT1IuZHRkPWZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLGU9ZnVuY3Rpb24oYSxmKXtmb3IodmFyIGI9Q0tFRElUT1IudG9vbHMuY2xvbmUoYSksZz0xO2c8YXJndW1lbnRzLmxlbmd0aDtnKyspe2Y9YXJndW1lbnRzW2ddO2Zvcih2YXIgaCBpbiBmKWRlbGV0ZSBiW2hdfXJldHVybiBifSxiPXt9LGM9e30sZD17YWRkcmVzczoxLGFydGljbGU6MSxcbmFzaWRlOjEsYmxvY2txdW90ZToxLGRldGFpbHM6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLGhyOjEsbWFpbjoxLG1lbnU6MSxuYXY6MSxvbDoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsdGFibGU6MSx1bDoxfSxsPXtjb21tYW5kOjEsbGluazoxLG1ldGE6MSxub3NjcmlwdDoxLHNjcmlwdDoxLHN0eWxlOjF9LGs9e30sZz17XCIjXCI6MX0saD17Y2VudGVyOjEsZGlyOjEsbm9mcmFtZXM6MX07YShiLHthOjEsYWJicjoxLGFyZWE6MSxhdWRpbzoxLGI6MSxiZGk6MSxiZG86MSxicjoxLGJ1dHRvbjoxLGNhbnZhczoxLGNpdGU6MSxjb2RlOjEsY29tbWFuZDoxLGRhdGFsaXN0OjEsZGVsOjEsZGZuOjEsZW06MSxlbWJlZDoxLGk6MSxpZnJhbWU6MSxpbWc6MSxpbnB1dDoxLGluczoxLGtiZDoxLGtleWdlbjoxLGxhYmVsOjEsbWFwOjEsbWFyazoxLG1ldGVyOjEsbm9zY3JpcHQ6MSxcbm9iamVjdDoxLG91dHB1dDoxLHByb2dyZXNzOjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNjcmlwdDoxLHNlbGVjdDoxLHNtYWxsOjEsc3BhbjoxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRleHRhcmVhOjEsdGltZToxLHU6MSxcInZhclwiOjEsdmlkZW86MSx3YnI6MX0sZyx7YWNyb255bToxLGFwcGxldDoxLGJhc2Vmb250OjEsYmlnOjEsZm9udDoxLGlzaW5kZXg6MSxzdHJpa2U6MSxzdHlsZToxLHR0OjF9KTthKGMsZCxiLGgpO2U9e2E6ZShiLHthOjEsYnV0dG9uOjF9KSxhYmJyOmIsYWRkcmVzczpjLGFyZWE6ayxhcnRpY2xlOmMsYXNpZGU6YyxhdWRpbzphKHtzb3VyY2U6MSx0cmFjazoxfSxjKSxiOmIsYmFzZTprLGJkaTpiLGJkbzpiLGJsb2NrcXVvdGU6Yyxib2R5OmMsYnI6ayxidXR0b246ZShiLHthOjEsYnV0dG9uOjF9KSxjYW52YXM6YixjYXB0aW9uOmMsY2l0ZTpiLGNvZGU6Yixjb2w6ayxjb2xncm91cDp7Y29sOjF9LGNvbW1hbmQ6ayxkYXRhbGlzdDphKHtvcHRpb246MX0sXG5iKSxkZDpjLGRlbDpiLGRldGFpbHM6YSh7c3VtbWFyeToxfSxjKSxkZm46YixkaXY6YyxkbDp7ZHQ6MSxkZDoxfSxkdDpjLGVtOmIsZW1iZWQ6ayxmaWVsZHNldDphKHtsZWdlbmQ6MX0sYyksZmlnY2FwdGlvbjpjLGZpZ3VyZTphKHtmaWdjYXB0aW9uOjF9LGMpLGZvb3RlcjpjLGZvcm06YyxoMTpiLGgyOmIsaDM6YixoNDpiLGg1OmIsaDY6YixoZWFkOmEoe3RpdGxlOjEsYmFzZToxfSxsKSxoZWFkZXI6YyxoZ3JvdXA6e2gxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxocjprLGh0bWw6YSh7aGVhZDoxLGJvZHk6MX0sYyxsKSxpOmIsaWZyYW1lOmcsaW1nOmssaW5wdXQ6ayxpbnM6YixrYmQ6YixrZXlnZW46ayxsYWJlbDpiLGxlZ2VuZDpiLGxpOmMsbGluazprLG1haW46YyxtYXA6YyxtYXJrOmIsbWVudTphKHtsaToxfSxjKSxtZXRhOmssbWV0ZXI6ZShiLHttZXRlcjoxfSksbmF2OmMsbm9zY3JpcHQ6YSh7bGluazoxLG1ldGE6MSxzdHlsZToxfSxiKSxvYmplY3Q6YSh7cGFyYW06MX0sXG5iKSxvbDp7bGk6MX0sb3B0Z3JvdXA6e29wdGlvbjoxfSxvcHRpb246ZyxvdXRwdXQ6YixwOmIscGFyYW06ayxwcmU6Yixwcm9ncmVzczplKGIse3Byb2dyZXNzOjF9KSxxOmIscnA6YixydDpiLHJ1Ynk6YSh7cnA6MSxydDoxfSxiKSxzOmIsc2FtcDpiLHNjcmlwdDpnLHNlY3Rpb246YyxzZWxlY3Q6e29wdGdyb3VwOjEsb3B0aW9uOjF9LHNtYWxsOmIsc291cmNlOmssc3BhbjpiLHN0cm9uZzpiLHN0eWxlOmcsc3ViOmIsc3VtbWFyeTphKHtoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sYiksc3VwOmIsdGFibGU6e2NhcHRpb246MSxjb2xncm91cDoxLHRoZWFkOjEsdGZvb3Q6MSx0Ym9keToxLHRyOjF9LHRib2R5Ont0cjoxfSx0ZDpjLHRleHRhcmVhOmcsdGZvb3Q6e3RyOjF9LHRoOmMsdGhlYWQ6e3RyOjF9LHRpbWU6ZShiLHt0aW1lOjF9KSx0aXRsZTpnLHRyOnt0aDoxLHRkOjF9LHRyYWNrOmssdTpiLHVsOntsaToxfSxcInZhclwiOmIsdmlkZW86YSh7c291cmNlOjEsdHJhY2s6MX0sXG5jKSx3YnI6ayxhY3JvbnltOmIsYXBwbGV0OmEoe3BhcmFtOjF9LGMpLGJhc2Vmb250OmssYmlnOmIsY2VudGVyOmMsZGlhbG9nOmssZGlyOntsaToxfSxmb250OmIsaXNpbmRleDprLG5vZnJhbWVzOmMsc3RyaWtlOmIsdHQ6Yn07YShlLHskYmxvY2s6YSh7YXVkaW86MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxpOjEsdmlkZW86MX0sZCxoKSwkYmxvY2tMaW1pdDp7YXJ0aWNsZToxLGFzaWRlOjEsYXVkaW86MSxib2R5OjEsY2FwdGlvbjoxLGRldGFpbHM6MSxkaXI6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlnY2FwdGlvbjoxLGZpZ3VyZToxLGZvb3RlcjoxLGZvcm06MSxoZWFkZXI6MSxoZ3JvdXA6MSxtYWluOjEsbWVudToxLG5hdjoxLG9sOjEsc2VjdGlvbjoxLHRhYmxlOjEsdGQ6MSx0aDoxLHRyOjEsdWw6MSx2aWRlbzoxfSwkY2RhdGE6e3NjcmlwdDoxLHN0eWxlOjF9LCRlZGl0YWJsZTp7YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxib2R5OjEsXG5kZXRhaWxzOjEsZGl2OjEsZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxuYXY6MSxwOjEscHJlOjEsc2VjdGlvbjoxfSwkZW1wdHk6e2FyZWE6MSxiYXNlOjEsYmFzZWZvbnQ6MSxicjoxLGNvbDoxLGNvbW1hbmQ6MSxkaWFsb2c6MSxlbWJlZDoxLGhyOjEsaW1nOjEsaW5wdXQ6MSxpc2luZGV4OjEsa2V5Z2VuOjEsbGluazoxLG1ldGE6MSxwYXJhbToxLHNvdXJjZToxLHRyYWNrOjEsd2JyOjF9LCRpbmxpbmU6YiwkbGlzdDp7ZGw6MSxvbDoxLHVsOjF9LCRsaXN0SXRlbTp7ZGQ6MSxkdDoxLGxpOjF9LCRub25Cb2R5Q29udGVudDphKHtib2R5OjEsaGVhZDoxLGh0bWw6MX0sZS5oZWFkKSwkbm9uRWRpdGFibGU6e2FwcGxldDoxLGF1ZGlvOjEsYnV0dG9uOjEsZW1iZWQ6MSxpZnJhbWU6MSxtYXA6MSxvYmplY3Q6MSxvcHRpb246MSxwYXJhbToxLHNjcmlwdDoxLHRleHRhcmVhOjEsXG52aWRlbzoxfSwkb2JqZWN0OnthcHBsZXQ6MSxhdWRpbzoxLGJ1dHRvbjoxLGhyOjEsaWZyYW1lOjEsaW1nOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0YWJsZToxLHRleHRhcmVhOjEsdmlkZW86MX0sJHJlbW92ZUVtcHR5OnthYmJyOjEsYWNyb255bToxLGI6MSxiZGk6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLG1hcms6MSxtZXRlcjoxLG91dHB1dDoxLHE6MSxydWJ5OjEsczoxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0aW1lOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSwkdGFiSW5kZXg6e2E6MSxhcmVhOjEsYnV0dG9uOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0ZXh0YXJlYToxfSwkdGFibGVDb250ZW50OntjYXB0aW9uOjEsY29sOjEsY29sZ3JvdXA6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX0sJHRyYW5zcGFyZW50OnthOjEsXG5hdWRpbzoxLGNhbnZhczoxLGRlbDoxLGluczoxLG1hcDoxLG5vc2NyaXB0OjEsb2JqZWN0OjEsdmlkZW86MX0sJGludGVybWVkaWF0ZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsZGQ6MSxkdDoxLGZpZ2NhcHRpb246MSxsZWdlbmQ6MSxsaToxLG9wdGdyb3VwOjEsb3B0aW9uOjEscnA6MSxydDoxLHN1bW1hcnk6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX19KTtyZXR1cm4gZX0oKSxDS0VESVRPUi5kb20uZXZlbnQ9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9LENLRURJVE9SLmRvbS5ldmVudC5wcm90b3R5cGU9e2dldEtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQua2V5Q29kZXx8dGhpcy4kLndoaWNofSxnZXRLZXlzdHJva2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEtleSgpO2lmKHRoaXMuJC5jdHJsS2V5fHx0aGlzLiQubWV0YUtleSlhKz1DS0VESVRPUi5DVFJMO3RoaXMuJC5zaGlmdEtleSYmKGErPUNLRURJVE9SLlNISUZUKTt0aGlzLiQuYWx0S2V5JiZcbihhKz1DS0VESVRPUi5BTFQpO3JldHVybiBhfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQ7ZS5wcmV2ZW50RGVmYXVsdD9lLnByZXZlbnREZWZhdWx0KCk6ZS5yZXR1cm5WYWx1ZT0hMTthJiZ0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQ7YS5zdG9wUHJvcGFnYXRpb24/YS5zdG9wUHJvcGFnYXRpb24oKTphLmNhbmNlbEJ1YmJsZT0hMH0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLnRhcmdldHx8dGhpcy4kLnNyY0VsZW1lbnQ7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9LGdldFBoYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ldmVudFBoYXNlfHwyfSxnZXRQYWdlT2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLiQ7cmV0dXJue3g6dGhpcy4kLnBhZ2VYfHx0aGlzLiQuY2xpZW50WCsoYS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8XG5hLmJvZHkuc2Nyb2xsTGVmdCkseTp0aGlzLiQucGFnZVl8fHRoaXMuJC5jbGllbnRZKyhhLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGEuYm9keS5zY3JvbGxUb3ApfX19LENLRURJVE9SLkNUUkw9MTExNDExMixDS0VESVRPUi5TSElGVD0yMjI4MjI0LENLRURJVE9SLkFMVD00NDU2NDQ4LENLRURJVE9SLkVWRU5UX1BIQVNFX0NBUFRVUklORz0xLENLRURJVE9SLkVWRU5UX1BIQVNFX0FUX1RBUkdFVD0yLENLRURJVE9SLkVWRU5UX1BIQVNFX0JVQkJMSU5HPTMsQ0tFRElUT1IuZG9tLmRvbU9iamVjdD1mdW5jdGlvbihhKXthJiYodGhpcy4kPWEpfSxDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBDS0VESVRPUiYmYS5maXJlKGIsbmV3IENLRURJVE9SLmRvbS5ldmVudChjKSl9fTtyZXR1cm57Z2V0UHJpdmF0ZTpmdW5jdGlvbigpe3ZhciBhO1xuKGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiX1wiKSl8fHRoaXMuc2V0Q3VzdG9tRGF0YShcIl9cIixhPXt9KTtyZXR1cm4gYX0sb246ZnVuY3Rpb24oZSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIik7Ynx8KGI9e30sdGhpcy5zZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIixiKSk7YltlXXx8KGI9YltlXT1hKHRoaXMsZSksdGhpcy4kLmFkZEV2ZW50TGlzdGVuZXI/dGhpcy4kLmFkZEV2ZW50TGlzdGVuZXIoZSxiLCEhQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZSk6dGhpcy4kLmF0dGFjaEV2ZW50JiZ0aGlzLiQuYXR0YWNoRXZlbnQoXCJvblwiK2UsYikpO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihhKXtDS0VESVRPUi5ldmVudC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmhhc0xpc3RlbmVycyhhKSl7dmFyIGI9XG50aGlzLmdldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiKSxjPWImJmJbYV07YyYmKHRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyP3RoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMSk6dGhpcy4kLmRldGFjaEV2ZW50JiZ0aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2EsYyksZGVsZXRlIGJbYV0pfX0scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIiksYjtmb3IoYiBpbiBhKXt2YXIgYz1hW2JdO3RoaXMuJC5kZXRhY2hFdmVudD90aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2IsYyk6dGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXImJnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSk7ZGVsZXRlIGFbYl19Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5jYWxsKHRoaXMpfX19KCksZnVuY3Rpb24oYSl7dmFyIGU9e307Q0tFRElUT1Iub24oXCJyZXNldFwiLFxuZnVuY3Rpb24oKXtlPXt9fSk7YS5lcXVhbHM9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBhJiZhLiQ9PT10aGlzLiR9Y2F0Y2goYyl7cmV0dXJuITF9fTthLnNldEN1c3RvbURhdGE9ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmdldFVuaXF1ZUlkKCk7KGVbZF18fChlW2RdPXt9KSlbYV09YztyZXR1cm4gdGhpc307YS5nZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07cmV0dXJuKGM9YyYmZVtjXSkmJmEgaW4gYz9jW2FdOm51bGx9O2EucmVtb3ZlQ3VzdG9tRGF0YT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdLGM9YyYmZVtjXSxkLGw7YyYmKGQ9Y1thXSxsPWEgaW4gYyxkZWxldGUgY1thXSk7cmV0dXJuIGw/ZDpudWxsfTthLmNsZWFyQ3VzdG9tRGF0YT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7dmFyIGE9dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTthJiZkZWxldGUgZVthXX07XG5hLmdldFVuaXF1ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl18fCh0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSl9O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGEpfShDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZSksQ0tFRElUT1IuZG9tLm5vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbVthLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP1wiZG9jdW1lbnRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/XCJlbGVtZW50XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP1widGV4dFwiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVD9cImNvbW1lbnRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UP1wiZG9jdW1lbnRGcmFnbWVudFwiOlwiZG9tT2JqZWN0XCJdKGEpOnRoaXN9LENLRURJVE9SLmRvbS5ub2RlLnByb3RvdHlwZT1cbm5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLk5PREVfRUxFTUVOVD0xLENLRURJVE9SLk5PREVfRE9DVU1FTlQ9OSxDS0VESVRPUi5OT0RFX1RFWFQ9MyxDS0VESVRPUi5OT0RFX0NPTU1FTlQ9OCxDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UPTExLENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTD0wLENLRURJVE9SLlBPU0lUSU9OX0RJU0NPTk5FQ1RFRD0xLENLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORz0yLENLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORz00LENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRD04LENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TPTE2LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGUse2FwcGVuZFRvOmZ1bmN0aW9uKGEsZSl7YS5hcHBlbmQodGhpcyxlKTtyZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oYSxlKXtmdW5jdGlvbiBiKGMpe2NbXCJkYXRhLWNrZS1leHBhbmRvXCJdJiYoY1tcImRhdGEtY2tlLWV4cGFuZG9cIl09XG4hMSk7aWYoYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKWlmKGV8fGMubm9kZVR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Yy5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCExKSxhKXtjPWMuY2hpbGROb2Rlcztmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyliKGNbZF0pfX1mdW5jdGlvbiBjKGIpe2lmKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe2lmKGIudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGQ9Yi5nZXROYW1lKCk7XCI6XCI9PWRbMF0mJmIucmVuYW1lTm9kZShkLnN1YnN0cmluZygxKSl9aWYoYSlmb3IoZD0wO2Q8Yi5nZXRDaGlsZENvdW50KCk7ZCsrKWMoYi5nZXRDaGlsZChkKSl9fXZhciBkPXRoaXMuJC5jbG9uZU5vZGUoYSk7YihkKTtkPW5ldyBDS0VESVRPUi5kb20ubm9kZShkKTtcbkNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHx0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpJiZjKGQpO3JldHVybiBkfSxoYXNQcmV2aW91czpmdW5jdGlvbigpe3JldHVybiEhdGhpcy4kLnByZXZpb3VzU2libGluZ30saGFzTmV4dDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy4kLm5leHRTaWJsaW5nfSxpbnNlcnRBZnRlcjpmdW5jdGlvbihhKXthLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEuJC5uZXh0U2libGluZyk7cmV0dXJuIGF9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXthLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEuJCk7cmV0dXJuIGF9LGluc2VydEJlZm9yZU1lOmZ1bmN0aW9uKGEpe3RoaXMuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLiQsdGhpcy4kKTtyZXR1cm4gYX0sZ2V0QWRkcmVzczpmdW5jdGlvbihhKXtmb3IodmFyIGU9XG5bXSxiPXRoaXMuZ2V0RG9jdW1lbnQoKS4kLmRvY3VtZW50RWxlbWVudCxjPXRoaXMuJDtjJiZjIT1iOyl7dmFyIGQ9Yy5wYXJlbnROb2RlO2QmJmUudW5zaGlmdCh0aGlzLmdldEluZGV4LmNhbGwoeyQ6Y30sYSkpO2M9ZH1yZXR1cm4gZX0sZ2V0RG9jdW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudCh0aGlzLiQub3duZXJEb2N1bWVudHx8dGhpcy4kLnBhcmVudE5vZGUub3duZXJEb2N1bWVudCl9LGdldEluZGV4OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoYSxnKXt2YXIgaD1nP2EubmV4dFNpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGgmJmgubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9iKGgpP2UoaCxnKTpoOm51bGx9ZnVuY3Rpb24gYihhKXtyZXR1cm4hYS5ub2RlVmFsdWV8fGEubm9kZVZhbHVlPT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRX12YXIgYz10aGlzLiQsZD0tMSxsO2lmKCF0aGlzLiQucGFyZW50Tm9kZXx8XG5hJiZjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmIoYykmJiFlKGMpJiYhZShjLCEwKSlyZXR1cm4tMTtkbyBhJiZjIT10aGlzLiQmJmMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGx8fGIoYykpfHwoZCsrLGw9Yy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKTt3aGlsZShjPWMucHJldmlvdXNTaWJsaW5nKTtyZXR1cm4gZH0sZ2V0TmV4dFNvdXJjZU5vZGU6ZnVuY3Rpb24oYSxlLGIpe2lmKGImJiFiLmNhbGwpe3ZhciBjPWI7Yj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoYyl9fWE9IWEmJnRoaXMuZ2V0Rmlyc3QmJnRoaXMuZ2V0Rmlyc3QoKTt2YXIgZDtpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0TmV4dCgpfWZvcig7IWEmJihkPShkfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihiJiYhMT09PWIoZCwhMCkpcmV0dXJuIG51bGw7YT1kLmdldE5leHQoKX1yZXR1cm4hYXx8XG5iJiYhMT09PWIoYSk/bnVsbDplJiZlIT1hLnR5cGU/YS5nZXROZXh0U291cmNlTm9kZSghMSxlLGIpOmF9LGdldFByZXZpb3VzU291cmNlTm9kZTpmdW5jdGlvbihhLGUsYil7aWYoYiYmIWIuY2FsbCl7dmFyIGM9YjtiPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhjKX19YT0hYSYmdGhpcy5nZXRMYXN0JiZ0aGlzLmdldExhc3QoKTt2YXIgZDtpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0UHJldmlvdXMoKX1mb3IoOyFhJiYoZD0oZHx8dGhpcykuZ2V0UGFyZW50KCkpOyl7aWYoYiYmITE9PT1iKGQsITApKXJldHVybiBudWxsO2E9ZC5nZXRQcmV2aW91cygpfXJldHVybiFhfHxiJiYhMT09PWIoYSk/bnVsbDplJiZhLnR5cGUhPWU/YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsZSxiKTphfSxnZXRQcmV2aW91czpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQsYjtkbyBiPShlPVxuZS5wcmV2aW91c1NpYmxpbmcpJiYxMCE9ZS5ub2RlVHlwZSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGUpO3doaWxlKGImJmEmJiFhKGIpKTtyZXR1cm4gYn0sZ2V0TmV4dDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQsYjtkbyBiPShlPWUubmV4dFNpYmxpbmcpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZSk7d2hpbGUoYiYmYSYmIWEoYikpO3JldHVybiBifSxnZXRQYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy4kLnBhcmVudE5vZGU7cmV0dXJuIGUmJihlLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGEmJmUubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpP25ldyBDS0VESVRPUi5kb20ubm9kZShlKTpudWxsfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMsYj1bXTtkbyBiW2E/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKGUpO3doaWxlKGU9ZS5nZXRQYXJlbnQoKSk7cmV0dXJuIGJ9LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKGEpe2lmKGEuZXF1YWxzKHRoaXMpKXJldHVybiB0aGlzO1xuaWYoYS5jb250YWlucyYmYS5jb250YWlucyh0aGlzKSlyZXR1cm4gYTt2YXIgZT10aGlzLmNvbnRhaW5zP3RoaXM6dGhpcy5nZXRQYXJlbnQoKTtkbyBpZihlLmNvbnRhaW5zKGEpKXJldHVybiBlO3doaWxlKGU9ZS5nZXRQYXJlbnQoKSk7cmV0dXJuIG51bGx9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuJCxiPWEuJDtpZihlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpO2lmKGU9PWIpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTDtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKGUuY29udGFpbnMpe2lmKGUuY29udGFpbnMoYikpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORztpZihiLmNvbnRhaW5zKGUpKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrXG5DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9aWYoXCJzb3VyY2VJbmRleFwiaW4gZSlyZXR1cm4gMD5lLnNvdXJjZUluZGV4fHwwPmIuc291cmNlSW5kZXg/Q0tFRElUT1IuUE9TSVRJT05fRElTQ09OTkVDVEVEOmUuc291cmNlSW5kZXg8Yi5zb3VyY2VJbmRleD9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfWU9dGhpcy5nZXRBZGRyZXNzKCk7YT1hLmdldEFkZHJlc3MoKTtmb3IodmFyIGI9TWF0aC5taW4oZS5sZW5ndGgsYS5sZW5ndGgpLGM9MDtjPGI7YysrKWlmKGVbY10hPWFbY10pcmV0dXJuIGVbY108YVtjXT9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HO3JldHVybiBlLmxlbmd0aDxhLmxlbmd0aD9DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEK0NLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR30sXG5nZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLiQsYyxkO2V8fChiPWIucGFyZW50Tm9kZSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYT8oZD0hMCxjPWEpOihkPSExLGM9ZnVuY3Rpb24oYil7Yj1cInN0cmluZ1wiPT10eXBlb2YgYi5ub2RlTmFtZT9iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6XCJcIjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYT9iPT1hOmIgaW4gYX0pO2Zvcig7Yjspe2lmKGMoZD9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik6YikpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZShiKTt0cnl7Yj1iLnBhcmVudE5vZGV9Y2F0Y2gobCl7Yj1udWxsfX1yZXR1cm4gbnVsbH0saGFzQXNjZW5kYW50OmZ1bmN0aW9uKGEsZSl7dmFyIGI9dGhpcy4kO2V8fChiPWIucGFyZW50Tm9kZSk7Zm9yKDtiOyl7aWYoYi5ub2RlTmFtZSYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT1hKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfXJldHVybiExfSxtb3ZlOmZ1bmN0aW9uKGEsZSl7YS5hcHBlbmQodGhpcy5yZW1vdmUoKSxcbmUpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy4kLGI9ZS5wYXJlbnROb2RlO2lmKGIpe2lmKGEpZm9yKDthPWUuZmlyc3RDaGlsZDspYi5pbnNlcnRCZWZvcmUoZS5yZW1vdmVDaGlsZChhKSxlKTtiLnJlbW92ZUNoaWxkKGUpfXJldHVybiB0aGlzfSxyZXBsYWNlOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0QmVmb3JlKGEpO2EucmVtb3ZlKCl9LHRyaW06ZnVuY3Rpb24oKXt0aGlzLmx0cmltKCk7dGhpcy5ydHJpbSgpfSxsdHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldEZpcnN0JiYoYT10aGlzLmdldEZpcnN0KCkpOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBlPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuZ2V0VGV4dCgpKSxiPWEuZ2V0TGVuZ3RoKCk7aWYoZSllLmxlbmd0aDxiJiYoYS5zcGxpdChiLWUubGVuZ3RoKSx0aGlzLiQucmVtb3ZlQ2hpbGQodGhpcy4kLmZpcnN0Q2hpbGQpKTtlbHNle2EucmVtb3ZlKCk7Y29udGludWV9fWJyZWFrfX0sXG5ydHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldExhc3QmJihhPXRoaXMuZ2V0TGFzdCgpKTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXt2YXIgZT1DS0VESVRPUi50b29scy5ydHJpbShhLmdldFRleHQoKSksYj1hLmdldExlbmd0aCgpO2lmKGUpZS5sZW5ndGg8YiYmKGEuc3BsaXQoZS5sZW5ndGgpLHRoaXMuJC5sYXN0Q2hpbGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLiQubGFzdENoaWxkKSk7ZWxzZXthLnJlbW92ZSgpO2NvbnRpbnVlfX1icmVha31DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKGE9dGhpcy4kLmxhc3RDaGlsZCkmJjE9PWEudHlwZSYmXCJiclwiPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0saXNSZWFkT25seTpmdW5jdGlvbihhKXt2YXIgZT10aGlzO3RoaXMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZT10aGlzLmdldFBhcmVudCgpKTtDS0VESVRPUi5lbnYuZWRnZSYmXG5lJiZlLmlzKFwidGV4dGFyZWFcIixcImlucHV0XCIpJiYoYT0hMCk7aWYoIWEmJmUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLiQuaXNDb250ZW50RWRpdGFibGUpcmV0dXJuIShlLiQuaXNDb250ZW50RWRpdGFibGV8fGUuZGF0YShcImNrZS1lZGl0YWJsZVwiKSk7Zm9yKDtlOyl7aWYoZS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiExO2lmKGUuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVyblwiZmFsc2VcIj09ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik7ZT1lLmdldFBhcmVudCgpfXJldHVybiEwfX0pLENLRURJVE9SLmRvbS53aW5kb3c9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9LENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ud2luZG93LnByb3RvdHlwZSx7Zm9jdXM6ZnVuY3Rpb24oKXt0aGlzLiQuZm9jdXMoKX0sXG5nZXRWaWV3UGFuZVNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuZG9jdW1lbnQsZT1cIkNTUzFDb21wYXRcIj09YS5jb21wYXRNb2RlO3JldHVybnt3aWR0aDooZT9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDphLmJvZHkuY2xpZW50V2lkdGgpfHwwLGhlaWdodDooZT9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6YS5ib2R5LmNsaWVudEhlaWdodCl8fDB9fSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDtpZihcInBhZ2VYT2Zmc2V0XCJpbiBhKXJldHVybnt4OmEucGFnZVhPZmZzZXR8fDAseTphLnBhZ2VZT2Zmc2V0fHwwfTthPWEuZG9jdW1lbnQ7cmV0dXJue3g6YS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YS5ib2R5LnNjcm9sbExlZnR8fDAseTphLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGEuYm9keS5zY3JvbGxUb3B8fDB9fSxnZXRGcmFtZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5mcmFtZUVsZW1lbnQ7cmV0dXJuIGE/XG5uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpOm51bGx9fSksQ0tFRElUT1IuZG9tLmRvY3VtZW50PWZ1bmN0aW9uKGEpe0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlQsYXBwZW5kU3R5bGVTaGVldDpmdW5jdGlvbihhKXtpZih0aGlzLiQuY3JlYXRlU3R5bGVTaGVldCl0aGlzLiQuY3JlYXRlU3R5bGVTaGVldChhKTtlbHNle3ZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImxpbmtcIik7ZS5zZXRBdHRyaWJ1dGVzKHtyZWw6XCJzdHlsZXNoZWV0XCIsdHlwZTpcInRleHQvY3NzXCIsaHJlZjphfSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGUpfX0sYXBwZW5kU3R5bGVUZXh0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KXt2YXIgZT1cbnRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KFwiXCIpO2UuY3NzVGV4dD1hfWVsc2V7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3R5bGVcIix0aGlzKTtiLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGIpfXJldHVybiBlfHxiLiQuc2hlZXR9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oYSxlKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSx0aGlzKTtlJiYoZS5hdHRyaWJ1dGVzJiZiLnNldEF0dHJpYnV0ZXMoZS5hdHRyaWJ1dGVzKSxlLnN0eWxlcyYmYi5zZXRTdHlsZXMoZS5zdHlsZXMpKTtyZXR1cm4gYn0sY3JlYXRlVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS50ZXh0KGEsdGhpcyl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5nZXRXaW5kb3coKS5mb2N1cygpfSxnZXRBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgYTt0cnl7YT10aGlzLiQuYWN0aXZlRWxlbWVudH1jYXRjaChlKXtyZXR1cm4gbnVsbH1yZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpfSxcbmdldEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLmdldEVsZW1lbnRCeUlkKGEpKT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZ2V0QnlBZGRyZXNzOmZ1bmN0aW9uKGEsZSl7Zm9yKHZhciBiPXRoaXMuJC5kb2N1bWVudEVsZW1lbnQsYz0wO2ImJmM8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdO2lmKGUpZm9yKHZhciBsPS0xLGs9MDtrPGIuY2hpbGROb2Rlcy5sZW5ndGg7aysrKXt2YXIgZz1iLmNoaWxkTm9kZXNba107aWYoITAhPT1lfHwzIT1nLm5vZGVUeXBlfHwhZy5wcmV2aW91c1NpYmxpbmd8fDMhPWcucHJldmlvdXNTaWJsaW5nLm5vZGVUeXBlKWlmKGwrKyxsPT1kKXtiPWc7YnJlYWt9fWVsc2UgYj1iLmNoaWxkTm9kZXNbZF19cmV0dXJuIGI/bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpOm51bGx9LGdldEVsZW1lbnRzQnlUYWc6ZnVuY3Rpb24oYSxlKXtDS0VESVRPUi5lbnYuaWUmJjg+PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8IWV8fChhPWUrXCI6XCIrXG5hKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpfSxnZXRIZWFkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtyZXR1cm4gYT1hP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTp0aGlzLmdldERvY3VtZW50RWxlbWVudCgpLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJoZWFkXCIpLCEwKX0sZ2V0Qm9keTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmJvZHkpfSxnZXREb2N1bWVudEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRoaXMuJC5kb2N1bWVudEVsZW1lbnQpfSxnZXRXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS53aW5kb3codGhpcy4kLnBhcmVudFdpbmRvd3x8dGhpcy4kLmRlZmF1bHRWaWV3KX0sd3JpdGU6ZnVuY3Rpb24oYSl7dGhpcy4kLm9wZW4oXCJ0ZXh0L2h0bWxcIixcblwicmVwbGFjZVwiKTtDS0VESVRPUi5lbnYuaWUmJihhPWEucmVwbGFjZSgvKD86Xlxccyo8IURPQ1RZUEVbXj5dKj8+KXxeL2ksJyRcXHgyNlxcblxceDNjc2NyaXB0IGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UoJytDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XFx4M2Mvc2NyaXB0XFx4M2VcIikpO3RoaXMuJC53cml0ZShhKTt0aGlzLiQuY2xvc2UoKX0sZmluZDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQucXVlcnlTZWxlY3RvckFsbChhKSl9LGZpbmRPbmU6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoYSkpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTpudWxsfSxfZ2V0SHRtbDVTaGl2RnJhZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcImh0bWw1U2hpdkZyYWdcIik7YXx8KGE9dGhpcy4kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxDS0VESVRPUi50b29scy5lbmFibGVIdG1sNUVsZW1lbnRzKGEsXG4hMCksdGhpcy5zZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiLGEpKTtyZXR1cm4gYX19KSxDS0VESVRPUi5kb20ubm9kZUxpc3Q9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9LENLRURJVE9SLmRvbS5ub2RlTGlzdC5wcm90b3R5cGU9e2NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5sZW5ndGh9LGdldEl0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIDA+YXx8YT49dGhpcy4kLmxlbmd0aD9udWxsOihhPXRoaXMuJFthXSk/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkubWFwKHRoaXMuJCxmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlKGEpfSl9fSxDS0VESVRPUi5kb20uZWxlbWVudD1mdW5jdGlvbihhLGUpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT0oZT9lLiQ6ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoYSkpO0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLFxuYSl9LENLRURJVE9SLmRvbS5lbGVtZW50LmdldD1mdW5jdGlvbihhKXtyZXR1cm4oYT1cInN0cmluZ1wiPT10eXBlb2YgYT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoYSlbMF06YSkmJihhLiQ/YTpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSkpfSxDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlLENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sPWZ1bmN0aW9uKGEsZSl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIsZSk7Yi5zZXRIdG1sKGEpO3JldHVybiBiLmdldEZpcnN0KCkucmVtb3ZlKCl9LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcj1mdW5jdGlvbihhLGUsYixjKXt2YXIgZD1lLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKXx8ZS5zZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIixDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCkpLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxcbmw9ZS5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIil8fGUuc2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIse30pLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKTthW2RdPWU7bFtiXT0xO3JldHVybiBlLnNldEN1c3RvbURhdGEoYixjKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZSBpbiBhKUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2VycyhhLGFbZV0sMSl9LENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2Vycz1mdW5jdGlvbihhLGUsYil7dmFyIGM9ZS5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIiksZD1lLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxsO2ZvcihsIGluIGMpZS5yZW1vdmVDdXN0b21EYXRhKGwpO2UucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpO2ImJihlLnJlbW92ZUN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxcbmRlbGV0ZSBhW2RdKX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7cmV0dXJuLTE8KFwiIFwiK2ErXCIgXCIpLnJlcGxhY2UobCxcIiBcIikuaW5kZXhPZihcIiBcIitiK1wiIFwiKX1mdW5jdGlvbiBlKGEpe3ZhciBiPSEwO2EuJC5pZHx8KGEuJC5pZD1cImNrZV90bXBfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGI9ITEpO3JldHVybiBmdW5jdGlvbigpe2J8fGEucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fWZ1bmN0aW9uIGIoYSxiKXt2YXIgYz1DS0VESVRPUi50b29scy5lc2NhcGVDc3MoYS4kLmlkKTtyZXR1cm5cIiNcIitjK1wiIFwiK2Iuc3BsaXQoLyxcXHMqLykuam9pbihcIiwgI1wiK2MrXCIgXCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPTAsYz0wLGY9a1thXS5sZW5ndGg7YzxmO2MrKyliKz1wYXJzZUZsb2F0KHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShrW2FdW2NdKXx8MCwxMCl8fDA7cmV0dXJuIGJ9dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikuY2xhc3NMaXN0LGQ9XCJ1bmRlZmluZWRcIiE9PVxudHlwZW9mIGQmJm51bGwhPT1TdHJpbmcoZC5hZGQpLm1hdGNoKC9cXFtOYXRpdmUgY29kZVxcXS9naSksbD0vW1xcblxcdFxccl0vZztDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGRDbGFzczpkP2Z1bmN0aW9uKGEpe3RoaXMuJC5jbGFzc0xpc3QuYWRkKGEpO3JldHVybiB0aGlzfTpmdW5jdGlvbihiKXt2YXIgaD10aGlzLiQuY2xhc3NOYW1lO2gmJihhKGgsYil8fChoKz1cIiBcIitiKSk7dGhpcy4kLmNsYXNzTmFtZT1ofHxiO3JldHVybiB0aGlzfSxyZW1vdmVDbGFzczpkP2Z1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJDtiLmNsYXNzTGlzdC5yZW1vdmUoYSk7Yi5jbGFzc05hbWV8fGIucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7cmV0dXJuIHRoaXN9OmZ1bmN0aW9uKGIpe3ZhciBoPXRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7aCYmYShoLGIpJiYoKGg9aC5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKylcIitcbmIrXCIoP1xceDNkXFxcXHN8JClcIiksXCJcIikucmVwbGFjZSgvXlxccysvLFwiXCIpKT90aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaCk6dGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKSk7cmV0dXJuIHRoaXN9LGhhc0NsYXNzOmZ1bmN0aW9uKGIpe3JldHVybiBhKHRoaXMuJC5jbGFzc05hbWUsYil9LGFwcGVuZDpmdW5jdGlvbihhLGIpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT10aGlzLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChhKSk7Yj90aGlzLiQuaW5zZXJ0QmVmb3JlKGEuJCx0aGlzLiQuZmlyc3RDaGlsZCk6dGhpcy4kLmFwcGVuZENoaWxkKGEuJCk7cmV0dXJuIGF9LGFwcGVuZEh0bWw6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIix0aGlzLmdldERvY3VtZW50KCkpO2Iuc2V0SHRtbChhKTtiLm1vdmVDaGlsZHJlbih0aGlzKX1lbHNlIHRoaXMuc2V0SHRtbChhKX0sYXBwZW5kVGV4dDpmdW5jdGlvbihhKXtudWxsIT1cbnRoaXMuJC50ZXh0JiZDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/dGhpcy4kLnRleHQrPWE6dGhpcy5hcHBlbmQobmV3IENLRURJVE9SLmRvbS50ZXh0KGEpKX0sYXBwZW5kQm9ndXM6ZnVuY3Rpb24oYSl7aWYoYXx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpe2ZvcihhPXRoaXMuZ2V0TGFzdCgpO2EmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMucnRyaW0oYS5nZXRUZXh0KCkpOylhPWEuZ2V0UHJldmlvdXMoKTthJiZhLmlzJiZhLmlzKFwiYnJcIil8fChhPXRoaXMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiYnJcIiksQ0tFRElUT1IuZW52LmdlY2tvJiZhLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIl9tb3pcIiksdGhpcy5hcHBlbmQoYSkpfX0sYnJlYWtQYXJlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMuZ2V0RG9jdW1lbnQoKSk7Yy5zZXRTdGFydEFmdGVyKHRoaXMpO2Muc2V0RW5kQWZ0ZXIoYSk7XG52YXIgZj1jLmV4dHJhY3RDb250ZW50cyghMSxifHwhMSksZDtjLmluc2VydE5vZGUodGhpcy5yZW1vdmUoKSk7aWYoQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2Upe2ZvcihjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtkPWYuZ2V0Rmlyc3QoKTspZC4kLnN0eWxlLmJhY2tncm91bmRDb2xvciYmKGQuJC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ZC4kLnN0eWxlLmJhY2tncm91bmRDb2xvciksYy5hcHBlbmQoZCk7Yy5pbnNlcnRBZnRlcih0aGlzKTtjLnJlbW92ZSghMCl9ZWxzZSBmLmluc2VydEFmdGVyTm9kZSh0aGlzKX0sY29udGFpbnM6ZG9jdW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZnVuY3Rpb24oYSl7cmV0dXJuISEodGhpcy4kLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEuJCkmMTYpfTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQ7cmV0dXJuIGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2IuY29udGFpbnMoYS5nZXRQYXJlbnQoKS4kKTpcbmIhPWEuJCYmYi5jb250YWlucyhhLiQpfSxmb2N1czpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0cnl7dGhpcy4kLmZvY3VzKCl9Y2F0Y2goYil7fX1yZXR1cm4gZnVuY3Rpb24oYil7Yj9DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGEsMTAwLHRoaXMpOmEuY2FsbCh0aGlzKX19KCksZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5pbm5lckhUTUw7cmV0dXJuIENLRURJVE9SLmVudi5pZT9hLnJlcGxhY2UoLzxcXD9bXj5dKj4vZyxcIlwiKTphfSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtpZih0aGlzLiQub3V0ZXJIVE1MKXJldHVybiB0aGlzLiQub3V0ZXJIVE1MLnJlcGxhY2UoLzxcXD9bXj5dKj4vLFwiXCIpO3ZhciBhPXRoaXMuJC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5hcHBlbmRDaGlsZCh0aGlzLiQuY2xvbmVOb2RlKCEwKSk7cmV0dXJuIGEuaW5uZXJIVE1MfSxnZXRDbGllbnRSZWN0OmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LFxudGhpcy4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTshYS53aWR0aCYmKGEud2lkdGg9YS5yaWdodC1hLmxlZnQpOyFhLmhlaWdodCYmKGEuaGVpZ2h0PWEuYm90dG9tLWEudG9wKTtyZXR1cm4gYX0sc2V0SHRtbDpDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPXRoaXMuJDtpZih0aGlzLmdldFBhcmVudCgpKXJldHVybiBiLmlubmVySFRNTD1hO3ZhciBjPXRoaXMuZ2V0RG9jdW1lbnQoKS5fZ2V0SHRtbDVTaGl2RnJhZygpO2MuYXBwZW5kQ2hpbGQoYik7Yi5pbm5lckhUTUw9YTtjLnJlbW92ZUNoaWxkKGIpO3JldHVybiBhfWNhdGNoKGYpe3RoaXMuJC5pbm5lckhUTUw9XCJcIjtiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImJvZHlcIix0aGlzLmdldERvY3VtZW50KCkpO2IuJC5pbm5lckhUTUw9YTtmb3IoYj1iLmdldENoaWxkcmVuKCk7Yi5jb3VudCgpOyl0aGlzLmFwcGVuZChiLmdldEl0ZW0oMCkpO3JldHVybiBhfX06XG5mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLmlubmVySFRNTD1hfSxzZXRUZXh0OmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7YS5pbm5lckhUTUw9XCJ4XCI7YT1hLnRleHRDb250ZW50O3JldHVybiBmdW5jdGlvbihiKXt0aGlzLiRbYT9cInRleHRDb250ZW50XCI6XCJpbm5lclRleHRcIl09Yn19KCksZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKX07cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIFwiY2xhc3NcIjphPVwiY2xhc3NOYW1lXCI7YnJlYWs7Y2FzZSBcImh0dHAtZXF1aXZcIjphPVwiaHR0cEVxdWl2XCI7YnJlYWs7Y2FzZSBcIm5hbWVcIjpyZXR1cm4gdGhpcy4kLm5hbWU7Y2FzZSBcInRhYmluZGV4XCI6cmV0dXJuIGE9dGhpcy4kLmdldEF0dHJpYnV0ZShhLFxuMiksMCE9PWEmJjA9PT10aGlzLiQudGFiSW5kZXgmJihhPW51bGwpLGE7Y2FzZSBcImNoZWNrZWRcIjpyZXR1cm4gYT10aGlzLiQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oYSksKGEuc3BlY2lmaWVkP2Eubm9kZVZhbHVlOnRoaXMuJC5jaGVja2VkKT9cImNoZWNrZWRcIjpudWxsO2Nhc2UgXCJoc3BhY2VcIjpjYXNlIFwidmFsdWVcIjpyZXR1cm4gdGhpcy4kW2FdO2Nhc2UgXCJzdHlsZVwiOnJldHVybiB0aGlzLiQuc3R5bGUuY3NzVGV4dDtjYXNlIFwiY29udGVudGVkaXRhYmxlXCI6Y2FzZSBcImNvbnRlbnRFZGl0YWJsZVwiOnJldHVybiB0aGlzLiQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJjb250ZW50RWRpdGFibGVcIikuc3BlY2lmaWVkP3RoaXMuJC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik6bnVsbH1yZXR1cm4gdGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpfTphfSgpLGdldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9e30sYz10aGlzLiQuYXR0cmlidXRlcyxmO2E9Q0tFRElUT1IudG9vbHMuaXNBcnJheShhKT9cbmE6W107Zm9yKGY9MDtmPGMubGVuZ3RoO2YrKyktMT09PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYSxjW2ZdLm5hbWUpJiYoYltjW2ZdLm5hbWVdPWNbZl0udmFsdWUpO3JldHVybiBifSxnZXRDaGlsZHJlbjpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5jaGlsZE5vZGVzKX0sZ2V0Q29tcHV0ZWRTdHlsZTpkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZT9mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFdpbmRvdygpLiQuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLiQsbnVsbCk7cmV0dXJuIGI/Yi5nZXRQcm9wZXJ0eVZhbHVlKGEpOlwiXCJ9OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuY3VycmVudFN0eWxlW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV19LGdldER0ZDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmR0ZFt0aGlzLmdldE5hbWUoKV07dGhpcy5nZXREdGQ9XG5mdW5jdGlvbigpe3JldHVybiBhfTtyZXR1cm4gYX0sZ2V0RWxlbWVudHNCeVRhZzpDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWcsZ2V0VGFiSW5kZXg6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQudGFiSW5kZXg7cmV0dXJuIDAhPT1hfHxDS0VESVRPUi5kdGQuJHRhYkluZGV4W3RoaXMuZ2V0TmFtZSgpXXx8MD09PXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiksMTApP2E6LTF9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLnRleHRDb250ZW50fHx0aGlzLiQuaW5uZXJUZXh0fHxcIlwifSxnZXRXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREb2N1bWVudCgpLmdldFdpbmRvdygpfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuaWR8fG51bGx9LGdldE5hbWVBdHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5hbWV8fG51bGx9LGdldE5hbWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbmlmKENLRURJVE9SLmVudi5pZSYmOD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKXt2YXIgYj10aGlzLiQuc2NvcGVOYW1lO1wiSFRNTFwiIT1iJiYoYT1iLnRvTG93ZXJDYXNlKCkrXCI6XCIrYSl9dGhpcy5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGF9O3JldHVybiB0aGlzLmdldE5hbWUoKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLnZhbHVlfSxnZXRGaXJzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQuZmlyc3RDaGlsZDsoYj1iJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYikpJiZhJiYhYShiKSYmKGI9Yi5nZXROZXh0KGEpKTtyZXR1cm4gYn0sZ2V0TGFzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQubGFzdENoaWxkOyhiPWImJm5ldyBDS0VESVRPUi5kb20ubm9kZShiKSkmJmEmJiFhKGIpJiYoYj1iLmdldFByZXZpb3VzKGEpKTtyZXR1cm4gYn0sZ2V0U3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5zdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldfSxcbmlzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXROYW1lKCk7aWYoXCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1swXSlyZXR1cm4hIWFyZ3VtZW50c1swXVthXTtmb3IodmFyIGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKWlmKGFyZ3VtZW50c1tiXT09YSlyZXR1cm4hMDtyZXR1cm4hMX0saXNFZGl0YWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE5hbWUoKTtyZXR1cm4gdGhpcy5pc1JlYWRPbmx5KCl8fFwibm9uZVwiPT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpfHxcImhpZGRlblwiPT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJ2aXNpYmlsaXR5XCIpfHxDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2JdfHxDS0VESVRPUi5kdGQuJGVtcHR5W2JdfHx0aGlzLmlzKFwiYVwiKSYmKHRoaXMuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHx0aGlzLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikpJiYhdGhpcy5nZXRDaGlsZENvdW50KCk/ITE6ITEhPT1hPyhhPUNLRURJVE9SLmR0ZFtiXXx8XG5DS0VESVRPUi5kdGQuc3BhbiwhKCFhfHwhYVtcIiNcIl0pKTohMH0saXNJZGVudGljYWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jbG9uZSgwLDEpO2E9YS5jbG9uZSgwLDEpO2IucmVtb3ZlQXR0cmlidXRlcyhbXCJfbW96X2RpcnR5XCIsXCJkYXRhLWNrZS1leHBhbmRvXCIsXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCIsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdKTthLnJlbW92ZUF0dHJpYnV0ZXMoW1wiX21vel9kaXJ0eVwiLFwiZGF0YS1ja2UtZXhwYW5kb1wiLFwiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSk7aWYoYi4kLmlzRXF1YWxOb2RlKXJldHVybiBiLiQuc3R5bGUuY3NzVGV4dD1DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGIuJC5zdHlsZS5jc3NUZXh0KSxhLiQuc3R5bGUuY3NzVGV4dD1DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGEuJC5zdHlsZS5jc3NUZXh0KSxiLiQuaXNFcXVhbE5vZGUoYS4kKTtiPWIuZ2V0T3V0ZXJIdG1sKCk7YT1cbmEuZ2V0T3V0ZXJIdG1sKCk7aWYoQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uJiZ0aGlzLmlzKFwiYVwiKSl7dmFyIGM9dGhpcy5nZXRQYXJlbnQoKTtjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGM9Yy5jbG9uZSgpLGMuc2V0SHRtbChiKSxiPWMuZ2V0SHRtbCgpLGMuc2V0SHRtbChhKSxhPWMuZ2V0SHRtbCgpKX1yZXR1cm4gYj09YX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMuJC5vZmZzZXRIZWlnaHR8fHRoaXMuJC5vZmZzZXRXaWR0aCkmJlwiaGlkZGVuXCIhPXRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcInZpc2liaWxpdHlcIiksYixjO2EmJkNLRURJVE9SLmVudi53ZWJraXQmJihiPXRoaXMuZ2V0V2luZG93KCksIWIuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpKSYmKGM9Yi4kLmZyYW1lRWxlbWVudCkmJihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYykpLmlzVmlzaWJsZSgpKSk7cmV0dXJuISFhfSxpc0VtcHR5SW5saW5lUmVtb3ZlYWJsZTpmdW5jdGlvbigpe2lmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXSlyZXR1cm4hMTtcbmZvcih2YXIgYT10aGlzLmdldENoaWxkcmVuKCksYj0wLGM9YS5jb3VudCgpO2I8YztiKyspe3ZhciBmPWEuZ2V0SXRlbShiKTtpZihmLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWYuZGF0YShcImNrZS1ib29rbWFya1wiKSlpZihmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWYuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKXx8Zi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJkNLRURJVE9SLnRvb2xzLnRyaW0oZi5nZXRUZXh0KCkpKXJldHVybiExfXJldHVybiEwfSxoYXNBdHRyaWJ1dGVzOkNLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuJC5hdHRyaWJ1dGVzLGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtzd2l0Y2goYy5ub2RlTmFtZSl7Y2FzZSBcImNsYXNzXCI6aWYodGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSlyZXR1cm4hMDtjYXNlIFwiZGF0YS1ja2UtZXhwYW5kb1wiOmNvbnRpbnVlO1xuZGVmYXVsdDppZihjLnNwZWNpZmllZClyZXR1cm4hMH19cmV0dXJuITF9OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmF0dHJpYnV0ZXMsYj1hLmxlbmd0aCxjPXtcImRhdGEtY2tlLWV4cGFuZG9cIjoxLF9tb3pfZGlydHk6MX07cmV0dXJuIDA8YiYmKDI8Ynx8IWNbYVswXS5ub2RlTmFtZV18fDI9PWImJiFjW2FbMV0ubm9kZU5hbWVdKX0saGFzQXR0cmlidXRlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt2YXIgYz10aGlzLiQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oYik7aWYoXCJpbnB1dFwiPT10aGlzLmdldE5hbWUoKSlzd2l0Y2goYil7Y2FzZSBcImNsYXNzXCI6cmV0dXJuIDA8dGhpcy4kLmNsYXNzTmFtZS5sZW5ndGg7Y2FzZSBcImNoZWNrZWRcIjpyZXR1cm4hIXRoaXMuJC5jaGVja2VkO2Nhc2UgXCJ2YWx1ZVwiOnJldHVybiBiPXRoaXMuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxcImNoZWNrYm94XCI9PWJ8fFwicmFkaW9cIj09Yj9cIm9uXCIhPXRoaXMuJC52YWx1ZTohIXRoaXMuJC52YWx1ZX1yZXR1cm4gYz9cbmMuc3BlY2lmaWVkOiExfXJldHVybiBDS0VESVRPUi5lbnYuaWU/OD5DS0VESVRPUi5lbnYudmVyc2lvbj9mdW5jdGlvbihiKXtyZXR1cm5cIm5hbWVcIj09Yj8hIXRoaXMuJC5uYW1lOmEuY2FsbCh0aGlzLGIpfTphOmZ1bmN0aW9uKGEpe3JldHVybiEhdGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGEpfX0oKSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LG1vdmVDaGlsZHJlbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJDthPWEuJDtpZihjIT1hKXt2YXIgZjtpZihiKWZvcig7Zj1jLmxhc3RDaGlsZDspYS5pbnNlcnRCZWZvcmUoYy5yZW1vdmVDaGlsZChmKSxhLmZpcnN0Q2hpbGQpO2Vsc2UgZm9yKDtmPWMuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChjLnJlbW92ZUNoaWxkKGYpKX19LG1lcmdlU2libGluZ3M6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyxmKXtpZihjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7Zm9yKHZhciBnPVxuW107Yy5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpfHxjLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCk7KWlmKGcucHVzaChjKSxjPWY/Yy5nZXROZXh0KCk6Yy5nZXRQcmV2aW91cygpLCFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm47aWYoYi5pc0lkZW50aWNhbChjKSl7Zm9yKHZhciBkPWY/Yi5nZXRMYXN0KCk6Yi5nZXRGaXJzdCgpO2cubGVuZ3RoOylnLnNoaWZ0KCkubW92ZShiLCFmKTtjLm1vdmVDaGlsZHJlbihiLCFmKTtjLnJlbW92ZSgpO2QmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLm1lcmdlU2libGluZ3MoKX19fXJldHVybiBmdW5jdGlvbihiKXtpZighMT09PWJ8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbdGhpcy5nZXROYW1lKCldfHx0aGlzLmlzKFwiYVwiKSlhKHRoaXMsdGhpcy5nZXROZXh0KCksITApLGEodGhpcyx0aGlzLmdldFByZXZpb3VzKCkpfX0oKSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZXMoe2Rpc3BsYXk6XCJcIixcbnZpc2liaWxpdHk6XCJcIn0pfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGIpe3RoaXMuJC5zZXRBdHRyaWJ1dGUoYSxiKTtyZXR1cm4gdGhpc307cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGIsYyl7XCJjbGFzc1wiPT1iP3RoaXMuJC5jbGFzc05hbWU9YzpcInN0eWxlXCI9PWI/dGhpcy4kLnN0eWxlLmNzc1RleHQ9YzpcInRhYmluZGV4XCI9PWI/dGhpcy4kLnRhYkluZGV4PWM6XCJjaGVja2VkXCI9PWI/dGhpcy4kLmNoZWNrZWQ9YzpcImNvbnRlbnRlZGl0YWJsZVwiPT1iP2EuY2FsbCh0aGlzLFwiY29udGVudEVkaXRhYmxlXCIsYyk6YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9OkNLRURJVE9SLmVudi5pZThDb21wYXQmJkNLRURJVE9SLmVudi5zZWN1cmU/ZnVuY3Rpb24oYixjKXtpZihcInNyY1wiPT1iJiZjLm1hdGNoKC9eaHR0cDpcXC9cXC8vKSl0cnl7YS5hcHBseSh0aGlzLFxuYXJndW1lbnRzKX1jYXRjaChmKXt9ZWxzZSBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpc306YX0oKSxzZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXRoaXMuc2V0QXR0cmlidXRlKGIsYVtiXSk7cmV0dXJuIHRoaXN9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMuJC52YWx1ZT1hO3JldHVybiB0aGlzfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLiQucmVtb3ZlQXR0cmlidXRlKGEpfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcyk/ZnVuY3Rpb24oYSl7XCJjbGFzc1wiPT1hP2E9XCJjbGFzc05hbWVcIjpcInRhYmluZGV4XCI9PWE/YT1cInRhYkluZGV4XCI6XCJjb250ZW50ZWRpdGFibGVcIj09YSYmKGE9XCJjb250ZW50RWRpdGFibGVcIik7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShhKX06YX0oKSxyZW1vdmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpZm9yKHZhciBiPVxuMDtiPGEubGVuZ3RoO2IrKyl0aGlzLnJlbW92ZUF0dHJpYnV0ZShhW2JdKTtlbHNlIGZvcihiIGluIGE9YXx8dGhpcy5nZXRBdHRyaWJ1dGVzKCksYSlhLmhhc093blByb3BlcnR5KGIpJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShiKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLnN0eWxlO2lmKGIucmVtb3ZlUHJvcGVydHl8fFwiYm9yZGVyXCIhPWEmJlwibWFyZ2luXCIhPWEmJlwicGFkZGluZ1wiIT1hKWIucmVtb3ZlUHJvcGVydHk/Yi5yZW1vdmVQcm9wZXJ0eShhKTpiLnJlbW92ZUF0dHJpYnV0ZShDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSkpLHRoaXMuJC5zdHlsZS5jc3NUZXh0fHx0aGlzLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO2Vsc2V7dmFyIGM9W1widG9wXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiYm90dG9tXCJdLGY7XCJib3JkZXJcIj09YSYmKGY9W1wiY29sb3JcIixcInN0eWxlXCIsXCJ3aWR0aFwiXSk7Zm9yKHZhciBiPVtdLGQ9MDtkPGMubGVuZ3RoO2QrKylpZihmKWZvcih2YXIgZT1cbjA7ZTxmLmxlbmd0aDtlKyspYi5wdXNoKFthLGNbZF0sZltlXV0uam9pbihcIi1cIikpO2Vsc2UgYi5wdXNoKFthLGNbZF1dLmpvaW4oXCItXCIpKTtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKXRoaXMucmVtb3ZlU3R5bGUoYlthXSl9fSxzZXRTdHlsZTpmdW5jdGlvbihhLGIpe3RoaXMuJC5zdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldPWI7cmV0dXJuIHRoaXN9LHNldFN0eWxlczpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzLnNldFN0eWxlKGIsYVtiXSk7cmV0dXJuIHRoaXN9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uPyhhPU1hdGgucm91bmQoMTAwKmEpLHRoaXMuc2V0U3R5bGUoXCJmaWx0ZXJcIiwxMDA8PWE/XCJcIjpcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5XFx4M2RcIithK1wiKVwiKSk6dGhpcy5zZXRTdHlsZShcIm9wYWNpdHlcIixhKX0sdW5zZWxlY3RhYmxlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZXMoQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidXNlci1zZWxlY3RcIixcblwibm9uZVwiKSk7aWYoQ0tFRElUT1IuZW52LmllKXt0aGlzLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIik7Zm9yKHZhciBhLGI9dGhpcy5nZXRFbGVtZW50c0J5VGFnKFwiKlwiKSxjPTAsZj1iLmNvdW50KCk7YzxmO2MrKylhPWIuZ2V0SXRlbShjKSxhLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIil9fSxnZXRQb3NpdGlvbmVkQW5jZXN0b3I6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcztcImh0bWxcIiE9YS5nZXROYW1lKCk7KXtpZihcInN0YXRpY1wiIT1hLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKSlyZXR1cm4gYTthPWEuZ2V0UGFyZW50KCl9cmV0dXJuIG51bGx9LGdldERvY3VtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPTAsZj10aGlzLmdldERvY3VtZW50KCksZD1mLmdldEJvZHkoKSxlPVwiQmFja0NvbXBhdFwiPT1mLiQuY29tcGF0TW9kZTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYoQ0tFRElUT1IuZW52LmllP1xuOCE9PUNLRURJVE9SLmVudi52ZXJzaW9uOjEpKXt2YXIgbD10aGlzLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaz1mLiQuZG9jdW1lbnRFbGVtZW50LHg9ay5jbGllbnRUb3B8fGQuJC5jbGllbnRUb3B8fDAscT1rLmNsaWVudExlZnR8fGQuJC5jbGllbnRMZWZ0fHwwLHQ9ITA7Q0tFRElUT1IuZW52LmllJiYodD1mLmdldERvY3VtZW50RWxlbWVudCgpLmNvbnRhaW5zKHRoaXMpLGY9Zi5nZXRCb2R5KCkuY29udGFpbnModGhpcyksdD1lJiZmfHwhZSYmdCk7dCYmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5pZSYmMTI8PUNLRURJVE9SLmVudi52ZXJzaW9uPyhiPWQuJC5zY3JvbGxMZWZ0fHxrLnNjcm9sbExlZnQsYz1kLiQuc2Nyb2xsVG9wfHxrLnNjcm9sbFRvcCk6KGM9ZT9kLiQ6ayxiPWMuc2Nyb2xsTGVmdCxjPWMuc2Nyb2xsVG9wKSxiPWwubGVmdCtiLXEsYz1sLnRvcCtjLXgpfWVsc2UgZm9yKHg9dGhpcyxxPW51bGw7eCYmXCJib2R5XCIhPXguZ2V0TmFtZSgpJiZcblwiaHRtbFwiIT14LmdldE5hbWUoKTspe2IrPXguJC5vZmZzZXRMZWZ0LXguJC5zY3JvbGxMZWZ0O2MrPXguJC5vZmZzZXRUb3AteC4kLnNjcm9sbFRvcDt4LmVxdWFscyh0aGlzKXx8KGIrPXguJC5jbGllbnRMZWZ0fHwwLGMrPXguJC5jbGllbnRUb3B8fDApO2Zvcig7cSYmIXEuZXF1YWxzKHgpOyliLT1xLiQuc2Nyb2xsTGVmdCxjLT1xLiQuc2Nyb2xsVG9wLHE9cS5nZXRQYXJlbnQoKTtxPXg7eD0obD14LiQub2Zmc2V0UGFyZW50KT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobCk6bnVsbH1hJiYobD10aGlzLmdldFdpbmRvdygpLHg9YS5nZXRXaW5kb3coKSwhbC5lcXVhbHMoeCkmJmwuJC5mcmFtZUVsZW1lbnQmJihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobC4kLmZyYW1lRWxlbWVudCkpLmdldERvY3VtZW50UG9zaXRpb24oYSksYis9YS54LGMrPWEueSkpO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3R8fCFDS0VESVRPUi5lbnYuZ2Vja298fFxuZXx8KGIrPXRoaXMuJC5jbGllbnRMZWZ0PzE6MCxjKz10aGlzLiQuY2xpZW50VG9wPzE6MCk7cmV0dXJue3g6Yix5OmN9fSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFBhcmVudCgpO2lmKGIpe2RvIGlmKChiLiQuY2xpZW50V2lkdGgmJmIuJC5jbGllbnRXaWR0aDxiLiQuc2Nyb2xsV2lkdGh8fGIuJC5jbGllbnRIZWlnaHQmJmIuJC5jbGllbnRIZWlnaHQ8Yi4kLnNjcm9sbEhlaWdodCkmJiFiLmlzKFwiYm9keVwiKSYmdGhpcy5zY3JvbGxJbnRvUGFyZW50KGIsYSwxKSxiLmlzKFwiaHRtbFwiKSl7dmFyIGM9Yi5nZXRXaW5kb3coKTt0cnl7dmFyIGY9Yy4kLmZyYW1lRWxlbWVudDtmJiYoYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZikpfWNhdGNoKGQpe319d2hpbGUoYj1iLmdldFBhcmVudCgpKX19LHNjcm9sbEludG9QYXJlbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBmLGQsZSxsO2Z1bmN0aW9uIGsoYixmKXsvYm9keXxodG1sLy50ZXN0KGEuZ2V0TmFtZSgpKT9cbmEuZ2V0V2luZG93KCkuJC5zY3JvbGxCeShiLGYpOihhLiQuc2Nyb2xsTGVmdCs9YixhLiQuc2Nyb2xsVG9wKz1mKX1mdW5jdGlvbiB4KGEsYil7dmFyIGY9e3g6MCx5OjB9O2lmKCFhLmlzKHQ/XCJib2R5XCI6XCJodG1sXCIpKXt2YXIgYz1hLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Zi54PWMubGVmdDtmLnk9Yy50b3B9Yz1hLmdldFdpbmRvdygpO2MuZXF1YWxzKGIpfHwoYz14KENLRURJVE9SLmRvbS5lbGVtZW50LmdldChjLiQuZnJhbWVFbGVtZW50KSxiKSxmLngrPWMueCxmLnkrPWMueSk7cmV0dXJuIGZ9ZnVuY3Rpb24gcShhLGIpe3JldHVybiBwYXJzZUludChhLmdldENvbXB1dGVkU3R5bGUoXCJtYXJnaW4tXCIrYil8fDAsMTApfHwwfSFhJiYoYT10aGlzLmdldFdpbmRvdygpKTtlPWEuZ2V0RG9jdW1lbnQoKTt2YXIgdD1cIkJhY2tDb21wYXRcIj09ZS4kLmNvbXBhdE1vZGU7YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS53aW5kb3cmJihhPXQ/ZS5nZXRCb2R5KCk6ZS5nZXREb2N1bWVudEVsZW1lbnQoKSk7XG5DS0VESVRPUi5lbnYud2Via2l0JiYoZT10aGlzLmdldEVkaXRvcighMSkpJiYoZS5fLnByZXZpb3VzU2Nyb2xsVG9wPW51bGwpO2U9YS5nZXRXaW5kb3coKTtkPXgodGhpcyxlKTt2YXIgdT14KGEsZSksQT10aGlzLiQub2Zmc2V0SGVpZ2h0O2Y9dGhpcy4kLm9mZnNldFdpZHRoO3ZhciB6PWEuJC5jbGllbnRIZWlnaHQsdz1hLiQuY2xpZW50V2lkdGg7ZT1kLngtcSh0aGlzLFwibGVmdFwiKS11Lnh8fDA7bD1kLnktcSh0aGlzLFwidG9wXCIpLXUueXx8MDtmPWQueCtmK3EodGhpcyxcInJpZ2h0XCIpLSh1Lngrdyl8fDA7ZD1kLnkrQStxKHRoaXMsXCJib3R0b21cIiktKHUueSt6KXx8MDsoMD5sfHwwPGQpJiZrKDAsITA9PT1iP2w6ITE9PT1iP2Q6MD5sP2w6ZCk7YyYmKDA+ZXx8MDxmKSYmaygwPmU/ZTpmLDApfSxzZXRTdGF0ZTpmdW5jdGlvbihhLGIsYyl7Yj1ifHxcImNrZVwiO3N3aXRjaChhKXtjYXNlIENLRURJVE9SLlRSSVNUQVRFX09OOnRoaXMuYWRkQ2xhc3MoYitcIl9vblwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXG5cIl9vZmZcIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX2Rpc2FibGVkXCIpO2MmJnRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsITApO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKTticmVhaztjYXNlIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOnRoaXMuYWRkQ2xhc3MoYitcIl9kaXNhYmxlZFwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb2ZmXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9vblwiKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk7YyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIik7YnJlYWs7ZGVmYXVsdDp0aGlzLmFkZENsYXNzKGIrXCJfb2ZmXCIpLHRoaXMucmVtb3ZlQ2xhc3MoYitcIl9vblwiKSx0aGlzLnJlbW92ZUNsYXNzKGIrXCJfZGlzYWJsZWRcIiksYyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiksYyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpfX0sXG5nZXRGcmFtZURvY3VtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kO3RyeXthLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnR9Y2F0Y2goYil7YS5zcmM9YS5zcmN9cmV0dXJuIGEmJm5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoYS5jb250ZW50V2luZG93LmRvY3VtZW50KX0sY29weUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQuYXR0cmlidXRlcztiPWJ8fHt9O2Zvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZD1jW2ZdLGU9ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGw7aWYoIShlIGluIGIpKWlmKFwiY2hlY2tlZFwiPT1lJiYobD10aGlzLmdldEF0dHJpYnV0ZShlKSkpYS5zZXRBdHRyaWJ1dGUoZSxsKTtlbHNlIGlmKCFDS0VESVRPUi5lbnYuaWV8fHRoaXMuaGFzQXR0cmlidXRlKGUpKWw9dGhpcy5nZXRBdHRyaWJ1dGUoZSksbnVsbD09PWwmJihsPWQubm9kZVZhbHVlKSxhLnNldEF0dHJpYnV0ZShlLGwpfVwiXCIhPT10aGlzLiQuc3R5bGUuY3NzVGV4dCYmXG4oYS4kLnN0eWxlLmNzc1RleHQ9dGhpcy4kLnN0eWxlLmNzc1RleHQpfSxyZW5hbWVOb2RlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0TmFtZSgpIT1hKXt2YXIgYj10aGlzLmdldERvY3VtZW50KCk7YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSxiKTt0aGlzLmNvcHlBdHRyaWJ1dGVzKGEpO3RoaXMubW92ZUNoaWxkcmVuKGEpO3RoaXMuZ2V0UGFyZW50KCEwKSYmdGhpcy4kLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGEuJCx0aGlzLiQpO2EuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl09dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTt0aGlzLiQ9YS4kO2RlbGV0ZSB0aGlzLmdldE5hbWV9fSxnZXRDaGlsZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXt2YXIgZj1iLmNoaWxkTm9kZXM7aWYoMDw9YyYmYzxmLmxlbmd0aClyZXR1cm4gZltjXX1yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy4kO2lmKGIuc2xpY2UpZm9yKGI9Yi5zbGljZSgpOzA8Yi5sZW5ndGgmJmM7KWM9YShjLFxuYi5zaGlmdCgpKTtlbHNlIGM9YShjLGIpO3JldHVybiBjP25ldyBDS0VESVRPUi5kb20ubm9kZShjKTpudWxsfX0oKSxnZXRDaGlsZENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5jaGlsZE5vZGVzLmxlbmd0aH0sZGlzYWJsZUNvbnRleHRNZW51OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaGFzQ2xhc3MoXCJja2VfZW5hYmxlX2NvbnRleHRfbWVudVwiKX10aGlzLm9uKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihiKXtiLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0QXNjZW5kYW50KGEsITApfHxiLmRhdGEucHJldmVudERlZmF1bHQoKX0pfSxnZXREaXJlY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpfHx0aGlzLmdldERpcmVjdGlvbigpfHx0aGlzLmdldFBhcmVudCgpJiZ0aGlzLmdldFBhcmVudCgpLmdldERpcmVjdGlvbigxKXx8dGhpcy5nZXREb2N1bWVudCgpLiQuZGlyfHxcblwibHRyXCI6dGhpcy5nZXRTdHlsZShcImRpcmVjdGlvblwiKXx8dGhpcy5nZXRBdHRyaWJ1dGUoXCJkaXJcIil9LGRhdGE6ZnVuY3Rpb24oYSxiKXthPVwiZGF0YS1cIithO2lmKHZvaWQgMD09PWIpcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGEpOyExPT09Yj90aGlzLnJlbW92ZUF0dHJpYnV0ZShhKTp0aGlzLnNldEF0dHJpYnV0ZShhLGIpO3JldHVybiBudWxsfSxnZXRFZGl0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IuaW5zdGFuY2VzLGMsZixkO2E9YXx8dm9pZCAwPT09YTtmb3IoYyBpbiBiKWlmKGY9YltjXSxmLmVsZW1lbnQuZXF1YWxzKHRoaXMpJiZmLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE98fCFhJiYoZD1mLmVkaXRhYmxlKCkpJiYoZC5lcXVhbHModGhpcyl8fGQuY29udGFpbnModGhpcykpKXJldHVybiBmO3JldHVybiBudWxsfSxmaW5kOmZ1bmN0aW9uKGEpe3ZhciBjPWUodGhpcyk7YT1uZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5xdWVyeVNlbGVjdG9yQWxsKGIodGhpcyxcbmEpKSk7YygpO3JldHVybiBhfSxmaW5kT25lOmZ1bmN0aW9uKGEpe3ZhciBjPWUodGhpcyk7YT10aGlzLiQucXVlcnlTZWxlY3RvcihiKHRoaXMsYSkpO2MoKTtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZm9yRWFjaDpmdW5jdGlvbihhLGIsYyl7aWYoIShjfHxiJiZ0aGlzLnR5cGUhPWIpKXZhciBmPWEodGhpcyk7aWYoITEhPT1mKXtjPXRoaXMuZ2V0Q2hpbGRyZW4oKTtmb3IodmFyIGQ9MDtkPGMuY291bnQoKTtkKyspZj1jLmdldEl0ZW0oZCksZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/Zi5mb3JFYWNoKGEsYik6YiYmZi50eXBlIT1ifHxhKGYpfX19KTt2YXIgaz17d2lkdGg6W1wiYm9yZGVyLWxlZnQtd2lkdGhcIixcImJvcmRlci1yaWdodC13aWR0aFwiLFwicGFkZGluZy1sZWZ0XCIsXCJwYWRkaW5nLXJpZ2h0XCJdLGhlaWdodDpbXCJib3JkZXItdG9wLXdpZHRoXCIsXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXCJwYWRkaW5nLXRvcFwiLFwicGFkZGluZy1ib3R0b21cIl19O1xuQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oYSxiLGQpe1wibnVtYmVyXCI9PXR5cGVvZiBiJiYoIWR8fENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrc3x8KGItPWMuY2FsbCh0aGlzLGEpKSx0aGlzLnNldFN0eWxlKGEsYitcInB4XCIpKX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oYSxiKXt2YXIgZD1NYXRoLm1heCh0aGlzLiRbXCJvZmZzZXRcIitDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGEpXSx0aGlzLiRbXCJjbGllbnRcIitDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGEpXSl8fDA7YiYmKGQtPWMuY2FsbCh0aGlzLGEpKTtyZXR1cm4gZH19KCksQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQ9ZnVuY3Rpb24oYSl7YT1hfHxDS0VESVRPUi5kb2N1bWVudDt0aGlzLiQ9YS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP2EuJC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6YX0sQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSxcbkNLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5ULGluc2VydEFmdGVyTm9kZTpmdW5jdGlvbihhKXthPWEuJDthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxhLm5leHRTaWJsaW5nKX0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTt0aGlzLmNsb25lKDEsMSkuYXBwZW5kVG8oYSk7cmV0dXJuIGEuZ2V0SHRtbCgpLnJlcGxhY2UoL1xccypkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKX19LCEwLHthcHBlbmQ6MSxhcHBlbmRCb2d1czoxLGNsb25lOjEsZ2V0Rmlyc3Q6MSxnZXRIdG1sOjEsZ2V0TGFzdDoxLGdldFBhcmVudDoxLGdldE5leHQ6MSxnZXRQcmV2aW91czoxLGFwcGVuZFRvOjEsbW92ZUNoaWxkcmVuOjEsaW5zZXJ0QmVmb3JlOjEsaW5zZXJ0QWZ0ZXJOb2RlOjEscmVwbGFjZToxLHRyaW06MSx0eXBlOjEsbHRyaW06MSxydHJpbToxLGdldERvY3VtZW50OjEsXG5nZXRDaGlsZENvdW50OjEsZ2V0Q2hpbGQ6MSxnZXRDaGlsZHJlbjoxfSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGY9dGhpcy5yYW5nZTtpZih0aGlzLl8uZW5kKXJldHVybiBudWxsO2lmKCF0aGlzLl8uc3RhcnQpe3RoaXMuXy5zdGFydD0xO2lmKGYuY29sbGFwc2VkKXJldHVybiB0aGlzLmVuZCgpLG51bGw7Zi5vcHRpbWl6ZSgpfXZhciBjLGQ9Zi5zdGFydENvbnRhaW5lcjtjPWYuZW5kQ29udGFpbmVyO3ZhciBnPWYuc3RhcnRPZmZzZXQsaD1mLmVuZE9mZnNldCxlLG49dGhpcy5ndWFyZCxtPXRoaXMudHlwZSxsPWE/XCJnZXRQcmV2aW91c1NvdXJjZU5vZGVcIjpcImdldE5leHRTb3VyY2VOb2RlXCI7aWYoIWEmJiF0aGlzLl8uZ3VhcmRMVFIpe3ZhciBrPWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2M6Yy5nZXRQYXJlbnQoKSxCPWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2MuZ2V0Q2hpbGQoaCk6Yy5nZXROZXh0KCk7dGhpcy5fLmd1YXJkTFRSPWZ1bmN0aW9uKGEsXG5iKXtyZXR1cm4oIWJ8fCFrLmVxdWFscyhhKSkmJighQnx8IWEuZXF1YWxzKEIpKSYmKGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYnx8IWEuZXF1YWxzKGYucm9vdCkpfX1pZihhJiYhdGhpcy5fLmd1YXJkUlRMKXt2YXIgRz1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9kOmQuZ2V0UGFyZW50KCksRT1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9nP2QuZ2V0Q2hpbGQoZy0xKTpudWxsOmQuZ2V0UHJldmlvdXMoKTt0aGlzLl8uZ3VhcmRSVEw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIWJ8fCFHLmVxdWFscyhhKSkmJighRXx8IWEuZXF1YWxzKEUpKSYmKGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYnx8IWEuZXF1YWxzKGYucm9vdCkpfX12YXIgRj1hP3RoaXMuXy5ndWFyZFJUTDp0aGlzLl8uZ3VhcmRMVFI7ZT1uP2Z1bmN0aW9uKGEsYil7cmV0dXJuITE9PT1GKGEsYik/ITE6bihhLGIpfTpGO3RoaXMuY3VycmVudD9jPXRoaXMuY3VycmVudFtsXSghMSxcbm0sZSk6KGE/Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihjPTA8aD9jLmdldENoaWxkKGgtMSk6ITE9PT1lKGMsITApP251bGw6Yy5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITAsbSxlKSk6KGM9ZCxjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKChjPWMuZ2V0Q2hpbGQoZykpfHwoYz0hMT09PWUoZCwhMCk/bnVsbDpkLmdldE5leHRTb3VyY2VOb2RlKCEwLG0sZSkpKSksYyYmITE9PT1lKGMpJiYoYz1udWxsKSk7Zm9yKDtjJiYhdGhpcy5fLmVuZDspe3RoaXMuY3VycmVudD1jO2lmKCF0aGlzLmV2YWx1YXRvcnx8ITEhPT10aGlzLmV2YWx1YXRvcihjKSl7aWYoIWIpcmV0dXJuIGN9ZWxzZSBpZihiJiZ0aGlzLmV2YWx1YXRvcilyZXR1cm4hMTtjPWNbbF0oITEsbSxlKX10aGlzLmVuZCgpO3JldHVybiB0aGlzLmN1cnJlbnQ9bnVsbH1mdW5jdGlvbiBlKGIpe2Zvcih2YXIgZixjPW51bGw7Zj1hLmNhbGwodGhpcyxiKTspYz1mO3JldHVybiBjfUNLRURJVE9SLmRvbS53YWxrZXI9XG5DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhKXt0aGlzLnJhbmdlPWE7dGhpcy5fPXt9fSxwcm90bzp7ZW5kOmZ1bmN0aW9uKCl7dGhpcy5fLmVuZD0xfSxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzKX0scHJldmlvdXM6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMsMSl9LGNoZWNrRm9yd2FyZDpmdW5jdGlvbigpe3JldHVybiExIT09YS5jYWxsKHRoaXMsMCwxKX0sY2hlY2tCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiExIT09YS5jYWxsKHRoaXMsMSwxKX0sbGFzdEZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMpfSxsYXN0QmFja3dhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMsMSl9LHJlc2V0OmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY3VycmVudDt0aGlzLl89e319fX0pO3ZhciBiPXtibG9jazoxLFwibGlzdC1pdGVtXCI6MSx0YWJsZToxLFwidGFibGUtcm93LWdyb3VwXCI6MSxcInRhYmxlLWhlYWRlci1ncm91cFwiOjEsXG5cInRhYmxlLWZvb3Rlci1ncm91cFwiOjEsXCJ0YWJsZS1yb3dcIjoxLFwidGFibGUtY29sdW1uLWdyb3VwXCI6MSxcInRhYmxlLWNvbHVtblwiOjEsXCJ0YWJsZS1jZWxsXCI6MSxcInRhYmxlLWNhcHRpb25cIjoxfSxjPXthYnNvbHV0ZToxLGZpeGVkOjF9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5pc0Jsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuXCJub25lXCIhPXRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImZsb2F0XCIpfHx0aGlzLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKWluIGN8fCFiW3RoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIildPyEhKHRoaXMuaXMoQ0tFRElUT1IuZHRkLiRibG9jayl8fGEmJnRoaXMuaXMoYSkpOiEwfTtDS0VESVRPUi5kb20ud2Fsa2VyLmJsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiEoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXNCbG9ja0JvdW5kYXJ5KGEpKX19O0NLRURJVE9SLmRvbS53YWxrZXIubGlzdEl0ZW1Cb3VuZGFyeT1cbmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tCb3VuZGFyeSh7YnI6MX0pfTtDS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZihhKXtyZXR1cm4gYSYmYS5nZXROYW1lJiZcInNwYW5cIj09YS5nZXROYW1lKCkmJmEuZGF0YShcImNrZS1ib29rbWFya1wiKX1yZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQsZztkPWMmJmMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZz1jLmdldFBhcmVudCgpKSYmZihnKTtkPWE/ZDpkfHxmKGMpO3JldHVybiEhKGJeZCl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZjtiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGY9IUNLRURJVE9SLnRvb2xzLnRyaW0oYi5nZXRUZXh0KCkpfHxDS0VESVRPUi5lbnYud2Via2l0JiZiLmdldFRleHQoKT09Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5GSUxMSU5HX0NIQVJfU0VRVUVOQ0UpO1xucmV0dXJuISEoYV5mKX19O0NLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxmPUNLRURJVE9SLmVudi53ZWJraXQ/MTowO3JldHVybiBmdW5jdGlvbihjKXtiKGMpP2M9MTooYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWMuZ2V0UGFyZW50KCkpLGM9Yy4kLm9mZnNldFdpZHRoPD1mKTtyZXR1cm4hIShhXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihmKXtyZXR1cm4hIShiXmYudHlwZT09YSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIWwoYSkmJiFrKGEpfXJldHVybiBmdW5jdGlvbihmKXt2YXIgYz1DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9mLmlzJiZmLmlzKFwiYnJcIik6Zi5nZXRUZXh0JiZkLnRlc3QoZi5nZXRUZXh0KCkpO2MmJihjPWYuZ2V0UGFyZW50KCksXG5mPWYuZ2V0TmV4dChiKSxjPWMuaXNCbG9ja0JvdW5kYXJ5KCkmJighZnx8Zi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuaXNCbG9ja0JvdW5kYXJ5KCkpKTtyZXR1cm4hIShhXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci50ZW1wPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI9Yi5nZXRQYXJlbnQoKSk7Yj1iJiZiLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIik7cmV0dXJuISEoYV5iKX19O3ZhciBkPS9eW1xcdFxcclxcbiBdKig/OiZuYnNwO3xcXHhhMCkkLyxsPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxrPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxnPUNLRURJVE9SLmRvbS53YWxrZXIudGVtcCgpLGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGsoYSl8fGwoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSYmIWEuaXMoQ0tFRElUT1IuZHRkLiRlbXB0eSl9O1xuQ0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPWwoYil8fGsoYil8fGcoYik7cmV0dXJuISEoYV5iKX19O3ZhciBtPUNLRURJVE9SLmRvbS53YWxrZXIuaWdub3JlZCgpO0NLRURJVE9SLmRvbS53YWxrZXIuZW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2Zvcih2YXIgZj0wLGM9Yi5nZXRDaGlsZENvdW50KCk7ZjxjOysrZilpZighbShiLmdldENoaWxkKGYpKSlyZXR1cm4hIWE7cmV0dXJuIWF9fTt2YXIgZj1DS0VESVRPUi5kb20ud2Fsa2VyLmVtcHR5KCksbj1DS0VESVRPUi5kb20ud2Fsa2VyLnZhbGlkRW1wdHlCbG9ja0NvbnRhaW5lcnM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGEpe3ZhciBiPXt9LGY7Zm9yKGYgaW4gYSlDS0VESVRPUi5kdGRbZl1bXCIjXCJdJiYoYltmXT0xKTtyZXR1cm4gYn0oQ0tFRElUT1IuZHRkLiRibG9jaykse2NhcHRpb246MSx0ZDoxLHRoOjF9KTtDS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlPVxuZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I9bShiKT8hMTpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKXx8Yi5pcyhcImhyXCIpfHxcImZhbHNlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHwhQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJmIuaXMobikmJmYoYikpPyEwOiExO3JldHVybiEhKGFeYil9fTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0Qm9ndXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2RvIGE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTt3aGlsZShoKGEpKTtyZXR1cm4gYSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP2EuaXMmJmEuaXMoXCJiclwiKTphLmdldFRleHQmJmQudGVzdChhLmdldFRleHQoKSkpP2E6ITF9fSgpLENLRURJVE9SLmRvbS5yYW5nZT1mdW5jdGlvbihhKXt0aGlzLmVuZE9mZnNldD10aGlzLmVuZENvbnRhaW5lcj1cbnRoaXMuc3RhcnRPZmZzZXQ9dGhpcy5zdGFydENvbnRhaW5lcj1udWxsO3RoaXMuY29sbGFwc2VkPSEwO3ZhciBlPWEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQ7dGhpcy5kb2N1bWVudD1lP2E6YS5nZXREb2N1bWVudCgpO3RoaXMucm9vdD1lP2EuZ2V0Qm9keSgpOmF9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthLmNvbGxhcHNlZD1hLnN0YXJ0Q29udGFpbmVyJiZhLmVuZENvbnRhaW5lciYmYS5zdGFydENvbnRhaW5lci5lcXVhbHMoYS5lbmRDb250YWluZXIpJiZhLnN0YXJ0T2Zmc2V0PT1hLmVuZE9mZnNldH1mdW5jdGlvbiBlKGEsYixjLGQsZyl7ZnVuY3Rpb24gaChhLGIsZixjKXt2YXIgZD1mP2EuZ2V0UHJldmlvdXMoKTphLmdldE5leHQoKTtpZihjJiZsKXJldHVybiBkO3p8fGM/Yi5hcHBlbmQoYS5jbG9uZSghMCxnKSxmKTooYS5yZW1vdmUoKSxrJiZiLmFwcGVuZChhLGYpKTtyZXR1cm4gZH1mdW5jdGlvbiBlKCl7dmFyIGEsYixmLGM9TWF0aC5taW4oSi5sZW5ndGgsXG5ELmxlbmd0aCk7Zm9yKGE9MDthPGM7YSsrKWlmKGI9SlthXSxmPURbYV0sIWIuZXF1YWxzKGYpKXJldHVybiBhO3JldHVybiBhLTF9ZnVuY3Rpb24gbSgpe3ZhciBiPVItMSxjPUYmJkkmJiF3LmVxdWFscyhDKTtiPE4tMXx8YjxTLTF8fGM/KGM/YS5tb3ZlVG9Qb3NpdGlvbihDLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk6Uz09YisxJiZFP2EubW92ZVRvUG9zaXRpb24oRFtiXSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTphLm1vdmVUb1Bvc2l0aW9uKERbYisxXSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGQmJihiPUpbYisxXSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGRhdGEtY2tlLWJvb2ttYXJrXFx4M2RcIjFcIiBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZScsYS5kb2N1bWVudCksYy5pbnNlcnRBZnRlcihiKSxcbmIubWVyZ2VTaWJsaW5ncyghMSksYS5tb3ZlVG9Cb29rbWFyayh7c3RhcnROb2RlOmN9KSkpOmEuY29sbGFwc2UoITApfWEub3B0aW1pemVCb29rbWFyaygpO3ZhciBsPTA9PT1iLGs9MT09Yix6PTI9PWI7Yj16fHxrO3ZhciB3PWEuc3RhcnRDb250YWluZXIsQz1hLmVuZENvbnRhaW5lcix5PWEuc3RhcnRPZmZzZXQsQj1hLmVuZE9mZnNldCxHLEUsRixJLEgsSztpZih6JiZDLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKHcuZXF1YWxzKEMpfHx3LnR5cGU9PT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJncuZ2V0Rmlyc3QoKS5lcXVhbHMoQykpKWMuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlVGV4dChDLnN1YnN0cmluZyh5LEIpKSk7ZWxzZXtDLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD96P0s9ITA6Qz1DLnNwbGl0KEIpOjA8Qy5nZXRDaGlsZENvdW50KCk/Qj49Qy5nZXRDaGlsZENvdW50KCk/KEM9Qy5nZXRDaGlsZChCLTEpLEU9ITApOkM9Qy5nZXRDaGlsZChCKTpJPUU9ITA7dy50eXBlPT1cbkNLRURJVE9SLk5PREVfVEVYVD96P0g9ITA6dy5zcGxpdCh5KTowPHcuZ2V0Q2hpbGRDb3VudCgpPzA9PT15Pyh3PXcuZ2V0Q2hpbGQoeSksRz0hMCk6dz13LmdldENoaWxkKHktMSk6Rj1HPSEwO2Zvcih2YXIgSj13LmdldFBhcmVudHMoKSxEPUMuZ2V0UGFyZW50cygpLFI9ZSgpLE49Si5sZW5ndGgtMSxTPUQubGVuZ3RoLTEsTD1jLFYsWixYLGRhPS0xLFA9UjtQPD1OO1ArKyl7Wj1KW1BdO1g9Wi5nZXROZXh0KCk7Zm9yKFAhPU58fFouZXF1YWxzKERbUF0pJiZOPFM/YiYmKFY9TC5hcHBlbmQoWi5jbG9uZSgwLGcpKSk6Rz9oKFosTCwhMSxGKTpIJiZMLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoWi5zdWJzdHJpbmcoeSkpKTtYOyl7aWYoWC5lcXVhbHMoRFtQXSkpe2RhPVA7YnJlYWt9WD1oKFgsTCl9TD1WfUw9Yztmb3IoUD1SO1A8PVM7UCsrKWlmKGM9RFtQXSxYPWMuZ2V0UHJldmlvdXMoKSxjLmVxdWFscyhKW1BdKSliJiYoTD1MLmdldENoaWxkKDApKTtlbHNle1AhPVxuU3x8Yy5lcXVhbHMoSltQXSkmJlM8Tj9iJiYoVj1MLmFwcGVuZChjLmNsb25lKDAsZykpKTpFP2goYyxMLCExLEkpOksmJkwuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlVGV4dChjLnN1YnN0cmluZygwLEIpKSk7aWYoUD5kYSlmb3IoO1g7KVg9aChYLEwsITApO0w9Vn16fHxtKCl9fWZ1bmN0aW9uIGIoKXt2YXIgYT0hMSxiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITApLGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO3JldHVybiBmdW5jdGlvbihnKXtyZXR1cm4gYyhnKXx8YihnKT8hMDpkKGcpJiYhYT9hPSEwOmcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZy5oYXNBc2NlbmRhbnQoXCJwcmVcIil8fENLRURJVE9SLnRvb2xzLnRyaW0oZy5nZXRUZXh0KCkpLmxlbmd0aCl8fGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhZy5pcyhsKT8hMTohMH19ZnVuY3Rpb24gYyhhKXt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksXG5jPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMSk7cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBjKGQpfHxiKGQpPyEwOiFhJiZrKGQpfHxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pcyhDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5KX19ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gdGhpc1thP1wiZ2V0UHJldmlvdXNOb2RlXCI6XCJnZXROZXh0Tm9kZVwiXShmdW5jdGlvbihhKXshYiYmbShhKSYmKGI9YSk7cmV0dXJuIGgoYSkmJiEoayhhKSYmYS5lcXVhbHMoYikpfSl9fXZhciBsPXthYmJyOjEsYWNyb255bToxLGI6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLHE6MSxzYW1wOjEsc21hbGw6MSxzcGFuOjEsc3RyaWtlOjEsc3Ryb25nOjEsc3ViOjEsc3VwOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSxrPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKSxcbmc9L15bXFx0XFxyXFxuIF0qKD86Jm5ic3A7fFxceGEwKSQvLGg9Q0tFRElUT1IuZG9tLndhbGtlci5lZGl0YWJsZSgpLG09Q0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkKCEwKTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTthLl9zZXRTdGFydENvbnRhaW5lcih0aGlzLnN0YXJ0Q29udGFpbmVyKTthLnN0YXJ0T2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQ7YS5fc2V0RW5kQ29udGFpbmVyKHRoaXMuZW5kQ29udGFpbmVyKTthLmVuZE9mZnNldD10aGlzLmVuZE9mZnNldDthLmNvbGxhcHNlZD10aGlzLmNvbGxhcHNlZDtyZXR1cm4gYX0sY29sbGFwc2U6ZnVuY3Rpb24oYSl7YT8odGhpcy5fc2V0RW5kQ29udGFpbmVyKHRoaXMuc3RhcnRDb250YWluZXIpLHRoaXMuZW5kT2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQpOih0aGlzLl9zZXRTdGFydENvbnRhaW5lcih0aGlzLmVuZENvbnRhaW5lciksXG50aGlzLnN0YXJ0T2Zmc2V0PXRoaXMuZW5kT2Zmc2V0KTt0aGlzLmNvbGxhcHNlZD0hMH0sY2xvbmVDb250ZW50czpmdW5jdGlvbihhKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQodGhpcy5kb2N1bWVudCk7dGhpcy5jb2xsYXBzZWR8fGUodGhpcywyLGIsITEsXCJ1bmRlZmluZWRcIj09dHlwZW9mIGE/ITA6YSk7cmV0dXJuIGJ9LGRlbGV0ZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuY29sbGFwc2VkfHxlKHRoaXMsMCxudWxsLGEpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQodGhpcy5kb2N1bWVudCk7dGhpcy5jb2xsYXBzZWR8fGUodGhpcywxLGMsYSxcInVuZGVmaW5lZFwiPT10eXBlb2YgYj8hMDpiKTtyZXR1cm4gY30sY3JlYXRlQm9va21hcms6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGcsaD10aGlzLmNvbGxhcHNlZDtiPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5iLmRhdGEoXCJja2UtYm9va21hcmtcIiwxKTtiLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTtiLnNldEh0bWwoXCJcXHgyNm5ic3A7XCIpO2EmJihkPVwiY2tlX2JtX1wiK0NLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSxiLnNldEF0dHJpYnV0ZShcImlkXCIsZCsoaD9cIkNcIjpcIlNcIikpKTtofHwoYz1iLmNsb25lKCksYy5zZXRIdG1sKFwiXFx4MjZuYnNwO1wiKSxhJiZjLnNldEF0dHJpYnV0ZShcImlkXCIsZCtcIkVcIiksZz10aGlzLmNsb25lKCksZy5jb2xsYXBzZSgpLGcuaW5zZXJ0Tm9kZShjKSk7Zz10aGlzLmNsb25lKCk7Zy5jb2xsYXBzZSghMCk7Zy5pbnNlcnROb2RlKGIpO2M/KHRoaXMuc2V0U3RhcnRBZnRlcihiKSx0aGlzLnNldEVuZEJlZm9yZShjKSk6dGhpcy5tb3ZlVG9Qb3NpdGlvbihiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJue3N0YXJ0Tm9kZTphP2QrKGg/XCJDXCI6XCJTXCIpOmIsZW5kTm9kZTphP2QrXCJFXCI6YyxzZXJpYWxpemFibGU6YSxjb2xsYXBzZWQ6aH19LGNyZWF0ZUJvb2ttYXJrMjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGY9XG5iLmNvbnRhaW5lcixkPWIub2Zmc2V0LGc7Zz1mO3ZhciBoPWQ7Zz1nLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8MD09PWh8fGg9PWcuZ2V0Q2hpbGRDb3VudCgpPzA6Zy5nZXRDaGlsZChoLTEpLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZy5nZXRDaGlsZChoKS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ7ZyYmKGY9Zi5nZXRDaGlsZChkLTEpLGQ9Zi5nZXRMZW5ndGgoKSk7aWYoZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJjA8ZCl7YTp7Zm9yKGc9ZjtkLS07KWlmKGg9Zy5nZXRDaGlsZChkKS5nZXRJbmRleCghMCksMDw9aCl7ZD1oO2JyZWFrIGF9ZD0tMX1kKz0xfWlmKGYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtnPWY7Zm9yKGg9MDsoZz1nLmdldFByZXZpb3VzKCkpJiZnLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVDspaCs9Zy5nZXRUZXh0KCkucmVwbGFjZShDS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRSxcIlwiKS5sZW5ndGg7XG5nPWg7Zi5nZXRUZXh0KCk/ZCs9ZzooaD1mLmdldFByZXZpb3VzKGMpLGc/KGQ9ZyxmPWg/aC5nZXROZXh0KCk6Zi5nZXRQYXJlbnQoKS5nZXRGaXJzdCgpKTooZj1mLmdldFBhcmVudCgpLGQ9aD9oLmdldEluZGV4KCEwKSsxOjApKX1iLmNvbnRhaW5lcj1mO2Iub2Zmc2V0PWR9ZnVuY3Rpb24gYihhLGYpe3ZhciBjPWYuZ2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihjKXt2YXIgZD1hLmNvbnRhaW5lcjtjLmVxdWFscyhkKSYmKGEub2Zmc2V0LT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRS5sZW5ndGgsMD49YS5vZmZzZXQmJihhLm9mZnNldD1kLmdldEluZGV4KCksYS5jb250YWluZXI9ZC5nZXRQYXJlbnQoKSkpfX12YXIgYz1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfVEVYVCwhMCk7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY29sbGFwc2VkLGc9e2NvbnRhaW5lcjp0aGlzLnN0YXJ0Q29udGFpbmVyLFxub2Zmc2V0OnRoaXMuc3RhcnRPZmZzZXR9LGg9e2NvbnRhaW5lcjp0aGlzLmVuZENvbnRhaW5lcixvZmZzZXQ6dGhpcy5lbmRPZmZzZXR9O2MmJihhKGcpLGIoZyx0aGlzLnJvb3QpLGR8fChhKGgpLGIoaCx0aGlzLnJvb3QpKSk7cmV0dXJue3N0YXJ0OmcuY29udGFpbmVyLmdldEFkZHJlc3MoYyksZW5kOmQ/bnVsbDpoLmNvbnRhaW5lci5nZXRBZGRyZXNzKGMpLHN0YXJ0T2Zmc2V0Omcub2Zmc2V0LGVuZE9mZnNldDpoLm9mZnNldCxub3JtYWxpemVkOmMsY29sbGFwc2VkOmQsaXMyOiEwfX19KCksbW92ZVRvQm9va21hcms6ZnVuY3Rpb24oYSl7aWYoYS5pczIpe3ZhciBiPXRoaXMuZG9jdW1lbnQuZ2V0QnlBZGRyZXNzKGEuc3RhcnQsYS5ub3JtYWxpemVkKSxjPWEuc3RhcnRPZmZzZXQsZD1hLmVuZCYmdGhpcy5kb2N1bWVudC5nZXRCeUFkZHJlc3MoYS5lbmQsYS5ub3JtYWxpemVkKTthPWEuZW5kT2Zmc2V0O3RoaXMuc2V0U3RhcnQoYixjKTtkP3RoaXMuc2V0RW5kKGQsYSk6dGhpcy5jb2xsYXBzZSghMCl9ZWxzZSBiPVxuKGM9YS5zZXJpYWxpemFibGUpP3RoaXMuZG9jdW1lbnQuZ2V0QnlJZChhLnN0YXJ0Tm9kZSk6YS5zdGFydE5vZGUsYT1jP3RoaXMuZG9jdW1lbnQuZ2V0QnlJZChhLmVuZE5vZGUpOmEuZW5kTm9kZSx0aGlzLnNldFN0YXJ0QmVmb3JlKGIpLGIucmVtb3ZlKCksYT8odGhpcy5zZXRFbmRCZWZvcmUoYSksYS5yZW1vdmUoKSk6dGhpcy5jb2xsYXBzZSghMCl9LGdldEJvdW5kYXJ5Tm9kZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5lbmRDb250YWluZXIsYz10aGlzLnN0YXJ0T2Zmc2V0LGQ9dGhpcy5lbmRPZmZzZXQsZztpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihnPWEuZ2V0Q2hpbGRDb3VudCgpLGc+YylhPWEuZ2V0Q2hpbGQoYyk7ZWxzZSBpZigxPmcpYT1hLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGE9YS4kO2EubGFzdENoaWxkOylhPWEubGFzdENoaWxkO2E9bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpO2E9XG5hLmdldE5leHRTb3VyY2VOb2RlKCl8fGF9aWYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoZz1iLmdldENoaWxkQ291bnQoKSxnPmQpYj1iLmdldENoaWxkKGQpLmdldFByZXZpb3VzU291cmNlTm9kZSghMCk7ZWxzZSBpZigxPmcpYj1iLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGI9Yi4kO2IubGFzdENoaWxkOyliPWIubGFzdENoaWxkO2I9bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpfWEuZ2V0UG9zaXRpb24oYikmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYoYT1iKTtyZXR1cm57c3RhcnROb2RlOmEsZW5kTm9kZTpifX0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnN0YXJ0Q29udGFpbmVyLGQ9dGhpcy5lbmRDb250YWluZXIsYz1jLmVxdWFscyhkKT9hJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdGhpcy5zdGFydE9mZnNldD09dGhpcy5lbmRPZmZzZXQtMT9jLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpOlxuYzpjLmdldENvbW1vbkFuY2VzdG9yKGQpO3JldHVybiBiJiYhYy5pcz9jLmdldFBhcmVudCgpOmN9LG9wdGltaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuc3RhcnRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0U3RhcnRBZnRlcihhKTp0aGlzLnNldFN0YXJ0QmVmb3JlKGEpKTthPXRoaXMuZW5kQ29udGFpbmVyO2I9dGhpcy5lbmRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0RW5kQWZ0ZXIoYSk6dGhpcy5zZXRFbmRCZWZvcmUoYSkpfSxvcHRpbWl6ZUJvb2ttYXJrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuZW5kQ29udGFpbmVyO2EuaXMmJmEuaXMoXCJzcGFuXCIpJiZhLmRhdGEoXCJja2UtYm9va21hcmtcIikmJnRoaXMuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7XG5iJiZiLmlzJiZiLmlzKFwic3BhblwiKSYmYi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpJiZ0aGlzLnNldEVuZEF0KGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKX0sdHJpbTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhcnRDb250YWluZXIsZD10aGlzLnN0YXJ0T2Zmc2V0LGc9dGhpcy5jb2xsYXBzZWQ7aWYoKCFhfHxnKSYmYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2lmKGQpaWYoZD49Yy5nZXRMZW5ndGgoKSlkPWMuZ2V0SW5kZXgoKSsxLGM9Yy5nZXRQYXJlbnQoKTtlbHNle3ZhciBoPWMuc3BsaXQoZCksZD1jLmdldEluZGV4KCkrMSxjPWMuZ2V0UGFyZW50KCk7dGhpcy5zdGFydENvbnRhaW5lci5lcXVhbHModGhpcy5lbmRDb250YWluZXIpP3RoaXMuc2V0RW5kKGgsdGhpcy5lbmRPZmZzZXQtdGhpcy5zdGFydE9mZnNldCk6Yy5lcXVhbHModGhpcy5lbmRDb250YWluZXIpJiYodGhpcy5lbmRPZmZzZXQrPTEpfWVsc2UgZD1jLmdldEluZGV4KCksYz1jLmdldFBhcmVudCgpO1xudGhpcy5zZXRTdGFydChjLGQpO2lmKGcpe3RoaXMuY29sbGFwc2UoITApO3JldHVybn19Yz10aGlzLmVuZENvbnRhaW5lcjtkPXRoaXMuZW5kT2Zmc2V0O2J8fGd8fCFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVHx8KGQ/KGQ+PWMuZ2V0TGVuZ3RoKCl8fGMuc3BsaXQoZCksZD1jLmdldEluZGV4KCkrMSk6ZD1jLmdldEluZGV4KCksYz1jLmdldFBhcmVudCgpLHRoaXMuc2V0RW5kKGMsZCkpfSxlbmxhcmdlOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP251bGw6YX12YXIgZD1uZXcgUmVnRXhwKC9bXlxcc1xcdWZlZmZdLyk7c3dpdGNoKGEpe2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkU6dmFyIGc9MTtjYXNlIENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVDp2YXIgaD1mdW5jdGlvbihhLGIpe3ZhciBmPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UobSk7XG5mLnNldFN0YXJ0KGEsYik7Zi5zZXRFbmRBdChtLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3ZhciBmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpLGM7Zm9yKGYuZ3VhcmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIShhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc0Jsb2NrQm91bmRhcnkoKSl9O2M9Zi5uZXh0KCk7KXtpZihjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVClyZXR1cm4hMTtHPWMhPWE/Yy5nZXRUZXh0KCk6Yy5zdWJzdHJpbmcoYik7aWYoZC50ZXN0KEcpKXJldHVybiExfXJldHVybiEwfTtpZih0aGlzLmNvbGxhcHNlZClicmVhazt2YXIgZT10aGlzLmdldENvbW1vbkFuY2VzdG9yKCksbT10aGlzLnJvb3QsbCxrLHosdyxDLHk9ITEsQixHO0I9dGhpcy5zdGFydENvbnRhaW5lcjt2YXIgRT10aGlzLnN0YXJ0T2Zmc2V0O0IudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUPyhFJiYoQj0hQ0tFRElUT1IudG9vbHMudHJpbShCLnN1YnN0cmluZygwLEUpKS5sZW5ndGgmJlxuQix5PSEhQiksQiYmKCh3PUIuZ2V0UHJldmlvdXMoKSl8fCh6PUIuZ2V0UGFyZW50KCkpKSk6KEUmJih3PUIuZ2V0Q2hpbGQoRS0xKXx8Qi5nZXRMYXN0KCkpLHd8fCh6PUIpKTtmb3Ioej1jKHopO3p8fHc7KXtpZih6JiYhdyl7IUMmJnouZXF1YWxzKGUpJiYoQz0hMCk7aWYoZz96LmlzQmxvY2tCb3VuZGFyeSgpOiFtLmNvbnRhaW5zKHopKWJyZWFrO3kmJlwiaW5saW5lXCI9PXouZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIil8fCh5PSExLEM/bD16OnRoaXMuc2V0U3RhcnRCZWZvcmUoeikpO3c9ei5nZXRQcmV2aW91cygpfWZvcig7dzspaWYoQj0hMSx3LnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVCl3PXcuZ2V0UHJldmlvdXMoKTtlbHNle2lmKHcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKUc9dy5nZXRUZXh0KCksZC50ZXN0KEcpJiYodz1udWxsKSxCPS9bXFxzXFx1ZmVmZl0kLy50ZXN0KEcpO2Vsc2UgaWYoKHcuJC5vZmZzZXRXaWR0aD4oQ0tFRElUT1IuZW52LndlYmtpdD8xOlxuMCl8fGImJncuaXMoXCJiclwiKSkmJiF3LmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoeSYmQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt3LmdldE5hbWUoKV0pe0c9dy5nZXRUZXh0KCk7aWYoZC50ZXN0KEcpKXc9bnVsbDtlbHNlIGZvcih2YXIgRT13LiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLEY9MCxJO0k9RVtGKytdOylpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtJLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXt3PW51bGw7YnJlYWt9dyYmKEI9ISFHLmxlbmd0aCl9ZWxzZSB3PW51bGw7QiYmKHk/Qz9sPXo6eiYmdGhpcy5zZXRTdGFydEJlZm9yZSh6KTp5PSEwKTtpZih3KXtCPXcuZ2V0UHJldmlvdXMoKTtpZigheiYmIUIpe3o9dzt3PW51bGw7YnJlYWt9dz1CfWVsc2Ugej1udWxsfXomJih6PWMoei5nZXRQYXJlbnQoKSkpfUI9dGhpcy5lbmRDb250YWluZXI7RT10aGlzLmVuZE9mZnNldDt6PXc9bnVsbDtDPXk9ITE7Qi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/XG5DS0VESVRPUi50b29scy50cmltKEIuc3Vic3RyaW5nKEUpKS5sZW5ndGg/eT0hMDooeT0hQi5nZXRMZW5ndGgoKSxFPT1CLmdldExlbmd0aCgpPyh3PUIuZ2V0TmV4dCgpKXx8KHo9Qi5nZXRQYXJlbnQoKSk6aChCLEUpJiYoej1CLmdldFBhcmVudCgpKSk6KHc9Qi5nZXRDaGlsZChFKSl8fCh6PUIpO2Zvcig7enx8dzspe2lmKHomJiF3KXshQyYmei5lcXVhbHMoZSkmJihDPSEwKTtpZihnP3ouaXNCbG9ja0JvdW5kYXJ5KCk6IW0uY29udGFpbnMoeikpYnJlYWs7eSYmXCJpbmxpbmVcIj09ei5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8KHk9ITEsQz9rPXo6eiYmdGhpcy5zZXRFbmRBZnRlcih6KSk7dz16LmdldE5leHQoKX1mb3IoO3c7KXtCPSExO2lmKHcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKUc9dy5nZXRUZXh0KCksaCh3LDApfHwodz1udWxsKSxCPS9eW1xcc1xcdWZlZmZdLy50ZXN0KEcpO2Vsc2UgaWYody50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKCgwPHcuJC5vZmZzZXRXaWR0aHx8XG5iJiZ3LmlzKFwiYnJcIikpJiYhdy5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKWlmKHkmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbdy5nZXROYW1lKCldKXtHPXcuZ2V0VGV4dCgpO2lmKGQudGVzdChHKSl3PW51bGw7ZWxzZSBmb3IoRT13LiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLEY9MDtJPUVbRisrXTspaWYoIUNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbSS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl7dz1udWxsO2JyZWFrfXcmJihCPSEhRy5sZW5ndGgpfWVsc2Ugdz1udWxsfWVsc2UgQj0xO0ImJnkmJihDP2s9ejp0aGlzLnNldEVuZEFmdGVyKHopKTtpZih3KXtCPXcuZ2V0TmV4dCgpO2lmKCF6JiYhQil7ej13O3c9bnVsbDticmVha313PUJ9ZWxzZSB6PW51bGx9eiYmKHo9Yyh6LmdldFBhcmVudCgpKSl9bCYmayYmKGU9bC5jb250YWlucyhrKT9rOmwsdGhpcy5zZXRTdGFydEJlZm9yZShlKSx0aGlzLnNldEVuZEFmdGVyKGUpKTticmVhaztjYXNlIENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFM6Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUzp6PVxubmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO209dGhpcy5yb290O3ouc2V0U3RhcnRBdChtLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTt6LnNldEVuZCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpO3o9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoeik7dmFyIEgsSyxKPUNLRURJVE9SLmRvbS53YWxrZXIuYmxvY2tCb3VuZGFyeShhPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz97YnI6MX06bnVsbCksRD1udWxsLFI9ZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpaWYoRCl7aWYoRC5lcXVhbHMoYSkpe0Q9bnVsbDtyZXR1cm59fWVsc2UgRD1hO2Vsc2UgaWYoRClyZXR1cm47dmFyIGI9SihhKTtifHwoSD1hKTtyZXR1cm4gYn0sZz1mdW5jdGlvbihhKXt2YXIgYj1SKGEpOyFiJiZhLmlzJiZhLmlzKFwiYnJcIikmJlxuKEs9YSk7cmV0dXJuIGJ9O3ouZ3VhcmQ9Ujt6PXoubGFzdEJhY2t3YXJkKCk7SD1IfHxtO3RoaXMuc2V0U3RhcnRBdChILCFILmlzKFwiYnJcIikmJigheiYmdGhpcy5jaGVja1N0YXJ0T2ZCbG9jaygpfHx6JiZILmNvbnRhaW5zKHopKT9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO2lmKGE9PUNLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTKXt6PXRoaXMuY2xvbmUoKTt6PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHopO3ZhciBOPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxTPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKTt6LmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4hTihhKSYmIVMoYSl9O2lmKCh6PXoucHJldmlvdXMoKSkmJnoudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ6LmlzKFwiYnJcIikpYnJlYWt9ej10aGlzLmNsb25lKCk7ei5jb2xsYXBzZSgpO3ouc2V0RW5kQXQobSxcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3o9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoeik7ei5ndWFyZD1hPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz9nOlI7SD1EPUs9bnVsbDt6PXoubGFzdEZvcndhcmQoKTtIPUh8fG07dGhpcy5zZXRFbmRBdChILCF6JiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpfHx6JiZILmNvbnRhaW5zKHopP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtLJiZ0aGlzLnNldEVuZEFmdGVyKEspfX0sc2hyaW5rOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cImJvb2xlYW5cIj09PXR5cGVvZiBjP2M6YyYmXCJib29sZWFuXCI9PT10eXBlb2YgYy5zaHJpbmtPbkJsb2NrQm91bmRhcnk/Yy5zaHJpbmtPbkJsb2NrQm91bmRhcnk6ITAsZz1jJiZjLnNraXBCb2d1cztpZighdGhpcy5jb2xsYXBzZWQpe2E9YXx8Q0tFRElUT1IuU0hSSU5LX1RFWFQ7dmFyIGg9dGhpcy5jbG9uZSgpLGU9XG50aGlzLnN0YXJ0Q29udGFpbmVyLG09dGhpcy5lbmRDb250YWluZXIsbD10aGlzLnN0YXJ0T2Zmc2V0LGs9dGhpcy5lbmRPZmZzZXQsej1jPTE7ZSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihsP2w+PWUuZ2V0TGVuZ3RoKCk/aC5zZXRTdGFydEFmdGVyKGUpOihoLnNldFN0YXJ0QmVmb3JlKGUpLGM9MCk6aC5zZXRTdGFydEJlZm9yZShlKSk7bSYmbS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihrP2s+PW0uZ2V0TGVuZ3RoKCk/aC5zZXRFbmRBZnRlcihtKTooaC5zZXRFbmRBZnRlcihtKSx6PTApOmguc2V0RW5kQmVmb3JlKG0pKTt2YXIgaD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihoKSx3PUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxDPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTtoLmV2YWx1YXRvcj1mdW5jdGlvbihiKXtyZXR1cm4gYi50eXBlPT0oYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/Q0tFRElUT1IuTk9ERV9FTEVNRU5UOkNLRURJVE9SLk5PREVfVEVYVCl9O1xudmFyIHk7aC5ndWFyZD1mdW5jdGlvbihiLGMpe2lmKGcmJkMoYil8fHcoYikpcmV0dXJuITA7aWYoYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxjJiZiLmVxdWFscyh5KXx8ITE9PT1kJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5pc0Jsb2NrQm91bmRhcnkoKXx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiExO2N8fGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwoeT1iKTtyZXR1cm4hMH07YyYmKGU9aFthPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVD9cImxhc3RGb3J3YXJkXCI6XCJuZXh0XCJdKCkpJiZ0aGlzLnNldFN0YXJ0QXQoZSxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7eiYmKGgucmVzZXQoKSwoaD1oW2E9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP1xuXCJsYXN0QmFja3dhcmRcIjpcInByZXZpb3VzXCJdKCkpJiZ0aGlzLnNldEVuZEF0KGgsYj9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO3JldHVybiEoIWMmJiF6KX19LGluc2VydE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5vcHRpbWl6ZUJvb2ttYXJrKCk7dGhpcy50cmltKCExLCEwKTt2YXIgYj10aGlzLnN0YXJ0Q29udGFpbmVyLGM9Yi5nZXRDaGlsZCh0aGlzLnN0YXJ0T2Zmc2V0KTtjP2EuaW5zZXJ0QmVmb3JlKGMpOmIuYXBwZW5kKGEpO2EuZ2V0UGFyZW50KCkmJmEuZ2V0UGFyZW50KCkuZXF1YWxzKHRoaXMuZW5kQ29udGFpbmVyKSYmdGhpcy5lbmRPZmZzZXQrKzt0aGlzLnNldFN0YXJ0QmVmb3JlKGEpfSxtb3ZlVG9Qb3NpdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhcnRBdChhLGIpO3RoaXMuY29sbGFwc2UoITApfSxtb3ZlVG9SYW5nZTpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuc3RhcnRDb250YWluZXIsYS5zdGFydE9mZnNldCk7XG50aGlzLnNldEVuZChhLmVuZENvbnRhaW5lcixhLmVuZE9mZnNldCl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEsMCk7dGhpcy5zZXRFbmQoYSxhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9hLmdldExlbmd0aCgpOmEuZ2V0Q2hpbGRDb3VudCgpKX0sc2V0U3RhcnQ6ZnVuY3Rpb24oYixjKXtiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQ0tFRElUT1IuZHRkLiRlbXB0eVtiLmdldE5hbWUoKV0mJihjPWIuZ2V0SW5kZXgoKSxiPWIuZ2V0UGFyZW50KCkpO3RoaXMuX3NldFN0YXJ0Q29udGFpbmVyKGIpO3RoaXMuc3RhcnRPZmZzZXQ9Yzt0aGlzLmVuZENvbnRhaW5lcnx8KHRoaXMuX3NldEVuZENvbnRhaW5lcihiKSx0aGlzLmVuZE9mZnNldD1jKTthKHRoaXMpfSxzZXRFbmQ6ZnVuY3Rpb24oYixjKXtiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQ0tFRElUT1IuZHRkLiRlbXB0eVtiLmdldE5hbWUoKV0mJihjPWIuZ2V0SW5kZXgoKStcbjEsYj1iLmdldFBhcmVudCgpKTt0aGlzLl9zZXRFbmRDb250YWluZXIoYik7dGhpcy5lbmRPZmZzZXQ9Yzt0aGlzLnN0YXJ0Q29udGFpbmVyfHwodGhpcy5fc2V0U3RhcnRDb250YWluZXIoYiksdGhpcy5zdGFydE9mZnNldD1jKTthKHRoaXMpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkrMSl9LHNldFN0YXJ0QmVmb3JlOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkpfSxzZXRFbmRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLnNldEVuZChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSsxKX0sc2V0RW5kQmVmb3JlOmZ1bmN0aW9uKGEpe3RoaXMuc2V0RW5kKGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKX0sc2V0U3RhcnRBdDpmdW5jdGlvbihiLGMpe3N3aXRjaChjKXtjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOnRoaXMuc2V0U3RhcnQoYiwwKTtcbmJyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD90aGlzLnNldFN0YXJ0KGIsYi5nZXRMZW5ndGgoKSk6dGhpcy5zZXRTdGFydChiLGIuZ2V0Q2hpbGRDb3VudCgpKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDp0aGlzLnNldFN0YXJ0QmVmb3JlKGIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOnRoaXMuc2V0U3RhcnRBZnRlcihiKX1hKHRoaXMpfSxzZXRFbmRBdDpmdW5jdGlvbihiLGMpe3N3aXRjaChjKXtjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOnRoaXMuc2V0RW5kKGIsMCk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3RoaXMuc2V0RW5kKGIsYi5nZXRMZW5ndGgoKSk6dGhpcy5zZXRFbmQoYixiLmdldENoaWxkQ291bnQoKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6dGhpcy5zZXRFbmRCZWZvcmUoYik7XG5icmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDp0aGlzLnNldEVuZEFmdGVyKGIpfWEodGhpcyl9LGZpeEJsb2NrOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVCb29rbWFyaygpLGQ9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpO3RoaXMuY29sbGFwc2UoYSk7dGhpcy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpO3RoaXMuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZCk7ZC50cmltKCk7dGhpcy5pbnNlcnROb2RlKGQpO3ZhciBnPWQuZ2V0Qm9ndXMoKTtnJiZnLnJlbW92ZSgpO2QuYXBwZW5kQm9ndXMoKTt0aGlzLm1vdmVUb0Jvb2ttYXJrKGMpO3JldHVybiBkfSxzcGxpdEJsb2NrOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCksXG5nPWMuYmxvY2ssaD1kLmJsb2NrLGU9bnVsbDtpZighYy5ibG9ja0xpbWl0LmVxdWFscyhkLmJsb2NrTGltaXQpKXJldHVybiBudWxsO1wiYnJcIiE9YSYmKGd8fChnPXRoaXMuZml4QmxvY2soITAsYSksaD0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpKS5ibG9jayksaHx8KGg9dGhpcy5maXhCbG9jayghMSxhKSkpO2M9ZyYmdGhpcy5jaGVja1N0YXJ0T2ZCbG9jaygpO2Q9aCYmdGhpcy5jaGVja0VuZE9mQmxvY2soKTt0aGlzLmRlbGV0ZUNvbnRlbnRzKCk7ZyYmZy5lcXVhbHMoaCkmJihkPyhlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpLHRoaXMubW92ZVRvUG9zaXRpb24oaCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGg9bnVsbCk6Yz8oZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSx0aGlzLm1vdmVUb1Bvc2l0aW9uKGcsXG5DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGc9bnVsbCk6KGg9dGhpcy5zcGxpdEVsZW1lbnQoZyxifHwhMSksZy5pcyhcInVsXCIsXCJvbFwiKXx8Zy5hcHBlbmRCb2d1cygpKSk7cmV0dXJue3ByZXZpb3VzQmxvY2s6ZyxuZXh0QmxvY2s6aCx3YXNTdGFydE9mQmxvY2s6Yyx3YXNFbmRPZkJsb2NrOmQsZWxlbWVudFBhdGg6ZX19LHNwbGl0RWxlbWVudDpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmNvbGxhcHNlZClyZXR1cm4gbnVsbDt0aGlzLnNldEVuZEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7dmFyIGM9dGhpcy5leHRyYWN0Q29udGVudHMoITEsYnx8ITEpLGQ9YS5jbG9uZSghMSxifHwhMSk7Yy5hcHBlbmRUbyhkKTtkLmluc2VydEFmdGVyKGEpO3RoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO3JldHVybiBkfSxyZW1vdmVFbXB0eUJsb2Nrc0F0RW5kOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShmKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSl8fFxuYyhhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKXx8Zi5pcyhcInRhYmxlXCIpJiZhLmlzKFwiY2FwdGlvblwiKT8hMTohMH19dmFyIGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGM9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSk7cmV0dXJuIGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz10aGlzLmNyZWF0ZUJvb2ttYXJrKCksZD10aGlzW2I/XCJlbmRQYXRoXCI6XCJzdGFydFBhdGhcIl0oKSxnPWQuYmxvY2t8fGQuYmxvY2tMaW1pdCxoO2cmJiFnLmVxdWFscyhkLnJvb3QpJiYhZy5nZXRGaXJzdChhKGcpKTspaD1nLmdldFBhcmVudCgpLHRoaXNbYj9cInNldEVuZEF0XCI6XCJzZXRTdGFydEF0XCJdKGcsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxnLnJlbW92ZSgxKSxnPWg7dGhpcy5tb3ZlVG9Cb29rbWFyayhjKX19KCksc3RhcnRQYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcixcbnRoaXMucm9vdCl9LGVuZFBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpfSxjaGVja0JvdW5kYXJ5T2ZFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGQ9Yj09Q0tFRElUT1IuU1RBUlQsZz10aGlzLmNsb25lKCk7Zy5jb2xsYXBzZShkKTtnW2Q/XCJzZXRTdGFydEF0XCI6XCJzZXRFbmRBdFwiXShhLGQ/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7Zz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihnKTtnLmV2YWx1YXRvcj1jKGQpO3JldHVybiBnW2Q/XCJjaGVja0JhY2t3YXJkXCI6XCJjaGVja0ZvcndhcmRcIl0oKX0sY2hlY2tTdGFydE9mQmxvY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGM9dGhpcy5zdGFydE9mZnNldDtDS0VESVRPUi5lbnYuaWUmJmMmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYT1DS0VESVRPUi50b29scy5sdHJpbShhLnN1YnN0cmluZygwLFxuYykpLGcudGVzdChhKSYmdGhpcy50cmltKDAsMSkpO3RoaXMudHJpbSgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCk7Yz10aGlzLmNsb25lKCk7Yy5jb2xsYXBzZSghMCk7Yy5zZXRTdGFydEF0KGEuYmxvY2t8fGEuYmxvY2tMaW1pdCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7YT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKTthLmV2YWx1YXRvcj1iKCk7cmV0dXJuIGEuY2hlY2tCYWNrd2FyZCgpfSxjaGVja0VuZE9mQmxvY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVuZENvbnRhaW5lcixjPXRoaXMuZW5kT2Zmc2V0O0NLRURJVE9SLmVudi5pZSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihhPUNLRURJVE9SLnRvb2xzLnJ0cmltKGEuc3Vic3RyaW5nKGMpKSxnLnRlc3QoYSkmJnRoaXMudHJpbSgxLDApKTt0aGlzLnRyaW0oKTthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsXG50aGlzLnJvb3QpO2M9dGhpcy5jbG9uZSgpO2MuY29sbGFwc2UoITEpO2Muc2V0RW5kQXQoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyk7YS5ldmFsdWF0b3I9YigpO3JldHVybiBhLmNoZWNrRm9yd2FyZCgpfSxnZXRQcmV2aW91c05vZGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY2xvbmUoKTtkLmNvbGxhcHNlKDEpO2Quc2V0U3RhcnRBdChjfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2M9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCk7Yy5ldmFsdWF0b3I9YTtjLmd1YXJkPWI7cmV0dXJuIGMucHJldmlvdXMoKX0sZ2V0TmV4dE5vZGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY2xvbmUoKTtkLmNvbGxhcHNlKCk7ZC5zZXRFbmRBdChjfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7Yz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtcbmMuZXZhbHVhdG9yPWE7Yy5ndWFyZD1iO3JldHVybiBjLm5leHQoKX0sY2hlY2tSZWFkT25seTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtmb3IoO2I7KXtpZihiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoXCJmYWxzZVwiPT1iLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmIWIuZGF0YShcImNrZS1lZGl0YWJsZVwiKSlyZXR1cm4gMDtpZihiLmlzKFwiaHRtbFwiKXx8XCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiYoYi5jb250YWlucyhjKXx8Yi5lcXVhbHMoYykpKWJyZWFrfWI9Yi5nZXRQYXJlbnQoKX1yZXR1cm4gMX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLnN0YXJ0Q29udGFpbmVyLGM9dGhpcy5lbmRDb250YWluZXI7cmV0dXJuIShhKGIsYykmJmEoYyxiKSl9fSgpLG1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzRWRpdGFibGUoITEpKXJldHVybiB0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsXG5iP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLCEwO2Zvcih2YXIgYz0wO2E7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7YiYmdGhpcy5lbmRDb250YWluZXImJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCkmJmcudGVzdChhLmdldFRleHQoKSk/dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk6dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLGI/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7Yz0xO2JyZWFrfWlmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKGEuaXNFZGl0YWJsZSgpKXRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGM9MTtlbHNlIGlmKGImJmEuaXMoXCJiclwiKSYmdGhpcy5lbmRDb250YWluZXImJlxudGhpcy5jaGVja0VuZE9mQmxvY2soKSl0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtlbHNlIGlmKFwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJmEuaXMoQ0tFRElUT1IuZHRkLiRibG9jaykpcmV0dXJuIHRoaXMuc2V0U3RhcnRCZWZvcmUoYSksdGhpcy5zZXRFbmRBZnRlcihhKSwhMDt2YXIgZD1hLGg9YyxlPXZvaWQgMDtkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc0VkaXRhYmxlKCExKSYmKGU9ZFtiP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0obSkpO2h8fGV8fChlPWRbYj9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKG0pKTthPWV9cmV0dXJuISFjfSxtb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MCxnLGgsZT1bQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5ELENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVF07YT8oYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCksXG5jLm1vdmVUb1Bvc2l0aW9uKGEsZVtiPzA6MV0pKTpjPXRoaXMuY2xvbmUoKTtpZihhJiYhYS5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSlkPTE7ZWxzZSBpZihnPWNbYj9cImdldE5leHRFZGl0YWJsZU5vZGVcIjpcImdldFByZXZpb3VzRWRpdGFibGVOb2RlXCJdKCkpZD0xLChoPWcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKSYmZy5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSYmXCJmYWxzZVwiPT1nLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT8oYy5zZXRTdGFydEF0KGcsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxjLnNldEVuZEF0KGcsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk6IUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZoJiZnLmlzKENLRURJVE9SLmRvbS53YWxrZXIudmFsaWRFbXB0eUJsb2NrQ29udGFpbmVycyk/KGMuc2V0RW5kKGcsMCksYy5jb2xsYXBzZSgpKTpjLm1vdmVUb1Bvc2l0aW9uKGcsZVtiPzE6MF0pO2QmJnRoaXMubW92ZVRvUmFuZ2UoYyk7XG5yZXR1cm4hIWR9LG1vdmVUb0VsZW1lbnRFZGl0U3RhcnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYSl9LG1vdmVUb0VsZW1lbnRFZGl0RW5kOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGEsITApfSxnZXRFbmNsb3NlZE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNsb25lKCk7YS5vcHRpbWl6ZSgpO2lmKGEuc3RhcnRDb250YWluZXIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxhLmVuZENvbnRhaW5lci50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIG51bGw7dmFyIGE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSksYj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKSxjPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApO2EuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBjKGEpJiZiKGEpfTt2YXIgZD1hLm5leHQoKTtcbmEucmVzZXQoKTtyZXR1cm4gZCYmZC5lcXVhbHMoYS5wcmV2aW91cygpKT9kOm51bGx9LGdldFRvdWNoZWRTdGFydE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyO3JldHVybiB0aGlzLmNvbGxhcHNlZHx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/YTphLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpfHxhfSxnZXRUb3VjaGVkRW5kTm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZW5kQ29udGFpbmVyO3JldHVybiB0aGlzLmNvbGxhcHNlZHx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/YTphLmdldENoaWxkKHRoaXMuZW5kT2Zmc2V0LTEpfHxhfSxnZXROZXh0RWRpdGFibGVOb2RlOmQoKSxnZXRQcmV2aW91c0VkaXRhYmxlTm9kZTpkKDEpLF9nZXRUYWJsZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7YT1hfHx7dGQ6MSx0aDoxLHRyOjEsdGJvZHk6MSx0aGVhZDoxLHRmb290OjEsdGFibGU6MX07dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixjPVxudGhpcy5lbmRDb250YWluZXIsZD1iLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLGc9Yy5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKTtyZXR1cm4gQ0tFRElUT1IuZW52LnNhZmFyaSYmZCYmYy5lcXVhbHModGhpcy5yb290KT9iLmdldEFzY2VuZGFudChhLCEwKTp0aGlzLmdldEVuY2xvc2VkTm9kZSgpP3RoaXMuZ2V0RW5jbG9zZWROb2RlKCkuZ2V0QXNjZW5kYW50KGEsITApOmQmJmcmJihkLmVxdWFscyhnKXx8ZC5jb250YWlucyhnKXx8Zy5jb250YWlucyhkKSk/Yi5nZXRBc2NlbmRhbnQoYSwhMCk6bnVsbH0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoXCJcXHgzY3NwYW5cXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcIix0aGlzLmRvY3VtZW50KSxiLGMsZCxnPXRoaXMuY2xvbmUoKTtnLm9wdGltaXplKCk7KGQ9Zy5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpPyhjPWcuc3RhcnRDb250YWluZXIuZ2V0VGV4dCgpLFxuYj1nLnN0YXJ0Q29udGFpbmVyLnNwbGl0KGcuc3RhcnRPZmZzZXQpLGEuaW5zZXJ0QWZ0ZXIoZy5zdGFydENvbnRhaW5lcikpOmcuaW5zZXJ0Tm9kZShhKTthLnNjcm9sbEludG9WaWV3KCk7ZCYmKGcuc3RhcnRDb250YWluZXIuc2V0VGV4dChjKSxiLnJlbW92ZSgpKTthLnJlbW92ZSgpfSxfc2V0U3RhcnRDb250YWluZXI6ZnVuY3Rpb24oYSl7dGhpcy5zdGFydENvbnRhaW5lcj1hfSxfc2V0RW5kQ29udGFpbmVyOmZ1bmN0aW9uKGEpe3RoaXMuZW5kQ29udGFpbmVyPWF9LF9maW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb21tb25BbmNlc3RvcigpLGQ9dGhpcy5nZXRCb3VuZGFyeU5vZGVzKCksZz1bXSxoLGUsbSxsO2lmKGMmJmMuZmluZClmb3IoZT1jLmZpbmQoYSksaD0wO2g8ZS5jb3VudCgpO2grKylpZihjPWUuZ2V0SXRlbShoKSxifHwhYy5pc1JlYWRPbmx5KCkpbT1jLmdldFBvc2l0aW9uKGQuc3RhcnROb2RlKSZDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd8fFxuZC5zdGFydE5vZGUuZXF1YWxzKGMpLGw9Yy5nZXRQb3NpdGlvbihkLmVuZE5vZGUpJkNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUR8fGQuZW5kTm9kZS5lcXVhbHMoYyksbSYmbCYmZy5wdXNoKGMpO3JldHVybiBnfX07Q0tFRElUT1IuZG9tLnJhbmdlLm1lcmdlUmFuZ2VzPWZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5yZWR1Y2UoYSxmdW5jdGlvbihhLGIpe3ZhciBjPWFbYS5sZW5ndGgtMV0sZj0hMTtiPWIuY2xvbmUoKTtiLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKTtpZihjKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGIucm9vdCksZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKSxnPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKTtkLnNldFN0YXJ0KGMuZW5kQ29udGFpbmVyLGMuZW5kT2Zmc2V0KTtkLnNldEVuZChiLnN0YXJ0Q29udGFpbmVyLGIuc3RhcnRPZmZzZXQpO1xuZm9yKGQ9Zi5uZXh0KCk7ZyhkKXx8Yi5lbmRDb250YWluZXIuZXF1YWxzKGQpOylkPWYubmV4dCgpO2Y9IWR9Zj9jLnNldEVuZChiLmVuZENvbnRhaW5lcixiLmVuZE9mZnNldCk6YS5wdXNoKGIpO3JldHVybiBhfSxbXSl9fSgpLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUPTEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORD0yLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVD0zLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORD00LENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVD0xLENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFM9MixDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz0zLENLRURJVE9SLkVOTEFSR0VfSU5MSU5FPTQsQ0tFRElUT1IuU1RBUlQ9MSxDS0VESVRPUi5FTkQ9MixDS0VESVRPUi5TSFJJTktfRUxFTUVOVD0xLENLRURJVE9SLlNIUklOS19URVhUPTIsXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpezE+XG5hcmd1bWVudHMubGVuZ3RofHwodGhpcy5yYW5nZT1hLHRoaXMuZm9yY2VCckJyZWFrPTAsdGhpcy5lbmxhcmdlQnI9MSx0aGlzLmVuZm9yY2VSZWFsQmxvY2tzPTAsdGhpcy5ffHwodGhpcy5fPXt9KSl9ZnVuY3Rpb24gZShhKXt2YXIgYj1bXTthLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiLnB1c2goYSksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGMsZCxnKXthOntudWxsPT1nJiYoZz1lKGQpKTtmb3IodmFyIGg7aD1nLnNoaWZ0KCk7KWlmKGguZ2V0RHRkKCkucCl7Zz17ZWxlbWVudDpoLHJlbWFpbmluZzpnfTticmVhayBhfWc9bnVsbH1pZighZylyZXR1cm4gMDtpZigoaD1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW2cuZWxlbWVudC5kYXRhKFwiY2tlLWZpbHRlclwiKV0pJiYhaC5jaGVjayhjKSlyZXR1cm4gYihhLGMsZCxnLnJlbWFpbmluZyk7XG5jPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoZy5lbGVtZW50KTtjLnNlbGVjdE5vZGVDb250ZW50cyhnLmVsZW1lbnQpO2M9Yy5jcmVhdGVJdGVyYXRvcigpO2MuZW5sYXJnZUJyPWEuZW5sYXJnZUJyO2MuZW5mb3JjZVJlYWxCbG9ja3M9YS5lbmZvcmNlUmVhbEJsb2NrcztjLmFjdGl2ZUZpbHRlcj1jLmZpbHRlcj1oO2EuXy5uZXN0ZWRFZGl0YWJsZT17ZWxlbWVudDpnLmVsZW1lbnQsY29udGFpbmVyOmQscmVtYWluaW5nOmcucmVtYWluaW5nLGl0ZXJhdG9yOmN9O3JldHVybiAxfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKCFiKXJldHVybiExO2E9YS5jbG9uZSgpO2EuY29sbGFwc2UoIWMpO3JldHVybiBhLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixjP0NLRURJVE9SLlNUQVJUOkNLRURJVE9SLkVORCl9dmFyIGQ9L15bXFxyXFxuXFx0IF0rJC8sbD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKSxrPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLGc9ZnVuY3Rpb24oYSl7cmV0dXJuIGwoYSkmJlxuayhhKX0saD17ZGQ6MSxkdDoxLGxpOjF9O2EucHJvdG90eXBlPXtnZXROZXh0UGFyYWdyYXBoOmZ1bmN0aW9uKGEpe3ZhciBmLGUsayxyLHY7YT1hfHxcInBcIjtpZih0aGlzLl8ubmVzdGVkRWRpdGFibGUpe2lmKGY9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmdldE5leHRQYXJhZ3JhcGgoYSkpcmV0dXJuIHRoaXMuYWN0aXZlRmlsdGVyPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5hY3RpdmVGaWx0ZXIsZjt0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLmZpbHRlcjtpZihiKHRoaXMsYSx0aGlzLl8ubmVzdGVkRWRpdGFibGUuY29udGFpbmVyLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5yZW1haW5pbmcpKXJldHVybiB0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuYWN0aXZlRmlsdGVyLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5nZXROZXh0UGFyYWdyYXBoKGEpO3RoaXMuXy5uZXN0ZWRFZGl0YWJsZT1udWxsfWlmKCF0aGlzLnJhbmdlLnJvb3QuZ2V0RHRkKClbYV0pcmV0dXJuIG51bGw7XG5pZighdGhpcy5fLnN0YXJ0ZWQpe3ZhciB4PXRoaXMucmFuZ2UuY2xvbmUoKTtlPXguc3RhcnRQYXRoKCk7dmFyIHE9eC5lbmRQYXRoKCksdD0heC5jb2xsYXBzZWQmJmMoeCxlLmJsb2NrKSx1PSF4LmNvbGxhcHNlZCYmYyh4LHEuYmxvY2ssMSk7eC5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITApO3QmJnguc2V0U3RhcnRBdChlLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3UmJnguc2V0RW5kQXQocS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7ZT14LmVuZENvbnRhaW5lci5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCl8fHguc3RhcnRDb250YWluZXIuaGFzQXNjZW5kYW50KFwicHJlXCIsITApO3guZW5sYXJnZSh0aGlzLmZvcmNlQnJCcmVhayYmIWV8fCF0aGlzLmVubGFyZ2VCcj9DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUzpDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKTt4LmNvbGxhcHNlZHx8KGU9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoeC5jbG9uZSgpKSxcbnE9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMCwhMCksZS5ldmFsdWF0b3I9cSx0aGlzLl8ubmV4dE5vZGU9ZS5uZXh0KCksZT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih4LmNsb25lKCkpLGUuZXZhbHVhdG9yPXEsZT1lLnByZXZpb3VzKCksdGhpcy5fLmxhc3ROb2RlPWUuZ2V0TmV4dFNvdXJjZU5vZGUoITAsbnVsbCx4LnJvb3QpLHRoaXMuXy5sYXN0Tm9kZSYmdGhpcy5fLmxhc3ROb2RlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnRyaW0odGhpcy5fLmxhc3ROb2RlLmdldFRleHQoKSkmJnRoaXMuXy5sYXN0Tm9kZS5nZXRQYXJlbnQoKS5pc0Jsb2NrQm91bmRhcnkoKSYmKHE9dGhpcy5yYW5nZS5jbG9uZSgpLHEubW92ZVRvUG9zaXRpb24odGhpcy5fLmxhc3ROb2RlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkscS5jaGVja0VuZE9mQmxvY2soKSYmKHE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChxLmVuZENvbnRhaW5lcixcbnEucm9vdCksdGhpcy5fLmxhc3ROb2RlPShxLmJsb2NrfHxxLmJsb2NrTGltaXQpLmdldE5leHRTb3VyY2VOb2RlKCEwKSkpLHRoaXMuXy5sYXN0Tm9kZSYmeC5yb290LmNvbnRhaW5zKHRoaXMuXy5sYXN0Tm9kZSl8fCh0aGlzLl8ubGFzdE5vZGU9dGhpcy5fLmRvY0VuZE1hcmtlcj14LmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIiksdGhpcy5fLmxhc3ROb2RlLmluc2VydEFmdGVyKGUpKSx4PW51bGwpO3RoaXMuXy5zdGFydGVkPTE7ZT14fXE9dGhpcy5fLm5leHROb2RlO3g9dGhpcy5fLmxhc3ROb2RlO2Zvcih0aGlzLl8ubmV4dE5vZGU9bnVsbDtxOyl7dmFyIHQ9MCx1PXEuaGFzQXNjZW5kYW50KFwicHJlXCIpLEE9cS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQsej0wO2lmKEEpcS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmQudGVzdChxLmdldFRleHQoKSkmJihBPTApO2Vsc2V7dmFyIHc9cS5nZXROYW1lKCk7aWYoQ0tFRElUT1IuZHRkLiRibG9ja1t3XSYmXCJmYWxzZVwiPT1xLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl7Zj1cbnE7Yih0aGlzLGEsZik7YnJlYWt9ZWxzZSBpZihxLmlzQmxvY2tCb3VuZGFyeSh0aGlzLmZvcmNlQnJCcmVhayYmIXUmJnticjoxfSkpe2lmKFwiYnJcIj09dylBPTE7ZWxzZSBpZighZSYmIXEuZ2V0Q2hpbGRDb3VudCgpJiZcImhyXCIhPXcpe2Y9cTtrPXEuZXF1YWxzKHgpO2JyZWFrfWUmJihlLnNldEVuZEF0KHEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxcImJyXCIhPXcmJih0aGlzLl8ubmV4dE5vZGU9cSkpO3Q9MX1lbHNle2lmKHEuZ2V0Rmlyc3QoKSl7ZXx8KGU9dGhpcy5yYW5nZS5jbG9uZSgpLGUuc2V0U3RhcnRBdChxLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpO3E9cS5nZXRGaXJzdCgpO2NvbnRpbnVlfUE9MX19QSYmIWUmJihlPXRoaXMucmFuZ2UuY2xvbmUoKSxlLnNldFN0YXJ0QXQocSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTtrPSghdHx8QSkmJnEuZXF1YWxzKHgpO2lmKGUmJiF0KWZvcig7IXEuZ2V0TmV4dChnKSYmIWs7KXt3PVxucS5nZXRQYXJlbnQoKTtpZih3LmlzQmxvY2tCb3VuZGFyeSh0aGlzLmZvcmNlQnJCcmVhayYmIXUmJnticjoxfSkpe3Q9MTtBPTA7a3x8dy5lcXVhbHMoeCk7ZS5zZXRFbmRBdCh3LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2JyZWFrfXE9dztBPTE7az1xLmVxdWFscyh4KTt6PTF9QSYmZS5zZXRFbmRBdChxLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cT10aGlzLl9nZXROZXh0U291cmNlTm9kZShxLHoseCk7aWYoKGs9IXEpfHx0JiZlKWJyZWFrfWlmKCFmKXtpZighZSlyZXR1cm4gdGhpcy5fLmRvY0VuZE1hcmtlciYmdGhpcy5fLmRvY0VuZE1hcmtlci5yZW1vdmUoKSx0aGlzLl8ubmV4dE5vZGU9bnVsbDtmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZS5zdGFydENvbnRhaW5lcixlLnJvb3QpO3E9Zi5ibG9ja0xpbWl0O3Q9e2RpdjoxLHRoOjEsdGQ6MX07Zj1mLmJsb2NrOyFmJiZxJiYhdGhpcy5lbmZvcmNlUmVhbEJsb2NrcyYmdFtxLmdldE5hbWUoKV0mJlxuZS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZlLmNoZWNrRW5kT2ZCbG9jaygpJiYhcS5lcXVhbHMoZS5yb290KT9mPXE6IWZ8fHRoaXMuZW5mb3JjZVJlYWxCbG9ja3MmJmYuaXMoaCk/KGY9dGhpcy5yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLGUuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZiksZi50cmltKCksZS5pbnNlcnROb2RlKGYpLHI9dj0hMCk6XCJsaVwiIT1mLmdldE5hbWUoKT9lLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmUuY2hlY2tFbmRPZkJsb2NrKCl8fChmPWYuY2xvbmUoITEpLGUuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZiksZi50cmltKCksdj1lLnNwbGl0QmxvY2soKSxyPSF2Lndhc1N0YXJ0T2ZCbG9jayx2PSF2Lndhc0VuZE9mQmxvY2ssZS5pbnNlcnROb2RlKGYpKTprfHwodGhpcy5fLm5leHROb2RlPWYuZXF1YWxzKHgpP251bGw6dGhpcy5fZ2V0TmV4dFNvdXJjZU5vZGUoZS5nZXRCb3VuZGFyeU5vZGVzKCkuZW5kTm9kZSwxLHgpKX1yJiYocj1cbmYuZ2V0UHJldmlvdXMoKSkmJnIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJiclwiPT1yLmdldE5hbWUoKT9yLnJlbW92ZSgpOnIuZ2V0TGFzdCgpJiZcImJyXCI9PXIuZ2V0TGFzdCgpLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmci5nZXRMYXN0KCkucmVtb3ZlKCkpO3YmJihyPWYuZ2V0TGFzdCgpKSYmci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiYnJcIj09ci5nZXROYW1lKCkmJighQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fHIuZ2V0UHJldmlvdXMobCl8fHIuZ2V0TmV4dChsKSkmJnIucmVtb3ZlKCk7dGhpcy5fLm5leHROb2RlfHwodGhpcy5fLm5leHROb2RlPWt8fGYuZXF1YWxzKHgpfHwheD9udWxsOnRoaXMuX2dldE5leHRTb3VyY2VOb2RlKGYsMSx4KSk7cmV0dXJuIGZ9LF9nZXROZXh0U291cmNlTm9kZTpmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4hKGEuZXF1YWxzKGMpfHxhLmVxdWFscyhnKSl9dmFyIGc9dGhpcy5yYW5nZS5yb290O1xuZm9yKGE9YS5nZXROZXh0U291cmNlTm9kZShiLG51bGwsZCk7IWwoYSk7KWE9YS5nZXROZXh0U291cmNlTm9kZShiLG51bGwsZCk7cmV0dXJuIGF9fTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLmNyZWF0ZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMpfX0oKSxDS0VESVRPUi5jb21tYW5kPWZ1bmN0aW9uKGEsZSl7dGhpcy51aUl0ZW1zPVtdO3RoaXMuZXhlYz1mdW5jdGlvbihiKXtpZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRHx8IXRoaXMuY2hlY2tBbGxvd2VkKCkpcmV0dXJuITE7dGhpcy5lZGl0b3JGb2N1cyYmYS5mb2N1cygpO3JldHVybiExPT09dGhpcy5maXJlKFwiZXhlY1wiKT8hMDohMSE9PWUuZXhlYy5jYWxsKHRoaXMsYSxiKX07dGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMucmVhZE9ubHkmJmEucmVhZE9ubHkpcmV0dXJuITA7aWYodGhpcy5jb250ZXh0JiYhYi5pc0NvbnRleHRGb3IodGhpcy5jb250ZXh0KXx8XG4hdGhpcy5jaGVja0FsbG93ZWQoITApKXJldHVybiB0aGlzLmRpc2FibGUoKSwhMDt0aGlzLnN0YXJ0RGlzYWJsZWR8fHRoaXMuZW5hYmxlKCk7dGhpcy5tb2RlcyYmIXRoaXMubW9kZXNbYS5tb2RlXSYmdGhpcy5kaXNhYmxlKCk7cmV0dXJuITE9PT10aGlzLmZpcmUoXCJyZWZyZXNoXCIse2VkaXRvcjphLHBhdGg6Yn0pPyEwOmUucmVmcmVzaCYmITEhPT1lLnJlZnJlc2guYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgYjt0aGlzLmNoZWNrQWxsb3dlZD1mdW5jdGlvbihjKXtyZXR1cm4gY3x8XCJib29sZWFuXCIhPXR5cGVvZiBiP2I9YS5hY3RpdmVGaWx0ZXIuY2hlY2tGZWF0dXJlKHRoaXMpOmJ9O0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGUse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjEsY29udGV4dFNlbnNpdGl2ZTohIWUuY29udGV4dCxzdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH0pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9LENLRURJVE9SLmNvbW1hbmQucHJvdG90eXBlPVxue2VuYWJsZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLmNoZWNrQWxsb3dlZCgpJiZ0aGlzLnNldFN0YXRlKHRoaXMucHJlc2VydmVTdGF0ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMucHJldmlvdXNTdGF0ZT90aGlzLnByZXZpb3VzU3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlPT1hfHxhIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmIXRoaXMuY2hlY2tBbGxvd2VkKCkpcmV0dXJuITE7dGhpcy5wcmV2aW91c1N0YXRlPXRoaXMuc3RhdGU7dGhpcy5zdGF0ZT1hO3RoaXMuZmlyZShcInN0YXRlXCIpO3JldHVybiEwfSx0b2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj90aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTpcbnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZ0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9fSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5jb21tYW5kLnByb3RvdHlwZSksQ0tFRElUT1IuRU5URVJfUD0xLENLRURJVE9SLkVOVEVSX0JSPTIsQ0tFRElUT1IuRU5URVJfRElWPTMsQ0tFRElUT1IuY29uZmlnPXtjdXN0b21Db25maWc6XCJjb25maWcuanNcIixhdXRvVXBkYXRlRWxlbWVudDohMCxsYW5ndWFnZTpcIlwiLGRlZmF1bHRMYW5ndWFnZTpcImVuXCIsY29udGVudHNMYW5nRGlyZWN0aW9uOlwiXCIsZW50ZXJNb2RlOkNLRURJVE9SLkVOVEVSX1AsZm9yY2VFbnRlck1vZGU6ITEsc2hpZnRFbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfQlIsZG9jVHlwZTpcIlxceDNjIURPQ1RZUEUgaHRtbFxceDNlXCIsYm9keUlkOlwiXCIsYm9keUNsYXNzOlwiXCIsZnVsbFBhZ2U6ITEsaGVpZ2h0OjIwMCxjb250ZW50c0NzczpDS0VESVRPUi5nZXRVcmwoXCJjb250ZW50cy5jc3NcIiksXG5leHRyYVBsdWdpbnM6XCJcIixyZW1vdmVQbHVnaW5zOlwiXCIscHJvdGVjdGVkU291cmNlOltdLHRhYkluZGV4OjAsd2lkdGg6XCJcIixiYXNlRmxvYXRaSW5kZXg6MUU0LGJsb2NrZWRLZXlzdHJva2VzOltDS0VESVRPUi5DVFJMKzY2LENLRURJVE9SLkNUUkwrNzMsQ0tFRElUT1IuQ1RSTCs4NV19LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyxmLGQpe3ZhciBnLGg7YT1bXTtmb3IoZyBpbiBiKXtoPWJbZ107aD1cImJvb2xlYW5cIj09dHlwZW9mIGg/e306XCJmdW5jdGlvblwiPT10eXBlb2YgaD97bWF0Y2g6aH06RihoKTtcIiRcIiE9Zy5jaGFyQXQoMCkmJihoLmVsZW1lbnRzPWcpO2MmJihoLmZlYXR1cmVOYW1lPWMudG9Mb3dlckNhc2UoKSk7dmFyIGU9aDtlLmVsZW1lbnRzPWsoZS5lbGVtZW50cywvXFxzKy8pfHxudWxsO2UucHJvcGVydGllc09ubHk9ZS5wcm9wZXJ0aWVzT25seXx8ITA9PT1lLmVsZW1lbnRzO3ZhciBtPS9cXHMqLFxccyovLGw9dm9pZCAwO2ZvcihsIGluIEspe2VbbF09ayhlW2xdLFxubSl8fG51bGw7dmFyIG49ZSxxPUpbbF0sdz1rKGVbSltsXV0sbSksRD1lW2xdLHo9W10sTj0hMCx5PXZvaWQgMDt3P049ITE6dz17fTtmb3IoeSBpbiBEKVwiIVwiPT15LmNoYXJBdCgwKSYmKHk9eS5zbGljZSgxKSx6LnB1c2goeSksd1t5XT0hMCxOPSExKTtmb3IoO3k9ei5wb3AoKTspRFt5XT1EW1wiIVwiK3ldLGRlbGV0ZSBEW1wiIVwiK3ldO25bcV09KE4/ITE6dyl8fG51bGx9ZS5tYXRjaD1lLm1hdGNofHxudWxsO2YucHVzaChoKTthLnB1c2goaCl9Yj1kLmVsZW1lbnRzO2Q9ZC5nZW5lcmljO3ZhciBwO2M9MDtmb3IoZj1hLmxlbmd0aDtjPGY7KytjKXtnPUYoYVtjXSk7aD0hMD09PWcuY2xhc3Nlc3x8ITA9PT1nLnN0eWxlc3x8ITA9PT1nLmF0dHJpYnV0ZXM7ZT1nO2w9cT1tPXZvaWQgMDtmb3IobSBpbiBLKWVbbV09dChlW21dKTtuPSEwO2ZvcihsIGluIEope209SltsXTtxPWVbbV07dz1bXTtEPXZvaWQgMDtmb3IoRCBpbiBxKS0xPEQuaW5kZXhPZihcIipcIik/dy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrXG5ELnJlcGxhY2UoL1xcKi9nLFwiLipcIikrXCIkXCIpKTp3LnB1c2goRCk7cT13O3EubGVuZ3RoJiYoZVttXT1xLG49ITEpfWUubm90aGluZ1JlcXVpcmVkPW47ZS5ub1Byb3BlcnRpZXM9IShlLmF0dHJpYnV0ZXN8fGUuY2xhc3Nlc3x8ZS5zdHlsZXMpO2lmKCEwPT09Zy5lbGVtZW50c3x8bnVsbD09PWcuZWxlbWVudHMpZFtoP1widW5zaGlmdFwiOlwicHVzaFwiXShnKTtlbHNlIGZvcihwIGluIGU9Zy5lbGVtZW50cyxkZWxldGUgZy5lbGVtZW50cyxlKWlmKGJbcF0pYltwXVtoP1widW5zaGlmdFwiOlwicHVzaFwiXShnKTtlbHNlIGJbcF09W2ddfX1mdW5jdGlvbiBlKGEsYyxmLGQpe2lmKCFhLm1hdGNofHxhLm1hdGNoKGMpKWlmKGR8fGcoYSxjKSlpZihhLnByb3BlcnRpZXNPbmx5fHwoZi52YWxpZD0hMCksZi5hbGxBdHRyaWJ1dGVzfHwoZi5hbGxBdHRyaWJ1dGVzPWIoYS5hdHRyaWJ1dGVzLGMuYXR0cmlidXRlcyxmLnZhbGlkQXR0cmlidXRlcykpLGYuYWxsU3R5bGVzfHwoZi5hbGxTdHlsZXM9YihhLnN0eWxlcyxcbmMuc3R5bGVzLGYudmFsaWRTdHlsZXMpKSwhZi5hbGxDbGFzc2VzKXthPWEuY2xhc3NlcztjPWMuY2xhc3NlcztkPWYudmFsaWRDbGFzc2VzO2lmKGEpaWYoITA9PT1hKWE9ITA7ZWxzZXtmb3IodmFyIGg9MCxlPWMubGVuZ3RoLG07aDxlOysraCltPWNbaF0sZFttXXx8KGRbbV09YShtKSk7YT0hMX1lbHNlIGE9ITE7Zi5hbGxDbGFzc2VzPWF9fWZ1bmN0aW9uIGIoYSxiLGMpe2lmKCFhKXJldHVybiExO2lmKCEwPT09YSlyZXR1cm4hMDtmb3IodmFyIGYgaW4gYiljW2ZdfHwoY1tmXT1hKGYpKTtyZXR1cm4hMX1mdW5jdGlvbiBjKGEsYixjKXtpZighYS5tYXRjaHx8YS5tYXRjaChiKSl7aWYoYS5ub1Byb3BlcnRpZXMpcmV0dXJuITE7Yy5oYWRJbnZhbGlkQXR0cmlidXRlPWQoYS5hdHRyaWJ1dGVzLGIuYXR0cmlidXRlcyl8fGMuaGFkSW52YWxpZEF0dHJpYnV0ZTtjLmhhZEludmFsaWRTdHlsZT1kKGEuc3R5bGVzLGIuc3R5bGVzKXx8Yy5oYWRJbnZhbGlkU3R5bGU7YT1hLmNsYXNzZXM7XG5iPWIuY2xhc3NlcztpZihhKXtmb3IodmFyIGY9ITEsZz0hMD09PWEsaD1iLmxlbmd0aDtoLS07KWlmKGd8fGEoYltoXSkpYi5zcGxpY2UoaCwxKSxmPSEwO2E9Zn1lbHNlIGE9ITE7Yy5oYWRJbnZhbGlkQ2xhc3M9YXx8Yy5oYWRJbnZhbGlkQ2xhc3N9fWZ1bmN0aW9uIGQoYSxiKXtpZighYSlyZXR1cm4hMTt2YXIgYz0hMSxmPSEwPT09YSxkO2ZvcihkIGluIGIpaWYoZnx8YShkKSlkZWxldGUgYltkXSxjPSEwO3JldHVybiBjfWZ1bmN0aW9uIGwoYSxiLGMpe2lmKGEuZGlzYWJsZWR8fGEuY3VzdG9tQ29uZmlnJiYhY3x8IWIpcmV0dXJuITE7YS5fLmNhY2hlZENoZWNrcz17fTtyZXR1cm4hMH1mdW5jdGlvbiBrKGEsYil7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiBhO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXJldHVybiBhPUkoYSksXCIqXCI9PWE/ITA6Q0tFRElUT1IudG9vbHMuY29udmVydEFycmF5VG9PYmplY3QoYS5zcGxpdChiKSk7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShhKSlyZXR1cm4gYS5sZW5ndGg/XG5DS0VESVRPUi50b29scy5jb252ZXJ0QXJyYXlUb09iamVjdChhKTohMTt2YXIgYz17fSxmPTAsZDtmb3IoZCBpbiBhKWNbZF09YVtkXSxmKys7cmV0dXJuIGY/YzohMX1mdW5jdGlvbiBnKGEsYil7aWYoYS5ub3RoaW5nUmVxdWlyZWQpcmV0dXJuITA7dmFyIGMsZixkLGc7aWYoZD1hLnJlcXVpcmVkQ2xhc3Nlcylmb3IoZz1iLmNsYXNzZXMsYz0wO2M8ZC5sZW5ndGg7KytjKWlmKGY9ZFtjXSxcInN0cmluZ1wiPT10eXBlb2YgZil7aWYoLTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZyxmKSlyZXR1cm4hMX1lbHNlIGlmKCFDS0VESVRPUi50b29scy5jaGVja0lmQW55QXJyYXlJdGVtTWF0Y2hlcyhnLGYpKXJldHVybiExO3JldHVybiBoKGIuc3R5bGVzLGEucmVxdWlyZWRTdHlsZXMpJiZoKGIuYXR0cmlidXRlcyxhLnJlcXVpcmVkQXR0cmlidXRlcyl9ZnVuY3Rpb24gaChhLGIpe2lmKCFiKXJldHVybiEwO2Zvcih2YXIgYz0wLGY7YzxiLmxlbmd0aDsrK2MpaWYoZj1iW2NdLFwic3RyaW5nXCI9PVxudHlwZW9mIGYpe2lmKCEoZiBpbiBhKSlyZXR1cm4hMX1lbHNlIGlmKCFDS0VESVRPUi50b29scy5jaGVja0lmQW55T2JqZWN0UHJvcGVydHlNYXRjaGVzKGEsZikpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbShhKXtpZighYSlyZXR1cm57fTthPWEuc3BsaXQoL1xccyosXFxzKi8pLnNvcnQoKTtmb3IodmFyIGI9e307YS5sZW5ndGg7KWJbYS5zaGlmdCgpXT1cImNrZS10ZXN0XCI7cmV0dXJuIGJ9ZnVuY3Rpb24gZihhKXt2YXIgYixjLGYsZCxnPXt9LGg9MTtmb3IoYT1JKGEpO2I9YS5tYXRjaChEKTspKGM9YlsyXSk/KGY9bihjLFwic3R5bGVzXCIpLGQ9bihjLFwiYXR0cnNcIiksYz1uKGMsXCJjbGFzc2VzXCIpKTpmPWQ9Yz1udWxsLGdbXCIkXCIraCsrXT17ZWxlbWVudHM6YlsxXSxjbGFzc2VzOmMsc3R5bGVzOmYsYXR0cmlidXRlczpkfSxhPWEuc2xpY2UoYlswXS5sZW5ndGgpO3JldHVybiBnfWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm1hdGNoKFJbYl0pO3JldHVybiBjP0koY1sxXSk6bnVsbH1cbmZ1bmN0aW9uIHAoYSl7dmFyIGI9YS5zdHlsZUJhY2t1cD1hLmF0dHJpYnV0ZXMuc3R5bGUsYz1hLmNsYXNzQmFja3VwPWEuYXR0cmlidXRlc1tcImNsYXNzXCJdO2Euc3R5bGVzfHwoYS5zdHlsZXM9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGJ8fFwiXCIsMSkpO2EuY2xhc3Nlc3x8KGEuY2xhc3Nlcz1jP2Muc3BsaXQoL1xccysvKTpbXSl9ZnVuY3Rpb24gcihhLGIsZixkKXt2YXIgZz0wLGg7ZC50b0h0bWwmJihiLm5hbWU9Yi5uYW1lLnJlcGxhY2UoTixcIiQxXCIpKTtpZihkLmRvQ2FsbGJhY2tzJiZhLmVsZW1lbnRDYWxsYmFja3Mpe2E6e2g9YS5lbGVtZW50Q2FsbGJhY2tzO2Zvcih2YXIgbT0wLGw9aC5sZW5ndGgsazttPGw7KyttKWlmKGs9aFttXShiKSl7aD1rO2JyZWFrIGF9aD12b2lkIDB9aWYoaClyZXR1cm4gaH1pZihkLmRvVHJhbnNmb3JtJiYoaD1hLl8udHJhbnNmb3JtYXRpb25zW2IubmFtZV0pKXtwKGIpO2ZvcihtPTA7bTxoLmxlbmd0aDsrK20pdyhhLGIsaFttXSk7eChiKX1pZihkLmRvRmlsdGVyKXthOnttPVxuYi5uYW1lO2w9YS5fO2E9bC5hbGxvd2VkUnVsZXMuZWxlbWVudHNbbV07aD1sLmFsbG93ZWRSdWxlcy5nZW5lcmljO209bC5kaXNhbGxvd2VkUnVsZXMuZWxlbWVudHNbbV07bD1sLmRpc2FsbG93ZWRSdWxlcy5nZW5lcmljO2s9ZC5za2lwUmVxdWlyZWQ7dmFyIG49e3ZhbGlkOiExLHZhbGlkQXR0cmlidXRlczp7fSx2YWxpZENsYXNzZXM6e30sdmFsaWRTdHlsZXM6e30sYWxsQXR0cmlidXRlczohMSxhbGxDbGFzc2VzOiExLGFsbFN0eWxlczohMSxoYWRJbnZhbGlkQXR0cmlidXRlOiExLGhhZEludmFsaWRDbGFzczohMSxoYWRJbnZhbGlkU3R5bGU6ITF9LEQsejtpZihhfHxoKXtwKGIpO2lmKG0pZm9yKEQ9MCx6PW0ubGVuZ3RoO0Q8ejsrK0QpaWYoITE9PT1jKG1bRF0sYixuKSl7YT1udWxsO2JyZWFrIGF9aWYobClmb3IoRD0wLHo9bC5sZW5ndGg7RDx6OysrRCljKGxbRF0sYixuKTtpZihhKWZvcihEPTAsej1hLmxlbmd0aDtEPHo7KytEKWUoYVtEXSxiLG4sayk7aWYoaClmb3IoRD1cbjAsej1oLmxlbmd0aDtEPHo7KytEKWUoaFtEXSxiLG4sayk7YT1ufWVsc2UgYT1udWxsfWlmKCFhfHwhYS52YWxpZClyZXR1cm4gZi5wdXNoKGIpLDE7ej1hLnZhbGlkQXR0cmlidXRlczt2YXIgSj1hLnZhbGlkU3R5bGVzO2g9YS52YWxpZENsYXNzZXM7dmFyIG09Yi5hdHRyaWJ1dGVzLHQ9Yi5zdHlsZXMsbD1iLmNsYXNzZXM7az1iLmNsYXNzQmFja3VwO3ZhciB5PWIuc3R5bGVCYWNrdXAsdSxFLEM9W10sbj1bXSxCPS9eZGF0YS1ja2UtLztEPSExO2RlbGV0ZSBtLnN0eWxlO2RlbGV0ZSBtW1wiY2xhc3NcIl07ZGVsZXRlIGIuY2xhc3NCYWNrdXA7ZGVsZXRlIGIuc3R5bGVCYWNrdXA7aWYoIWEuYWxsQXR0cmlidXRlcylmb3IodSBpbiBtKXpbdV18fChCLnRlc3QodSk/dT09KEU9dS5yZXBsYWNlKC9eZGF0YS1ja2Utc2F2ZWQtLyxcIlwiKSl8fHpbRV18fChkZWxldGUgbVt1XSxEPSEwKTooZGVsZXRlIG1bdV0sRD0hMCkpO2lmKCFhLmFsbFN0eWxlc3x8YS5oYWRJbnZhbGlkU3R5bGUpe2Zvcih1IGluIHQpYS5hbGxTdHlsZXN8fFxuSlt1XT9DLnB1c2godStcIjpcIit0W3VdKTpEPSEwO0MubGVuZ3RoJiYobS5zdHlsZT1DLnNvcnQoKS5qb2luKFwiOyBcIikpfWVsc2UgeSYmKG0uc3R5bGU9eSk7aWYoIWEuYWxsQ2xhc3Nlc3x8YS5oYWRJbnZhbGlkQ2xhc3Mpe2Zvcih1PTA7dTxsLmxlbmd0aDsrK3UpKGEuYWxsQ2xhc3Nlc3x8aFtsW3VdXSkmJm4ucHVzaChsW3VdKTtuLmxlbmd0aCYmKG1bXCJjbGFzc1wiXT1uLnNvcnQoKS5qb2luKFwiIFwiKSk7ayYmbi5sZW5ndGg8ay5zcGxpdCgvXFxzKy8pLmxlbmd0aCYmKEQ9ITApfWVsc2UgayYmKG1bXCJjbGFzc1wiXT1rKTtEJiYoZz0xKTtpZighZC5za2lwRmluYWxWYWxpZGF0aW9uJiYhcShiKSlyZXR1cm4gZi5wdXNoKGIpLDF9ZC50b0h0bWwmJihiLm5hbWU9Yi5uYW1lLnJlcGxhY2UoUyxcImNrZTokMVwiKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEpLTE8Yy5pbmRleE9mKFwiKlwiKSYmYi5wdXNoKGMucmVwbGFjZSgvXFwqL2csXCIuKlwiKSk7cmV0dXJuIGIubGVuZ3RoP1xubmV3IFJlZ0V4cChcIl4oPzpcIitiLmpvaW4oXCJ8XCIpK1wiKSRcIik6bnVsbH1mdW5jdGlvbiB4KGEpe3ZhciBiPWEuYXR0cmlidXRlcyxjO2RlbGV0ZSBiLnN0eWxlO2RlbGV0ZSBiW1wiY2xhc3NcIl07aWYoYz1DS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoYS5zdHlsZXMsITApKWIuc3R5bGU9YzthLmNsYXNzZXMubGVuZ3RoJiYoYltcImNsYXNzXCJdPWEuY2xhc3Nlcy5zb3J0KCkuam9pbihcIiBcIikpfWZ1bmN0aW9uIHEoYSl7c3dpdGNoKGEubmFtZSl7Y2FzZSBcImFcIjppZighKGEuY2hpbGRyZW4ubGVuZ3RofHxhLmF0dHJpYnV0ZXMubmFtZXx8YS5hdHRyaWJ1dGVzLmlkKSlyZXR1cm4hMTticmVhaztjYXNlIFwiaW1nXCI6aWYoIWEuYXR0cmlidXRlcy5zcmMpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gdChhKXtpZighYSlyZXR1cm4hMTtpZighMD09PWEpcmV0dXJuITA7dmFyIGI9dihhKTtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGMgaW4gYXx8YiYmYy5tYXRjaChiKX19ZnVuY3Rpb24gdSgpe3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwiYnJcIil9XG5mdW5jdGlvbiBBKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKFwiYnJcIj09YS5uYW1lfHxFLiRibG9ja1thLm5hbWVdKX1mdW5jdGlvbiB6KGEsYixjKXt2YXIgZj1hLm5hbWU7aWYoRS4kZW1wdHlbZl18fCFhLmNoaWxkcmVuLmxlbmd0aClcImhyXCI9PWYmJlwiYnJcIj09Yj9hLnJlcGxhY2VXaXRoKHUoKSk6KGEucGFyZW50JiZjLnB1c2goe2NoZWNrOlwiaXRcIixlbDphLnBhcmVudH0pLGEucmVtb3ZlKCkpO2Vsc2UgaWYoRS4kYmxvY2tbZl18fFwidHJcIj09ZilpZihcImJyXCI9PWIpYS5wcmV2aW91cyYmIUEoYS5wcmV2aW91cykmJihiPXUoKSxiLmluc2VydEJlZm9yZShhKSksYS5uZXh0JiYhQShhLm5leHQpJiYoYj11KCksYi5pbnNlcnRBZnRlcihhKSksYS5yZXBsYWNlV2l0aENoaWxkcmVuKCk7ZWxzZXt2YXIgZj1hLmNoaWxkcmVuLGQ7Yjp7ZD1FW2JdO2Zvcih2YXIgZz0wLGg9Zi5sZW5ndGgsZTtnPGg7KytnKWlmKGU9ZltnXSxlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG4hZFtlLm5hbWVdKXtkPSExO2JyZWFrIGJ9ZD0hMH1pZihkKWEubmFtZT1iLGEuYXR0cmlidXRlcz17fSxjLnB1c2goe2NoZWNrOlwicGFyZW50LWRvd25cIixlbDphfSk7ZWxzZXtkPWEucGFyZW50O2Zvcih2YXIgZz1kLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fFwiYm9keVwiPT1kLm5hbWUsbSxsLGg9Zi5sZW5ndGg7MDxoOyllPWZbLS1oXSxnJiYoZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZFLiRpbmxpbmVbZS5uYW1lXSk/KG18fChtPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoYiksbS5pbnNlcnRBZnRlcihhKSxjLnB1c2goe2NoZWNrOlwicGFyZW50LWRvd25cIixlbDptfSkpLG0uYWRkKGUsMCkpOihtPW51bGwsbD1FW2QubmFtZV18fEUuc3BhbixlLmluc2VydEFmdGVyKGEpLGQudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8ZS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fFxubFtlLm5hbWVdfHxjLnB1c2goe2NoZWNrOlwiZWwtdXBcIixlbDplfSkpO2EucmVtb3ZlKCl9fWVsc2UgZiBpbntzdHlsZToxLHNjcmlwdDoxfT9hLnJlbW92ZSgpOihhLnBhcmVudCYmYy5wdXNoKHtjaGVjazpcIml0XCIsZWw6YS5wYXJlbnR9KSxhLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKSl9ZnVuY3Rpb24gdyhhLGIsYyl7dmFyIGYsZDtmb3IoZj0wO2Y8Yy5sZW5ndGg7KytmKWlmKGQ9Y1tmXSwhKGQuY2hlY2smJiFhLmNoZWNrKGQuY2hlY2ssITEpfHxkLmxlZnQmJiFkLmxlZnQoYikpKXtkLnJpZ2h0KGIsTCk7YnJlYWt9fWZ1bmN0aW9uIEMoYSxiKXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxmPWMuYXR0cmlidXRlcyxkPWMuc3R5bGVzLGcsaCxlLG07aWYoYS5uYW1lIT1jLmVsZW1lbnQpcmV0dXJuITE7Zm9yKGcgaW4gZilpZihcImNsYXNzXCI9PWcpZm9yKGM9ZltnXS5zcGxpdCgvXFxzKy8pLGU9YS5jbGFzc2VzLmpvaW4oXCJ8XCIpO209Yy5wb3AoKTspe2lmKC0xPT1lLmluZGV4T2YobSkpcmV0dXJuITF9ZWxzZSBpZihhLmF0dHJpYnV0ZXNbZ10hPVxuZltnXSlyZXR1cm4hMTtmb3IoaCBpbiBkKWlmKGEuc3R5bGVzW2hdIT1kW2hdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHkoYSxiKXt2YXIgYyxmO1wic3RyaW5nXCI9PXR5cGVvZiBhP2M9YTphIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGU/Zj1hOihjPWFbMF0sZj1hWzFdKTtyZXR1cm5be2VsZW1lbnQ6YyxsZWZ0OmYscmlnaHQ6ZnVuY3Rpb24oYSxjKXtjLnRyYW5zZm9ybShhLGIpfX1dfWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBDKGIsYSl9fWZ1bmN0aW9uIEcoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7Y1thXShiKX19dmFyIEU9Q0tFRElUT1IuZHRkLEY9Q0tFRElUT1IudG9vbHMuY29weSxJPUNLRURJVE9SLnRvb2xzLnRyaW0sSD1bXCJcIixcInBcIixcImJyXCIsXCJkaXZcIl07Q0tFRElUT1IuRklMVEVSX1NLSVBfVFJFRT0yO0NLRURJVE9SLmZpbHRlcj1mdW5jdGlvbihhKXt0aGlzLmFsbG93ZWRDb250ZW50PVtdO3RoaXMuZGlzYWxsb3dlZENvbnRlbnQ9XG5bXTt0aGlzLmVsZW1lbnRDYWxsYmFja3M9bnVsbDt0aGlzLmRpc2FibGVkPSExO3RoaXMuZWRpdG9yPW51bGw7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7dGhpcy5fPXthbGxvd2VkUnVsZXM6e2VsZW1lbnRzOnt9LGdlbmVyaWM6W119LGRpc2FsbG93ZWRSdWxlczp7ZWxlbWVudHM6e30sZ2VuZXJpYzpbXX0sdHJhbnNmb3JtYXRpb25zOnt9LGNhY2hlZFRlc3RzOnt9LGNhY2hlZENoZWNrczp7fX07Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXT10aGlzO2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3Ipe2E9dGhpcy5lZGl0b3I9YTt0aGlzLmN1c3RvbUNvbmZpZz0hMDt2YXIgYj1hLmNvbmZpZy5hbGxvd2VkQ29udGVudDshMD09PWI/dGhpcy5kaXNhYmxlZD0hMDooYnx8KHRoaXMuY3VzdG9tQ29uZmlnPSExKSx0aGlzLmFsbG93KGIsXCJjb25maWdcIiwxKSx0aGlzLmFsbG93KGEuY29uZmlnLmV4dHJhQWxsb3dlZENvbnRlbnQsXCJleHRyYVwiLFxuMSksdGhpcy5hbGxvdyhIW2EuZW50ZXJNb2RlXStcIiBcIitIW2Euc2hpZnRFbnRlck1vZGVdLFwiZGVmYXVsdFwiLDEpLHRoaXMuZGlzYWxsb3coYS5jb25maWcuZGlzYWxsb3dlZENvbnRlbnQpKX1lbHNlIHRoaXMuY3VzdG9tQ29uZmlnPSExLHRoaXMuYWxsb3coYSxcImRlZmF1bHRcIiwxKX07Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlcz17fTtDS0VESVRPUi5maWx0ZXIucHJvdG90eXBlPXthbGxvdzpmdW5jdGlvbihiLGMsZCl7aWYoIWwodGhpcyxiLGQpKXJldHVybiExO3ZhciBnLGg7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYj1mKGIpO2Vsc2UgaWYoYiBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlKXtpZihiLnRvQWxsb3dlZENvbnRlbnRSdWxlcylyZXR1cm4gdGhpcy5hbGxvdyhiLnRvQWxsb3dlZENvbnRlbnRSdWxlcyh0aGlzLmVkaXRvciksYyxkKTtnPWIuZ2V0RGVmaW5pdGlvbigpO2I9e307ZD1nLmF0dHJpYnV0ZXM7YltnLmVsZW1lbnRdPWc9e3N0eWxlczpnLnN0eWxlcyxyZXF1aXJlZFN0eWxlczpnLnN0eWxlcyYmXG5DS0VESVRPUi50b29scy5vYmplY3RLZXlzKGcuc3R5bGVzKX07ZCYmKGQ9RihkKSxnLmNsYXNzZXM9ZFtcImNsYXNzXCJdP2RbXCJjbGFzc1wiXS5zcGxpdCgvXFxzKy8pOm51bGwsZy5yZXF1aXJlZENsYXNzZXM9Zy5jbGFzc2VzLGRlbGV0ZSBkW1wiY2xhc3NcIl0sZy5hdHRyaWJ1dGVzPWQsZy5yZXF1aXJlZEF0dHJpYnV0ZXM9ZCYmQ0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhkKSl9ZWxzZSBpZihDS0VESVRPUi50b29scy5pc0FycmF5KGIpKXtmb3IoZz0wO2c8Yi5sZW5ndGg7KytnKWg9dGhpcy5hbGxvdyhiW2ddLGMsZCk7cmV0dXJuIGh9YSh0aGlzLGIsYyx0aGlzLmFsbG93ZWRDb250ZW50LHRoaXMuXy5hbGxvd2VkUnVsZXMpO3JldHVybiEwfSxhcHBseVRvOmZ1bmN0aW9uKGEsYixjLGYpe2lmKHRoaXMuZGlzYWJsZWQpcmV0dXJuITE7dmFyIGQ9dGhpcyxnPVtdLGg9dGhpcy5lZGl0b3ImJnRoaXMuZWRpdG9yLmNvbmZpZy5wcm90ZWN0ZWRTb3VyY2UsZSxtPSExLGw9e2RvRmlsdGVyOiFjLFxuZG9UcmFuc2Zvcm06ITAsZG9DYWxsYmFja3M6ITAsdG9IdG1sOmJ9O2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoXCJvZmZcIj09YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZmlsdGVyXCJdKXJldHVybiExO2lmKCFifHxcInNwYW5cIiE9YS5uYW1lfHwhfkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoYS5hdHRyaWJ1dGVzKS5qb2luKFwifFwiKS5pbmRleE9mKFwiZGF0YS1ja2UtXCIpKWlmKGU9cihkLGEsZyxsKSxlJjEpbT0hMDtlbHNlIGlmKGUmMilyZXR1cm4hMX1lbHNlIGlmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UJiZhLnZhbHVlLm1hdGNoKC9eXFx7Y2tlX3Byb3RlY3RlZFxcfSg/IVxce0NcXH0pLykpe3ZhciBjO2E6e3ZhciBmPWRlY29kZVVSSUNvbXBvbmVudChhLnZhbHVlLnJlcGxhY2UoL15cXHtja2VfcHJvdGVjdGVkXFx9LyxcIlwiKSk7Yz1bXTt2YXIgayxuLHE7aWYoaClmb3Iobj0wO248aC5sZW5ndGg7KytuKWlmKChxPWYubWF0Y2goaFtuXSkpJiZcbnFbMF0ubGVuZ3RoPT1mLmxlbmd0aCl7Yz0hMDticmVhayBhfWY9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChmKTsxPT1mLmNoaWxkcmVuLmxlbmd0aCYmKGs9Zi5jaGlsZHJlblswXSkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZyKGQsayxjLGwpO2M9IWMubGVuZ3RofWN8fGcucHVzaChhKX19LG51bGwsITApO2cubGVuZ3RoJiYobT0hMCk7dmFyIGs7YT1bXTtmPUhbZnx8KHRoaXMuZWRpdG9yP3RoaXMuZWRpdG9yLmVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9QKV07Zm9yKHZhciBuO2M9Zy5wb3AoKTspYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/eihjLGYsYSk6Yy5yZW1vdmUoKTtmb3IoO2s9YS5wb3AoKTspaWYoYz1rLmVsLGMucGFyZW50KXN3aXRjaChuPUVbYy5wYXJlbnQubmFtZV18fEUuc3BhbixrLmNoZWNrKXtjYXNlIFwiaXRcIjpFLiRyZW1vdmVFbXB0eVtjLm5hbWVdJiYhYy5jaGlsZHJlbi5sZW5ndGg/eihjLGYsYSk6cShjKXx8XG56KGMsZixhKTticmVhaztjYXNlIFwiZWwtdXBcIjpjLnBhcmVudC50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHxuW2MubmFtZV18fHooYyxmLGEpO2JyZWFrO2Nhc2UgXCJwYXJlbnQtZG93blwiOmMucGFyZW50LnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fG5bYy5uYW1lXXx8eihjLnBhcmVudCxmLGEpfXJldHVybiBtfSxjaGVja0ZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXNhYmxlZHx8IWEpcmV0dXJuITA7YS50b0ZlYXR1cmUmJihhPWEudG9GZWF0dXJlKHRoaXMuZWRpdG9yKSk7cmV0dXJuIWEucmVxdWlyZWRDb250ZW50fHx0aGlzLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITB9LGRpc2FsbG93OmZ1bmN0aW9uKGIpe2lmKCFsKHRoaXMsYiwhMCkpcmV0dXJuITE7XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPWYoYikpO2EodGhpcyxiLG51bGwsdGhpcy5kaXNhbGxvd2VkQ29udGVudCxcbnRoaXMuXy5kaXNhbGxvd2VkUnVsZXMpO3JldHVybiEwfSxhZGRDb250ZW50Rm9ybXM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZGlzYWJsZWQmJmEpe3ZhciBiLGMsZj1bXSxkO2ZvcihiPTA7YjxhLmxlbmd0aCYmIWQ7KytiKWM9YVtiXSwoXCJzdHJpbmdcIj09dHlwZW9mIGN8fGMgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZSkmJnRoaXMuY2hlY2soYykmJihkPWMpO2lmKGQpe2ZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZi5wdXNoKHkoYVtiXSxkKSk7dGhpcy5hZGRUcmFuc2Zvcm1hdGlvbnMoZil9fX0sYWRkRWxlbWVudENhbGxiYWNrOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudENhbGxiYWNrc3x8KHRoaXMuZWxlbWVudENhbGxiYWNrcz1bXSk7dGhpcy5lbGVtZW50Q2FsbGJhY2tzLnB1c2goYSl9LGFkZEZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXNhYmxlZHx8IWEpcmV0dXJuITA7YS50b0ZlYXR1cmUmJihhPWEudG9GZWF0dXJlKHRoaXMuZWRpdG9yKSk7dGhpcy5hbGxvdyhhLmFsbG93ZWRDb250ZW50LFxuYS5uYW1lKTt0aGlzLmFkZFRyYW5zZm9ybWF0aW9ucyhhLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnMpO3RoaXMuYWRkQ29udGVudEZvcm1zKGEuY29udGVudEZvcm1zKTtyZXR1cm4gYS5yZXF1aXJlZENvbnRlbnQmJih0aGlzLmN1c3RvbUNvbmZpZ3x8dGhpcy5kaXNhbGxvd2VkQ29udGVudC5sZW5ndGgpP3RoaXMuY2hlY2soYS5yZXF1aXJlZENvbnRlbnQpOiEwfSxhZGRUcmFuc2Zvcm1hdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGIsYztpZighdGhpcy5kaXNhYmxlZCYmYSl7dmFyIGY9dGhpcy5fLnRyYW5zZm9ybWF0aW9ucyxkO2ZvcihkPTA7ZDxhLmxlbmd0aDsrK2Qpe2I9YVtkXTt2YXIgZz12b2lkIDAsaD12b2lkIDAsZT12b2lkIDAsbT12b2lkIDAsbD12b2lkIDAsaz12b2lkIDA7Yz1bXTtmb3IoaD0wO2g8Yi5sZW5ndGg7KytoKWU9YltoXSxcInN0cmluZ1wiPT10eXBlb2YgZT8oZT1lLnNwbGl0KC9cXHMqOlxccyovKSxtPWVbMF0sbD1udWxsLGs9ZVsxXSk6KG09ZS5jaGVjayxsPWUubGVmdCxcbms9ZS5yaWdodCksZ3x8KGc9ZSxnPWcuZWxlbWVudD9nLmVsZW1lbnQ6bT9tLm1hdGNoKC9eKFthLXowLTldKykvaSlbMF06Zy5sZWZ0LmdldERlZmluaXRpb24oKS5lbGVtZW50KSxsIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGUmJihsPUIobCkpLGMucHVzaCh7Y2hlY2s6bT09Zz9udWxsOm0sbGVmdDpsLHJpZ2h0Olwic3RyaW5nXCI9PXR5cGVvZiBrP0coayk6a30pO2I9ZztmW2JdfHwoZltiXT1bXSk7ZltiXS5wdXNoKGMpfX19LGNoZWNrOmZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiEwO2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpe2Zvcih2YXIgZD1hLmxlbmd0aDtkLS07KWlmKHRoaXMuY2hlY2soYVtkXSxiLGMpKXJldHVybiEwO3JldHVybiExfXZhciBnLGg7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpe2g9YStcIlxceDNjXCIrKCExPT09Yj9cIjBcIjpcIjFcIikrKGM/XCIxXCI6XCIwXCIpK1wiXFx4M2VcIjtpZihoIGluIHRoaXMuXy5jYWNoZWRDaGVja3MpcmV0dXJuIHRoaXMuXy5jYWNoZWRDaGVja3NbaF07XG5kPWYoYSkuJDE7Zz1kLnN0eWxlczt2YXIgZT1kLmNsYXNzZXM7ZC5uYW1lPWQuZWxlbWVudHM7ZC5jbGFzc2VzPWU9ZT9lLnNwbGl0KC9cXHMqLFxccyovKTpbXTtkLnN0eWxlcz1tKGcpO2QuYXR0cmlidXRlcz1tKGQuYXR0cmlidXRlcyk7ZC5jaGlsZHJlbj1bXTtlLmxlbmd0aCYmKGQuYXR0cmlidXRlc1tcImNsYXNzXCJdPWUuam9pbihcIiBcIikpO2cmJihkLmF0dHJpYnV0ZXMuc3R5bGU9Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KGQuc3R5bGVzKSk7Zz1kfWVsc2UgZD1hLmdldERlZmluaXRpb24oKSxnPWQuc3R5bGVzLGU9ZC5hdHRyaWJ1dGVzfHx7fSxnJiYhQ0tFRElUT1IudG9vbHMuaXNFbXB0eShnKT8oZz1GKGcpLGUuc3R5bGU9Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KGcsITApKTpnPXt9LGc9e25hbWU6ZC5lbGVtZW50LGF0dHJpYnV0ZXM6ZSxjbGFzc2VzOmVbXCJjbGFzc1wiXT9lW1wiY2xhc3NcIl0uc3BsaXQoL1xccysvKTpbXSxzdHlsZXM6ZyxjaGlsZHJlbjpbXX07dmFyIGU9XG5DS0VESVRPUi50b29scy5jbG9uZShnKSxsPVtdLGs7aWYoITEhPT1iJiYoaz10aGlzLl8udHJhbnNmb3JtYXRpb25zW2cubmFtZV0pKXtmb3IoZD0wO2Q8ay5sZW5ndGg7KytkKXcodGhpcyxnLGtbZF0pO3goZyl9cih0aGlzLGUsbCx7ZG9GaWx0ZXI6ITAsZG9UcmFuc2Zvcm06ITEhPT1iLHNraXBSZXF1aXJlZDohYyxza2lwRmluYWxWYWxpZGF0aW9uOiFjfSk7Yj0wPGwubGVuZ3RoPyExOkNLRURJVE9SLnRvb2xzLm9iamVjdENvbXBhcmUoZy5hdHRyaWJ1dGVzLGUuYXR0cmlidXRlcywhMCk/ITA6ITE7XCJzdHJpbmdcIj09dHlwZW9mIGEmJih0aGlzLl8uY2FjaGVkQ2hlY2tzW2hdPWIpO3JldHVybiBifSxnZXRBbGxvd2VkRW50ZXJNb2RlOmZ1bmN0aW9uKCl7dmFyIGE9W1wicFwiLFwiZGl2XCIsXCJiclwiXSxiPXtwOkNLRURJVE9SLkVOVEVSX1AsZGl2OkNLRURJVE9SLkVOVEVSX0RJVixicjpDS0VESVRPUi5FTlRFUl9CUn07cmV0dXJuIGZ1bmN0aW9uKGMsZil7dmFyIGQ9YS5zbGljZSgpLFxuZztpZih0aGlzLmNoZWNrKEhbY10pKXJldHVybiBjO2ZvcihmfHwoZD1kLnJldmVyc2UoKSk7Zz1kLnBvcCgpOylpZih0aGlzLmNoZWNrKGcpKXJldHVybiBiW2ddO3JldHVybiBDS0VESVRPUi5FTlRFUl9CUn19KCksY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZmlsdGVyLGI9Q0tFRElUT1IudG9vbHMuY2xvbmU7YS5hbGxvd2VkQ29udGVudD1iKHRoaXMuYWxsb3dlZENvbnRlbnQpO2EuXy5hbGxvd2VkUnVsZXM9Yih0aGlzLl8uYWxsb3dlZFJ1bGVzKTthLmRpc2FsbG93ZWRDb250ZW50PWIodGhpcy5kaXNhbGxvd2VkQ29udGVudCk7YS5fLmRpc2FsbG93ZWRSdWxlcz1iKHRoaXMuXy5kaXNhbGxvd2VkUnVsZXMpO2EuXy50cmFuc2Zvcm1hdGlvbnM9Yih0aGlzLl8udHJhbnNmb3JtYXRpb25zKTthLmRpc2FibGVkPXRoaXMuZGlzYWJsZWQ7YS5lZGl0b3I9dGhpcy5lZGl0b3I7cmV0dXJuIGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgQ0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXTtcbmRlbGV0ZSB0aGlzLl87ZGVsZXRlIHRoaXMuYWxsb3dlZENvbnRlbnQ7ZGVsZXRlIHRoaXMuZGlzYWxsb3dlZENvbnRlbnR9fTt2YXIgSz17c3R5bGVzOjEsYXR0cmlidXRlczoxLGNsYXNzZXM6MX0sSj17c3R5bGVzOlwicmVxdWlyZWRTdHlsZXNcIixhdHRyaWJ1dGVzOlwicmVxdWlyZWRBdHRyaWJ1dGVzXCIsY2xhc3NlczpcInJlcXVpcmVkQ2xhc3Nlc1wifSxEPS9eKFthLXowLTlcXC0qXFxzXSspKCg/OlxccypcXHtbIVxcd1xcLSxcXHNcXCpdK1xcfVxccyp8XFxzKlxcW1shXFx3XFwtLFxcc1xcKl0rXFxdXFxzKnxcXHMqXFwoWyFcXHdcXC0sXFxzXFwqXStcXClcXHMqKXswLDN9KSg/OjtcXHMqfCQpL2ksUj17c3R5bGVzOi97KFtefV0rKX0vLGF0dHJzOi9cXFsoW15cXF1dKylcXF0vLGNsYXNzZXM6L1xcKChbXlxcKV0rKVxcKS99LE49L15ja2U6KG9iamVjdHxlbWJlZHxwYXJhbSkkLyxTPS9eKG9iamVjdHxlbWJlZHxwYXJhbSkkLyxMO0w9Q0tFRElUT1IuZmlsdGVyLnRyYW5zZm9ybWF0aW9uc1Rvb2xzPXtzaXplVG9TdHlsZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvU3R5bGUoYSxcblwid2lkdGhcIik7dGhpcy5sZW5ndGhUb1N0eWxlKGEsXCJoZWlnaHRcIil9LHNpemVUb0F0dHJpYnV0ZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJ3aWR0aFwiKTt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJoZWlnaHRcIil9LGxlbmd0aFRvU3R5bGU6ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8YjtpZighKGMgaW4gYS5zdHlsZXMpKXt2YXIgZj1hLmF0dHJpYnV0ZXNbYl07ZiYmKC9eXFxkKyQvLnRlc3QoZikmJihmKz1cInB4XCIpLGEuc3R5bGVzW2NdPWYpfWRlbGV0ZSBhLmF0dHJpYnV0ZXNbYl19LGxlbmd0aFRvQXR0cmlidXRlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fGI7aWYoIShjIGluIGEuYXR0cmlidXRlcykpe3ZhciBmPWEuc3R5bGVzW2JdLGQ9ZiYmZi5tYXRjaCgvXihcXGQrKSg/OlxcLlxcZCopP3B4JC8pO2Q/YS5hdHRyaWJ1dGVzW2NdPWRbMV06XCJja2UtdGVzdFwiPT1mJiYoYS5hdHRyaWJ1dGVzW2NdPVwiY2tlLXRlc3RcIil9ZGVsZXRlIGEuc3R5bGVzW2JdfSxhbGlnbm1lbnRUb1N0eWxlOmZ1bmN0aW9uKGEpe2lmKCEoXCJmbG9hdFwiaW5cbmEuc3R5bGVzKSl7dmFyIGI9YS5hdHRyaWJ1dGVzLmFsaWduO2lmKFwibGVmdFwiPT1ifHxcInJpZ2h0XCI9PWIpYS5zdHlsZXNbXCJmbG9hdFwiXT1ifWRlbGV0ZSBhLmF0dHJpYnV0ZXMuYWxpZ259LGFsaWdubWVudFRvQXR0cmlidXRlOmZ1bmN0aW9uKGEpe2lmKCEoXCJhbGlnblwiaW4gYS5hdHRyaWJ1dGVzKSl7dmFyIGI9YS5zdHlsZXNbXCJmbG9hdFwiXTtpZihcImxlZnRcIj09Ynx8XCJyaWdodFwiPT1iKWEuYXR0cmlidXRlcy5hbGlnbj1ifWRlbGV0ZSBhLnN0eWxlc1tcImZsb2F0XCJdfSxzcGxpdEJvcmRlclNob3J0aGFuZDpmdW5jdGlvbihhKXtpZihhLnN0eWxlcy5ib3JkZXIpe3ZhciBiPUNLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLmJvcmRlcihhLnN0eWxlcy5ib3JkZXIpO2IuY29sb3ImJihhLnN0eWxlc1tcImJvcmRlci1jb2xvclwiXT1iLmNvbG9yKTtiLnN0eWxlJiYoYS5zdHlsZXNbXCJib3JkZXItc3R5bGVcIl09Yi5zdHlsZSk7Yi53aWR0aCYmKGEuc3R5bGVzW1wiYm9yZGVyLXdpZHRoXCJdPWIud2lkdGgpO1xuZGVsZXRlIGEuc3R5bGVzLmJvcmRlcn19LGxpc3RUeXBlVG9TdHlsZTpmdW5jdGlvbihhKXtpZihhLmF0dHJpYnV0ZXMudHlwZSlzd2l0Y2goYS5hdHRyaWJ1dGVzLnR5cGUpe2Nhc2UgXCJhXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJsb3dlci1hbHBoYVwiO2JyZWFrO2Nhc2UgXCJBXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1hbHBoYVwiO2JyZWFrO2Nhc2UgXCJpXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJsb3dlci1yb21hblwiO2JyZWFrO2Nhc2UgXCJJXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1yb21hblwiO2JyZWFrO2Nhc2UgXCIxXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJkZWNpbWFsXCI7YnJlYWs7ZGVmYXVsdDphLnN0eWxlc1tcImxpc3Qtc3R5bGUtdHlwZVwiXT1hLmF0dHJpYnV0ZXMudHlwZX19LHNwbGl0TWFyZ2luU2hvcnRoYW5kOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZil7YS5zdHlsZXNbXCJtYXJnaW4tdG9wXCJdPVxuY1tmWzBdXTthLnN0eWxlc1tcIm1hcmdpbi1yaWdodFwiXT1jW2ZbMV1dO2Euc3R5bGVzW1wibWFyZ2luLWJvdHRvbVwiXT1jW2ZbMl1dO2Euc3R5bGVzW1wibWFyZ2luLWxlZnRcIl09Y1tmWzNdXX1pZihhLnN0eWxlcy5tYXJnaW4pe3ZhciBjPWEuc3R5bGVzLm1hcmdpbi5tYXRjaCgvKFxcLT9bXFwuXFxkXStcXHcrKS9nKXx8W1wiMHB4XCJdO3N3aXRjaChjLmxlbmd0aCl7Y2FzZSAxOmIoWzAsMCwwLDBdKTticmVhaztjYXNlIDI6YihbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpiKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmIoWzAsMSwyLDNdKX1kZWxldGUgYS5zdHlsZXMubWFyZ2lufX0sbWF0Y2hlc1N0eWxlOkMsdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYS5uYW1lPWI7ZWxzZXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxmPWMuc3R5bGVzLGQ9Yy5hdHRyaWJ1dGVzLGcsaCxlLG07YS5uYW1lPWMuZWxlbWVudDtmb3IoZyBpbiBkKWlmKFwiY2xhc3NcIj09Zylmb3IoYz1cbmEuY2xhc3Nlcy5qb2luKFwifFwiKSxlPWRbZ10uc3BsaXQoL1xccysvKTttPWUucG9wKCk7KS0xPT1jLmluZGV4T2YobSkmJmEuY2xhc3Nlcy5wdXNoKG0pO2Vsc2UgYS5hdHRyaWJ1dGVzW2ddPWRbZ107Zm9yKGggaW4gZilhLnN0eWxlc1toXT1mW2hdfX19fSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IuZm9jdXNNYW5hZ2VyPWZ1bmN0aW9uKGEpe2lmKGEuZm9jdXNNYW5hZ2VyKXJldHVybiBhLmZvY3VzTWFuYWdlcjt0aGlzLmhhc0ZvY3VzPSExO3RoaXMuY3VycmVudEFjdGl2ZT1udWxsO3RoaXMuXz17ZWRpdG9yOmF9O3JldHVybiB0aGlzfTtDS0VESVRPUi5mb2N1c01hbmFnZXIuXz17Ymx1ckRlbGF5OjIwMH07Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLnByb3RvdHlwZT17Zm9jdXM6ZnVuY3Rpb24oYSl7dGhpcy5fLnRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fLnRpbWVyKTthJiYodGhpcy5jdXJyZW50QWN0aXZlPWEpO3RoaXMuaGFzRm9jdXN8fHRoaXMuXy5sb2NrZWR8fCgoYT1DS0VESVRPUi5jdXJyZW50SW5zdGFuY2UpJiZcbmEuZm9jdXNNYW5hZ2VyLmJsdXIoMSksdGhpcy5oYXNGb2N1cz0hMCwoYT10aGlzLl8uZWRpdG9yLmNvbnRhaW5lcikmJmEuYWRkQ2xhc3MoXCJja2VfZm9jdXNcIiksdGhpcy5fLmVkaXRvci5maXJlKFwiZm9jdXNcIikpfSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5fLmxvY2tlZD0xfSx1bmxvY2s6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLmxvY2tlZH0sYmx1cjpmdW5jdGlvbihhKXtmdW5jdGlvbiBlKCl7aWYodGhpcy5oYXNGb2N1cyl7dGhpcy5oYXNGb2N1cz0hMTt2YXIgYT10aGlzLl8uZWRpdG9yLmNvbnRhaW5lcjthJiZhLnJlbW92ZUNsYXNzKFwiY2tlX2ZvY3VzXCIpO3RoaXMuXy5lZGl0b3IuZmlyZShcImJsdXJcIil9fWlmKCF0aGlzLl8ubG9ja2VkKXt0aGlzLl8udGltZXImJmNsZWFyVGltZW91dCh0aGlzLl8udGltZXIpO3ZhciBiPUNLRURJVE9SLmZvY3VzTWFuYWdlci5fLmJsdXJEZWxheTthfHwhYj9lLmNhbGwodGhpcyk6dGhpcy5fLnRpbWVyPUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLnRpbWVyO1xuZS5jYWxsKHRoaXMpfSxiLHRoaXMpfX0sYWRkOmZ1bmN0aW9uKGEsZSl7dmFyIGI9YS5nZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIpO2lmKCFifHxiIT10aGlzKXtiJiZiLnJlbW92ZShhKTt2YXIgYj1cImZvY3VzXCIsYz1cImJsdXJcIjtlJiYoQ0tFRElUT1IuZW52LmllPyhiPVwiZm9jdXNpblwiLGM9XCJmb2N1c291dFwiKTpDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTEpO3ZhciBkPXtibHVyOmZ1bmN0aW9uKCl7YS5lcXVhbHModGhpcy5jdXJyZW50QWN0aXZlKSYmdGhpcy5ibHVyKCl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cyhhKX19O2Eub24oYixkLmZvY3VzLHRoaXMpO2Eub24oYyxkLmJsdXIsdGhpcyk7ZSYmKENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MCk7YS5zZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIsdGhpcyk7YS5zZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzXCIsZCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIpO1xudmFyIGU9YS5yZW1vdmVDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzXCIpO2EucmVtb3ZlTGlzdGVuZXIoXCJibHVyXCIsZS5ibHVyKTthLnJlbW92ZUxpc3RlbmVyKFwiZm9jdXNcIixlLmZvY3VzKX19fSgpLENLRURJVE9SLmtleXN0cm9rZUhhbmRsZXI9ZnVuY3Rpb24oYSl7aWYoYS5rZXlzdHJva2VIYW5kbGVyKXJldHVybiBhLmtleXN0cm9rZUhhbmRsZXI7dGhpcy5rZXlzdHJva2VzPXt9O3RoaXMuYmxvY2tlZEtleXN0cm9rZXM9e307dGhpcy5fPXtlZGl0b3I6YX07cmV0dXJuIHRoaXN9LGZ1bmN0aW9uKCl7dmFyIGEsZT1mdW5jdGlvbihiKXtiPWIuZGF0YTt2YXIgZD1iLmdldEtleXN0cm9rZSgpLGU9dGhpcy5rZXlzdHJva2VzW2RdLGs9dGhpcy5fLmVkaXRvcjthPSExPT09ay5maXJlKFwia2V5XCIse2tleUNvZGU6ZCxkb21FdmVudDpifSk7YXx8KGUmJihhPSExIT09ay5leGVjQ29tbWFuZChlLHtmcm9tOlwia2V5c3Ryb2tlSGFuZGxlclwifSkpLGF8fChhPSEhdGhpcy5ibG9ja2VkS2V5c3Ryb2tlc1tkXSkpO1xuYSYmYi5wcmV2ZW50RGVmYXVsdCghMCk7cmV0dXJuIWF9LGI9ZnVuY3Rpb24oYil7YSYmKGE9ITEsYi5kYXRhLnByZXZlbnREZWZhdWx0KCEwKSl9O0NLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIucHJvdG90eXBlPXthdHRhY2g6ZnVuY3Rpb24oYSl7YS5vbihcImtleWRvd25cIixlLHRoaXMpO2lmKENLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYylhLm9uKFwia2V5cHJlc3NcIixiLHRoaXMpfX19KCksZnVuY3Rpb24oKXtDS0VESVRPUi5sYW5nPXtsYW5ndWFnZXM6e2FmOjEsYXI6MSxhejoxLGJnOjEsYm46MSxiczoxLGNhOjEsY3M6MSxjeToxLGRhOjEsZGU6MSxcImRlLWNoXCI6MSxlbDoxLFwiZW4tYXVcIjoxLFwiZW4tY2FcIjoxLFwiZW4tZ2JcIjoxLGVuOjEsZW86MSxlczoxLFwiZXMtbXhcIjoxLGV0OjEsZXU6MSxmYToxLGZpOjEsZm86MSxcImZyLWNhXCI6MSxmcjoxLGdsOjEsZ3U6MSxoZToxLGhpOjEsaHI6MSxodToxLGlkOjEsaXM6MSxpdDoxLGphOjEsa2E6MSxrbToxLGtvOjEsa3U6MSxcbmx0OjEsbHY6MSxtazoxLG1uOjEsbXM6MSxuYjoxLG5sOjEsbm86MSxvYzoxLHBsOjEsXCJwdC1iclwiOjEscHQ6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxcInNyLWxhdG5cIjoxLHNyOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSxcInpoLWNuXCI6MSx6aDoxfSxydGw6e2FyOjEsZmE6MSxoZToxLGt1OjEsdWc6MX0sbG9hZDpmdW5jdGlvbihhLGUsYil7YSYmQ0tFRElUT1IubGFuZy5sYW5ndWFnZXNbYV18fChhPXRoaXMuZGV0ZWN0KGUsYSkpO3ZhciBjPXRoaXM7ZT1mdW5jdGlvbigpe2NbYV0uZGlyPWMucnRsW2FdP1wicnRsXCI6XCJsdHJcIjtiKGEsY1thXSl9O3RoaXNbYV0/ZSgpOkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChcImxhbmcvXCIrYStcIi5qc1wiKSxlLHRoaXMpfSxkZXRlY3Q6ZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLmxhbmd1YWdlcztlPWV8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5sYW5ndWFnZXx8XG5hO3ZhciBjPWUudG9Mb3dlckNhc2UoKS5tYXRjaCgvKFthLXpdKykoPzotKFthLXpdKykpPy8pLGQ9Y1sxXSxjPWNbMl07YltkK1wiLVwiK2NdP2Q9ZCtcIi1cIitjOmJbZF18fChkPW51bGwpO0NLRURJVE9SLmxhbmcuZGV0ZWN0PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZH06ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O3JldHVybiBkfHxhfX19KCksQ0tFRElUT1Iuc2NyaXB0TG9hZGVyPWZ1bmN0aW9uKCl7dmFyIGE9e30sZT17fTtyZXR1cm57bG9hZDpmdW5jdGlvbihiLGMsZCxsKXt2YXIgaz1cInN0cmluZ1wiPT10eXBlb2YgYjtrJiYoYj1bYl0pO2R8fChkPUNLRURJVE9SKTt2YXIgZz1iLmxlbmd0aCxoPVtdLG09W10sZj1mdW5jdGlvbihhKXtjJiYoaz9jLmNhbGwoZCxhKTpjLmNhbGwoZCxoLG0pKX07aWYoMD09PWcpZighMCk7ZWxzZXt2YXIgbj1mdW5jdGlvbihhLGIpeyhiP2g6bSkucHVzaChhKTswPj0tLWcmJihsJiZDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5yZW1vdmVTdHlsZShcImN1cnNvclwiKSxcbmYoYikpfSxwPWZ1bmN0aW9uKGIsYyl7YVtiXT0xO3ZhciBmPWVbYl07ZGVsZXRlIGVbYl07Zm9yKHZhciBkPTA7ZDxmLmxlbmd0aDtkKyspZltkXShiLGMpfSxyPWZ1bmN0aW9uKGIpe2lmKGFbYl0pbihiLCEwKTtlbHNle3ZhciBmPWVbYl18fChlW2JdPVtdKTtmLnB1c2gobik7aWYoISgxPGYubGVuZ3RoKSl7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic2NyaXB0XCIpO2Quc2V0QXR0cmlidXRlcyh7dHlwZTpcInRleHQvamF2YXNjcmlwdFwiLHNyYzpifSk7YyYmKENLRURJVE9SLmVudi5pZSYmKDg+PUNLRURJVE9SLmVudi52ZXJzaW9ufHxDS0VESVRPUi5lbnYuaWU5Q29tcGF0KT9kLiQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoXCJsb2FkZWRcIj09ZC4kLnJlYWR5U3RhdGV8fFwiY29tcGxldGVcIj09ZC4kLnJlYWR5U3RhdGUpZC4kLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHAoYiwhMCl9OihkLiQub25sb2FkPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3AoYixcbiEwKX0sMCl9LGQuJC5vbmVycm9yPWZ1bmN0aW9uKCl7cChiLCExKX0pKTtkLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKSl9fX07bCYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuc2V0U3R5bGUoXCJjdXJzb3JcIixcIndhaXRcIik7Zm9yKHZhciB2PTA7djxnO3YrKylyKGJbdl0pfX0scXVldWU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGI7KGI9Y1swXSkmJnRoaXMubG9hZChiLnNjcmlwdFVybCxiLmNhbGxiYWNrLENLRURJVE9SLDApfXZhciBjPVtdO3JldHVybiBmdW5jdGlvbihkLGUpe3ZhciBrPXRoaXM7Yy5wdXNoKHtzY3JpcHRVcmw6ZCxjYWxsYmFjazpmdW5jdGlvbigpe2UmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Muc2hpZnQoKTthLmNhbGwoayl9fSk7MT09Yy5sZW5ndGgmJmEuY2FsbCh0aGlzKX19KCl9fSgpLENLRURJVE9SLnJlc291cmNlTWFuYWdlcj1mdW5jdGlvbihhLGUpe3RoaXMuYmFzZVBhdGg9YTt0aGlzLmZpbGVOYW1lPVxuZTt0aGlzLnJlZ2lzdGVyZWQ9e307dGhpcy5sb2FkZWQ9e307dGhpcy5leHRlcm5hbHM9e307dGhpcy5fPXt3YWl0aW5nTGlzdDp7fX19LENLRURJVE9SLnJlc291cmNlTWFuYWdlci5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhLGUpe2lmKHRoaXMucmVnaXN0ZXJlZFthXSl0aHJvdyBFcnJvcignW0NLRURJVE9SLnJlc291cmNlTWFuYWdlci5hZGRdIFRoZSByZXNvdXJjZSBuYW1lIFwiJythKydcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7dmFyIGI9dGhpcy5yZWdpc3RlcmVkW2FdPWV8fHt9O2IubmFtZT1hO2IucGF0aD10aGlzLmdldFBhdGgoYSk7Q0tFRElUT1IuZmlyZShhK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUodGhpcy5maWxlTmFtZSkrXCJSZWFkeVwiLGIpO3JldHVybiB0aGlzLmdldChhKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2lzdGVyZWRbYV18fG51bGx9LGdldFBhdGg6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5leHRlcm5hbHNbYV07cmV0dXJuIENLRURJVE9SLmdldFVybChlJiZcbmUuZGlyfHx0aGlzLmJhc2VQYXRoK2ErXCIvXCIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLmV4dGVybmFsc1thXTtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKHRoaXMuZ2V0UGF0aChhKSsoZT9lLmZpbGU6dGhpcy5maWxlTmFtZStcIi5qc1wiKSl9LGFkZEV4dGVybmFsOmZ1bmN0aW9uKGEsZSxiKXthPWEuc3BsaXQoXCIsXCIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdO2J8fChlPWUucmVwbGFjZSgvW15cXC9dKyQvLGZ1bmN0aW9uKGEpe2I9YTtyZXR1cm5cIlwifSkpO3RoaXMuZXh0ZXJuYWxzW2RdPXtkaXI6ZSxmaWxlOmJ8fHRoaXMuZmlsZU5hbWUrXCIuanNcIn19fSxsb2FkOmZ1bmN0aW9uKGEsZSxiKXtDS0VESVRPUi50b29scy5pc0FycmF5KGEpfHwoYT1hP1thXTpbXSk7Zm9yKHZhciBjPXRoaXMubG9hZGVkLGQ9dGhpcy5yZWdpc3RlcmVkLGw9W10saz17fSxnPXt9LGg9MDtoPGEubGVuZ3RoO2grKyl7dmFyIG09YVtoXTtpZihtKWlmKGNbbV18fFxuZFttXSlnW21dPXRoaXMuZ2V0KG0pO2Vsc2V7dmFyIGY9dGhpcy5nZXRGaWxlUGF0aChtKTtsLnB1c2goZik7ZiBpbiBrfHwoa1tmXT1bXSk7a1tmXS5wdXNoKG0pfX1DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChsLGZ1bmN0aW9uKGEsZil7aWYoZi5sZW5ndGgpdGhyb3cgRXJyb3IoJ1tDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIubG9hZF0gUmVzb3VyY2UgbmFtZSBcIicra1tmWzBdXS5qb2luKFwiLFwiKSsnXCIgd2FzIG5vdCBmb3VuZCBhdCBcIicrZlswXSsnXCIuJyk7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspZm9yKHZhciBoPWtbYVtkXV0sbT0wO208aC5sZW5ndGg7bSsrKXt2YXIgbD1oW21dO2dbbF09dGhpcy5nZXQobCk7Y1tsXT0xfWUuY2FsbChiLGcpfSx0aGlzKX19LENLRURJVE9SLnBsdWdpbnM9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcInBsdWdpbnMvXCIsXCJwbHVnaW5cIiksQ0tFRElUT1IucGx1Z2lucy5sb2FkPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKENLRURJVE9SLnBsdWdpbnMubG9hZCxcbmZ1bmN0aW9uKGEpe3ZhciBlPXt9O3JldHVybiBmdW5jdGlvbihiLGMsZCl7dmFyIGw9e30saz1mdW5jdGlvbihiKXthLmNhbGwodGhpcyxiLGZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZChsLGEpO3ZhciBiPVtdLGY7Zm9yKGYgaW4gYSl7dmFyIGc9YVtmXSxwPWcmJmcucmVxdWlyZXM7aWYoIWVbZl0pe2lmKGcuaWNvbnMpZm9yKHZhciByPWcuaWNvbnMuc3BsaXQoXCIsXCIpLHY9ci5sZW5ndGg7di0tOylDS0VESVRPUi5za2luLmFkZEljb24oclt2XSxnLnBhdGgrXCJpY29ucy9cIisoQ0tFRElUT1IuZW52LmhpZHBpJiZnLmhpZHBpP1wiaGlkcGkvXCI6XCJcIikrclt2XStcIi5wbmdcIik7ZVtmXT0xfWlmKHApZm9yKHAuc3BsaXQmJihwPXAuc3BsaXQoXCIsXCIpKSxnPTA7ZzxwLmxlbmd0aDtnKyspbFtwW2ddXXx8Yi5wdXNoKHBbZ10pfWlmKGIubGVuZ3RoKWsuY2FsbCh0aGlzLGIpO2Vsc2V7Zm9yKGYgaW4gbClnPWxbZl0sZy5vbkxvYWQmJiFnLm9uTG9hZC5fY2FsbGVkJiYoITE9PT1cbmcub25Mb2FkKCkmJmRlbGV0ZSBsW2ZdLGcub25Mb2FkLl9jYWxsZWQ9MSk7YyYmYy5jYWxsKGR8fHdpbmRvdyxsKX19LHRoaXMpfTtrLmNhbGwodGhpcyxiKX19KSxDS0VESVRPUi5wbHVnaW5zLnNldExhbmc9ZnVuY3Rpb24oYSxlLGIpe3ZhciBjPXRoaXMuZ2V0KGEpO2E9Yy5sYW5nRW50cmllc3x8KGMubGFuZ0VudHJpZXM9e30pO2M9Yy5sYW5nfHwoYy5sYW5nPVtdKTtjLnNwbGl0JiYoYz1jLnNwbGl0KFwiLFwiKSk7LTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYyxlKSYmYy5wdXNoKGUpO2FbZV09Yn0sQ0tFRElUT1IudWk9ZnVuY3Rpb24oYSl7aWYoYS51aSlyZXR1cm4gYS51aTt0aGlzLml0ZW1zPXt9O3RoaXMuaW5zdGFuY2VzPXt9O3RoaXMuZWRpdG9yPWE7dGhpcy5fPXtoYW5kbGVyczp7fX07cmV0dXJuIHRoaXN9LENLRURJVE9SLnVpLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEsZSxiKXtiLm5hbWU9YS50b0xvd2VyQ2FzZSgpO3ZhciBjPXRoaXMuaXRlbXNbYV09e3R5cGU6ZSxcbmNvbW1hbmQ6Yi5jb21tYW5kfHxudWxsLGFyZ3M6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpfTtDS0VESVRPUi50b29scy5leHRlbmQoYyxiKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc3RhbmNlc1thXX0sY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaXRlbXNbYV0sYj1lJiZ0aGlzLl8uaGFuZGxlcnNbZS50eXBlXSxjPWUmJmUuY29tbWFuZCYmdGhpcy5lZGl0b3IuZ2V0Q29tbWFuZChlLmNvbW1hbmQpLGI9YiYmYi5jcmVhdGUuYXBwbHkodGhpcyxlLmFyZ3MpO3RoaXMuaW5zdGFuY2VzW2FdPWI7YyYmYy51aUl0ZW1zLnB1c2goYik7YiYmIWIudHlwZSYmKGIudHlwZT1lLnR5cGUpO3JldHVybiBifSxhZGRIYW5kbGVyOmZ1bmN0aW9uKGEsZSl7dGhpcy5fLmhhbmRsZXJzW2FdPWV9LHNwYWNlOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuc3BhY2VJZChhKSl9LHNwYWNlSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWRpdG9yLmlkK1xuXCJfXCIrYX19LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLnVpKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxmLGQpe0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyk7YT1hJiZDS0VESVRPUi50b29scy5jbG9uZShhKTtpZih2b2lkIDAhPT1mKXtpZighKGYgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCkpdGhyb3cgRXJyb3IoXCJFeHBlY3QgZWxlbWVudCBvZiB0eXBlIENLRURJVE9SLmRvbS5lbGVtZW50LlwiKTtpZighZCl0aHJvdyBFcnJvcihcIk9uZSBvZiB0aGUgZWxlbWVudCBtb2RlcyBtdXN0IGJlIHNwZWNpZmllZC5cIik7aWYoQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZkPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKXRocm93IEVycm9yKFwiSW5saW5lIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIHF1aXJrcy5cIik7aWYoIWIoZixkKSl0aHJvdyBFcnJvcignVGhlIHNwZWNpZmllZCBlbGVtZW50IG1vZGUgaXMgbm90IHN1cHBvcnRlZCBvbiBlbGVtZW50OiBcIicrXG5mLmdldE5hbWUoKSsnXCIuJyk7dGhpcy5lbGVtZW50PWY7dGhpcy5lbGVtZW50TW9kZT1kO3RoaXMubmFtZT10aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8mJihmLmdldElkKCl8fGYuZ2V0TmFtZUF0dCgpKX1lbHNlIHRoaXMuZWxlbWVudE1vZGU9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU7dGhpcy5fPXt9O3RoaXMuY29tbWFuZHM9e307dGhpcy50ZW1wbGF0ZXM9e307dGhpcy5uYW1lPXRoaXMubmFtZXx8ZSgpO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5zdGF0dXM9XCJ1bmxvYWRlZFwiO3RoaXMuY29uZmlnPUNLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLmNvbmZpZyk7dGhpcy51aT1uZXcgQ0tFRElUT1IudWkodGhpcyk7dGhpcy5mb2N1c01hbmFnZXI9bmV3IENLRURJVE9SLmZvY3VzTWFuYWdlcih0aGlzKTt0aGlzLmtleXN0cm9rZUhhbmRsZXI9bmV3IENLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIodGhpcyk7XG50aGlzLm9uKFwicmVhZE9ubHlcIixjKTt0aGlzLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYSl7bCh0aGlzLGEuZGF0YS5wYXRoKX0pO3RoaXMub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixmdW5jdGlvbigpe2wodGhpcyx0aGlzLmVsZW1lbnRQYXRoKCksITApfSk7dGhpcy5vbihcIm1vZGVcIixjKTt0aGlzLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKCl7aWYodGhpcy5jb25maWcuc3RhcnR1cEZvY3VzKXtpZihcImVuZFwiPT09dGhpcy5jb25maWcuc3RhcnR1cEZvY3VzKXt2YXIgYT10aGlzLmNyZWF0ZVJhbmdlKCk7YS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5lZGl0YWJsZSgpKTthLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCwhMCk7YS5jb2xsYXBzZSgpO3RoaXMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFthXSl9dGhpcy5mb2N1cygpfX0pO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZUNyZWF0ZWRcIixudWxsLHRoaXMpO0NLRURJVE9SLmFkZCh0aGlzKTtcbkNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImRlc3Ryb3llZFwiIT09dGhpcy5zdGF0dXM/Zyh0aGlzLGEpOkNLRURJVE9SLndhcm4oXCJlZGl0b3ItaW5jb3JyZWN0LWRlc3Ryb3lcIil9LDAsdGhpcyl9ZnVuY3Rpb24gZSgpe2RvIHZhciBhPVwiZWRpdG9yXCIrICsrdjt3aGlsZShDS0VESVRPUi5pbnN0YW5jZXNbYV0pO3JldHVybiBhfWZ1bmN0aW9uIGIoYSxiKXtyZXR1cm4gYj09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmlzKENLRURJVE9SLmR0ZC4kZWRpdGFibGUpfHxhLmlzKFwidGV4dGFyZWFcIik6Yj09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/IWEuaXMoQ0tFRElUT1IuZHRkLiRub25Cb2R5Q29udGVudCk6MX1mdW5jdGlvbiBjKCl7dmFyIGE9dGhpcy5jb21tYW5kcyxiO2ZvcihiIGluIGEpZCh0aGlzLGFbYl0pfWZ1bmN0aW9uIGQoYSxiKXtiW2Iuc3RhcnREaXNhYmxlZD9cImRpc2FibGVcIjphLnJlYWRPbmx5JiYhYi5yZWFkT25seT9cImRpc2FibGVcIjpcbmIubW9kZXNbYS5tb2RlXT9cImVuYWJsZVwiOlwiZGlzYWJsZVwiXSgpfWZ1bmN0aW9uIGwoYSxiLGMpe2lmKGIpe3ZhciBmLGQsZz1hLmNvbW1hbmRzO2ZvcihkIGluIGcpZj1nW2RdLChjfHxmLmNvbnRleHRTZW5zaXRpdmUpJiZmLnJlZnJlc2goYSxiKX19ZnVuY3Rpb24gayhhKXt2YXIgYj1hLmNvbmZpZy5jdXN0b21Db25maWc7aWYoIWIpcmV0dXJuITE7dmFyIGI9Q0tFRElUT1IuZ2V0VXJsKGIpLGM9eFtiXXx8KHhbYl09e30pO2MuZm4/KGMuZm4uY2FsbChhLGEuY29uZmlnKSxDS0VESVRPUi5nZXRVcmwoYS5jb25maWcuY3VzdG9tQ29uZmlnKSE9YiYmayhhKXx8YS5maXJlT25jZShcImN1c3RvbUNvbmZpZ0xvYWRlZFwiKSk6Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLnF1ZXVlKGIsZnVuY3Rpb24oKXtjLmZuPUNLRURJVE9SLmVkaXRvckNvbmZpZz9DS0VESVRPUi5lZGl0b3JDb25maWc6ZnVuY3Rpb24oKXt9O2soYSl9KTtyZXR1cm4hMH1mdW5jdGlvbiBnKGEsYil7YS5vbihcImN1c3RvbUNvbmZpZ0xvYWRlZFwiLFxuZnVuY3Rpb24oKXtpZihiKXtpZihiLm9uKWZvcih2YXIgYyBpbiBiLm9uKWEub24oYyxiLm9uW2NdKTtDS0VESVRPUi50b29scy5leHRlbmQoYS5jb25maWcsYiwhMCk7ZGVsZXRlIGEuY29uZmlnLm9ufWM9YS5jb25maWc7YS5yZWFkT25seT1jLnJlYWRPbmx5PyEwOmEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5lbGVtZW50LmlzKFwidGV4dGFyZWFcIik/YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpfHxhLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwicmVhZG9ubHlcIik6YS5lbGVtZW50LmlzUmVhZE9ubHkoKTphLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9hLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIil8fGEuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTohMTthLmJsb2NrbGVzcz1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FPyEoYS5lbGVtZW50LmlzKFwidGV4dGFyZWFcIil8fFxuQ0tFRElUT1IuZHRkW2EuZWxlbWVudC5nZXROYW1lKCldLnApOiExO2EudGFiSW5kZXg9Yy50YWJJbmRleHx8YS5lbGVtZW50JiZhLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIil8fDA7YS5hY3RpdmVFbnRlck1vZGU9YS5lbnRlck1vZGU9YS5ibG9ja2xlc3M/Q0tFRElUT1IuRU5URVJfQlI6Yy5lbnRlck1vZGU7YS5hY3RpdmVTaGlmdEVudGVyTW9kZT1hLnNoaWZ0RW50ZXJNb2RlPWEuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmMuc2hpZnRFbnRlck1vZGU7Yy5za2luJiYoQ0tFRElUT1Iuc2tpbk5hbWU9Yy5za2luKTthLmZpcmVPbmNlKFwiY29uZmlnTG9hZGVkXCIpO2EuZGF0YVByb2Nlc3Nvcj1uZXcgQ0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3IoYSk7YS5maWx0ZXI9YS5hY3RpdmVGaWx0ZXI9bmV3IENLRURJVE9SLmZpbHRlcihhKTtoKGEpfSk7YiYmbnVsbCE9Yi5jdXN0b21Db25maWcmJihhLmNvbmZpZy5jdXN0b21Db25maWc9Yi5jdXN0b21Db25maWcpO1xuayhhKXx8YS5maXJlT25jZShcImN1c3RvbUNvbmZpZ0xvYWRlZFwiKX1mdW5jdGlvbiBoKGEpe0NLRURJVE9SLnNraW4ubG9hZFBhcnQoXCJlZGl0b3JcIixmdW5jdGlvbigpe20oYSl9KX1mdW5jdGlvbiBtKGEpe0NLRURJVE9SLmxhbmcubG9hZChhLmNvbmZpZy5sYW5ndWFnZSxhLmNvbmZpZy5kZWZhdWx0TGFuZ3VhZ2UsZnVuY3Rpb24oYixjKXt2YXIgZD1hLmNvbmZpZy50aXRsZTthLmxhbmdDb2RlPWI7YS5sYW5nPUNLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KGMpO2EudGl0bGU9XCJzdHJpbmdcIj09dHlwZW9mIGR8fCExPT09ZD9kOlthLmxhbmcuZWRpdG9yLGEubmFtZV0uam9pbihcIiwgXCIpO2EuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbnx8KGEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuZWxlbWVudC5nZXREaXJlY3Rpb24oMSk6YS5sYW5nLmRpcik7YS5maXJlKFwibGFuZ0xvYWRlZFwiKTtcbmYoYSl9KX1mdW5jdGlvbiBmKGEpe2EuZ2V0U3R5bGVzU2V0KGZ1bmN0aW9uKGIpe2Eub25jZShcImxvYWRlZFwiLGZ1bmN0aW9uKCl7YS5maXJlKFwic3R5bGVzU2V0XCIse3N0eWxlczpifSl9LG51bGwsbnVsbCwxKTtuKGEpfSl9ZnVuY3Rpb24gbihhKXt2YXIgYj1hLmNvbmZpZyxjPWIucGx1Z2lucyxmPWIuZXh0cmFQbHVnaW5zLGQ9Yi5yZW1vdmVQbHVnaW5zO2lmKGYpdmFyIGc9bmV3IFJlZ0V4cChcIig/Ol58LCkoPzpcIitmLnJlcGxhY2UoL1xccyosXFxzKi9nLFwifFwiKStcIikoP1xceDNkLHwkKVwiLFwiZ1wiKSxjPWMucmVwbGFjZShnLFwiXCIpLGM9YysoXCIsXCIrZik7aWYoZCl2YXIgaD1uZXcgUmVnRXhwKFwiKD86XnwsKSg/OlwiK2QucmVwbGFjZSgvXFxzKixcXHMqL2csXCJ8XCIpK1wiKSg/XFx4M2QsfCQpXCIsXCJnXCIpLGM9Yy5yZXBsYWNlKGgsXCJcIik7Q0tFRElUT1IuZW52LmFpciYmKGMrPVwiLGFkb2JlYWlyXCIpO0NLRURJVE9SLnBsdWdpbnMubG9hZChjLnNwbGl0KFwiLFwiKSxmdW5jdGlvbihjKXt2YXIgZj1bXSxcbmQ9W10sZz1bXTthLnBsdWdpbnM9Yztmb3IodmFyIGUgaW4gYyl7dmFyIG09Y1tlXSxsPW0ubGFuZyxrPW51bGwsbj1tLnJlcXVpcmVzLEQ7Q0tFRElUT1IudG9vbHMuaXNBcnJheShuKSYmKG49bi5qb2luKFwiLFwiKSk7aWYobiYmKEQ9bi5tYXRjaChoKSkpZm9yKDtuPUQucG9wKCk7KUNLRURJVE9SLmVycm9yKFwiZWRpdG9yLXBsdWdpbi1yZXF1aXJlZFwiLHtwbHVnaW46bi5yZXBsYWNlKFwiLFwiLFwiXCIpLHJlcXVpcmVkQnk6ZX0pO2wmJiFhLmxhbmdbZV0mJihsLnNwbGl0JiYobD1sLnNwbGl0KFwiLFwiKSksMDw9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihsLGEubGFuZ0NvZGUpP2s9YS5sYW5nQ29kZTooaz1hLmxhbmdDb2RlLnJlcGxhY2UoLy0uKi8sXCJcIiksaz1rIT1hLmxhbmdDb2RlJiYwPD1DS0VESVRPUi50b29scy5pbmRleE9mKGwsayk/azowPD1DS0VESVRPUi50b29scy5pbmRleE9mKGwsXCJlblwiKT9cImVuXCI6bFswXSksbS5sYW5nRW50cmllcyYmbS5sYW5nRW50cmllc1trXT8oYS5sYW5nW2VdPVxubS5sYW5nRW50cmllc1trXSxrPW51bGwpOmcucHVzaChDS0VESVRPUi5nZXRVcmwobS5wYXRoK1wibGFuZy9cIitrK1wiLmpzXCIpKSk7ZC5wdXNoKGspO2YucHVzaChtKX1DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChnLGZ1bmN0aW9uKCl7Zm9yKHZhciBjPVtcImJlZm9yZUluaXRcIixcImluaXRcIixcImFmdGVySW5pdFwiXSxnPTA7ZzxjLmxlbmd0aDtnKyspZm9yKHZhciBoPTA7aDxmLmxlbmd0aDtoKyspe3ZhciBlPWZbaF07MD09PWcmJmRbaF0mJmUubGFuZyYmZS5sYW5nRW50cmllcyYmKGEubGFuZ1tlLm5hbWVdPWUubGFuZ0VudHJpZXNbZFtoXV0pO2lmKGVbY1tnXV0pZVtjW2ddXShhKX1hLmZpcmVPbmNlKFwicGx1Z2luc0xvYWRlZFwiKTtiLmtleXN0cm9rZXMmJmEuc2V0S2V5c3Ryb2tlKGEuY29uZmlnLmtleXN0cm9rZXMpO2ZvcihoPTA7aDxhLmNvbmZpZy5ibG9ja2VkS2V5c3Ryb2tlcy5sZW5ndGg7aCsrKWEua2V5c3Ryb2tlSGFuZGxlci5ibG9ja2VkS2V5c3Ryb2tlc1thLmNvbmZpZy5ibG9ja2VkS2V5c3Ryb2tlc1toXV09XG4xO2Euc3RhdHVzPVwibG9hZGVkXCI7YS5maXJlT25jZShcImxvYWRlZFwiKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VMb2FkZWRcIixudWxsLGEpfSl9KX1mdW5jdGlvbiBwKCl7dmFyIGE9dGhpcy5lbGVtZW50O2lmKGEmJnRoaXMuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUTyl7dmFyIGI9dGhpcy5nZXREYXRhKCk7dGhpcy5jb25maWcuaHRtbEVuY29kZU91dHB1dCYmKGI9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShiKSk7YS5pcyhcInRleHRhcmVhXCIpP2Euc2V0VmFsdWUoYik6YS5zZXRIdG1sKGIpO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKGEpe3ZhciBiPWEuc3RhcnRDb250YWluZXIsZj1hLmVuZENvbnRhaW5lcjtyZXR1cm4gYi5pcyYmKGIuaXMoXCJ0clwiKXx8Yi5pcyhcInRkXCIpJiZiLmVxdWFscyhmKSYmYS5lbmRPZmZzZXQ9PT1iLmdldENoaWxkQ291bnQoKSk/ITA6ITF9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLnN0YXJ0Q29udGFpbmVyO1xucmV0dXJuIGIuaXMoXCJ0clwiKT9hLmNsb25lQ29udGVudHMoKTpiLmNsb25lKCEwKX1mb3IodmFyIGQ9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50LGcsaCxlLG09MDttPGEubGVuZ3RoO20rKyl7dmFyIGw9YVttXSxrPWwuc3RhcnRDb250YWluZXIuZ2V0QXNjZW5kYW50KFwidHJcIiwhMCk7YyhsKT8oZ3x8KGc9ay5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKS5jbG9uZSgpLGcuYXBwZW5kKGsuZ2V0QXNjZW5kYW50KHt0aGVhZDoxLHRib2R5OjEsdGZvb3Q6MX0pLmNsb25lKCkpLGQuYXBwZW5kKGcpLGc9Zy5maW5kT25lKFwidGhlYWQsIHRib2R5LCB0Zm9vdFwiKSksaCYmaC5lcXVhbHMoayl8fChoPWssZT1rLmNsb25lKCksZy5hcHBlbmQoZSkpLGUuYXBwZW5kKGYobCkpKTpkLmFwcGVuZChsLmNsb25lQ29udGVudHMoKSl9cmV0dXJuIGc/ZDpiLmdldEh0bWxGcm9tUmFuZ2UoYVswXSl9YS5wcm90b3R5cGU9Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZTtDS0VESVRPUi5lZGl0b3I9XG5hO3ZhciB2PTAseD17fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7YWRkQ29tbWFuZDpmdW5jdGlvbihhLGIpe2IubmFtZT1hLnRvTG93ZXJDYXNlKCk7dmFyIGM9bmV3IENLRURJVE9SLmNvbW1hbmQodGhpcyxiKTt0aGlzLm1vZGUmJmQodGhpcyxjKTtyZXR1cm4gdGhpcy5jb21tYW5kc1thXT1jfSxfYXR0YWNoVG9Gb3JtOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtjLnVwZGF0ZUVsZW1lbnQoKTtjLl8ucmVxdWlyZWQmJiFmLmdldFZhbHVlKCkmJiExPT09Yy5maXJlKFwicmVxdWlyZWRcIikmJmIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGIoYSl7cmV0dXJuISEoYSYmYS5jYWxsJiZhLmFwcGx5KX12YXIgYz10aGlzLGY9Yy5lbGVtZW50LGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYuJC5mb3JtKTtmLmlzKFwidGV4dGFyZWFcIikmJmQmJihkLm9uKFwic3VibWl0XCIsYSksYihkLiQuc3VibWl0KSYmKGQuJC5zdWJtaXQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoZC4kLnN1Ym1pdCxcbmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe2EoKTtiLmFwcGx5P2IuYXBwbHkodGhpcyk6YigpfX0pKSxjLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVMaXN0ZW5lcihcInN1Ym1pdFwiLGEpfSkpfSxkZXN0cm95OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImJlZm9yZURlc3Ryb3lcIik7IWEmJnAuY2FsbCh0aGlzKTt0aGlzLmVkaXRhYmxlKG51bGwpO3RoaXMuZmlsdGVyJiYodGhpcy5maWx0ZXIuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmZpbHRlcik7ZGVsZXRlIHRoaXMuYWN0aXZlRmlsdGVyO3RoaXMuc3RhdHVzPVwiZGVzdHJveWVkXCI7dGhpcy5maXJlKFwiZGVzdHJveVwiKTt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO0NLRURJVE9SLnJlbW92ZSh0aGlzKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixudWxsLHRoaXMpfSxlbGVtZW50UGF0aDpmdW5jdGlvbihhKXtpZighYSl7YT10aGlzLmdldFNlbGVjdGlvbigpO2lmKCFhKXJldHVybiBudWxsO2E9YS5nZXRTdGFydEVsZW1lbnQoKX1yZXR1cm4gYT9cbm5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYSx0aGlzLmVkaXRhYmxlKCkpOm51bGx9LGNyZWF0ZVJhbmdlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0YWJsZSgpO3JldHVybiBhP25ldyBDS0VESVRPUi5kb20ucmFuZ2UoYSk6bnVsbH0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbW1hbmQoYSksZj17bmFtZTphLGNvbW1hbmREYXRhOmJ8fHt9LGNvbW1hbmQ6Y307cmV0dXJuIGMmJmMuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYhMSE9PXRoaXMuZmlyZShcImJlZm9yZUNvbW1hbmRFeGVjXCIsZikmJihmLnJldHVyblZhbHVlPWMuZXhlYyhmLmNvbW1hbmREYXRhKSwhYy5hc3luYyYmITEhPT10aGlzLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIsZikpP2YucmV0dXJuVmFsdWU6ITF9LGdldENvbW1hbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29tbWFuZHNbYV19LGdldERhdGE6ZnVuY3Rpb24oYSl7IWEmJnRoaXMuZmlyZShcImJlZm9yZUdldERhdGFcIik7XG52YXIgYj10aGlzLl8uZGF0YTtcInN0cmluZ1wiIT10eXBlb2YgYiYmKGI9KGI9dGhpcy5lbGVtZW50KSYmdGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/Yi5pcyhcInRleHRhcmVhXCIpP2IuZ2V0VmFsdWUoKTpiLmdldEh0bWwoKTpcIlwiKTtiPXtkYXRhVmFsdWU6Yn07IWEmJnRoaXMuZmlyZShcImdldERhdGFcIixiKTtyZXR1cm4gYi5kYXRhVmFsdWV9LGdldFNuYXBzaG90OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5maXJlKFwiZ2V0U25hcHNob3RcIik7XCJzdHJpbmdcIiE9dHlwZW9mIGEmJihhPShhPXRoaXMuZWxlbWVudCkmJnRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFP2EuaXMoXCJ0ZXh0YXJlYVwiKT9hLmdldFZhbHVlKCk6YS5nZXRIdG1sKCk6XCJcIik7cmV0dXJuIGF9LGxvYWRTbmFwc2hvdDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJsb2FkU25hcHNob3RcIixhKX0sc2V0RGF0YTpmdW5jdGlvbihhLGIsYyl7dmFyIGY9ITAsXG5kPWI7YiYmXCJvYmplY3RcIj09dHlwZW9mIGImJihjPWIuaW50ZXJuYWwsZD1iLmNhbGxiYWNrLGY9IWIubm9TbmFwc2hvdCk7IWMmJmYmJnRoaXMuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtpZihkfHwhYyl0aGlzLm9uY2UoXCJkYXRhUmVhZHlcIixmdW5jdGlvbihhKXshYyYmZiYmdGhpcy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2QmJmQuY2FsbChhLmVkaXRvcil9KTthPXtkYXRhVmFsdWU6YX07IWMmJnRoaXMuZmlyZShcInNldERhdGFcIixhKTt0aGlzLl8uZGF0YT1hLmRhdGFWYWx1ZTshYyYmdGhpcy5maXJlKFwiYWZ0ZXJTZXREYXRhXCIsYSl9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKGEpe2E9bnVsbD09YXx8YTt0aGlzLnJlYWRPbmx5IT1hJiYodGhpcy5yZWFkT25seT1hLHRoaXMua2V5c3Ryb2tlSGFuZGxlci5ibG9ja2VkS2V5c3Ryb2tlc1s4XT0rYSx0aGlzLmVkaXRhYmxlKCkuc2V0UmVhZE9ubHkoYSksdGhpcy5maXJlKFwicmVhZE9ubHlcIikpfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKGEsYixjKXt0aGlzLmZpcmUoXCJpbnNlcnRIdG1sXCIsXG57ZGF0YVZhbHVlOmEsbW9kZTpiLHJhbmdlOmN9KX0saW5zZXJ0VGV4dDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJpbnNlcnRUZXh0XCIsYSl9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiaW5zZXJ0RWxlbWVudFwiLGEpfSxnZXRTZWxlY3RlZEh0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0YWJsZSgpLGM9dGhpcy5nZXRTZWxlY3Rpb24oKSxjPWMmJmMuZ2V0UmFuZ2VzKCk7aWYoIWJ8fCFjfHwwPT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7Yj1yKGMsYik7cmV0dXJuIGE/Yi5nZXRIdG1sKCk6Yn0sZXh0cmFjdFNlbGVjdGVkSHRtbDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZWRpdGFibGUoKSxmPXRoaXMuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksZD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQsZztpZighY3x8MD09PWYubGVuZ3RoKXJldHVybiBudWxsO2ZvcihnPTA7ZzxmLmxlbmd0aDtnKyspZC5hcHBlbmQoYy5leHRyYWN0SHRtbEZyb21SYW5nZShmW2ddLFxuYikpO2J8fHRoaXMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtmWzBdXSk7cmV0dXJuIGE/ZC5nZXRIdG1sKCk6ZH0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJiZWZvcmVGb2N1c1wiKX0sY2hlY2tEaXJ0eTpmdW5jdGlvbigpe3JldHVyblwicmVhZHlcIj09dGhpcy5zdGF0dXMmJnRoaXMuXy5wcmV2aW91c1ZhbHVlIT09dGhpcy5nZXRTbmFwc2hvdCgpfSxyZXNldERpcnR5OmZ1bmN0aW9uKCl7dGhpcy5fLnByZXZpb3VzVmFsdWU9dGhpcy5nZXRTbmFwc2hvdCgpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHAuY2FsbCh0aGlzKX0sc2V0S2V5c3Ryb2tlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzLGI9Q0tFRElUT1IudG9vbHMuaXNBcnJheShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXTpbW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCldLGMsZixkPWIubGVuZ3RoO2QtLTspYz1iW2RdLGY9MCxDS0VESVRPUi50b29scy5pc0FycmF5KGMpJiZcbihmPWNbMV0sYz1jWzBdKSxmP2FbY109ZjpkZWxldGUgYVtjXX0sZ2V0Q29tbWFuZEtleXN0cm9rZTpmdW5jdGlvbihhKXtpZihhPVwic3RyaW5nXCI9PT10eXBlb2YgYT90aGlzLmdldENvbW1hbmQoYSk6YSl7dmFyIGI9Q0tFRElUT1IudG9vbHMub2JqZWN0LmZpbmRLZXkodGhpcy5jb21tYW5kcyxhKSxjPXRoaXMua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzLGY7aWYoYS5mYWtlS2V5c3Ryb2tlKXJldHVybiBhLmZha2VLZXlzdHJva2U7Zm9yKGYgaW4gYylpZihjLmhhc093blByb3BlcnR5KGYpJiZjW2ZdPT1iKXJldHVybiBmfXJldHVybiBudWxsfSxhZGRGZWF0dXJlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpbHRlci5hZGRGZWF0dXJlKGEpfSxzZXRBY3RpdmVGaWx0ZXI6ZnVuY3Rpb24oYSl7YXx8KGE9dGhpcy5maWx0ZXIpO3RoaXMuYWN0aXZlRmlsdGVyIT09YSYmKHRoaXMuYWN0aXZlRmlsdGVyPWEsdGhpcy5maXJlKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIpLGE9PT10aGlzLmZpbHRlcj9cbnRoaXMuc2V0QWN0aXZlRW50ZXJNb2RlKG51bGwsbnVsbCk6dGhpcy5zZXRBY3RpdmVFbnRlck1vZGUoYS5nZXRBbGxvd2VkRW50ZXJNb2RlKHRoaXMuZW50ZXJNb2RlKSxhLmdldEFsbG93ZWRFbnRlck1vZGUodGhpcy5zaGlmdEVudGVyTW9kZSwhMCkpKX0sc2V0QWN0aXZlRW50ZXJNb2RlOmZ1bmN0aW9uKGEsYil7YT1hP3RoaXMuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmE6dGhpcy5lbnRlck1vZGU7Yj1iP3RoaXMuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmI6dGhpcy5zaGlmdEVudGVyTW9kZTtpZih0aGlzLmFjdGl2ZUVudGVyTW9kZSE9YXx8dGhpcy5hY3RpdmVTaGlmdEVudGVyTW9kZSE9Yil0aGlzLmFjdGl2ZUVudGVyTW9kZT1hLHRoaXMuYWN0aXZlU2hpZnRFbnRlck1vZGU9Yix0aGlzLmZpcmUoXCJhY3RpdmVFbnRlck1vZGVDaGFuZ2VcIil9LHNob3dOb3RpZmljYXRpb246ZnVuY3Rpb24oYSl7YWxlcnQoYSl9fSl9KCksQ0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU9XG4wLENLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPTEsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPPTIsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT0zLENLRURJVE9SLmh0bWxQYXJzZXI9ZnVuY3Rpb24oKXt0aGlzLl89e2h0bWxQYXJ0c1JlZ2V4Oi88KD86KD86XFwvKFtePl0rKT4pfCg/OiEtLShbXFxTfFxcc10qPyktLVxceDNlKXwoPzooW15cXC9cXHM+XSspKCg/OlxccytbXFx3XFwtOi5dKyg/Olxccyo9XFxzKj8oPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXxbXlxcc1wiJ1xcLz5dKykpPykqKVtcXFNcXHNdKj8oXFwvPyk+KSkvZ319LGZ1bmN0aW9uKCl7dmFyIGE9LyhbXFx3XFwtOi5dKykoPzooPzpcXHMqPVxccyooPzooPzpcIihbXlwiXSopXCIpfCg/OicoW14nXSopJyl8KFteXFxzPl0rKSkpfCg/PVxcc3wkKSkvZyxlPXtjaGVja2VkOjEsY29tcGFjdDoxLGRlY2xhcmU6MSxkZWZlcjoxLGRpc2FibGVkOjEsaXNtYXA6MSxtdWx0aXBsZToxLG5vaHJlZjoxLG5vcmVzaXplOjEsbm9zaGFkZToxLFxubm93cmFwOjEscmVhZG9ubHk6MSxzZWxlY3RlZDoxfTtDS0VESVRPUi5odG1sUGFyc2VyLnByb3RvdHlwZT17b25UYWdPcGVuOmZ1bmN0aW9uKCl7fSxvblRhZ0Nsb3NlOmZ1bmN0aW9uKCl7fSxvblRleHQ6ZnVuY3Rpb24oKXt9LG9uQ0RBVEE6ZnVuY3Rpb24oKXt9LG9uQ29tbWVudDpmdW5jdGlvbigpe30scGFyc2U6ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGQsbD0wLGs7Yz10aGlzLl8uaHRtbFBhcnRzUmVnZXguZXhlYyhiKTspe2Q9Yy5pbmRleDtpZihkPmwpaWYobD1iLnN1YnN0cmluZyhsLGQpLGspay5wdXNoKGwpO2Vsc2UgdGhpcy5vblRleHQobCk7bD10aGlzLl8uaHRtbFBhcnRzUmVnZXgubGFzdEluZGV4O2lmKGQ9Y1sxXSlpZihkPWQudG9Mb3dlckNhc2UoKSxrJiZDS0VESVRPUi5kdGQuJGNkYXRhW2RdJiYodGhpcy5vbkNEQVRBKGsuam9pbihcIlwiKSksaz1udWxsKSwhayl7dGhpcy5vblRhZ0Nsb3NlKGQpO2NvbnRpbnVlfWlmKGspay5wdXNoKGNbMF0pO2Vsc2UgaWYoZD1cbmNbM10pe2lmKGQ9ZC50b0xvd2VyQ2FzZSgpLCEvPVwiLy50ZXN0KGQpKXt2YXIgZz17fSxoLG09Y1s0XTtjPSEhY1s1XTtpZihtKWZvcig7aD1hLmV4ZWMobSk7KXt2YXIgZj1oWzFdLnRvTG93ZXJDYXNlKCk7aD1oWzJdfHxoWzNdfHxoWzRdfHxcIlwiO2dbZl09IWgmJmVbZl0/ZjpDS0VESVRPUi50b29scy5odG1sRGVjb2RlQXR0cihoKX10aGlzLm9uVGFnT3BlbihkLGcsYyk7IWsmJkNLRURJVE9SLmR0ZC4kY2RhdGFbZF0mJihrPVtdKX19ZWxzZSBpZihkPWNbMl0pdGhpcy5vbkNvbW1lbnQoZCl9aWYoYi5sZW5ndGg+bCl0aGlzLm9uVGV4dChiLnN1YnN0cmluZyhsLGIubGVuZ3RoKSl9fX0oKSxDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKCl7dGhpcy5fPXtvdXRwdXQ6W119fSxwcm90bzp7b3BlblRhZzpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzY1wiLGEpfSxvcGVuVGFnQ2xvc2U6ZnVuY3Rpb24oYSxcbmUpe2U/dGhpcy5fLm91dHB1dC5wdXNoKFwiIC9cXHgzZVwiKTp0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzZVwiKX0sYXR0cmlidXRlOmZ1bmN0aW9uKGEsZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGUpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCIgXCIsYSwnXFx4M2RcIicsZSwnXCInKX0sY2xvc2VUYWc6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MvXCIsYSxcIlxceDNlXCIpfSx0ZXh0OmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChhKX0sY29tbWVudDpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYyEtLVwiLGEsXCItLVxceDNlXCIpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goYSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLm91dHB1dD1bXTt0aGlzLl8uaW5kZW50PSExfSxnZXRIdG1sOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuXy5vdXRwdXQuam9pbihcIlwiKTthJiZ0aGlzLnJlc2V0KCk7XG5yZXR1cm4gZX19fSksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLm5vZGU9ZnVuY3Rpb24oKXt9O0NLRURJVE9SLmh0bWxQYXJzZXIubm9kZS5wcm90b3R5cGU9e3JlbW92ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50LmNoaWxkcmVuLGU9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLHRoaXMpLGI9dGhpcy5wcmV2aW91cyxjPXRoaXMubmV4dDtiJiYoYi5uZXh0PWMpO2MmJihjLnByZXZpb3VzPWIpO2Euc3BsaWNlKGUsMSk7dGhpcy5wYXJlbnQ9bnVsbH0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5wYXJlbnQuY2hpbGRyZW4sYj1DS0VESVRPUi50b29scy5pbmRleE9mKGUsdGhpcyksYz1hLnByZXZpb3VzPXRoaXMucHJldmlvdXMsZD1hLm5leHQ9dGhpcy5uZXh0O2MmJihjLm5leHQ9YSk7ZCYmKGQucHJldmlvdXM9YSk7ZVtiXT1hO2EucGFyZW50PXRoaXMucGFyZW50O3RoaXMucGFyZW50PW51bGx9LGluc2VydEFmdGVyOmZ1bmN0aW9uKGEpe3ZhciBlPVxuYS5wYXJlbnQuY2hpbGRyZW4sYj1DS0VESVRPUi50b29scy5pbmRleE9mKGUsYSksYz1hLm5leHQ7ZS5zcGxpY2UoYisxLDAsdGhpcyk7dGhpcy5uZXh0PWEubmV4dDt0aGlzLnByZXZpb3VzPWE7YS5uZXh0PXRoaXM7YyYmKGMucHJldmlvdXM9dGhpcyk7dGhpcy5wYXJlbnQ9YS5wYXJlbnR9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXt2YXIgZT1hLnBhcmVudC5jaGlsZHJlbixiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZSxhKTtlLnNwbGljZShiLDAsdGhpcyk7dGhpcy5uZXh0PWE7KHRoaXMucHJldmlvdXM9YS5wcmV2aW91cykmJihhLnByZXZpb3VzLm5leHQ9dGhpcyk7YS5wcmV2aW91cz10aGlzO3RoaXMucGFyZW50PWEucGFyZW50fSxnZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYSl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgYT9hOlwic3RyaW5nXCI9PXR5cGVvZiBhP2Z1bmN0aW9uKGIpe3JldHVybiBiLm5hbWU9PWF9OmZ1bmN0aW9uKGIpe3JldHVybiBiLm5hbWUgaW4gYX0sYj1cbnRoaXMucGFyZW50O2Zvcig7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ7KXtpZihlKGIpKXJldHVybiBiO2I9Yi5wYXJlbnR9cmV0dXJuIG51bGx9LHdyYXBXaXRoOmZ1bmN0aW9uKGEpe3RoaXMucmVwbGFjZVdpdGgoYSk7YS5hZGQodGhpcyk7cmV0dXJuIGF9LGdldEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5wYXJlbnQuY2hpbGRyZW4sdGhpcyl9LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fHt9fX19KCksXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50PWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YTt0aGlzLl89e2lzQmxvY2tMaWtlOiExfX0sQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX0NPTU1FTlQsZmlsdGVyOmZ1bmN0aW9uKGEsXG5lKXt2YXIgYj10aGlzLnZhbHVlO2lmKCEoYj1hLm9uQ29tbWVudChlLGIsdGhpcykpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBiKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGIpLCExO3RoaXMudmFsdWU9YjtyZXR1cm4hMH0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsZSl7ZSYmdGhpcy5maWx0ZXIoZSk7YS5jb21tZW50KHRoaXMudmFsdWUpfX0pLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci50ZXh0PWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YTt0aGlzLl89e2lzQmxvY2tMaWtlOiExfX07Q0tFRElUT1IuaHRtbFBhcnNlci50ZXh0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZmlsdGVyOmZ1bmN0aW9uKGEsZSl7aWYoISh0aGlzLnZhbHVlPWEub25UZXh0KGUsdGhpcy52YWx1ZSx0aGlzKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksXG4hMX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsZSl7ZSYmdGhpcy5maWx0ZXIoZSk7YS50ZXh0KHRoaXMudmFsdWUpfX0pfSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YT1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWF9O0NLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGEucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxmaWx0ZXI6ZnVuY3Rpb24oKXt9LHdyaXRlSHRtbDpmdW5jdGlvbihhKXthLndyaXRlKHRoaXMudmFsdWUpfX0pfSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQ9ZnVuY3Rpb24oKXt0aGlzLmNoaWxkcmVuPVtdO3RoaXMucGFyZW50PW51bGw7dGhpcy5fPXtpc0Jsb2NrTGlrZTohMCxoYXNJbmxpbmVTdGFydGVkOiExfX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1zdXJ2aXZlXCJdP1xuITE6XCJhXCI9PWEubmFtZSYmYS5hdHRyaWJ1dGVzLmhyZWZ8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbYS5uYW1lXX12YXIgZT1DS0VESVRPUi50b29scy5leHRlbmQoe3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9LENLRURJVE9SLmR0ZC50YWJsZSxDS0VESVRPUi5kdGQudWwsQ0tFRElUT1IuZHRkLm9sLENLRURJVE9SLmR0ZC5kbCksYj17b2w6MSx1bDoxfSxjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx7aHRtbDoxfSxDS0VESVRPUi5kdGQuaHRtbCxDS0VESVRPUi5kdGQuYm9keSxDS0VESVRPUi5kdGQuaGVhZCx7c3R5bGU6MSxzY3JpcHQ6MX0pLGQ9e3VsOlwibGlcIixvbDpcImxpXCIsZGw6XCJkZFwiLHRhYmxlOlwidGJvZHlcIix0Ym9keTpcInRyXCIsdGhlYWQ6XCJ0clwiLHRmb290OlwidHJcIix0cjpcInRkXCJ9O0NLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWw9ZnVuY3Rpb24obCxrLGcpe2Z1bmN0aW9uIGgoYSl7dmFyIGI7aWYoMDxxLmxlbmd0aClmb3IodmFyIGM9MDtjPHEubGVuZ3RoO2MrKyl7dmFyIGY9XG5xW2NdLGQ9Zi5uYW1lLGc9Q0tFRElUT1IuZHRkW2RdLGg9dS5uYW1lJiZDS0VESVRPUi5kdGRbdS5uYW1lXTtoJiYhaFtkXXx8YSYmZyYmIWdbYV0mJkNLRURJVE9SLmR0ZFthXT9kPT11Lm5hbWUmJihuKHUsdS5wYXJlbnQsMSksYy0tKTooYnx8KG0oKSxiPTEpLGY9Zi5jbG9uZSgpLGYucGFyZW50PXUsdT1mLHEuc3BsaWNlKGMsMSksYy0tKX19ZnVuY3Rpb24gbSgpe2Zvcig7dC5sZW5ndGg7KW4odC5zaGlmdCgpLHUpfWZ1bmN0aW9uIGYoYSl7aWYoYS5fLmlzQmxvY2tMaWtlJiZcInByZVwiIT1hLm5hbWUmJlwidGV4dGFyZWFcIiE9YS5uYW1lKXt2YXIgYj1hLmNoaWxkcmVuLmxlbmd0aCxjPWEuY2hpbGRyZW5bYi0xXSxmO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoKGY9Q0tFRElUT1IudG9vbHMucnRyaW0oYy52YWx1ZSkpP2MudmFsdWU9ZjphLmNoaWxkcmVuLmxlbmd0aD1iLTEpfX1mdW5jdGlvbiBuKGIsYyxkKXtjPWN8fHV8fHg7dmFyIGg9dTt2b2lkIDA9PT1iLnByZXZpb3VzJiZcbihwKGMsYikmJih1PWMsdi5vblRhZ09wZW4oZyx7fSksYi5yZXR1cm5Qb2ludD1jPXUpLGYoYiksYShiKSYmIWIuY2hpbGRyZW4ubGVuZ3RofHxjLmFkZChiKSxcInByZVwiPT1iLm5hbWUmJih6PSExKSxcInRleHRhcmVhXCI9PWIubmFtZSYmKEE9ITEpKTtiLnJldHVyblBvaW50Pyh1PWIucmV0dXJuUG9pbnQsZGVsZXRlIGIucmV0dXJuUG9pbnQpOnU9ZD9jOmh9ZnVuY3Rpb24gcChhLGIpe2lmKChhPT14fHxcImJvZHlcIj09YS5uYW1lKSYmZyYmKCFhLm5hbWV8fENLRURJVE9SLmR0ZFthLm5hbWVdW2ddKSl7dmFyIGMsZjtyZXR1cm4oYz1iLmF0dHJpYnV0ZXMmJihmPWIuYXR0cmlidXRlc1tcImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlXCJdKT9mOmIubmFtZSkmJmMgaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJiEoYyBpbiBDS0VESVRPUi5kdGQuaGVhZCkmJiFiLmlzT3JwaGFufHxiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVH19ZnVuY3Rpb24gcihhLGIpe3JldHVybiBhIGluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW18fFxuYSBpbiBDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudD9hPT1ifHxcImR0XCI9PWEmJlwiZGRcIj09Ynx8XCJkZFwiPT1hJiZcImR0XCI9PWI6ITF9dmFyIHY9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIseD1rIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50P2s6XCJzdHJpbmdcIj09dHlwZW9mIGs/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChrKTpuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudCxxPVtdLHQ9W10sdT14LEE9XCJ0ZXh0YXJlYVwiPT14Lm5hbWUsej1cInByZVwiPT14Lm5hbWU7di5vblRhZ09wZW49ZnVuY3Rpb24oZixkLGcsbCl7ZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGYsZCk7ZC5pc1Vua25vd24mJmcmJihkLmlzRW1wdHk9ITApO2QuaXNPcHRpb25hbENsb3NlPWw7aWYoYShkKSlxLnB1c2goZCk7ZWxzZXtpZihcInByZVwiPT1mKXo9ITA7ZWxzZXtpZihcImJyXCI9PWYmJnope3UuYWRkKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoXCJcXG5cIikpO1xucmV0dXJufVwidGV4dGFyZWFcIj09ZiYmKEE9ITApfWlmKFwiYnJcIj09Zil0LnB1c2goZCk7ZWxzZXtmb3IoOyEobD0oZz11Lm5hbWUpP0NLRURJVE9SLmR0ZFtnXXx8KHUuXy5pc0Jsb2NrTGlrZT9DS0VESVRPUi5kdGQuZGl2OkNLRURJVE9SLmR0ZC5zcGFuKTpjLGQuaXNVbmtub3dufHx1LmlzVW5rbm93bnx8bFtmXSk7KWlmKHUuaXNPcHRpb25hbENsb3NlKXYub25UYWdDbG9zZShnKTtlbHNlIGlmKGYgaW4gYiYmZyBpbiBiKWc9dS5jaGlsZHJlbiwoZz1nW2cubGVuZ3RoLTFdKSYmXCJsaVwiPT1nLm5hbWV8fG4oZz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwibGlcIiksdSksIWQucmV0dXJuUG9pbnQmJihkLnJldHVyblBvaW50PXUpLHU9ZztlbHNlIGlmKGYgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSYmIXIoZixnKSl2Lm9uVGFnT3BlbihcImxpXCI9PWY/XCJ1bFwiOlwiZGxcIix7fSwwLDEpO2Vsc2UgaWYoZyBpbiBlJiYhcihmLGcpKSFkLnJldHVyblBvaW50JiYoZC5yZXR1cm5Qb2ludD1cbnUpLHU9dS5wYXJlbnQ7ZWxzZSBpZihnIGluIENLRURJVE9SLmR0ZC4kaW5saW5lJiZxLnVuc2hpZnQodSksdS5wYXJlbnQpbih1LHUucGFyZW50LDEpO2Vsc2V7ZC5pc09ycGhhbj0xO2JyZWFrfWgoZik7bSgpO2QucGFyZW50PXU7ZC5pc0VtcHR5P24oZCk6dT1kfX19O3Yub25UYWdDbG9zZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9cS5sZW5ndGgtMTswPD1iO2ItLSlpZihhPT1xW2JdLm5hbWUpe3Euc3BsaWNlKGIsMSk7cmV0dXJufWZvcih2YXIgYz1bXSxmPVtdLGQ9dTtkIT14JiZkLm5hbWUhPWE7KWQuXy5pc0Jsb2NrTGlrZXx8Zi51bnNoaWZ0KGQpLGMucHVzaChkKSxkPWQucmV0dXJuUG9pbnR8fGQucGFyZW50O2lmKGQhPXgpe2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspe3ZhciBoPWNbYl07bihoLGgucGFyZW50KX11PWQ7ZC5fLmlzQmxvY2tMaWtlJiZtKCk7bihkLGQucGFyZW50KTtkPT11JiYodT11LnBhcmVudCk7cT1xLmNvbmNhdChmKX1cImJvZHlcIj09YSYmKGc9ITEpfTt2Lm9uVGV4dD1cbmZ1bmN0aW9uKGEpe2lmKCEodS5fLmhhc0lubGluZVN0YXJ0ZWQmJiF0Lmxlbmd0aHx8enx8QSkmJihhPUNLRURJVE9SLnRvb2xzLmx0cmltKGEpLDA9PT1hLmxlbmd0aCkpcmV0dXJuO3ZhciBiPXUubmFtZSxmPWI/Q0tFRElUT1IuZHRkW2JdfHwodS5fLmlzQmxvY2tMaWtlP0NLRURJVE9SLmR0ZC5kaXY6Q0tFRElUT1IuZHRkLnNwYW4pOmM7aWYoIUEmJiFmW1wiI1wiXSYmYiBpbiBlKXYub25UYWdPcGVuKGRbYl18fFwiXCIpLHYub25UZXh0KGEpO2Vsc2V7bSgpO2goKTt6fHxBfHwoYT1hLnJlcGxhY2UoL1tcXHRcXHJcXG4gXXsyLH18W1xcdFxcclxcbl0vZyxcIiBcIikpO2E9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChhKTtpZihwKHUsYSkpdGhpcy5vblRhZ09wZW4oZyx7fSwwLDEpO3UuYWRkKGEpfX07di5vbkNEQVRBPWZ1bmN0aW9uKGEpe3UuYWRkKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNkYXRhKGEpKX07di5vbkNvbW1lbnQ9ZnVuY3Rpb24oYSl7bSgpO2goKTt1LmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50KGEpKX07XG52LnBhcnNlKGwpO2ZvcihtKCk7dSE9eDspbih1LHUucGFyZW50LDEpO2YoeCk7cmV0dXJuIHh9O0NLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQucHJvdG90eXBlPXt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQsYWRkOmZ1bmN0aW9uKGEsYil7aXNOYU4oYikmJihiPXRoaXMuY2hpbGRyZW4ubGVuZ3RoKTt2YXIgYz0wPGI/dGhpcy5jaGlsZHJlbltiLTFdOm51bGw7aWYoYyl7aWYoYS5fLmlzQmxvY2tMaWtlJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGMudmFsdWU9Q0tFRElUT1IudG9vbHMucnRyaW0oYy52YWx1ZSksMD09PWMudmFsdWUubGVuZ3RoKSl7dGhpcy5jaGlsZHJlbi5wb3AoKTt0aGlzLmFkZChhKTtyZXR1cm59Yy5uZXh0PWF9YS5wcmV2aW91cz1jO2EucGFyZW50PXRoaXM7dGhpcy5jaGlsZHJlbi5zcGxpY2UoYiwwLGEpO3RoaXMuXy5oYXNJbmxpbmVTdGFydGVkfHwodGhpcy5fLmhhc0lubGluZVN0YXJ0ZWQ9YS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fFxuYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLl8uaXNCbG9ja0xpa2UpfSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuZ2V0RmlsdGVyQ29udGV4dChiKTthLm9uUm9vdChiLHRoaXMpO3RoaXMuZmlsdGVyQ2hpbGRyZW4oYSwhMSxiKX0sZmlsdGVyQ2hpbGRyZW46ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuY2hpbGRyZW5GaWx0ZXJlZEJ5IT1hLmlkKXtjPXRoaXMuZ2V0RmlsdGVyQ29udGV4dChjKTtpZihiJiYhdGhpcy5wYXJlbnQpYS5vblJvb3QoYyx0aGlzKTt0aGlzLmNoaWxkcmVuRmlsdGVyZWRCeT1hLmlkO2ZvcihiPTA7Yjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtiKyspITE9PT10aGlzLmNoaWxkcmVuW2JdLmZpbHRlcihhLGMpJiZiLS19fSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSxiKXtiJiZ0aGlzLmZpbHRlcihiKTt0aGlzLndyaXRlQ2hpbGRyZW5IdG1sKGEpfSx3cml0ZUNoaWxkcmVuSHRtbDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KCk7XG5pZihjJiYhdGhpcy5wYXJlbnQmJmIpYi5vblJvb3QoZCx0aGlzKTtiJiZ0aGlzLmZpbHRlckNoaWxkcmVuKGIsITEsZCk7Yj0wO2M9dGhpcy5jaGlsZHJlbjtmb3IoZD1jLmxlbmd0aDtiPGQ7YisrKWNbYl0ud3JpdGVIdG1sKGEpfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYixjKXtpZighKGN8fGImJnRoaXMudHlwZSE9YikpdmFyIGQ9YSh0aGlzKTtpZighMSE9PWQpe2M9dGhpcy5jaGlsZHJlbjtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKylkPWNbZV0sZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZC5mb3JFYWNoKGEsYik6YiYmZC50eXBlIT1ifHxhKGQpfX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYXx8e319fX0oKSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLnJ1bGVzPVtdfWZ1bmN0aW9uIGUoYixjLGQsZSl7dmFyIGssZztmb3IoayBpbiBjKShnPWJba10pfHwoZz1iW2tdPW5ldyBhKSxnLmFkZChjW2tdLGQsZSl9Q0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI9XG5DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihiKXt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLmVsZW1lbnROYW1lUnVsZXM9bmV3IGE7dGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXM9bmV3IGE7dGhpcy5lbGVtZW50c1J1bGVzPXt9O3RoaXMuYXR0cmlidXRlc1J1bGVzPXt9O3RoaXMudGV4dFJ1bGVzPW5ldyBhO3RoaXMuY29tbWVudFJ1bGVzPW5ldyBhO3RoaXMucm9vdFJ1bGVzPW5ldyBhO2ImJnRoaXMuYWRkUnVsZXMoYiwxMCl9LHByb3RvOnthZGRSdWxlczpmdW5jdGlvbihhLGMpe3ZhciBkO1wibnVtYmVyXCI9PXR5cGVvZiBjP2Q9YzpjJiZcInByaW9yaXR5XCJpbiBjJiYoZD1jLnByaW9yaXR5KTtcIm51bWJlclwiIT10eXBlb2YgZCYmKGQ9MTApO1wib2JqZWN0XCIhPXR5cGVvZiBjJiYoYz17fSk7YS5lbGVtZW50TmFtZXMmJnRoaXMuZWxlbWVudE5hbWVSdWxlcy5hZGRNYW55KGEuZWxlbWVudE5hbWVzLGQsYyk7YS5hdHRyaWJ1dGVOYW1lcyYmXG50aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcy5hZGRNYW55KGEuYXR0cmlidXRlTmFtZXMsZCxjKTthLmVsZW1lbnRzJiZlKHRoaXMuZWxlbWVudHNSdWxlcyxhLmVsZW1lbnRzLGQsYyk7YS5hdHRyaWJ1dGVzJiZlKHRoaXMuYXR0cmlidXRlc1J1bGVzLGEuYXR0cmlidXRlcyxkLGMpO2EudGV4dCYmdGhpcy50ZXh0UnVsZXMuYWRkKGEudGV4dCxkLGMpO2EuY29tbWVudCYmdGhpcy5jb21tZW50UnVsZXMuYWRkKGEuY29tbWVudCxkLGMpO2Eucm9vdCYmdGhpcy5yb290UnVsZXMuYWRkKGEucm9vdCxkLGMpfSxhcHBseVRvOmZ1bmN0aW9uKGEpe2EuZmlsdGVyKHRoaXMpfSxvbkVsZW1lbnROYW1lOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuZWxlbWVudE5hbWVSdWxlcy5leGVjT25OYW1lKGEsYyl9LG9uQXR0cmlidXRlTmFtZTpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcy5leGVjT25OYW1lKGEsYyl9LG9uVGV4dDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMudGV4dFJ1bGVzLmV4ZWMoYSxcbmMsZCl9LG9uQ29tbWVudDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuY29tbWVudFJ1bGVzLmV4ZWMoYSxjLGQpfSxvblJvb3Q6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5yb290UnVsZXMuZXhlYyhhLGMpfSxvbkVsZW1lbnQ6ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQ9W3RoaXMuZWxlbWVudHNSdWxlc1tcIl5cIl0sdGhpcy5lbGVtZW50c1J1bGVzW2MubmFtZV0sdGhpcy5lbGVtZW50c1J1bGVzLiRdLGUsaz0wOzM+aztrKyspaWYoZT1kW2tdKXtlPWUuZXhlYyhhLGMsdGhpcyk7aWYoITE9PT1lKXJldHVybiBudWxsO2lmKGUmJmUhPWMpcmV0dXJuIHRoaXMub25Ob2RlKGEsZSk7aWYoYy5wYXJlbnQmJiFjLm5hbWUpYnJlYWt9cmV0dXJuIGN9LG9uTm9kZTpmdW5jdGlvbihhLGMpe3ZhciBkPWMudHlwZTtyZXR1cm4gZD09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3RoaXMub25FbGVtZW50KGEsYyk6ZD09Q0tFRElUT1IuTk9ERV9URVhUP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQodGhpcy5vblRleHQoYSxcbmMudmFsdWUpKTpkPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudCh0aGlzLm9uQ29tbWVudChhLGMudmFsdWUpKTpudWxsfSxvbkF0dHJpYnV0ZTpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4oZD10aGlzLmF0dHJpYnV0ZXNSdWxlc1tkXSk/ZC5leGVjKGEsZSxjLHRoaXMpOmV9fX0pO0NLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyUnVsZXNHcm91cD1hO2EucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSxjLGQpe3RoaXMucnVsZXMuc3BsaWNlKHRoaXMuZmluZEluZGV4KGMpLDAse3ZhbHVlOmEscHJpb3JpdHk6YyxvcHRpb25zOmR9KX0sYWRkTWFueTpmdW5jdGlvbihhLGMsZCl7Zm9yKHZhciBlPVt0aGlzLmZpbmRJbmRleChjKSwwXSxrPTAsZz1hLmxlbmd0aDtrPGc7aysrKWUucHVzaCh7dmFsdWU6YVtrXSxwcmlvcml0eTpjLG9wdGlvbnM6ZH0pO3RoaXMucnVsZXMuc3BsaWNlLmFwcGx5KHRoaXMucnVsZXMsZSl9LGZpbmRJbmRleDpmdW5jdGlvbihhKXtmb3IodmFyIGM9XG50aGlzLnJ1bGVzLGQ9Yy5sZW5ndGgtMTswPD1kJiZhPGNbZF0ucHJpb3JpdHk7KWQtLTtyZXR1cm4gZCsxfSxleGVjOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9YyBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIubm9kZXx8YyBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaz10aGlzLnJ1bGVzLGc9ay5sZW5ndGgsaCxtLGYsbjtmb3Iobj0wO248ZztuKyspaWYoZCYmKGg9Yy50eXBlLG09Yy5uYW1lKSxmPWtbbl0sIShhLm5vbkVkaXRhYmxlJiYhZi5vcHRpb25zLmFwcGx5VG9BbGx8fGEubmVzdGVkRWRpdGFibGUmJmYub3B0aW9ucy5leGNsdWRlTmVzdGVkRWRpdGFibGUpKXtmPWYudmFsdWUuYXBwbHkobnVsbCxlKTtpZighMT09PWZ8fGQmJmYmJihmLm5hbWUhPW18fGYudHlwZSE9aCkpcmV0dXJuIGY7bnVsbCE9ZiYmKGVbMF09Yz1mKX1yZXR1cm4gY30sZXhlY09uTmFtZTpmdW5jdGlvbihhLFxuYyl7Zm9yKHZhciBkPTAsZT10aGlzLnJ1bGVzLGs9ZS5sZW5ndGgsZztjJiZkPGs7ZCsrKWc9ZVtkXSxhLm5vbkVkaXRhYmxlJiYhZy5vcHRpb25zLmFwcGx5VG9BbGx8fGEubmVzdGVkRWRpdGFibGUmJmcub3B0aW9ucy5leGNsdWRlTmVzdGVkRWRpdGFibGV8fChjPWMucmVwbGFjZShnLnZhbHVlWzBdLGcudmFsdWVbMV0pKTtyZXR1cm4gY319fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGYpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuIGF8fENLRURJVE9SLmVudi5uZWVkc05ic3BGaWxsZXI/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChcIsKgXCIpOm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJiclwiLHtcImRhdGEtY2tlLWJvZ3VzXCI6MX0pfWZ1bmN0aW9uIGUoYSxmKXtyZXR1cm4gZnVuY3Rpb24oZCl7aWYoZC50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXt2YXIgZT1bXSxtPWIoZCksayxEO2lmKG0pZm9yKGgobSwxKSYmZS5wdXNoKG0pO207KWwobSkmJlxuKGs9YyhtKSkmJmgoaykmJigoRD1jKGspKSYmIWwoRCk/ZS5wdXNoKGspOihnKG4pLmluc2VydEFmdGVyKGspLGsucmVtb3ZlKCkpKSxtPW0ucHJldmlvdXM7Zm9yKG09MDttPGUubGVuZ3RoO20rKyllW21dLnJlbW92ZSgpO2lmKGU9IWF8fCExIT09KFwiZnVuY3Rpb25cIj09dHlwZW9mIGY/ZihkKTpmKSlufHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8ZC50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UP258fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyfHwhKDc8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxkLm5hbWUgaW4gQ0tFRElUT1IuZHRkLnRyfHxkLm5hbWUgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSk/KGU9YihkKSxlPSFlfHxcImZvcm1cIj09ZC5uYW1lJiZcImlucHV0XCI9PWUubmFtZSk6ZT0hMTplPSExO2UmJmQuYWRkKGcoYSkpfX19ZnVuY3Rpb24gaChhLGIpe2lmKCghbnx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG5cImJyXCI9PWEubmFtZSYmIWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWVvbFwiXSlyZXR1cm4hMDt2YXIgYztyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWEudmFsdWUubWF0Y2gocSkpJiYoYy5pbmRleCYmKChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KGEudmFsdWUuc3Vic3RyaW5nKDAsYy5pbmRleCkpKS5pbnNlcnRCZWZvcmUoYSksYS52YWx1ZT1jWzBdKSwhQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJm4mJighYnx8YS5wYXJlbnQubmFtZSBpbiBEKXx8IW4mJigoYz1hLnByZXZpb3VzKSYmXCJiclwiPT1jLm5hbWV8fCFjfHxsKGMpKSk/ITA6ITF9dmFyIG09e2VsZW1lbnRzOnt9fSxuPVwiaHRtbFwiPT1mLEQ9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHopLEo7Zm9yKEogaW4gRClcIiNcImluIHVbSl18fGRlbGV0ZSBEW0pdO2ZvcihKIGluIEQpbS5lbGVtZW50c1tKXT1lKG4sYS5jb25maWcuZmlsbEVtcHR5QmxvY2tzKTttLnJvb3Q9ZShuLCExKTttLmVsZW1lbnRzLmJyPVxuZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2lmKGIucGFyZW50LnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBmPWIuYXR0cmlidXRlcztpZihcImRhdGEtY2tlLWJvZ3VzXCJpbiBmfHxcImRhdGEtY2tlLWVvbFwiaW4gZilkZWxldGUgZltcImRhdGEtY2tlLWJvZ3VzXCJdO2Vsc2V7Zm9yKGY9Yi5uZXh0O2YmJmQoZik7KWY9Zi5uZXh0O3ZhciBlPWMoYik7IWYmJmwoYi5wYXJlbnQpP2soYi5wYXJlbnQsZyhhKSk6bChmKSYmZSYmIWwoZSkmJmcoYSkuaW5zZXJ0QmVmb3JlKGYpfX19fShuKTtyZXR1cm4gbX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGEhPUNLRURJVE9SLkVOVEVSX0JSJiYhMSE9PWI/YT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCI6ITF9ZnVuY3Rpb24gYihhKXtmb3IoYT1hLmNoaWxkcmVuW2EuY2hpbGRyZW4ubGVuZ3RoLTFdO2EmJmQoYSk7KWE9YS5wcmV2aW91cztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2ZvcihhPWEucHJldmlvdXM7YSYmXG5kKGEpOylhPWEucHJldmlvdXM7cmV0dXJuIGF9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFDS0VESVRPUi50b29scy50cmltKGEudmFsdWUpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtYm9va21hcmtcIl19ZnVuY3Rpb24gbChhKXtyZXR1cm4gYSYmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLm5hbWUgaW4genx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKX1mdW5jdGlvbiBrKGEsYil7dmFyIGM9YS5jaGlsZHJlblthLmNoaWxkcmVuLmxlbmd0aC0xXTthLmNoaWxkcmVuLnB1c2goYik7Yi5wYXJlbnQ9YTtjJiYoYy5uZXh0PWIsYi5wcmV2aW91cz1jKX1mdW5jdGlvbiBnKGEpe2E9YS5hdHRyaWJ1dGVzO1wiZmFsc2VcIiE9YS5jb250ZW50ZWRpdGFibGUmJihhW1wiZGF0YS1ja2UtZWRpdGFibGVcIl09YS5jb250ZW50ZWRpdGFibGU/XCJ0cnVlXCI6MSk7XG5hLmNvbnRlbnRlZGl0YWJsZT1cImZhbHNlXCJ9ZnVuY3Rpb24gaChhKXthPWEuYXR0cmlidXRlcztzd2l0Y2goYVtcImRhdGEtY2tlLWVkaXRhYmxlXCJdKXtjYXNlIFwidHJ1ZVwiOmEuY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiO2JyZWFrO2Nhc2UgXCIxXCI6ZGVsZXRlIGEuY29udGVudGVkaXRhYmxlfX1mdW5jdGlvbiBtKGEpe3JldHVybiBhLnJlcGxhY2UoRyxmdW5jdGlvbihhLGIsYyl7cmV0dXJuXCJcXHgzY1wiK2IrYy5yZXBsYWNlKEUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gRi50ZXN0KGIpJiYtMT09Yy5pbmRleE9mKFwiZGF0YS1ja2Utc2F2ZWQtXCIrYik/XCIgZGF0YS1ja2Utc2F2ZWQtXCIrYStcIiBkYXRhLWNrZS1cIitDS0VESVRPUi5ybmQrXCItXCIrYTphfSkrXCJcXHgzZVwifSl9ZnVuY3Rpb24gZihhLGIpe3JldHVybiBhLnJlcGxhY2UoYixmdW5jdGlvbihhLGIsYyl7MD09PWEuaW5kZXhPZihcIlxceDNjdGV4dGFyZWFcIikmJihhPWIrcihjKS5yZXBsYWNlKC88L2csXCJcXHgyNmx0O1wiKS5yZXBsYWNlKC8+L2csXG5cIlxceDI2Z3Q7XCIpK1wiXFx4M2MvdGV4dGFyZWFcXHgzZVwiKTtyZXR1cm5cIlxceDNjY2tlOmVuY29kZWRcXHgzZVwiK2VuY29kZVVSSUNvbXBvbmVudChhKStcIlxceDNjL2NrZTplbmNvZGVkXFx4M2VcIn0pfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGEucmVwbGFjZShLLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS0oPyF7Y2tlX3Byb3RlY3RlZH0pW1xcc1xcU10rPy0tXFx4M2UvZyxmdW5jdGlvbihhKXtyZXR1cm5cIlxceDNjIS0tXCIrdCtcIntDfVwiK2VuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8tLS9nLFwiJTJEJTJEXCIpK1wiLS1cXHgzZVwifSl9ZnVuY3Rpb24gcihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLVxce2NrZV9wcm90ZWN0ZWRcXH1cXHtDXFx9KFtcXHNcXFNdKz8pLS1cXHgzZS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pfWZ1bmN0aW9uIHYoYSxiKXt2YXIgYz1iLl8uZGF0YVN0b3JlO1xucmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9KFtcXHNcXFNdKz8pLS1cXHgzZS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pLnJlcGxhY2UoL1xce2NrZV9wcm90ZWN0ZWRfKFxcZCspXFx9L2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYyYmY1tiXXx8XCJcIn0pfWZ1bmN0aW9uIHgoYSxiKXt2YXIgYz1bXSxmPWIuY29uZmlnLnByb3RlY3RlZFNvdXJjZSxkPWIuXy5kYXRhU3RvcmV8fChiLl8uZGF0YVN0b3JlPXtpZDoxfSksZz0vPFxcIS0tXFx7Y2tlX3RlbXAoY29tbWVudCk/XFx9KFxcZCo/KS0tXFx4M2UvZyxmPVsvPHNjcmlwdFtcXHNcXFNdKj8oPFxcL3NjcmlwdD58JCkvZ2ksLzxub3NjcmlwdFtcXHNcXFNdKj88XFwvbm9zY3JpcHQ+L2dpLC88bWV0YVtcXHNcXFNdKj9cXC8/Pi9naV0uY29uY2F0KGYpO2E9YS5yZXBsYWNlKC9cXHgzYyEtLVtcXHNcXFNdKj8tLVxceDNlL2csZnVuY3Rpb24oYSl7cmV0dXJuXCJcXHgzYyEtLXtja2VfdGVtcGNvbW1lbnR9XCIrKGMucHVzaChhKS1cbjEpK1wiLS1cXHgzZVwifSk7Zm9yKHZhciBlPTA7ZTxmLmxlbmd0aDtlKyspYT1hLnJlcGxhY2UoZltlXSxmdW5jdGlvbihhKXthPWEucmVwbGFjZShnLGZ1bmN0aW9uKGEsYixmKXtyZXR1cm4gY1tmXX0pO3JldHVybi9ja2VfdGVtcChjb21tZW50KT8vLnRlc3QoYSk/YTpcIlxceDNjIS0te2NrZV90ZW1wfVwiKyhjLnB1c2goYSktMSkrXCItLVxceDNlXCJ9KTthPWEucmVwbGFjZShnLGZ1bmN0aW9uKGEsYixmKXtyZXR1cm5cIlxceDNjIS0tXCIrdCsoYj9cIntDfVwiOlwiXCIpK2VuY29kZVVSSUNvbXBvbmVudChjW2ZdKS5yZXBsYWNlKC8tLS9nLFwiJTJEJTJEXCIpK1wiLS1cXHgzZVwifSk7YT1hLnJlcGxhY2UoLzxcXHcrKD86XFxzKyg/Oig/OlteXFxzPT5dK1xccyo9XFxzKig/OlteJ1wiXFxzPl0rfCdbXiddKid8XCJbXlwiXSpcIikpfFteXFxzPVxcLz5dKykpK1xccypcXC8/Pi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tXFx7Y2tlX3Byb3RlY3RlZFxcfShbXj5dKiktLVxceDNlL2csZnVuY3Rpb24oYSxiKXtkW2QuaWRdPVxuZGVjb2RlVVJJQ29tcG9uZW50KGIpO3JldHVyblwie2NrZV9wcm90ZWN0ZWRfXCIrZC5pZCsrICtcIn1cIn0pfSk7cmV0dXJuIGE9YS5yZXBsYWNlKC88KHRpdGxlfGlmcmFtZXx0ZXh0YXJlYSkoW14+XSopPihbXFxzXFxTXSo/KTxcXC9cXDE+L2csZnVuY3Rpb24oYSxjLGYsZCl7cmV0dXJuXCJcXHgzY1wiK2MrZitcIlxceDNlXCIrdihyKGQpLGIpK1wiXFx4M2MvXCIrYytcIlxceDNlXCJ9KX1DS0VESVRPUi5odG1sRGF0YVByb2Nlc3Nvcj1mdW5jdGlvbihiKXt2YXIgYyxkLGc9dGhpczt0aGlzLmVkaXRvcj1iO3RoaXMuZGF0YUZpbHRlcj1jPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcjt0aGlzLmh0bWxGaWx0ZXI9ZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI7dGhpcy53cml0ZXI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7Yy5hZGRSdWxlcyh3KTtjLmFkZFJ1bGVzKEMse2FwcGx5VG9BbGw6ITB9KTtjLmFkZFJ1bGVzKGEoYixcImRhdGFcIikse2FwcGx5VG9BbGw6ITB9KTtcbmQuYWRkUnVsZXMoeSk7ZC5hZGRSdWxlcyhCLHthcHBseVRvQWxsOiEwfSk7ZC5hZGRSdWxlcyhhKGIsXCJodG1sXCIpLHthcHBseVRvQWxsOiEwfSk7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBjPWEuZGF0YVZhbHVlLGQsYz14KGMsYiksYz1mKGMsSCksYz1tKGMpLGM9ZihjLEkpLGM9Yy5yZXBsYWNlKEosXCIkMWNrZTokMlwiKSxjPWMucmVwbGFjZShSLFwiXFx4M2Nja2U6JDEkMlxceDNlXFx4M2MvY2tlOiQxXFx4M2VcIiksYz1jLnJlcGxhY2UoLyg8cHJlXFxiW14+XSo+KShcXHJcXG58XFxuKS9nLFwiJDEkMiQyXCIpLGM9Yy5yZXBsYWNlKC8oW15hLXowLTk8XFwtXSkob25cXHd7Myx9KSg/IT4pL2dpLFwiJDFkYXRhLWNrZS1cIitDS0VESVRPUi5ybmQrXCItJDJcIik7ZD1hLmNvbnRleHR8fGIuZWRpdGFibGUoKS5nZXROYW1lKCk7dmFyIGc7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uJiZcInByZVwiPT1kJiYoZD1cImRpdlwiLGM9XCJcXHgzY3ByZVxceDNlXCIrYytcIlxceDNjL3ByZVxceDNlXCIsXG5nPTEpO2Q9Yi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGQpO2Quc2V0SHRtbChcImFcIitjKTtjPWQuZ2V0SHRtbCgpLnN1YnN0cigxKTtjPWMucmVwbGFjZShuZXcgUmVnRXhwKFwiZGF0YS1ja2UtXCIrQ0tFRElUT1Iucm5kK1wiLVwiLFwiaWdcIiksXCJcIik7ZyYmKGM9Yy5yZXBsYWNlKC9ePHByZT58PFxcL3ByZT4kL2dpLFwiXCIpKTtjPWMucmVwbGFjZShELFwiJDEkMlwiKTtjPW4oYyk7Yz1yKGMpO2Q9ITE9PT1hLmZpeEZvckJvZHk/ITE6ZShhLmVudGVyTW9kZSxiLmNvbmZpZy5hdXRvUGFyYWdyYXBoKTtjPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYyxhLmNvbnRleHQsZCk7ZCYmKGc9YywhZy5jaGlsZHJlbi5sZW5ndGgmJkNLRURJVE9SLmR0ZFtnLm5hbWVdW2RdJiYoZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGQpLGcuYWRkKGQpKSk7YS5kYXRhVmFsdWU9Y30sbnVsbCxudWxsLDUpO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthLmRhdGEuZmlsdGVyLmFwcGx5VG8oYS5kYXRhLmRhdGFWYWx1ZSxcbiEwLGEuZGF0YS5kb250RmlsdGVyLGEuZGF0YS5lbnRlck1vZGUpJiZiLmZpcmUoXCJkYXRhRmlsdGVyZWRcIil9LG51bGwsbnVsbCw2KTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZS5maWx0ZXJDaGlsZHJlbihnLmRhdGFGaWx0ZXIsITApfSxudWxsLG51bGwsMTApO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYj1hLmRhdGFWYWx1ZSxjPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2Iud3JpdGVDaGlsZHJlbkh0bWwoYyk7Yj1jLmdldEh0bWwoITApO2EuZGF0YVZhbHVlPXAoYil9LG51bGwsbnVsbCwxNSk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe3ZhciBjPWEuZGF0YS5kYXRhVmFsdWU7YS5kYXRhLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihjPWMucmVwbGFjZSgvXjxiciAqXFwvPz4vaSxcIlwiKSk7YS5kYXRhLmRhdGFWYWx1ZT1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGMsXG5hLmRhdGEuY29udGV4dCxlKGEuZGF0YS5lbnRlck1vZGUsYi5jb25maWcuYXV0b1BhcmFncmFwaCkpfSxudWxsLG51bGwsNSk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWUuZmlsdGVyQ2hpbGRyZW4oZy5odG1sRmlsdGVyLCEwKX0sbnVsbCxudWxsLDEwKTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7YS5kYXRhLmZpbHRlci5hcHBseVRvKGEuZGF0YS5kYXRhVmFsdWUsITEsITApfSxudWxsLG51bGwsMTEpO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXt2YXIgYz1hLmRhdGEuZGF0YVZhbHVlLGQ9Zy53cml0ZXI7ZC5yZXNldCgpO2Mud3JpdGVDaGlsZHJlbkh0bWwoZCk7Yz1kLmdldEh0bWwoITApO2M9cihjKTtjPXYoYyxiKTthLmRhdGEuZGF0YVZhbHVlPWN9LG51bGwsbnVsbCwxNSl9O0NLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yLnByb3RvdHlwZT17dG9IdG1sOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmPXRoaXMuZWRpdG9yLFxuZyxlLGgsbTtiJiZcIm9iamVjdFwiPT10eXBlb2YgYj8oZz1iLmNvbnRleHQsYz1iLmZpeEZvckJvZHksZD1iLmRvbnRGaWx0ZXIsZT1iLmZpbHRlcixoPWIuZW50ZXJNb2RlLG09Yi5wcm90ZWN0ZWRXaGl0ZXNwYWNlcyk6Zz1iO2d8fG51bGw9PT1nfHwoZz1mLmVkaXRhYmxlKCkuZ2V0TmFtZSgpKTtyZXR1cm4gZi5maXJlKFwidG9IdG1sXCIse2RhdGFWYWx1ZTphLGNvbnRleHQ6ZyxmaXhGb3JCb2R5OmMsZG9udEZpbHRlcjpkLGZpbHRlcjplfHxmLmZpbHRlcixlbnRlck1vZGU6aHx8Zi5lbnRlck1vZGUscHJvdGVjdGVkV2hpdGVzcGFjZXM6bX0pLmRhdGFWYWx1ZX0sdG9EYXRhRm9ybWF0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxmO2ImJihjPWIuY29udGV4dCxkPWIuZmlsdGVyLGY9Yi5lbnRlck1vZGUpO2N8fG51bGw9PT1jfHwoYz10aGlzLmVkaXRvci5lZGl0YWJsZSgpLmdldE5hbWUoKSk7cmV0dXJuIHRoaXMuZWRpdG9yLmZpcmUoXCJ0b0RhdGFGb3JtYXRcIix7ZGF0YVZhbHVlOmEsXG5maWx0ZXI6ZHx8dGhpcy5lZGl0b3IuZmlsdGVyLGNvbnRleHQ6YyxlbnRlck1vZGU6Znx8dGhpcy5lZGl0b3IuZW50ZXJNb2RlfSkuZGF0YVZhbHVlfX07dmFyIHE9Lyg/OiZuYnNwO3xcXHhhMCkkLyx0PVwie2NrZV9wcm90ZWN0ZWR9XCIsdT1DS0VESVRPUi5kdGQsQT1cImNhcHRpb24gY29sZ3JvdXAgY29sIHRoZWFkIHRmb290IHRib2R5XCIuc3BsaXQoXCIgXCIpLHo9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHUuJGJsb2NrTGltaXQsdS4kYmxvY2spLHc9e2VsZW1lbnRzOntpbnB1dDpnLHRleHRhcmVhOmd9fSxDPXthdHRyaWJ1dGVOYW1lczpbWy9eb24vLFwiZGF0YS1ja2UtcGEtb25cIl0sWy9ec3JjZG9jLyxcImRhdGEtY2tlLXBhLXNyY2RvY1wiXSxbL15kYXRhLWNrZS1leHBhbmRvJC8sXCJcIl1dLGVsZW1lbnRzOntpZnJhbWU6ZnVuY3Rpb24oYSl7aWYoYS5hdHRyaWJ1dGVzJiZhLmF0dHJpYnV0ZXMuc3JjKXt2YXIgYj1hLmF0dHJpYnV0ZXMuc3JjLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15hLXpdL2dpLFxuXCJcIik7aWYoMD09PWIuaW5kZXhPZihcImphdmFzY3JpcHRcIil8fDA9PT1iLmluZGV4T2YoXCJkYXRhXCIpKWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXBhLXNyY1wiXT1hLmF0dHJpYnV0ZXMuc3JjLGRlbGV0ZSBhLmF0dHJpYnV0ZXMuc3JjfX19fSx5PXtlbGVtZW50czp7ZW1iZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnQ7aWYoYiYmXCJvYmplY3RcIj09Yi5uYW1lKXt2YXIgYz1iLmF0dHJpYnV0ZXMud2lkdGgsYj1iLmF0dHJpYnV0ZXMuaGVpZ2h0O2MmJihhLmF0dHJpYnV0ZXMud2lkdGg9Yyk7YiYmKGEuYXR0cmlidXRlcy5oZWlnaHQ9Yil9fSxhOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cmlidXRlcztpZighKGEuY2hpbGRyZW4ubGVuZ3RofHxiLm5hbWV8fGIuaWR8fGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pKXJldHVybiExfX19LEI9e2VsZW1lbnROYW1lczpbWy9eY2tlOi8sXCJcIl0sWy9eXFw/eG1sOm5hbWVzcGFjZSQvLFwiXCJdXSxhdHRyaWJ1dGVOYW1lczpbWy9eZGF0YS1ja2UtKHNhdmVkfHBhKS0vLFxuXCJcIl0sWy9eZGF0YS1ja2UtLiovLFwiXCJdLFtcImhpZGVmb2N1c1wiLFwiXCJdXSxlbGVtZW50czp7JDpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXM7aWYoYil7aWYoYltcImRhdGEtY2tlLXRlbXBcIl0pcmV0dXJuITE7Zm9yKHZhciBjPVtcIm5hbWVcIixcImhyZWZcIixcInNyY1wiXSxkLGY9MDtmPGMubGVuZ3RoO2YrKylkPVwiZGF0YS1ja2Utc2F2ZWQtXCIrY1tmXSxkIGluIGImJmRlbGV0ZSBiW2NbZl1dfXJldHVybiBhfSx0YWJsZTpmdW5jdGlvbihhKXthLmNoaWxkcmVuLnNsaWNlKDApLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLnR5cGU9PWEudHlwZSYmKGM9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihBLGEubmFtZSksZD1DS0VESVRPUi50b29scy5pbmRleE9mKEEsYi5uYW1lKSk7LTE8YyYmLTE8ZCYmYyE9ZHx8KGM9YS5wYXJlbnQ/YS5nZXRJbmRleCgpOi0xLGQ9Yi5wYXJlbnQ/Yi5nZXRJbmRleCgpOi0xKTtyZXR1cm4gYz5kP1xuMTotMX0pfSxwYXJhbTpmdW5jdGlvbihhKXthLmNoaWxkcmVuPVtdO2EuaXNFbXB0eT0hMDtyZXR1cm4gYX0sc3BhbjpmdW5jdGlvbihhKXtcIkFwcGxlLXN0eWxlLXNwYW5cIj09YS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0mJmRlbGV0ZSBhLm5hbWV9LGh0bWw6ZnVuY3Rpb24oYSl7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU7ZGVsZXRlIGEuYXR0cmlidXRlc1tcImNsYXNzXCJdfSxib2R5OmZ1bmN0aW9uKGEpe2RlbGV0ZSBhLmF0dHJpYnV0ZXMuc3BlbGxjaGVjaztkZWxldGUgYS5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZX0sc3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jaGlsZHJlblswXTtiJiZiLnZhbHVlJiYoYi52YWx1ZT1DS0VESVRPUi50b29scy50cmltKGIudmFsdWUpKTthLmF0dHJpYnV0ZXMudHlwZXx8KGEuYXR0cmlidXRlcy50eXBlPVwidGV4dC9jc3NcIil9LHRpdGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2hpbGRyZW5bMF07IWImJmsoYSxiPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQpO1xuYi52YWx1ZT1hLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS10aXRsZVwiXXx8XCJcIn0saW5wdXQ6aCx0ZXh0YXJlYTpofSxhdHRyaWJ1dGVzOntcImNsYXNzXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmx0cmltKGEucmVwbGFjZSgvKD86XnxcXHMrKWNrZV9bXlxcc10qL2csXCJcIikpfHwhMX19fTtDS0VESVRPUi5lbnYuaWUmJihCLmF0dHJpYnV0ZXMuc3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKF58OykoW15cXDpdKykvZyxmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfSl9KTt2YXIgRz0vPChhfGFyZWF8aW1nfGlucHV0fHNvdXJjZSlcXGIoW14+XSopPi9naSxFPS8oW1xcdy06XSspXFxzKj1cXHMqKD86KD86XCJbXlwiXSpcIil8KD86J1teJ10qJyl8KD86W14gXCInPl0rKSkvZ2ksRj0vXihocmVmfHNyY3xuYW1lKSQvaSxJPS8oPzo8c3R5bGUoPz1bID5dKVtePl0qPltcXHNcXFNdKj88XFwvc3R5bGU+KXwoPzo8KDo/bGlua3xtZXRhfGJhc2UpW14+XSo+KS9naSxcbkg9Lyg8dGV4dGFyZWEoPz1bID5dKVtePl0qPikoW1xcc1xcU10qPykoPzo8XFwvdGV4dGFyZWE+KS9naSxLPS88Y2tlOmVuY29kZWQ+KFtePF0qKTxcXC9ja2U6ZW5jb2RlZD4vZ2ksSj0vKDxcXC8/KSgoPzpvYmplY3R8ZW1iZWR8cGFyYW18aHRtbHxib2R5fGhlYWR8dGl0bGUpW14+XSo+KS9naSxEPS8oPFxcLz8pY2tlOigoPzpodG1sfGJvZHl8aGVhZHx0aXRsZSlbXj5dKj4pL2dpLFI9Lzxja2U6KHBhcmFtfGVtYmVkKShbXj5dKj8pXFwvPz4oPyFcXHMqPFxcL2NrZTpcXDEpL2dpfSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD1mdW5jdGlvbihhLGUpe3RoaXMubmFtZT1hO3RoaXMuYXR0cmlidXRlcz1lfHx7fTt0aGlzLmNoaWxkcmVuPVtdO3ZhciBiPWF8fFwiXCIsYz1iLm1hdGNoKC9eY2tlOiguKikvKTtjJiYoYj1jWzFdKTtiPSEhKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnRbYl18fENLRURJVE9SLmR0ZC4kYmxvY2tbYl18fENLRURJVE9SLmR0ZC4kbGlzdEl0ZW1bYl18fFxuQ0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnRbYl18fENLRURJVE9SLmR0ZC4kbm9uRWRpdGFibGVbYl18fFwiYnJcIj09Yik7dGhpcy5pc0VtcHR5PSEhQ0tFRElUT1IuZHRkLiRlbXB0eVthXTt0aGlzLmlzVW5rbm93bj0hQ0tFRElUT1IuZHRkW2FdO3RoaXMuXz17aXNCbG9ja0xpa2U6YixoYXNJbmxpbmVTdGFydGVkOnRoaXMuaXNFbXB0eXx8IWJ9fSxDS0VESVRPUi5odG1sUGFyc2VyLmNzc1N0eWxlPWZ1bmN0aW9uKGEpe3ZhciBlPXt9OygoYSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU6YSl8fFwiXCIpLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW14gOjtdKylcXHMqOlxccyooW147XSspXFxzKig/PTt8JCkvZyxmdW5jdGlvbihhLGMsZCl7XCJmb250LWZhbWlseVwiPT1jJiYoZD1kLnJlcGxhY2UoL1tcIiddL2csXCJcIikpO2VbYy50b0xvd2VyQ2FzZSgpXT1kfSk7cmV0dXJue3J1bGVzOmUscG9wdWxhdGU6ZnVuY3Rpb24oYSl7dmFyIGM9XG50aGlzLnRvU3RyaW5nKCk7YyYmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudD9hLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYyk6YSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU9YzphLnN0eWxlPWMpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPVtdLGM7Zm9yKGMgaW4gZSllW2NdJiZhLnB1c2goYyxcIjpcIixlW2NdLFwiO1wiKTtyZXR1cm4gYS5qb2luKFwiXCIpfX19LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJzdHJpbmdcIj09dHlwZW9mIGE/Yi5uYW1lPT1hOmIubmFtZSBpbiBhKX19dmFyIGU9ZnVuY3Rpb24oYSxiKXthPWFbMF07Yj1iWzBdO3JldHVybiBhPGI/LTE6YT5iPzE6MH0sYj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LnByb3RvdHlwZTtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQucHJvdG90eXBlPVxuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGFkZDpiLmFkZCxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KHRoaXMubmFtZSx0aGlzLmF0dHJpYnV0ZXMpfSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgZT10aGlzLGssZztiPWUuZ2V0RmlsdGVyQ29udGV4dChiKTtpZihiLm9mZilyZXR1cm4hMDtpZighZS5wYXJlbnQpYS5vblJvb3QoYixlKTtmb3IoOzspe2s9ZS5uYW1lO2lmKCEoZz1hLm9uRWxlbWVudE5hbWUoYixrKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITE7ZS5uYW1lPWc7aWYoIShlPWEub25FbGVtZW50KGIsZSkpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExO2lmKGUhPT10aGlzKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGUpLCExO2lmKGUubmFtZT09aylicmVhaztpZihlLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChlKSxcbiExO2lmKCFlLm5hbWUpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGhDaGlsZHJlbigpLCExfWs9ZS5hdHRyaWJ1dGVzO3ZhciBoLG07Zm9yKGggaW4gayl7Zm9yKGc9a1toXTs7KWlmKG09YS5vbkF0dHJpYnV0ZU5hbWUoYixoKSlpZihtIT1oKWRlbGV0ZSBrW2hdLGg9bTtlbHNlIGJyZWFrO2Vsc2V7ZGVsZXRlIGtbaF07YnJlYWt9bSYmKCExPT09KGc9YS5vbkF0dHJpYnV0ZShiLGUsbSxnKSk/ZGVsZXRlIGtbbV06a1ttXT1nKX1lLmlzRW1wdHl8fHRoaXMuZmlsdGVyQ2hpbGRyZW4oYSwhMSxiKTtyZXR1cm4hMH0sZmlsdGVyQ2hpbGRyZW46Yi5maWx0ZXJDaGlsZHJlbix3cml0ZUh0bWw6ZnVuY3Rpb24oYSxiKXtiJiZ0aGlzLmZpbHRlcihiKTt2YXIgbD10aGlzLm5hbWUsaz1bXSxnPXRoaXMuYXR0cmlidXRlcyxoLG07YS5vcGVuVGFnKGwsZyk7Zm9yKGggaW4gZylrLnB1c2goW2gsZ1toXV0pO2Euc29ydEF0dHJpYnV0ZXMmJmsuc29ydChlKTtoPTA7Zm9yKG09ay5sZW5ndGg7aDxtO2grKylnPVxua1toXSxhLmF0dHJpYnV0ZShnWzBdLGdbMV0pO2Eub3BlblRhZ0Nsb3NlKGwsdGhpcy5pc0VtcHR5KTt0aGlzLndyaXRlQ2hpbGRyZW5IdG1sKGEpO3RoaXMuaXNFbXB0eXx8YS5jbG9zZVRhZyhsKX0sd3JpdGVDaGlsZHJlbkh0bWw6Yi53cml0ZUNoaWxkcmVuSHRtbCxyZXBsYWNlV2l0aENoaWxkcmVuOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuY2hpbGRyZW4sYj1hLmxlbmd0aDtiOylhWy0tYl0uaW5zZXJ0QWZ0ZXIodGhpcyk7dGhpcy5yZW1vdmUoKX0sZm9yRWFjaDpiLmZvckVhY2gsZ2V0Rmlyc3Q6ZnVuY3Rpb24oYil7aWYoIWIpcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoP3RoaXMuY2hpbGRyZW5bMF06bnVsbDtcImZ1bmN0aW9uXCIhPXR5cGVvZiBiJiYoYj1hKGIpKTtmb3IodmFyIGQ9MCxlPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2Q8ZTsrK2QpaWYoYih0aGlzLmNoaWxkcmVuW2RdKSlyZXR1cm4gdGhpcy5jaGlsZHJlbltkXTtyZXR1cm4gbnVsbH0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPVxubmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKTtyZXR1cm4gYS5nZXRIdG1sKCl9LHNldEh0bWw6ZnVuY3Rpb24oYSl7YT10aGlzLmNoaWxkcmVuPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYSkuY2hpbGRyZW47Zm9yKHZhciBiPTAsZT1hLmxlbmd0aDtiPGU7KytiKWFbYl0ucGFyZW50PXRoaXN9LGdldE91dGVySHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVIdG1sKGEpO3JldHVybiBhLmdldEh0bWwoKX0sc3BsaXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY2hpbGRyZW4uc3BsaWNlKGEsdGhpcy5jaGlsZHJlbi5sZW5ndGgtYSksZT10aGlzLmNsb25lKCksaz0wO2s8Yi5sZW5ndGg7KytrKWJba10ucGFyZW50PWU7ZS5jaGlsZHJlbj1iO2JbMF0mJihiWzBdLnByZXZpb3VzPW51bGwpOzA8YSYmKHRoaXMuY2hpbGRyZW5bYS1cbjFdLm5leHQ9bnVsbCk7dGhpcy5wYXJlbnQuYWRkKGUsdGhpcy5nZXRJbmRleCgpKzEpO3JldHVybiBlfSxmaW5kOmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9ITEpO3ZhciBlPVtdLGs7Zm9yKGs9MDtrPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2srKyl7dmFyIGc9dGhpcy5jaGlsZHJlbltrXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZhKGcpP2UucHVzaChnKTpcInN0cmluZ1wiPT10eXBlb2YgYSYmZy5uYW1lPT09YSYmZS5wdXNoKGcpO2ImJmcuZmluZCYmKGU9ZS5jb25jYXQoZy5maW5kKGEsYikpKX1yZXR1cm4gZX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFzQ2xhc3MoYSkpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdfHxcIlwiO3RoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdPWIrKGI/XCIgXCI6XCJcIikrYX19LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO2ImJigoYj1DS0VESVRPUi50b29scy50cmltKGIucmVwbGFjZShuZXcgUmVnRXhwKFwiKD86XFxcXHMrfF4pXCIrXG5hK1wiKD86XFxcXHMrfCQpXCIpLFwiIFwiKSkpP3RoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdPWI6ZGVsZXRlIHRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdKX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07cmV0dXJuIGI/KG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKVwiK2ErXCIoP1xceDNkXFxcXHN8JClcIikpLnRlc3QoYik6ITF9LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9W107YXx8KGE9e29mZjohMSxub25FZGl0YWJsZTohMSxuZXN0ZWRFZGl0YWJsZTohMX0pO2Eub2ZmfHxcIm9mZlwiIT10aGlzLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1wcm9jZXNzb3JcIl18fGIucHVzaChcIm9mZlwiLCEwKTthLm5vbkVkaXRhYmxlfHxcImZhbHNlXCIhPXRoaXMuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU/YS5ub25FZGl0YWJsZSYmIWEubmVzdGVkRWRpdGFibGUmJlwidHJ1ZVwiPT10aGlzLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlJiZiLnB1c2goXCJuZXN0ZWRFZGl0YWJsZVwiLFxuITApOmIucHVzaChcIm5vbkVkaXRhYmxlXCIsITApO2lmKGIubGVuZ3RoKXthPUNLRURJVE9SLnRvb2xzLmNvcHkoYSk7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKz0yKWFbYltlXV09YltlKzFdfXJldHVybiBhfX0sITApfSgpLGZ1bmN0aW9uKCl7dmFyIGE9L3soW159XSspfS9nO0NLRURJVE9SLnRlbXBsYXRlPWZ1bmN0aW9uKGEpe3RoaXMuc291cmNlPVN0cmluZyhhKX07Q0tFRElUT1IudGVtcGxhdGUucHJvdG90eXBlLm91dHB1dD1mdW5jdGlvbihlLGIpe3ZhciBjPXRoaXMuc291cmNlLnJlcGxhY2UoYSxmdW5jdGlvbihhLGIpe3JldHVybiB2b2lkIDAhPT1lW2JdP2VbYl06YX0pO3JldHVybiBiP2IucHVzaChjKTpjfX0oKSxkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlLENLRURJVE9SLmluc3RhbmNlcz17fSxDS0VESVRPUi5kb2N1bWVudD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGRvY3VtZW50KSxDS0VESVRPUi5hZGQ9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuaW5zdGFuY2VzW2EubmFtZV09XG5hO2Eub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlIT1hJiYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlPWEsQ0tFRElUT1IuZmlyZShcImN1cnJlbnRJbnN0YW5jZVwiKSl9KTthLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlPT1hJiYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlPW51bGwsQ0tFRElUT1IuZmlyZShcImN1cnJlbnRJbnN0YW5jZVwiKSl9KTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VcIixudWxsLGEpfSxDS0VESVRPUi5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIENLRURJVE9SLmluc3RhbmNlc1thLm5hbWVdfSxmdW5jdGlvbigpe3ZhciBhPXt9O0NLRURJVE9SLmFkZFRlbXBsYXRlPWZ1bmN0aW9uKGUsYil7dmFyIGM9YVtlXTtpZihjKXJldHVybiBjO2M9e25hbWU6ZSxzb3VyY2U6Yn07Q0tFRElUT1IuZmlyZShcInRlbXBsYXRlXCIsYyk7cmV0dXJuIGFbZV09bmV3IENLRURJVE9SLnRlbXBsYXRlKGMuc291cmNlKX07XG5DS0VESVRPUi5nZXRUZW1wbGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gYVtlXX19KCksZnVuY3Rpb24oKXt2YXIgYT1bXTtDS0VESVRPUi5hZGRDc3M9ZnVuY3Rpb24oZSl7YS5wdXNoKGUpfTtDS0VESVRPUi5nZXRDc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYS5qb2luKFwiXFxuXCIpfX0oKSxDS0VESVRPUi5vbihcImluc3RhbmNlRGVzdHJveWVkXCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5pc0VtcHR5KHRoaXMuaW5zdGFuY2VzKSYmQ0tFRElUT1IuZmlyZShcInJlc2V0XCIpfSksQ0tFRElUT1IuVFJJU1RBVEVfT049MSxDS0VESVRPUi5UUklTVEFURV9PRkY9MixDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD0wLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaW5saW5lPWZ1bmN0aW9uKGEsZSl7aWYoIUNLRURJVE9SLmVudi5pc0NvbXBhdGlibGUpcmV0dXJuIG51bGw7YT1DS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYSk7aWYoYS5nZXRFZGl0b3IoKSl0aHJvdydUaGUgZWRpdG9yIGluc3RhbmNlIFwiJytcbmEuZ2V0RWRpdG9yKCkubmFtZSsnXCIgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byB0aGUgcHJvdmlkZWQgZWxlbWVudC4nO3ZhciBiPW5ldyBDS0VESVRPUi5lZGl0b3IoZSxhLENLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpLGM9YS5pcyhcInRleHRhcmVhXCIpP2E6bnVsbDtjPyhiLnNldERhdGEoYy5nZXRWYWx1ZSgpLG51bGwsITApLGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGNvbnRlbnRlZGl0YWJsZVxceDNkXCInKyEhYi5yZWFkT25seSsnXCIgY2xhc3NcXHgzZFwiY2tlX3RleHRhcmVhX2lubGluZVwiXFx4M2UnK2MuZ2V0VmFsdWUoKStcIlxceDNjL2RpdlxceDNlXCIsQ0tFRElUT1IuZG9jdW1lbnQpLGEuaW5zZXJ0QWZ0ZXIoYyksYy5oaWRlKCksYy4kLmZvcm0mJmIuX2F0dGFjaFRvRm9ybSgpKTpiLnNldERhdGEoYS5nZXRIdG1sKCksbnVsbCwhMCk7Yi5vbihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7Yi5maXJlKFwidWlSZWFkeVwiKTtiLmVkaXRhYmxlKGEpO2IuY29udGFpbmVyPVxuYTtiLnVpLmNvbnRlbnRzRWxlbWVudD1hO2Iuc2V0RGF0YShiLmdldERhdGEoMSkpO2IucmVzZXREaXJ0eSgpO2IuZmlyZShcImNvbnRlbnREb21cIik7Yi5tb2RlPVwid3lzaXd5Z1wiO2IuZmlyZShcIm1vZGVcIik7Yi5zdGF0dXM9XCJyZWFkeVwiO2IuZmlyZU9uY2UoXCJpbnN0YW5jZVJlYWR5XCIpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVJlYWR5XCIsbnVsbCxiKX0sbnVsbCxudWxsLDFFNCk7Yi5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2MmJihiLmNvbnRhaW5lci5jbGVhckN1c3RvbURhdGEoKSxiLmNvbnRhaW5lci5yZW1vdmUoKSxjLnNob3coKSk7Yi5lbGVtZW50LmNsZWFyQ3VzdG9tRGF0YSgpO2RlbGV0ZSBiLmVsZW1lbnR9KTtyZXR1cm4gYn07Q0tFRElUT1IuaW5saW5lQWxsPWZ1bmN0aW9uKCl7dmFyIGEsZSxiO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kZWRpdGFibGUpZm9yKHZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoYiksZD0wLGw9Yy5jb3VudCgpO2Q8XG5sO2QrKylhPWMuZ2V0SXRlbShkKSxcInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJihlPXtlbGVtZW50OmEsY29uZmlnOnt9fSwhMSE9PUNLRURJVE9SLmZpcmUoXCJpbmxpbmVcIixlKSYmQ0tFRElUT1IuaW5saW5lKGEsZS5jb25maWcpKX07Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXshQ0tFRElUT1IuZGlzYWJsZUF1dG9JbmxpbmUmJkNLRURJVE9SLmlubGluZUFsbCgpfSl9KCksQ0tFRElUT1IucmVwbGFjZUNsYXNzPVwiY2tlZGl0b3JcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxkLGwsayl7aWYoIUNLRURJVE9SLmVudi5pc0NvbXBhdGlibGUpcmV0dXJuIG51bGw7YT1DS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYSk7aWYoYS5nZXRFZGl0b3IoKSl0aHJvdydUaGUgZWRpdG9yIGluc3RhbmNlIFwiJythLmdldEVkaXRvcigpLm5hbWUrJ1wiIGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuJzt2YXIgZz1uZXcgQ0tFRElUT1IuZWRpdG9yKGQsXG5hLGspO2s9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiYoYS5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKSxnLl8ucmVxdWlyZWQ9YS5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSxhLnJlbW92ZUF0dHJpYnV0ZShcInJlcXVpcmVkXCIpKTtsJiZnLnNldERhdGEobCxudWxsLCEwKTtnLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXtiKGcpO2s9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZnLmNvbmZpZy5hdXRvVXBkYXRlRWxlbWVudCYmYS4kLmZvcm0mJmcuX2F0dGFjaFRvRm9ybSgpO2cuc2V0TW9kZShnLmNvbmZpZy5zdGFydHVwTW9kZSxmdW5jdGlvbigpe2cucmVzZXREaXJ0eSgpO2cuc3RhdHVzPVwicmVhZHlcIjtnLmZpcmVPbmNlKFwiaW5zdGFuY2VSZWFkeVwiKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VSZWFkeVwiLG51bGwsZyl9KX0pO2cub24oXCJkZXN0cm95XCIsZSk7cmV0dXJuIGd9ZnVuY3Rpb24gZSgpe3ZhciBhPXRoaXMuY29udGFpbmVyLGI9dGhpcy5lbGVtZW50O1xuYSYmKGEuY2xlYXJDdXN0b21EYXRhKCksYS5yZW1vdmUoKSk7YiYmKGIuY2xlYXJDdXN0b21EYXRhKCksdGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJihiLnNob3coKSx0aGlzLl8ucmVxdWlyZWQmJmIuc2V0QXR0cmlidXRlKFwicmVxdWlyZWRcIixcInJlcXVpcmVkXCIpKSxkZWxldGUgdGhpcy5lbGVtZW50KX1mdW5jdGlvbiBiKGEpe3ZhciBiPWEubmFtZSxlPWEuZWxlbWVudCxrPWEuZWxlbWVudE1vZGUsZz1hLmZpcmUoXCJ1aVNwYWNlXCIse3NwYWNlOlwidG9wXCIsaHRtbDpcIlwifSkuaHRtbCxoPWEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJib3R0b21cIixodG1sOlwiXCJ9KS5odG1sLG09bmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY3tvdXRlckVsfSBpZFxceDNkXCJja2Vfe25hbWV9XCIgY2xhc3NcXHgzZFwie2lkfSBja2UgY2tlX3Jlc2V0IGNrZV9jaHJvbWUgY2tlX2VkaXRvcl97bmFtZX0gY2tlX3tsYW5nRGlyfSAnK0NLRURJVE9SLmVudi5jc3NDbGFzcytcbidcIiAgZGlyXFx4M2RcIntsYW5nRGlyfVwiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIHJvbGVcXHgzZFwiYXBwbGljYXRpb25cIicrKGEudGl0bGU/JyBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiY2tlX3tuYW1lfV9hcmlhbGJsXCInOlwiXCIpK1wiXFx4M2VcIisoYS50aXRsZT8nXFx4M2NzcGFuIGlkXFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2V7dm9pY2VMYWJlbH1cXHgzYy9zcGFuXFx4M2UnOlwiXCIpKydcXHgzY3tvdXRlckVsfSBjbGFzc1xceDNkXCJja2VfaW5uZXIgY2tlX3Jlc2V0XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNle3RvcEh0bWx9XFx4M2N7b3V0ZXJFbH0gaWRcXHgzZFwie2NvbnRlbnRJZH1cIiBjbGFzc1xceDNkXCJja2VfY29udGVudHMgY2tlX3Jlc2V0XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2Mve291dGVyRWx9XFx4M2V7Ym90dG9tSHRtbH1cXHgzYy97b3V0ZXJFbH1cXHgzZVxceDNjL3tvdXRlckVsfVxceDNlJyksYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChtLm91dHB1dCh7aWQ6YS5pZCxcbm5hbWU6YixsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSx2b2ljZUxhYmVsOmEudGl0bGUsdG9wSHRtbDpnPydcXHgzY3NwYW4gaWRcXHgzZFwiJythLnVpLnNwYWNlSWQoXCJ0b3BcIikrJ1wiIGNsYXNzXFx4M2RcImNrZV90b3AgY2tlX3Jlc2V0X2FsbFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgc3R5bGVcXHgzZFwiaGVpZ2h0OmF1dG9cIlxceDNlJytnK1wiXFx4M2Mvc3BhblxceDNlXCI6XCJcIixjb250ZW50SWQ6YS51aS5zcGFjZUlkKFwiY29udGVudHNcIiksYm90dG9tSHRtbDpoPydcXHgzY3NwYW4gaWRcXHgzZFwiJythLnVpLnNwYWNlSWQoXCJib3R0b21cIikrJ1wiIGNsYXNzXFx4M2RcImNrZV9ib3R0b20gY2tlX3Jlc2V0X2FsbFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZScraCtcIlxceDNjL3NwYW5cXHgzZVwiOlwiXCIsb3V0ZXJFbDpDS0VESVRPUi5lbnYuaWU/XCJzcGFuXCI6XCJkaXZcIn0pKTtrPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT8oZS5oaWRlKCksYi5pbnNlcnRBZnRlcihlKSk6XG5lLmFwcGVuZChiKTthLmNvbnRhaW5lcj1iO2EudWkuY29udGVudHNFbGVtZW50PWEudWkuc3BhY2UoXCJjb250ZW50c1wiKTtnJiZhLnVpLnNwYWNlKFwidG9wXCIpLnVuc2VsZWN0YWJsZSgpO2gmJmEudWkuc3BhY2UoXCJib3R0b21cIikudW5zZWxlY3RhYmxlKCk7ZT1hLmNvbmZpZy53aWR0aDtrPWEuY29uZmlnLmhlaWdodDtlJiZiLnNldFN0eWxlKFwid2lkdGhcIixDS0VESVRPUi50b29scy5jc3NMZW5ndGgoZSkpO2smJmEudWkuc3BhY2UoXCJjb250ZW50c1wiKS5zZXRTdHlsZShcImhlaWdodFwiLENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChrKSk7Yi5kaXNhYmxlQ29udGV4dE1lbnUoKTtDS0VESVRPUi5lbnYud2Via2l0JiZiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuZm9jdXMoKX0pO2EuZmlyZU9uY2UoXCJ1aVJlYWR5XCIpfUNLRURJVE9SLnJlcGxhY2U9ZnVuY3Rpb24oYixkKXtyZXR1cm4gYShiLGQsbnVsbCxDS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSl9O0NLRURJVE9SLmFwcGVuZFRvPVxuZnVuY3Rpb24oYixkLGUpe3JldHVybiBhKGIsZCxlLENLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUTyl9O0NLRURJVE9SLnJlcGxhY2VBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKSxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBlPW51bGwsaz1hW2JdO2lmKGsubmFtZXx8ay5pZCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7aWYoIShuZXcgUmVnRXhwKFwiKD86XnxcXFxccylcIithcmd1bWVudHNbMF0rXCIoPzokfFxcXFxzKVwiKSkudGVzdChrLmNsYXNzTmFtZSkpY29udGludWV9ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJihlPXt9LCExPT09YXJndW1lbnRzWzBdKGssZSkpKWNvbnRpbnVlO3RoaXMucmVwbGFjZShrLGUpfX19O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkTW9kZT1mdW5jdGlvbihhLGIpeyh0aGlzLl8ubW9kZXN8fCh0aGlzLl8ubW9kZXM9e30pKVthXT1cbmJ9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuc2V0TW9kZT1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMsaz10aGlzLl8ubW9kZXM7aWYoYSE9ZS5tb2RlJiZrJiZrW2FdKXtlLmZpcmUoXCJiZWZvcmVTZXRNb2RlXCIsYSk7aWYoZS5tb2RlKXt2YXIgZz1lLmNoZWNrRGlydHkoKSxrPWUuXy5wcmV2aW91c01vZGVEYXRhLGgsbT0wO2UuZmlyZShcImJlZm9yZU1vZGVVbmxvYWRcIik7ZS5lZGl0YWJsZSgwKTtlLl8ucHJldmlvdXNNb2RlPWUubW9kZTtlLl8ucHJldmlvdXNNb2RlRGF0YT1oPWUuZ2V0RGF0YSgxKTtcInNvdXJjZVwiPT1lLm1vZGUmJms9PWgmJihlLmZpcmUoXCJsb2NrU25hcHNob3RcIix7Zm9yY2VVcGRhdGU6ITB9KSxtPTEpO2UudWkuc3BhY2UoXCJjb250ZW50c1wiKS5zZXRIdG1sKFwiXCIpO2UubW9kZT1cIlwifWVsc2UgZS5fLnByZXZpb3VzTW9kZURhdGE9ZS5nZXREYXRhKDEpO3RoaXMuXy5tb2Rlc1thXShmdW5jdGlvbigpe2UubW9kZT1hO3ZvaWQgMCE9PWcmJiFnJiZlLnJlc2V0RGlydHkoKTtcbm0/ZS5maXJlKFwidW5sb2NrU25hcHNob3RcIik6XCJ3eXNpd3lnXCI9PWEmJmUuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5maXJlKFwibW9kZVwiKTtiJiZiLmNhbGwoZSl9LDApfSl9fTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihhLGIsZSxrKXt2YXIgZz10aGlzLmNvbnRhaW5lcixoPXRoaXMudWkuc3BhY2UoXCJjb250ZW50c1wiKSxtPUNLRURJVE9SLmVudi53ZWJraXQmJnRoaXMuZG9jdW1lbnQmJnRoaXMuZG9jdW1lbnQuZ2V0V2luZG93KCkuJC5mcmFtZUVsZW1lbnQ7az1rP3RoaXMuY29udGFpbmVyLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNDbGFzcyhcImNrZV9pbm5lclwiKX0pOmc7ay5zZXRTaXplKFwid2lkdGhcIixhLCEwKTttJiYobS5zdHlsZS53aWR0aD1cIjElXCIpO3ZhciBmPShrLiQub2Zmc2V0SGVpZ2h0fHwwKS0oaC4kLmNsaWVudEhlaWdodHx8XG4wKSxnPU1hdGgubWF4KGItKGU/MDpmKSwwKTtiPWU/YitmOmI7aC5zZXRTdHlsZShcImhlaWdodFwiLGcrXCJweFwiKTttJiYobS5zdHlsZS53aWR0aD1cIjEwMCVcIik7dGhpcy5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmIsY29udGVudHNIZWlnaHQ6ZyxvdXRlcldpZHRoOmF8fGsuZ2V0U2l6ZShcIndpZHRoXCIpfSl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZ2V0UmVzaXphYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMudWkuc3BhY2UoXCJjb250ZW50c1wiKTp0aGlzLmNvbnRhaW5lcn07Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXtDS0VESVRPUi5yZXBsYWNlQ2xhc3MmJkNLRURJVE9SLnJlcGxhY2VBbGwoQ0tFRElUT1IucmVwbGFjZUNsYXNzKX0pfSgpLENLRURJVE9SLmNvbmZpZy5zdGFydHVwTW9kZT1cInd5c2l3eWdcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGI9YS5lZGl0b3IsZj1hLmRhdGEucGF0aCxkPWYuYmxvY2tMaW1pdCxnPWEuZGF0YS5zZWxlY3Rpb24sXG5oPWcuZ2V0UmFuZ2VzKClbMF0sbTtpZihDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpaWYoZz1lKGcsZikpZy5hcHBlbmRCb2d1cygpLG09Q0tFRElUT1IuZW52LmllO2soYixmLmJsb2NrLGQpJiZoLmNvbGxhcHNlZCYmIWguZ2V0Q29tbW9uQW5jZXN0b3IoKS5pc1JlYWRPbmx5KCkmJihmPWguY2xvbmUoKSxmLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyksZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKSxkLmd1YXJkPWZ1bmN0aW9uKGEpe3JldHVybiFjKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVHx8YS5pc1JlYWRPbmx5KCl9LCFkLmNoZWNrRm9yd2FyZCgpfHxmLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmYuY2hlY2tFbmRPZkJsb2NrKCkpJiYoYj1oLmZpeEJsb2NrKCEwLGIuYWN0aXZlRW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIiksQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fFxuKGI9Yi5nZXRGaXJzdChjKSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZDS0VESVRPUi50b29scy50cmltKGIuZ2V0VGV4dCgpKS5tYXRjaCgvXig/OiZuYnNwO3xcXHhhMCkkLykmJmIucmVtb3ZlKCksbT0xLGEuY2FuY2VsKCkpO20mJmguc2VsZWN0KCl9ZnVuY3Rpb24gZShhLGIpe2lmKGEuaXNGYWtlKXJldHVybiAwO3ZhciBmPWIuYmxvY2t8fGIuYmxvY2tMaW1pdCxkPWYmJmYuZ2V0TGFzdChjKTtpZighKCFmfHwhZi5pc0Jsb2NrQm91bmRhcnkoKXx8ZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNCbG9ja0JvdW5kYXJ5KCl8fGYuaXMoXCJwcmVcIil8fGYuZ2V0Qm9ndXMoKSkpcmV0dXJuIGZ9ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7Yi5pcyhcImlucHV0XCIpJiYoYj1iLmdldEF0dHJpYnV0ZShcInR5cGVcIiksXCJzdWJtaXRcIiE9YiYmXCJyZXNldFwiIT1ifHxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gZihhKSYmXG5uKGEpfWZ1bmN0aW9uIGQoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGY9Yy5kYXRhLiQudG9FbGVtZW50fHxjLmRhdGEuJC5mcm9tRWxlbWVudHx8Yy5kYXRhLiQucmVsYXRlZFRhcmdldDsoZj1mJiZmLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYpOm51bGwpJiYoYi5lcXVhbHMoZil8fGIuY29udGFpbnMoZikpfHxhLmNhbGwodGhpcyxjKX19ZnVuY3Rpb24gbChhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2QmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzKGcpJiYoZj1iKTtpZighKGR8fCFjKGIpfHxhJiZyKGIpKSlyZXR1cm4hMX19dmFyIGYsZD1hLmdldFJhbmdlcygpWzBdO2E9YS5yb290O3ZhciBnPXt0YWJsZToxLHVsOjEsb2w6MSxkbDoxfTtpZihkLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKGcpKXt2YXIgZT1kLmNsb25lKCk7ZS5jb2xsYXBzZSgxKTtlLnNldFN0YXJ0QXQoYSxcbkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpO2EuZ3VhcmQ9YigpO2EuY2hlY2tCYWNrd2FyZCgpO2lmKGYpcmV0dXJuIGU9ZC5jbG9uZSgpLGUuY29sbGFwc2UoKSxlLnNldEVuZEF0KGYsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxhPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpLGEuZ3VhcmQ9YighMCksZj0hMSxhLmNoZWNrRm9yd2FyZCgpLGZ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gayhhLGIsYyl7cmV0dXJuITEhPT1hLmNvbmZpZy5hdXRvUGFyYWdyYXBoJiZhLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihhLmVkaXRhYmxlKCkuZXF1YWxzKGMpJiYhYnx8YiYmXCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX1mdW5jdGlvbiBnKGEpe3JldHVybiBhLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJiExIT09YS5jb25maWcuYXV0b1BhcmFncmFwaD9cbmEuYWN0aXZlRW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIjohMX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEuZWRpdG9yO2IuZ2V0U2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSwwKX1mdW5jdGlvbiBtKGEsYixjKXt2YXIgZj1hLmdldENvbW1vbkFuY2VzdG9yKGIpO2ZvcihiPWE9Yz9iOmE7KGE9YS5nZXRQYXJlbnQoKSkmJiFmLmVxdWFscyhhKSYmMT09YS5nZXRDaGlsZENvdW50KCk7KWI9YTtiLnJlbW92ZSgpfXZhciBmLG4scCxyLHYseCxxLHQsdSxBO0NLRURJVE9SLmVkaXRhYmxlPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmRvbS5lbGVtZW50LCQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2UoYi4kfHxiKTt0aGlzLmVkaXRvcj1hO3RoaXMuc3RhdHVzPVwidW5sb2FkZWRcIjt0aGlzLmhhc0ZvY3VzPSExO3RoaXMuc2V0dXAoKX0scHJvdG86e2ZvY3VzOmZ1bmN0aW9uKCl7dmFyIGE7XG5pZihDS0VESVRPUi5lbnYud2Via2l0JiYhdGhpcy5oYXNGb2N1cyYmKGE9dGhpcy5lZGl0b3IuXy5wcmV2aW91c0FjdGl2ZXx8dGhpcy5nZXREb2N1bWVudCgpLmdldEFjdGl2ZSgpLHRoaXMuY29udGFpbnMoYSkpKXthLmZvY3VzKCk7cmV0dXJufUNLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbiYmIXRoaXMuaGFzRm9jdXMmJnRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpJiYodGhpcy5lZGl0b3IuXy5wcmV2aW91c1Njcm9sbFRvcD10aGlzLiQuc2Nyb2xsVG9wKTt0cnl7aWYoIUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9ufHwhdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCkpaWYoQ0tFRElUT1IuZW52LmNocm9tZSl7dmFyIGI9dGhpcy4kLnNjcm9sbFRvcDt0aGlzLiQuZm9jdXMoKTt0aGlzLiQuc2Nyb2xsVG9wPWJ9ZWxzZSB0aGlzLiQuZm9jdXMoKTtcbmVsc2UgdGhpcy4kLnNldEFjdGl2ZSgpfWNhdGNoKGMpe2lmKCFDS0VESVRPUi5lbnYuaWUpdGhyb3cgYzt9Q0tFRElUT1IuZW52LnNhZmFyaSYmIXRoaXMuaXNJbmxpbmUoKSYmKGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCksYS5lcXVhbHModGhpcy5nZXRXaW5kb3coKS5nZXRGcmFtZSgpKXx8dGhpcy5nZXRXaW5kb3coKS5mb2N1cygpKX0sb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Q0tFRElUT1IuZW52LmllJiYvXmZvY3VzfGJsdXIkLy5leGVjKGEpJiYoYT1cImZvY3VzXCI9PWE/XCJmb2N1c2luXCI6XCJmb2N1c291dFwiLGI9ZChiLHRoaXMpLGNbMF09YSxjWzFdPWIpO3JldHVybiBDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxjKX0sYXR0YWNoTGlzdGVuZXI6ZnVuY3Rpb24oYSl7IXRoaXMuXy5saXN0ZW5lcnMmJih0aGlzLl8ubGlzdGVuZXJzPVtdKTt2YXIgYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsXG4xKSxiPWEub24uYXBwbHkoYSxiKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYik7cmV0dXJuIGJ9LGNsZWFyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmxpc3RlbmVyczt0cnl7Zm9yKDthLmxlbmd0aDspYS5wb3AoKS5yZW1vdmVMaXN0ZW5lcigpfWNhdGNoKGIpe319LHJlc3RvcmVBdHRyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5hdHRyQ2hhbmdlcyxiLGM7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoYj1hW2NdLG51bGwhPT1iP3RoaXMuc2V0QXR0cmlidXRlKGMsYik6dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYykpfSxhdHRhY2hDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEN1c3RvbURhdGEoXCJjbGFzc2VzXCIpO3RoaXMuaGFzQ2xhc3MoYSl8fCghYiYmKGI9W10pLGIucHVzaChhKSx0aGlzLnNldEN1c3RvbURhdGEoXCJjbGFzc2VzXCIsYiksdGhpcy5hZGRDbGFzcyhhKSl9LGNoYW5nZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEF0dHJpYnV0ZShhKTtcbmIhPT1jJiYoIXRoaXMuXy5hdHRyQ2hhbmdlcyYmKHRoaXMuXy5hdHRyQ2hhbmdlcz17fSksYSBpbiB0aGlzLl8uYXR0ckNoYW5nZXN8fCh0aGlzLl8uYXR0ckNoYW5nZXNbYV09YyksdGhpcy5zZXRBdHRyaWJ1dGUoYSxiKSl9LGluc2VydFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZm9jdXMoKTt0aGlzLmluc2VydEh0bWwodGhpcy50cmFuc2Zvcm1QbGFpblRleHRUb0h0bWwoYSksXCJ0ZXh0XCIpfSx0cmFuc2Zvcm1QbGFpblRleHRUb0h0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkuaGFzQXNjZW5kYW50KFwicHJlXCIsITApP0NLRURJVE9SLkVOVEVSX0JSOnRoaXMuZWRpdG9yLmFjdGl2ZUVudGVyTW9kZTtyZXR1cm4gQ0tFRElUT1IudG9vbHMudHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sKGEsYil9LGluc2VydEh0bWw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBmPXRoaXMuZWRpdG9yO2YuZm9jdXMoKTtmLmZpcmUoXCJzYXZlU25hcHNob3RcIik7XG5jfHwoYz1mLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdKTt4KHRoaXMsYnx8XCJodG1sXCIsYSxjKTtjLnNlbGVjdCgpO2godGhpcyk7dGhpcy5lZGl0b3IuZmlyZShcImFmdGVySW5zZXJ0SHRtbFwiLHt9KX0saW5zZXJ0SHRtbEludG9SYW5nZTpmdW5jdGlvbihhLGIsYyl7eCh0aGlzLGN8fFwiaHRtbFwiLGEsYik7dGhpcy5lZGl0b3IuZmlyZShcImFmdGVySW5zZXJ0SHRtbFwiLHtpbnRvUmFuZ2U6Yn0pfSxpbnNlcnRFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGY9dGhpcy5lZGl0b3I7Zi5mb2N1cygpO2YuZmlyZShcInNhdmVTbmFwc2hvdFwiKTt2YXIgZD1mLmFjdGl2ZUVudGVyTW9kZSxmPWYuZ2V0U2VsZWN0aW9uKCksZz1hLmdldE5hbWUoKSxnPUNLRURJVE9SLmR0ZC4kYmxvY2tbZ107Ynx8KGI9Zi5nZXRSYW5nZXMoKVswXSk7dGhpcy5pbnNlcnRFbGVtZW50SW50b1JhbmdlKGEsYikmJihiLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxnJiYoKGc9XG5hLmdldE5leHQoZnVuY3Rpb24oYSl7cmV0dXJuIGMoYSkmJiFyKGEpfSkpJiZnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZy5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKT9nLmdldER0ZCgpW1wiI1wiXT9iLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZyk6Yi5tb3ZlVG9FbGVtZW50RWRpdEVuZChhKTpnfHxkPT1DS0VESVRPUi5FTlRFUl9CUnx8KGc9Yi5maXhCbG9jayghMCxkPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIiksYi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGcpKSkpO2Yuc2VsZWN0UmFuZ2VzKFtiXSk7aCh0aGlzKX0saW5zZXJ0RWxlbWVudEludG9TZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRFbGVtZW50KGEpfSxpbnNlcnRFbGVtZW50SW50b1JhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGl0b3IsZj1jLmNvbmZpZy5lbnRlck1vZGUsZD1hLmdldE5hbWUoKSxnPUNLRURJVE9SLmR0ZC4kYmxvY2tbZF07aWYoYi5jaGVja1JlYWRPbmx5KCkpcmV0dXJuITE7XG5iLmRlbGV0ZUNvbnRlbnRzKDEpO2Iuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYi5zdGFydENvbnRhaW5lci5pcyh7dHI6MSx0YWJsZToxLHRib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxfSk/cShiKTpiLnN0YXJ0Q29udGFpbmVyLmlzKENLRURJVE9SLmR0ZC4kbGlzdCkmJnQoYikpO3ZhciBlLGg7aWYoZylmb3IoOyhlPWIuZ2V0Q29tbW9uQW5jZXN0b3IoMCwxKSkmJihoPUNLRURJVE9SLmR0ZFtlLmdldE5hbWUoKV0pJiYoIWh8fCFoW2RdKTspZS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuc3Bhbj9iLnNwbGl0RWxlbWVudChlKTpiLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmIuY2hlY2tFbmRPZkJsb2NrKCk/KGIuc2V0U3RhcnRCZWZvcmUoZSksYi5jb2xsYXBzZSghMCksZS5yZW1vdmUoKSk6Yi5zcGxpdEJsb2NrKGY9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiLGMuZWRpdGFibGUoKSk7Yi5pbnNlcnROb2RlKGEpO3JldHVybiEwfSxzZXREYXRhOmZ1bmN0aW9uKGEsXG5iKXtifHwoYT10aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvSHRtbChhKSk7dGhpcy5zZXRIdG1sKGEpO3RoaXMuZml4SW5pdGlhbFNlbGVjdGlvbigpO1widW5sb2FkZWRcIj09dGhpcy5zdGF0dXMmJih0aGlzLnN0YXR1cz1cInJlYWR5XCIpO3RoaXMuZWRpdG9yLmZpcmUoXCJkYXRhUmVhZHlcIil9LGdldERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRIdG1sKCk7YXx8KGI9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQoYikpO3JldHVybiBifSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXt0aGlzLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCFhKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcyhcImNrZV9lZGl0YWJsZVwiKTt0aGlzLnN0YXR1cz1cImRldGFjaGVkXCI7dmFyIGE9dGhpcy5lZGl0b3I7dGhpcy5fLmRldGFjaCgpO2RlbGV0ZSBhLmRvY3VtZW50O2RlbGV0ZSBhLndpbmRvd30saXNJbmxpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCl9LFxuZml4SW5pdGlhbFNlbGVjdGlvbjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgYj1jLmdldERvY3VtZW50KCkuJCxmPWIuZ2V0U2VsZWN0aW9uKCksZDthOmlmKGYuYW5jaG9yTm9kZSYmZi5hbmNob3JOb2RlPT1jLiQpZD0hMDtlbHNle2lmKENLRURJVE9SLmVudi53ZWJraXQmJihkPWMuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKSkmJmQuZXF1YWxzKGMpJiYhZi5hbmNob3JOb2RlKXtkPSEwO2JyZWFrIGF9ZD12b2lkIDB9ZCYmKGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZShjKSxkLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYyksYj1iLmNyZWF0ZVJhbmdlKCksYi5zZXRTdGFydChkLnN0YXJ0Q29udGFpbmVyLiQsZC5zdGFydE9mZnNldCksYi5jb2xsYXBzZSghMCksZi5yZW1vdmVBbGxSYW5nZXMoKSxmLmFkZFJhbmdlKGIpKX1mdW5jdGlvbiBiKCl7dmFyIGE9Yy5nZXREb2N1bWVudCgpLiQsZj1hLnNlbGVjdGlvbixkPWMuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKTtcIk5vbmVcIj09XG5mLnR5cGUmJmQuZXF1YWxzKGMpJiYoZj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGMpLGE9YS5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpLGYubW92ZVRvRWxlbWVudEVkaXRTdGFydChjKSxmPWYuc3RhcnRDb250YWluZXIsZi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihmPWYuZ2V0UGFyZW50KCkpLGEubW92ZVRvRWxlbWVudFRleHQoZi4kKSxhLmNvbGxhcHNlKCEwKSxhLnNlbGVjdCgpKX12YXIgYz10aGlzO2lmKENLRURJVE9SLmVudi5pZSYmKDk+Q0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5xdWlya3MpKXRoaXMuaGFzRm9jdXMmJih0aGlzLmZvY3VzKCksYigpKTtlbHNlIGlmKHRoaXMuaGFzRm9jdXMpdGhpcy5mb2N1cygpLGEoKTtlbHNlIHRoaXMub25jZShcImZvY3VzXCIsZnVuY3Rpb24oKXthKCl9LG51bGwsbnVsbCwtOTk5KX0sZ2V0SHRtbEZyb21SYW5nZTpmdW5jdGlvbihhKXtpZihhLmNvbGxhcHNlZClyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZG9jdW1lbnQpO1xuYT17ZG9jOnRoaXMuZ2V0RG9jdW1lbnQoKSxyYW5nZTphLmNsb25lKCl9O3UuZW9sLmRldGVjdChhLHRoaXMpO3UuYm9ndXMuZXhjbHVkZShhKTt1LmNlbGwuc2hyaW5rKGEpO2EuZnJhZ21lbnQ9YS5yYW5nZS5jbG9uZUNvbnRlbnRzKCk7dS50cmVlLnJlYnVpbGQoYSx0aGlzKTt1LmVvbC5maXgoYSx0aGlzKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZnJhZ21lbnQuJCl9LGV4dHJhY3RIdG1sRnJvbVJhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9QSxmPXtyYW5nZTphLGRvYzphLmRvY3VtZW50fSxkPXRoaXMuZ2V0SHRtbEZyb21SYW5nZShhKTtpZihhLmNvbGxhcHNlZClyZXR1cm4gYS5vcHRpbWl6ZSgpLGQ7YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO2MudGFibGUuZGV0ZWN0UHVyZ2UoZik7Zi5ib29rbWFyaz1hLmNyZWF0ZUJvb2ttYXJrKCk7ZGVsZXRlIGYucmFuZ2U7dmFyIGc9dGhpcy5lZGl0b3IuY3JlYXRlUmFuZ2UoKTtcbmcubW92ZVRvUG9zaXRpb24oZi5ib29rbWFyay5zdGFydE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtmLnRhcmdldEJvb2ttYXJrPWcuY3JlYXRlQm9va21hcmsoKTtjLmxpc3QuZGV0ZWN0TWVyZ2UoZix0aGlzKTtjLnRhYmxlLmRldGVjdFJhbmdlcyhmLHRoaXMpO2MuYmxvY2suZGV0ZWN0TWVyZ2UoZix0aGlzKTtmLnRhYmxlQ29udGVudHNSYW5nZXM/KGMudGFibGUuZGVsZXRlUmFuZ2VzKGYpLGEubW92ZVRvQm9va21hcmsoZi5ib29rbWFyayksZi5yYW5nZT1hKTooYS5tb3ZlVG9Cb29rbWFyayhmLmJvb2ttYXJrKSxmLnJhbmdlPWEsYS5leHRyYWN0Q29udGVudHMoYy5kZXRlY3RFeHRyYWN0TWVyZ2UoZikpKTthLm1vdmVUb0Jvb2ttYXJrKGYudGFyZ2V0Qm9va21hcmspO2Eub3B0aW1pemUoKTtjLmZpeFVuZWRpdGFibGVSYW5nZVBvc2l0aW9uKGEpO2MubGlzdC5tZXJnZShmLHRoaXMpO2MudGFibGUucHVyZ2UoZix0aGlzKTtjLmJsb2NrLm1lcmdlKGYsdGhpcyk7XG5pZihiKXtjPWEuc3RhcnRQYXRoKCk7aWYoZj1hLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmEuY2hlY2tFbmRPZkJsb2NrKCkmJmMuYmxvY2smJiFhLnJvb3QuZXF1YWxzKGMuYmxvY2spKXthOnt2YXIgZj1jLmJsb2NrLmdldEVsZW1lbnRzQnlUYWcoXCJzcGFuXCIpLGc9MCxlO2lmKGYpZm9yKDtlPWYuZ2V0SXRlbShnKyspOylpZighbihlKSl7Zj0hMDticmVhayBhfWY9ITF9Zj0hZn1mJiYoYS5tb3ZlVG9Qb3NpdGlvbihjLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksYy5ibG9jay5yZW1vdmUoKSl9ZWxzZSBjLmF1dG9QYXJhZ3JhcGgodGhpcy5lZGl0b3IsYSkscChhLnN0YXJ0Q29udGFpbmVyKSYmYS5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpO2Euc3RhcnRDb250YWluZXIubWVyZ2VTaWJsaW5ncygpO3JldHVybiBkfSxzZXR1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUdldERhdGFcIixmdW5jdGlvbigpe3ZhciBiPVxudGhpcy5nZXREYXRhKCk7dGhpcy5pcyhcInRleHRhcmVhXCIpfHwhMSE9PWEuY29uZmlnLmlnbm9yZUVtcHR5UGFyYWdyYXBoJiYoYj1iLnJlcGxhY2UodixmdW5jdGlvbihhLGIpe3JldHVybiBifSkpO2Euc2V0RGF0YShiLG51bGwsMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImdldFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7YS5kYXRhPXRoaXMuZ2V0RGF0YSgxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYWZ0ZXJTZXREYXRhXCIsZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoYS5nZXREYXRhKDEpKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7dGhpcy5zZXREYXRhKGEuZGF0YSwxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlRm9jdXNcIixmdW5jdGlvbigpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCk7KGI9YiYmYi5nZXROYXRpdmUoKSkmJlwiQ29udHJvbFwiPT1iLnR5cGV8fHRoaXMuZm9jdXMoKX0sXG50aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJpbnNlcnRIdG1sXCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRIdG1sKGEuZGF0YS5kYXRhVmFsdWUsYS5kYXRhLm1vZGUsYS5kYXRhLnJhbmdlKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0RWxlbWVudChhLmRhdGEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJpbnNlcnRUZXh0XCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRUZXh0KGEuZGF0YSl9LHRoaXMpO3RoaXMuc2V0UmVhZE9ubHkoYS5yZWFkT25seSk7dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9lZGl0YWJsZVwiKTthLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVfaW5saW5lXCIpOmEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZhLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE98fFxudGhpcy5hdHRhY2hDbGFzcyhcImNrZV9lZGl0YWJsZV90aGVtZWRcIik7dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9jb250ZW50c19cIithLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24pO2Eua2V5c3Ryb2tlSGFuZGxlci5ibG9ja2VkS2V5c3Ryb2tlc1s4XT0rYS5yZWFkT25seTthLmtleXN0cm9rZUhhbmRsZXIuYXR0YWNoKHRoaXMpO3RoaXMub24oXCJibHVyXCIsZnVuY3Rpb24oKXt0aGlzLmhhc0ZvY3VzPSExfSxudWxsLG51bGwsLTEpO3RoaXMub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dGhpcy5oYXNGb2N1cz0hMH0sbnVsbCxudWxsLC0xKTtpZihDS0VESVRPUi5lbnYud2Via2l0KXRoaXMub24oXCJzY3JvbGxcIixmdW5jdGlvbigpe2EuXy5wcmV2aW91c1Njcm9sbFRvcD1hLmVkaXRhYmxlKCkuJC5zY3JvbGxUb3B9LG51bGwsbnVsbCwtMSk7aWYoQ0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9uKXt2YXIgZD1mdW5jdGlvbigpe3ZhciBiPWEuZWRpdGFibGUoKTtcbm51bGwhPWEuXy5wcmV2aW91c1Njcm9sbFRvcCYmYi5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCkmJihiLiQuc2Nyb2xsVG9wPWEuXy5wcmV2aW91c1Njcm9sbFRvcCxhLl8ucHJldmlvdXNTY3JvbGxUb3A9bnVsbCx0aGlzLnJlbW92ZUxpc3RlbmVyKFwic2Nyb2xsXCIsZCkpfTt0aGlzLm9uKFwic2Nyb2xsXCIsZCl9YS5mb2N1c01hbmFnZXIuYWRkKHRoaXMpO3RoaXMuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpKSYmKHRoaXMuaGFzRm9jdXM9ITAsYS5vbmNlKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7YS5mb2N1c01hbmFnZXIuZm9jdXModGhpcyl9LHRoaXMpKTt0aGlzLmlzSW5saW5lKCkmJnRoaXMuY2hhbmdlQXR0cihcInRhYmluZGV4XCIsYS50YWJJbmRleCk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7YS5kb2N1bWVudD10aGlzLmdldERvY3VtZW50KCk7YS53aW5kb3c9dGhpcy5nZXRXaW5kb3coKTt2YXIgZz1hLmRvY3VtZW50O3RoaXMuY2hhbmdlQXR0cihcInNwZWxsY2hlY2tcIixcbiFhLmNvbmZpZy5kaXNhYmxlTmF0aXZlU3BlbGxDaGVja2VyKTt2YXIgZT1hLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb247dGhpcy5nZXREaXJlY3Rpb24oMSkhPWUmJnRoaXMuY2hhbmdlQXR0cihcImRpclwiLGUpO3ZhciBoPUNLRURJVE9SLmdldENzcygpO2lmKGgpe3ZhciBlPWcuZ2V0SGVhZCgpLGs9ZS5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKTtrP2ghPWsuZ2V0VGV4dCgpJiYoQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uP2suJC5zdHlsZVNoZWV0LmNzc1RleHQ9aDprLnNldFRleHQoaCkpOihoPWcuYXBwZW5kU3R5bGVUZXh0KGgpLGg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGgub3duZXJOb2RlfHxoLm93bmluZ0VsZW1lbnQpLGUuc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIixoKSxoLmRhdGEoXCJja2UtdGVtcFwiLDEpKX1lPWcuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpfHwwO2cuc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIsXG5lKzEpO3RoaXMuc2V0Q3VzdG9tRGF0YShcImNrZV9pbmNsdWRlUmVhZG9ubHlcIiwhYS5jb25maWcuZGlzYWJsZVJlYWRvbmx5U3R5bGluZyk7dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLmdldFRhcmdldCgpLHRoaXMpKS5jb250YWlucyhcImFcIik7YiYmMiE9YS4kLmJ1dHRvbiYmYi5pc1JlYWRPbmx5KCkmJmEucHJldmVudERlZmF1bHQoKX0pO3ZhciBuPXs4OjEsNDY6MX07dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwia2V5XCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMDt2YXIgYz1iLmRhdGEuZG9tRXZlbnQuZ2V0S2V5KCksZDtiPWEuZ2V0U2VsZWN0aW9uKCk7aWYoMCE9PWIuZ2V0UmFuZ2VzKCkubGVuZ3RoKXtpZihjIGluIG4pe3ZhciBnLGU9Yi5nZXRSYW5nZXMoKVswXSxoPWUuc3RhcnRQYXRoKCksbSxrLHAsYz04PT1jO0NLRURJVE9SLmVudi5pZSYmXG4xMT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGc9Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKSl8fChnPWwoYikpPyhhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZS5tb3ZlVG9Qb3NpdGlvbihnLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZy5yZW1vdmUoKSxlLnNlbGVjdCgpLGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxkPTEpOmUuY29sbGFwc2VkJiYoKG09aC5ibG9jaykmJihwPW1bYz9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGYpKSYmcC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnAuaXMoXCJ0YWJsZVwiKSYmZVtjP1wiY2hlY2tTdGFydE9mQmxvY2tcIjpcImNoZWNrRW5kT2ZCbG9ja1wiXSgpPyhhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZVtjP1wiY2hlY2tFbmRPZkJsb2NrXCI6XCJjaGVja1N0YXJ0T2ZCbG9ja1wiXSgpJiZtLnJlbW92ZSgpLGVbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhjP1wiRW5kXCI6XCJTdGFydFwiKV0ocCksZS5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksXG5kPTEpOmguYmxvY2tMaW1pdCYmaC5ibG9ja0xpbWl0LmlzKFwidGRcIikmJihrPWguYmxvY2tMaW1pdC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSkmJmUuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChrLGM/Q0tFRElUT1IuU1RBUlQ6Q0tFRElUT1IuRU5EKSYmKHA9a1tjP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZikpPyhhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZVtcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGM/XCJFbmRcIjpcIlN0YXJ0XCIpXShwKSxlLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmUuY2hlY2tFbmRPZkJsb2NrKCk/cC5yZW1vdmUoKTplLnNlbGVjdCgpLGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxkPTEpOihrPWguY29udGFpbnMoW1widGRcIixcInRoXCIsXCJjYXB0aW9uXCJdKSkmJmUuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChrLGM/Q0tFRElUT1IuU1RBUlQ6Q0tFRElUT1IuRU5EKSYmKGQ9MSkpfXJldHVybiFkfX0pO2EuYmxvY2tsZXNzJiZDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZcbnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImtleXVwXCIsZnVuY3Rpb24oYil7Yi5kYXRhLmdldEtleXN0cm9rZSgpaW4gbiYmIXRoaXMuZ2V0Rmlyc3QoYykmJih0aGlzLmFwcGVuZEJvZ3VzKCksYj1hLmNyZWF0ZVJhbmdlKCksYi5tb3ZlVG9Qb3NpdGlvbih0aGlzLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxiLnNlbGVjdCgpKX0pO3RoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImRibGNsaWNrXCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMTtiPXtlbGVtZW50OmIuZGF0YS5nZXRUYXJnZXQoKX07YS5maXJlKFwiZG91YmxlY2xpY2tcIixiKX0pO0NLRURJVE9SLmVudi5pZSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixiKTtDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZXx8dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmdldFRhcmdldCgpO2MuaXMoXCJpbWdcIixcImhyXCIsXG5cImlucHV0XCIsXCJ0ZXh0YXJlYVwiLFwic2VsZWN0XCIpJiYhYy5pc1JlYWRPbmx5KCkmJihhLmdldFNlbGVjdGlvbigpLnNlbGVjdEVsZW1lbnQoYyksYy5pcyhcImlucHV0XCIsXCJ0ZXh0YXJlYVwiLFwic2VsZWN0XCIpJiZiLmRhdGEucHJldmVudERlZmF1bHQoKSl9KTtDS0VESVRPUi5lbnYuZWRnZSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGIpeyhiPWIuZGF0YS5nZXRUYXJnZXQoKSkmJmIuaXMoXCJpbWdcIikmJmEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChiKX0pO0NLRURJVE9SLmVudi5nZWNrbyYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGIpe2lmKDI9PWIuZGF0YS4kLmJ1dHRvbiYmKGI9Yi5kYXRhLmdldFRhcmdldCgpLCFiLmdldE91dGVySHRtbCgpLnJlcGxhY2UodixcIlwiKSkpe3ZhciBjPWEuY3JlYXRlUmFuZ2UoKTtjLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYik7Yy5zZWxlY3QoITApfX0pO0NLRURJVE9SLmVudi53ZWJraXQmJlxuKHRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldFRhcmdldCgpLmlzKFwiaW5wdXRcIixcInNlbGVjdFwiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJtb3VzZXVwXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldFRhcmdldCgpLmlzKFwiaW5wdXRcIixcInRleHRhcmVhXCIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0pKTtDS0VESVRPUi5lbnYud2Via2l0JiZ0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJrZXlcIixmdW5jdGlvbihiKXtpZihhLnJlYWRPbmx5KXJldHVybiEwO3ZhciBjPWIuZGF0YS5kb21FdmVudC5nZXRLZXkoKTtpZihjIGluIG4mJihiPWEuZ2V0U2VsZWN0aW9uKCksMCE9PWIuZ2V0UmFuZ2VzKCkubGVuZ3RoKSl7dmFyIGM9OD09YyxmPWIuZ2V0UmFuZ2VzKClbMF07Yj1mLnN0YXJ0UGF0aCgpO2lmKGYuY29sbGFwc2VkKWE6e3ZhciBkPWIuYmxvY2s7aWYoZCYmZltjP1wiY2hlY2tTdGFydE9mQmxvY2tcIjpcblwiY2hlY2tFbmRPZkJsb2NrXCJdKCkmJmYubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oZCwhYykmJmYuY29sbGFwc2VkKXtpZihmLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7dmFyIGc9Zi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChmLnN0YXJ0T2Zmc2V0LShjPzE6MCkpO2lmKGcmJmcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmlzKFwiaHJcIikpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtnLnJlbW92ZSgpO2I9ITA7YnJlYWsgYX19Zj1mLnN0YXJ0UGF0aCgpLmJsb2NrO2lmKCFmfHxmJiZmLmNvbnRhaW5zKGQpKWI9dm9pZCAwO2Vsc2V7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3ZhciBlOyhlPShjP2Y6ZCkuZ2V0Qm9ndXMoKSkmJmUucmVtb3ZlKCk7ZT1hLmdldFNlbGVjdGlvbigpO2c9ZS5jcmVhdGVCb29rbWFya3MoKTsoYz9kOmYpLm1vdmVDaGlsZHJlbihjP2Y6ZCwhMSk7Yi5sYXN0RWxlbWVudC5tZXJnZVNpYmxpbmdzKCk7XG5tKGQsZiwhYyk7ZS5zZWxlY3RCb29rbWFya3MoZyk7Yj0hMH19ZWxzZSBiPSExfWVsc2UgYz1mLGU9Yi5ibG9jayxmPWMuZW5kUGF0aCgpLmJsb2NrLGUmJmYmJiFlLmVxdWFscyhmKT8oYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLChkPWUuZ2V0Qm9ndXMoKSkmJmQucmVtb3ZlKCksYy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FKSxjLmRlbGV0ZUNvbnRlbnRzKCksZi5nZXRQYXJlbnQoKSYmKGYubW92ZUNoaWxkcmVuKGUsITEpLGIubGFzdEVsZW1lbnQubWVyZ2VTaWJsaW5ncygpLG0oZSxmLCEwKSksYz1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdLGMuY29sbGFwc2UoMSksYy5vcHRpbWl6ZSgpLFwiXCI9PT1jLnN0YXJ0Q29udGFpbmVyLmdldEh0bWwoKSYmYy5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpLGMuc2VsZWN0KCksYj0hMCk6Yj0hMTtpZighYilyZXR1cm47YS5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtcbnJldHVybiExfX0sdGhpcyxudWxsLDEwMCl9fX0sXzp7ZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3Iuc2V0RGF0YSh0aGlzLmVkaXRvci5nZXREYXRhKCksMCwxKTt0aGlzLmNsZWFyTGlzdGVuZXJzKCk7dGhpcy5yZXN0b3JlQXR0cnMoKTt2YXIgYTtpZihhPXRoaXMucmVtb3ZlQ3VzdG9tRGF0YShcImNsYXNzZXNcIikpZm9yKDthLmxlbmd0aDspdGhpcy5yZW1vdmVDbGFzcyhhLnBvcCgpKTtpZighdGhpcy5pcyhcInRleHRhcmVhXCIpKXthPXRoaXMuZ2V0RG9jdW1lbnQoKTt2YXIgYj1hLmdldEhlYWQoKTtpZihiLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0XCIpKXt2YXIgYz1hLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiKTstLWM/YS5zZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIixjKTooYS5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIiksYi5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKS5yZW1vdmUoKSl9fXRoaXMuZWRpdG9yLmZpcmUoXCJjb250ZW50RG9tVW5sb2FkXCIpO1xuZGVsZXRlIHRoaXMuZWRpdG9yfX19KTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmVkaXRhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5lZGl0YWJsZTtpZihiJiZhKXJldHVybiAwO2FyZ3VtZW50cy5sZW5ndGgmJihiPXRoaXMuXy5lZGl0YWJsZT1hP2EgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZT9hOm5ldyBDS0VESVRPUi5lZGl0YWJsZSh0aGlzLGEpOihiJiZiLmRldGFjaCgpLG51bGwpKTtyZXR1cm4gYn07Q0tFRElUT1Iub24oXCJpbnN0YW5jZUxvYWRlZFwiLGZ1bmN0aW9uKGIpe3ZhciBjPWIuZWRpdG9yO2Mub24oXCJpbnNlcnRFbGVtZW50XCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhLmlzKFwiaW5wdXRcIil8fGEuaXMoXCJ0ZXh0YXJlYVwiKSkmJihcImZhbHNlXCIhPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZhLmRhdGEoXCJja2UtZWRpdGFibGVcIixhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9cblwidHJ1ZVwiOlwiMVwiKSxhLnNldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiLCExKSl9KTtjLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYil7aWYoIWMucmVhZE9ubHkpe3ZhciBmPWMuZ2V0U2VsZWN0aW9uKCk7ZiYmIWYuaXNMb2NrZWQmJihmPWMuY2hlY2tEaXJ0eSgpLGMuZmlyZShcImxvY2tTbmFwc2hvdFwiKSxhKGIpLGMuZmlyZShcInVubG9ja1NuYXBzaG90XCIpLCFmJiZjLnJlc2V0RGlydHkoKSl9fSl9KTtDS0VESVRPUi5vbihcImluc3RhbmNlQ3JlYXRlZFwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yO2Iub24oXCJtb2RlXCIsZnVuY3Rpb24oKXt2YXIgYT1iLmVkaXRhYmxlKCk7aWYoYSYmYS5pc0lubGluZSgpKXt2YXIgYz1iLnRpdGxlO2EuY2hhbmdlQXR0cihcInJvbGVcIixcInRleHRib3hcIik7YS5jaGFuZ2VBdHRyKFwiYXJpYS1sYWJlbFwiLGMpO2MmJmEuY2hhbmdlQXR0cihcInRpdGxlXCIsYyk7dmFyIGY9Yi5maXJlKFwiYXJpYUVkaXRvckhlbHBMYWJlbFwiLHt9KS5sYWJlbDtcbmlmKGYmJihjPXRoaXMudWkuc3BhY2UodGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9cInRvcFwiOlwiY29udGVudHNcIikpKXt2YXIgZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSxmPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY3NwYW4gaWRcXHgzZFwiJytkKydcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJytmK1wiXFx4M2Mvc3BhblxceDNlXCIpO2MuYXBwZW5kKGYpO2EuY2hhbmdlQXR0cihcImFyaWEtZGVzY3JpYmVkYnlcIixkKX19fSl9KTtDS0VESVRPUi5hZGRDc3MoXCIuY2tlX2VkaXRhYmxle2N1cnNvcjp0ZXh0fS5ja2VfZWRpdGFibGUgaW1nLC5ja2VfZWRpdGFibGUgaW5wdXQsLmNrZV9lZGl0YWJsZSB0ZXh0YXJlYXtjdXJzb3I6ZGVmYXVsdH1cIik7Zj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKTtuPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApO3A9Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eSgpO1xucj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7dj0vKF58PGJvZHlcXGJbXj5dKj4pXFxzKjwocHxkaXZ8YWRkcmVzc3xoXFxkfGNlbnRlcnxwcmUpW14+XSo+XFxzKig/OjxicltePl0qPnwmbmJzcDt8XFx1MDBBMHwmIzE2MDspP1xccyooOj88XFwvXFwyPik/XFxzKig/PSR8PFxcL2JvZHk+KS9naTt4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR9ZnVuY3Rpb24gYihjLGYpe3ZhciBkLGcsZSxoLG09W10saz1mLnJhbmdlLnN0YXJ0Q29udGFpbmVyO2Q9Zi5yYW5nZS5zdGFydFBhdGgoKTtmb3IodmFyIGs9bFtrLmdldE5hbWUoKV0sbj0wLHA9Yy5nZXRDaGlsZHJlbigpLHE9cC5jb3VudCgpLHQ9LTEsdT0tMSxFPTAsdj1kLmNvbnRhaW5zKGwuJGxpc3QpO248cTsrK24pZD1wLmdldEl0ZW0obiksYShkKT8oZT1kLmdldE5hbWUoKSx2JiZlIGluIENLRURJVE9SLmR0ZC4kbGlzdD9tPW0uY29uY2F0KGIoZCxmKSk6KGg9ISFrW2VdLFxuXCJiclwiIT1lfHwhZC5kYXRhKFwiY2tlLWVvbFwiKXx8biYmbiE9cS0xfHwoRT0oZz1uP21bbi0xXS5ub2RlOnAuZ2V0SXRlbShuKzEpKSYmKCFhKGcpfHwhZy5pcyhcImJyXCIpKSxnPWcmJmEoZykmJmwuJGJsb2NrW2cuZ2V0TmFtZSgpXSksLTEhPXR8fGh8fCh0PW4pLGh8fCh1PW4pLG0ucHVzaCh7aXNFbGVtZW50OjEsaXNMaW5lQnJlYWs6RSxpc0Jsb2NrOmQuaXNCbG9ja0JvdW5kYXJ5KCksaGFzQmxvY2tTaWJsaW5nOmcsbm9kZTpkLG5hbWU6ZSxhbGxvd2VkOmh9KSxnPUU9MCkpOm0ucHVzaCh7aXNFbGVtZW50OjAsbm9kZTpkLGFsbG93ZWQ6MX0pOy0xPHQmJihtW3RdLmZpcnN0Tm90QWxsb3dlZD0xKTstMTx1JiYobVt1XS5sYXN0Tm90QWxsb3dlZD0xKTtyZXR1cm4gbX1mdW5jdGlvbiBmKGIsYyl7dmFyIGQ9W10sZz1iLmdldENoaWxkcmVuKCksZT1nLmNvdW50KCksaCxtPTAsaz1sW2NdLG49IWIuaXMobC4kaW5saW5lKXx8Yi5pcyhcImJyXCIpO2ZvcihuJiZkLnB1c2goXCIgXCIpO208ZTttKyspaD1cbmcuZ2V0SXRlbShtKSxhKGgpJiYhaC5pcyhrKT9kPWQuY29uY2F0KGYoaCxjKSk6ZC5wdXNoKGgpO24mJmQucHVzaChcIiBcIik7cmV0dXJuIGR9ZnVuY3Rpb24gZChiKXtyZXR1cm4gYShiLnN0YXJ0Q29udGFpbmVyKSYmYi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0LTEpfWZ1bmN0aW9uIGUoYil7cmV0dXJuIGImJmEoYikmJihiLmlzKGwuJHJlbW92ZUVtcHR5KXx8Yi5pcyhcImFcIikmJiFiLmlzQmxvY2tCb3VuZGFyeSgpKX1mdW5jdGlvbiBoKGIsYyxmLGQpe3ZhciBnPWIuY2xvbmUoKSxlLG07Zy5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpOyhlPShuZXcgQ0tFRElUT1IuZG9tLndhbGtlcihnKSkubmV4dCgpKSYmYShlKSYmbltlLmdldE5hbWUoKV0mJihtPWUuZ2V0UHJldmlvdXMoKSkmJmEobSkmJiFtLmdldFBhcmVudCgpLmVxdWFscyhiLnN0YXJ0Q29udGFpbmVyKSYmZi5jb250YWlucyhtKSYmZC5jb250YWlucyhlKSYmZS5pc0lkZW50aWNhbChtKSYmXG4oZS5tb3ZlQ2hpbGRyZW4obSksZS5yZW1vdmUoKSxoKGIsYyxmLGQpKX1mdW5jdGlvbiBtKGIsYyl7ZnVuY3Rpb24gZihiLGMpe2lmKGMuaXNCbG9jayYmYy5pc0VsZW1lbnQmJiFjLm5vZGUuaXMoXCJiclwiKSYmYShiKSYmYi5pcyhcImJyXCIpKXJldHVybiBiLnJlbW92ZSgpLDF9dmFyIGQ9Yy5lbmRDb250YWluZXIuZ2V0Q2hpbGQoYy5lbmRPZmZzZXQpLGc9Yy5lbmRDb250YWluZXIuZ2V0Q2hpbGQoYy5lbmRPZmZzZXQtMSk7ZCYmZihkLGJbYi5sZW5ndGgtMV0pO2cmJmYoZyxiWzBdKSYmKGMuc2V0RW5kKGMuZW5kQ29udGFpbmVyLGMuZW5kT2Zmc2V0LTEpLGMuY29sbGFwc2UoKSl9dmFyIGw9Q0tFRElUT1IuZHRkLG49e3A6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSx1bDoxLG9sOjEsbGk6MSxwcmU6MSxkbDoxLGJsb2NrcXVvdGU6MX0scD17cDoxLGRpdjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxxPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxcbmwuJGlubGluZSk7ZGVsZXRlIHEuYnI7cmV0dXJuIGZ1bmN0aW9uKG4sRCx0LHUpe3ZhciB2PW4uZWRpdG9yLHg9ITE7XCJ1bmZpbHRlcmVkX2h0bWxcIj09RCYmKEQ9XCJodG1sXCIseD0hMCk7aWYoIXUuY2hlY2tSZWFkT25seSgpKXt2YXIgcj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh1LnN0YXJ0Q29udGFpbmVyLHUucm9vdCkpLmJsb2NrTGltaXR8fHUucm9vdDtuPXt0eXBlOkQsZG9udEZpbHRlcjp4LGVkaXRhYmxlOm4sZWRpdG9yOnYscmFuZ2U6dSxibG9ja0xpbWl0OnIsbWVyZ2VDYW5kaWRhdGVzOltdLHpvbWJpZXM6W119O0Q9bi5yYW5nZTt1PW4ubWVyZ2VDYW5kaWRhdGVzO3ZhciBJLEE7XCJ0ZXh0XCI9PW4udHlwZSYmRC5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITAsITEpJiYoST1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcIlxceDNjc3BhblxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVwiLEQuZG9jdW1lbnQpLEQuaW5zZXJ0Tm9kZShJKSxcbkQuc2V0U3RhcnRBZnRlcihJKSk7eD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKEQuc3RhcnRDb250YWluZXIpO24uZW5kUGF0aD1yPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoRC5lbmRDb250YWluZXIpO2lmKCFELmNvbGxhcHNlZCl7dmFyIHY9ci5ibG9ja3x8ci5ibG9ja0xpbWl0LGRhPUQuZ2V0Q29tbW9uQW5jZXN0b3IoKTt2JiYhdi5lcXVhbHMoZGEpJiYhdi5jb250YWlucyhkYSkmJkQuY2hlY2tFbmRPZkJsb2NrKCkmJm4uem9tYmllcy5wdXNoKHYpO0QuZGVsZXRlQ29udGVudHMoKX1mb3IoOyhBPWQoRCkpJiZhKEEpJiZBLmlzQmxvY2tCb3VuZGFyeSgpJiZ4LmNvbnRhaW5zKEEpOylELm1vdmVUb1Bvc2l0aW9uKEEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7aChELG4uYmxvY2tMaW1pdCx4LHIpO0kmJihELnNldEVuZEJlZm9yZShJKSxELmNvbGxhcHNlKCksSS5yZW1vdmUoKSk7ST1ELnN0YXJ0UGF0aCgpO2lmKHY9SS5jb250YWlucyhlLCExLFxuMSkpRC5zcGxpdEVsZW1lbnQodiksbi5pbmxpbmVTdHlsZXNSb290PXYsbi5pbmxpbmVTdHlsZXNQZWFrPUkubGFzdEVsZW1lbnQ7ST1ELmNyZWF0ZUJvb2ttYXJrKCk7KHY9SS5zdGFydE5vZGUuZ2V0UHJldmlvdXMoYykpJiZhKHYpJiZlKHYpJiZ1LnB1c2godik7KHY9SS5zdGFydE5vZGUuZ2V0TmV4dChjKSkmJmEodikmJmUodikmJnUucHVzaCh2KTtmb3Iodj1JLnN0YXJ0Tm9kZTsodj12LmdldFBhcmVudCgpKSYmZSh2KTspdS5wdXNoKHYpO0QubW92ZVRvQm9va21hcmsoSSk7aWYoST10KXtJPW4ucmFuZ2U7aWYoXCJ0ZXh0XCI9PW4udHlwZSYmbi5pbmxpbmVTdHlsZXNSb290KXtBPW4uaW5saW5lU3R5bGVzUGVhaztEPUEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVUZXh0KFwie2NrZS1wZWFrfVwiKTtmb3IodT1uLmlubGluZVN0eWxlc1Jvb3QuZ2V0UGFyZW50KCk7IUEuZXF1YWxzKHUpOylEPUQuYXBwZW5kVG8oQS5jbG9uZSgpKSxBPUEuZ2V0UGFyZW50KCk7dD1ELmdldE91dGVySHRtbCgpLnNwbGl0KFwie2NrZS1wZWFrfVwiKS5qb2luKHQpfUE9XG5uLmJsb2NrTGltaXQuZ2V0TmFtZSgpO2lmKC9eXFxzK3xcXHMrJC8udGVzdCh0KSYmXCJzcGFuXCJpbiBDS0VESVRPUi5kdGRbQV0pe3ZhciBQPSdcXHgzY3NwYW4gZGF0YS1ja2UtbWFya2VyXFx4M2RcIjFcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZSc7dD1QK3QrUH10PW4uZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKHQse2NvbnRleHQ6bnVsbCxmaXhGb3JCb2R5OiExLHByb3RlY3RlZFdoaXRlc3BhY2VzOiEhUCxkb250RmlsdGVyOm4uZG9udEZpbHRlcixmaWx0ZXI6bi5lZGl0b3IuYWN0aXZlRmlsdGVyLGVudGVyTW9kZTpuLmVkaXRvci5hY3RpdmVFbnRlck1vZGV9KTtBPUkuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJvZHlcIik7QS5zZXRIdG1sKHQpO1AmJihBLmdldEZpcnN0KCkucmVtb3ZlKCksQS5nZXRMYXN0KCkucmVtb3ZlKCkpO2lmKChQPUkuc3RhcnRQYXRoKCkuYmxvY2spJiYoMSE9UC5nZXRDaGlsZENvdW50KCl8fCFQLmdldEJvZ3VzKCkpKWE6e3ZhciBRO2lmKDE9PVxuQS5nZXRDaGlsZENvdW50KCkmJmEoUT1BLmdldEZpcnN0KCkpJiZRLmlzKHApJiYhUS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpe1A9US5nZXRFbGVtZW50c0J5VGFnKFwiKlwiKTtJPTA7Zm9yKHU9UC5jb3VudCgpO0k8dTtJKyspaWYoRD1QLmdldEl0ZW0oSSksIUQuaXMocSkpYnJlYWsgYTtRLm1vdmVDaGlsZHJlbihRLmdldFBhcmVudCgxKSk7US5yZW1vdmUoKX19bi5kYXRhV3JhcHBlcj1BO0k9dH1pZihJKXtRPW4ucmFuZ2U7ST1RLmRvY3VtZW50O3ZhciBNO0E9bi5ibG9ja0xpbWl0O3U9MDt2YXIgVSxQPVtdLFQsTzt0PXY9MDt2YXIgVyxhYTtEPVEuc3RhcnRDb250YWluZXI7dmFyIHg9bi5lbmRQYXRoLmVsZW1lbnRzWzBdLGJhLHI9eC5nZXRQb3NpdGlvbihEKSxkYT0hIXguZ2V0Q29tbW9uQW5jZXN0b3IoRCkmJnIhPUNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTCYmIShyJkNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCk7XG5EPWIobi5kYXRhV3JhcHBlcixuKTtmb3IobShELFEpO3U8RC5sZW5ndGg7dSsrKXtyPURbdV07aWYoTT1yLmlzTGluZUJyZWFrKXtNPVE7Vz1BO3ZhciBZPXZvaWQgMCxjYT12b2lkIDA7ci5oYXNCbG9ja1NpYmxpbmc/TT0xOihZPU0uc3RhcnRDb250YWluZXIuZ2V0QXNjZW5kYW50KGwuJGJsb2NrLDEpKSYmWS5pcyh7ZGl2OjEscDoxfSk/KGNhPVkuZ2V0UG9zaXRpb24oVyksY2E9PUNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHx8Y2E9PUNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TP009MDooVz1NLnNwbGl0RWxlbWVudChZKSxNLm1vdmVUb1Bvc2l0aW9uKFcsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLE09MSkpOk09MH1pZihNKXQ9MDx1O2Vsc2V7TT1RLnN0YXJ0UGF0aCgpOyFyLmlzQmxvY2smJmsobi5lZGl0b3IsTS5ibG9jayxNLmJsb2NrTGltaXQpJiYoTz1nKG4uZWRpdG9yKSkmJihPPUkuY3JlYXRlRWxlbWVudChPKSxPLmFwcGVuZEJvZ3VzKCksUS5pbnNlcnROb2RlKE8pLFxuQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJihVPU8uZ2V0Qm9ndXMoKSkmJlUucmVtb3ZlKCksUS5tb3ZlVG9Qb3NpdGlvbihPLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpKTtpZigoTT1RLnN0YXJ0UGF0aCgpLmJsb2NrKSYmIU0uZXF1YWxzKFQpKXtpZihVPU0uZ2V0Qm9ndXMoKSlVLnJlbW92ZSgpLFAucHVzaChNKTtUPU19ci5maXJzdE5vdEFsbG93ZWQmJih2PTEpO2lmKHYmJnIuaXNFbGVtZW50KXtNPVEuc3RhcnRDb250YWluZXI7Zm9yKFc9bnVsbDtNJiYhbFtNLmdldE5hbWUoKV1bci5uYW1lXTspe2lmKE0uZXF1YWxzKEEpKXtNPW51bGw7YnJlYWt9Vz1NO009TS5nZXRQYXJlbnQoKX1pZihNKVcmJihhYT1RLnNwbGl0RWxlbWVudChXKSxuLnpvbWJpZXMucHVzaChhYSksbi56b21iaWVzLnB1c2goVykpO2Vsc2V7Vz1BLmdldE5hbWUoKTtiYT0hdTtNPXU9PUQubGVuZ3RoLTE7Vz1mKHIubm9kZSxXKTtmb3IodmFyIFk9W10sY2E9Vy5sZW5ndGgsZWE9MCxpYT12b2lkIDAsXG5qYT0wLGZhPS0xO2VhPGNhO2VhKyspaWE9V1tlYV0sXCIgXCI9PWlhPyhqYXx8YmEmJiFlYXx8KFkucHVzaChuZXcgQ0tFRElUT1IuZG9tLnRleHQoXCIgXCIpKSxmYT1ZLmxlbmd0aCksamE9MSk6KFkucHVzaChpYSksamE9MCk7TSYmZmE9PVkubGVuZ3RoJiZZLnBvcCgpO2JhPVl9fWlmKGJhKXtmb3IoO009YmEucG9wKCk7KVEuaW5zZXJ0Tm9kZShNKTtiYT0wfWVsc2UgUS5pbnNlcnROb2RlKHIubm9kZSk7ci5sYXN0Tm90QWxsb3dlZCYmdTxELmxlbmd0aC0xJiYoKGFhPWRhP3g6YWEpJiZRLnNldEVuZEF0KGFhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSx2PTApO1EuY29sbGFwc2UoKX19MSE9RC5sZW5ndGg/VT0hMTooVT1EWzBdLFU9VS5pc0VsZW1lbnQmJlwiZmFsc2VcIj09VS5ub2RlLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSk7VSYmKHQ9ITAsTT1EWzBdLm5vZGUsUS5zZXRTdGFydEF0KE0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxRLnNldEVuZEF0KE0sXG5DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTtuLmRvbnRNb3ZlQ2FyZXQ9dDtuLmJvZ3VzTmVlZGVkQmxvY2tzPVB9VT1uLnJhbmdlO3ZhciBnYTthYT1uLmJvZ3VzTmVlZGVkQmxvY2tzO2ZvcihiYT1VLmNyZWF0ZUJvb2ttYXJrKCk7VD1uLnpvbWJpZXMucG9wKCk7KVQuZ2V0UGFyZW50KCkmJihPPVUuY2xvbmUoKSxPLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoVCksTy5yZW1vdmVFbXB0eUJsb2Nrc0F0RW5kKCkpO2lmKGFhKWZvcig7VD1hYS5wb3AoKTspQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/VC5hcHBlbmRCb2d1cygpOlQuYXBwZW5kKFUuZG9jdW1lbnQuY3JlYXRlVGV4dChcIsKgXCIpKTtmb3IoO1Q9bi5tZXJnZUNhbmRpZGF0ZXMucG9wKCk7KVQubWVyZ2VTaWJsaW5ncygpO1UubW92ZVRvQm9va21hcmsoYmEpO2lmKCFuLmRvbnRNb3ZlQ2FyZXQpe2ZvcihUPWQoVSk7VCYmYShUKSYmIVQuaXMobC4kZW1wdHkpOyl7aWYoVC5pc0Jsb2NrQm91bmRhcnkoKSlVLm1vdmVUb1Bvc2l0aW9uKFQsXG5DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlbHNle2lmKGUoVCkmJlQuZ2V0SHRtbCgpLm1hdGNoKC8oXFxzfCZuYnNwOykkL2cpKXtnYT1udWxsO2JyZWFrfWdhPVUuY2xvbmUoKTtnYS5tb3ZlVG9Qb3NpdGlvbihULENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpfVQ9VC5nZXRMYXN0KGMpfWdhJiZVLm1vdmVUb1JhbmdlKGdhKX19fX0oKTtxPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtiPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpO2IuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybiExO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBhLmlzKENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50KX07Yi5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfTtyZXR1cm4gYn1mdW5jdGlvbiBiKGEsYyxmKXtjPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KGMpO2EuYXBwZW5kKGMsXG5mKTtyZXR1cm4gY31mdW5jdGlvbiBjKGEpe3ZhciBiPWEuY291bnQoKSxmO2ZvcihiOzA8Yi0tOylmPWEuZ2V0SXRlbShiKSxDS0VESVRPUi50b29scy50cmltKGYuZ2V0SHRtbCgpKXx8KGYuYXBwZW5kQm9ndXMoKSxDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJmYuZ2V0Q2hpbGRDb3VudCgpJiZmLmdldEZpcnN0KCkucmVtb3ZlKCkpfXJldHVybiBmdW5jdGlvbihmKXt2YXIgZD1mLnN0YXJ0Q29udGFpbmVyLGc9ZC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLDEpLGU9ITE7YyhnLmdldEVsZW1lbnRzQnlUYWcoXCJ0ZFwiKSk7YyhnLmdldEVsZW1lbnRzQnlUYWcoXCJ0aFwiKSk7Zz1mLmNsb25lKCk7Zy5zZXRTdGFydChkLDApO2c9YShnKS5sYXN0QmFja3dhcmQoKTtnfHwoZz1mLmNsb25lKCksZy5zZXRFbmRBdChkLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGc9YShnKS5sYXN0Rm9yd2FyZCgpLGU9ITApO2d8fChnPWQpO2cuaXMoXCJ0YWJsZVwiKT8oZi5zZXRTdGFydEF0KGcsXG5DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGYuY29sbGFwc2UoITApLGcucmVtb3ZlKCkpOihnLmlzKHt0Ym9keToxLHRoZWFkOjEsdGZvb3Q6MX0pJiYoZz1iKGcsXCJ0clwiLGUpKSxnLmlzKFwidHJcIikmJihnPWIoZyxnLmdldFBhcmVudCgpLmlzKFwidGhlYWRcIik/XCJ0aFwiOlwidGRcIixlKSksKGQ9Zy5nZXRCb2d1cygpKSYmZC5yZW1vdmUoKSxmLm1vdmVUb1Bvc2l0aW9uKGcsZT9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSl9fSgpO3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2I9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYik7Yi5ndWFyZD1mdW5jdGlvbihhLGIpe2lmKGIpcmV0dXJuITE7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIGEuaXMoQ0tFRElUT1IuZHRkLiRsaXN0KXx8YS5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKX07Yi5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSl9O3JldHVybiBifXJldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLnN0YXJ0Q29udGFpbmVyLGY9ITEsZDtkPWIuY2xvbmUoKTtkLnNldFN0YXJ0KGMsMCk7ZD1hKGQpLmxhc3RCYWNrd2FyZCgpO2R8fChkPWIuY2xvbmUoKSxkLnNldEVuZEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksZD1hKGQpLmxhc3RGb3J3YXJkKCksZj0hMCk7ZHx8KGQ9Yyk7ZC5pcyhDS0VESVRPUi5kdGQuJGxpc3QpPyhiLnNldFN0YXJ0QXQoZCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGIuY29sbGFwc2UoITApLGQucmVtb3ZlKCkpOigoYz1kLmdldEJvZ3VzKCkpJiZjLnJlbW92ZSgpLGIubW92ZVRvUG9zaXRpb24oZCxmP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGIuc2VsZWN0KCkpfX0oKTt1PXtlb2w6e2RldGVjdDpmdW5jdGlvbihhLFxuYil7dmFyIGM9YS5yYW5nZSxmPWMuY2xvbmUoKSxkPWMuY2xvbmUoKSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5zdGFydENvbnRhaW5lcixiKSxlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5lbmRDb250YWluZXIsYik7Zi5jb2xsYXBzZSgxKTtkLmNvbGxhcHNlKCk7Zy5ibG9jayYmZi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGcuYmxvY2ssQ0tFRElUT1IuRU5EKSYmKGMuc2V0U3RhcnRBZnRlcihnLmJsb2NrKSxhLnByZXBlbmRFb2xCcj0xKTtlLmJsb2NrJiZkLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZS5ibG9jayxDS0VESVRPUi5TVEFSVCkmJihjLnNldEVuZEJlZm9yZShlLmJsb2NrKSxhLmFwcGVuZEVvbEJyPTEpfSxmaXg6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldERvY3VtZW50KCksZjthLmFwcGVuZEVvbEJyJiYoZj10aGlzLmNyZWF0ZUVvbEJyKGMpLGEuZnJhZ21lbnQuYXBwZW5kKGYpKTshYS5wcmVwZW5kRW9sQnJ8fGYmJiFmLmdldFByZXZpb3VzKCl8fFxuYS5mcmFnbWVudC5hcHBlbmQodGhpcy5jcmVhdGVFb2xCcihjKSwxKX0sY3JlYXRlRW9sQnI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY3JlYXRlRWxlbWVudChcImJyXCIse2F0dHJpYnV0ZXM6e1wiZGF0YS1ja2UtZW9sXCI6MX19KX19LGJvZ3VzOntleGNsdWRlOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmFuZ2UuZ2V0Qm91bmRhcnlOb2RlcygpLGM9Yi5zdGFydE5vZGUsYj1iLmVuZE5vZGU7IWJ8fCFyKGIpfHxjJiZjLmVxdWFscyhiKXx8YS5yYW5nZS5zZXRFbmRCZWZvcmUoYil9fSx0cmVlOntyZWJ1aWxkOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5yYW5nZSxmPWMuZ2V0Q29tbW9uQW5jZXN0b3IoKSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZixiKSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5zdGFydENvbnRhaW5lcixiKSxjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5lbmRDb250YWluZXIsYiksZTtmLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGY9XG5mLmdldFBhcmVudCgpKTtpZihkLmJsb2NrTGltaXQuaXMoe3RyOjEsdGFibGU6MX0pKXt2YXIgaD1kLmNvbnRhaW5zKFwidGFibGVcIikuZ2V0UGFyZW50KCk7ZT1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoaCl9fWVsc2UgaWYoZC5ibG9jayYmZC5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmKGc9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLGM9Yy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLCFnLmVxdWFscyhjKSkpe3ZhciBtPWQuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KS5nZXRQYXJlbnQoKTtlPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhtKX19ZXx8KGU9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGQuYmxvY2spJiYhYS5lcXVhbHMoZC5ibG9ja0xpbWl0KX0pO3RoaXMucmVidWlsZEZyYWdtZW50KGEsYixmLGUpfSxyZWJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGMsZil7Zm9yKHZhciBkO2MmJiFjLmVxdWFscyhiKSYmXG5mKGMpOylkPWMuY2xvbmUoMCwxKSxhLmZyYWdtZW50LmFwcGVuZFRvKGQpLGEuZnJhZ21lbnQ9ZCxjPWMuZ2V0UGFyZW50KCl9fSxjZWxsOntzaHJpbms6ZnVuY3Rpb24oYSl7YT1hLnJhbmdlO3ZhciBiPWEuc3RhcnRDb250YWluZXIsYz1hLmVuZENvbnRhaW5lcixmPWEuc3RhcnRPZmZzZXQsZD1hLmVuZE9mZnNldDtiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5lcXVhbHMoYykmJmIuaXMoXCJ0clwiKSYmKytmPT1kJiZhLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCl9fX07QT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXt2YXIgZj1iLmdldFBhcmVudCgpO2lmKGYuaXMoQ0tFRElUT1IuZHRkLiRpbmxpbmUpKWJbYz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oZil9ZnVuY3Rpb24gYihjLGYsZCl7YShmKTthKGQsMSk7Zm9yKHZhciBnO2c9ZC5nZXROZXh0KCk7KWcuaW5zZXJ0QWZ0ZXIoZiksZj1nO3AoYykmJmMucmVtb3ZlKCl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBmPVxubmV3IENLRURJVE9SLmRvbS5yYW5nZShhKTtmLnNldFN0YXJ0QWZ0ZXIoYi5zdGFydE5vZGUpO2Yuc2V0RW5kQmVmb3JlKGIuZW5kTm9kZSk7cmV0dXJuIGZ9cmV0dXJue2xpc3Q6e2RldGVjdE1lcmdlOmZ1bmN0aW9uKGEsYil7dmFyIGY9YyhiLGEuYm9va21hcmspLGQ9Zi5zdGFydFBhdGgoKSxnPWYuZW5kUGF0aCgpLGU9ZC5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLGg9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2EubWVyZ2VMaXN0PWUmJmgmJmUuZ2V0UGFyZW50KCkuZXF1YWxzKGguZ2V0UGFyZW50KCkpJiYhZS5lcXVhbHMoaCk7YS5tZXJnZUxpc3RJdGVtcz1kLmJsb2NrJiZnLmJsb2NrJiZkLmJsb2NrLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiZnLmJsb2NrLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pO2lmKGEubWVyZ2VMaXN0fHxhLm1lcmdlTGlzdEl0ZW1zKWY9Zi5jbG9uZSgpLGYuc2V0U3RhcnRCZWZvcmUoYS5ib29rbWFyay5zdGFydE5vZGUpLFxuZi5zZXRFbmRBZnRlcihhLmJvb2ttYXJrLmVuZE5vZGUpLGEubWVyZ2VMaXN0Qm9va21hcms9Zi5jcmVhdGVCb29rbWFyaygpfSxtZXJnZTpmdW5jdGlvbihhLGMpe2lmKGEubWVyZ2VMaXN0Qm9va21hcmspe3ZhciBmPWEubWVyZ2VMaXN0Qm9va21hcmsuc3RhcnROb2RlLGQ9YS5tZXJnZUxpc3RCb29rbWFyay5lbmROb2RlLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChmLGMpLGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLGMpO2lmKGEubWVyZ2VMaXN0KXt2YXIgaD1nLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksbT1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCk7aC5lcXVhbHMobSl8fChtLm1vdmVDaGlsZHJlbihoKSxtLnJlbW92ZSgpKX1hLm1lcmdlTGlzdEl0ZW1zJiYoZz1nLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pLGU9ZS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxnLmVxdWFscyhlKXx8YihlLGYsZCkpO1xuZi5yZW1vdmUoKTtkLnJlbW92ZSgpfX19LGJsb2NrOntkZXRlY3RNZXJnZTpmdW5jdGlvbihhLGIpe2lmKCFhLnRhYmxlQ29udGVudHNSYW5nZXMmJiFhLm1lcmdlTGlzdEJvb2ttYXJrKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGIpO2Muc2V0U3RhcnRCZWZvcmUoYS5ib29rbWFyay5zdGFydE5vZGUpO2Muc2V0RW5kQWZ0ZXIoYS5ib29rbWFyay5lbmROb2RlKTthLm1lcmdlQmxvY2tCb29rbWFyaz1jLmNyZWF0ZUJvb2ttYXJrKCl9fSxtZXJnZTpmdW5jdGlvbihhLGMpe2lmKGEubWVyZ2VCbG9ja0Jvb2ttYXJrJiYhYS5wdXJnZVRhYmxlQm9va21hcmspe3ZhciBmPWEubWVyZ2VCbG9ja0Jvb2ttYXJrLnN0YXJ0Tm9kZSxkPWEubWVyZ2VCbG9ja0Jvb2ttYXJrLmVuZE5vZGUsZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYsYyksZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQsYyksZz1nLmJsb2NrLGU9ZS5ibG9jaztnJiZlJiYhZy5lcXVhbHMoZSkmJlxuYihlLGYsZCk7Zi5yZW1vdmUoKTtkLnJlbW92ZSgpfX19LHRhYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjKXt2YXIgZD1bXSxnLGU9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksaD1jLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKGYpLG09Yy5lbmRQYXRoKCkuY29udGFpbnMoZiksaz17fTtlLmd1YXJkPWZ1bmN0aW9uKGEsZSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe3ZhciBuPVwidmlzaXRlZF9cIisoZT9cIm91dFwiOlwiaW5cIik7aWYoYS5nZXRDdXN0b21EYXRhKG4pKXJldHVybjtDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoayxhLG4sMSl9aWYoZSYmaCYmYS5lcXVhbHMoaCkpZz1jLmNsb25lKCksZy5zZXRFbmRBdChoLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGQucHVzaChnKTtlbHNlIGlmKCFlJiZtJiZhLmVxdWFscyhtKSlnPWMuY2xvbmUoKSxnLnNldFN0YXJ0QXQobSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksZC5wdXNoKGcpO1xuZWxzZXtpZihuPSFlKW49YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoZikmJighaHx8YihhLGgpKSYmKCFtfHxiKGEsbSkpO2lmKCFuJiYobj1lKSlpZihhLmlzKGYpKXZhciBuPWgmJmguZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksbD1tJiZtLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLHA9YS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxuPW4mJm4uY29udGFpbnMocCl8fGwmJmwuY29udGFpbnMocCk7ZWxzZSBuPXZvaWQgMDtuJiYoZz1jLmNsb25lKCksZy5zZWxlY3ROb2RlQ29udGVudHMoYSksZC5wdXNoKGcpKX19O2UubGFzdEZvcndhcmQoKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoayk7cmV0dXJuIGR9ZnVuY3Rpb24gYihhLGMpe3ZhciBmPUNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCxkPWEuZ2V0UG9zaXRpb24oYyk7cmV0dXJuIGQ9PT1DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw/XG4hMTowPT09KGQmZil9dmFyIGY9e3RkOjEsdGg6MSxjYXB0aW9uOjF9O3JldHVybntkZXRlY3RQdXJnZTpmdW5jdGlvbihhKXt2YXIgYj1hLnJhbmdlLGM9Yi5jbG9uZSgpO2MuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQpO3ZhciBjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpLGQ9MDtjLmV2YWx1YXRvcj1mdW5jdGlvbihhKXthLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhmKSYmKytkfTtjLmNoZWNrRm9yd2FyZCgpO2lmKDE8ZCl7dmFyIGM9Yi5zdGFydFBhdGgoKS5jb250YWlucyhcInRhYmxlXCIpLGc9Yi5lbmRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiKTtjJiZnJiZiLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYyxDS0VESVRPUi5TVEFSVCkmJmIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChnLENLRURJVE9SLkVORCkmJihiPWEucmFuZ2UuY2xvbmUoKSxiLnNldFN0YXJ0QmVmb3JlKGMpLGIuc2V0RW5kQWZ0ZXIoZyksYS5wdXJnZVRhYmxlQm9va21hcms9XG5iLmNyZWF0ZUJvb2ttYXJrKCkpfX0sZGV0ZWN0UmFuZ2VzOmZ1bmN0aW9uKGQsZyl7dmFyIGU9YyhnLGQuYm9va21hcmspLGg9ZS5jbG9uZSgpLG0sayxuPWUuZ2V0Q29tbW9uQW5jZXN0b3IoKTtuLmlzKENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50KSYmIW4uaXMoZikmJihuPW4uZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCkpO2s9bjtuPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZS5zdGFydENvbnRhaW5lcixrKTtrPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZS5lbmRDb250YWluZXIsayk7bj1uLmNvbnRhaW5zKFwidGFibGVcIik7az1rLmNvbnRhaW5zKFwidGFibGVcIik7aWYobnx8ayluJiZrJiZiKG4sayk/KGQudGFibGVTdXJyb3VuZGluZ1JhbmdlPWgsaC5zZXRTdGFydEF0KG4sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxoLnNldEVuZEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxoPWUuY2xvbmUoKSxoLnNldEVuZEF0KG4sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxcbm09ZS5jbG9uZSgpLG0uc2V0U3RhcnRBdChrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksbT1hKGgpLmNvbmNhdChhKG0pKSk6bj9rfHwoZC50YWJsZVN1cnJvdW5kaW5nUmFuZ2U9aCxoLnNldFN0YXJ0QXQobixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGUuc2V0RW5kQXQobixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTooZC50YWJsZVN1cnJvdW5kaW5nUmFuZ2U9aCxoLnNldEVuZEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxlLnNldFN0YXJ0QXQoayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpLGQudGFibGVDb250ZW50c1Jhbmdlcz1tP206YShlKX0sZGVsZXRlUmFuZ2VzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYjtiPWEudGFibGVDb250ZW50c1Jhbmdlcy5wb3AoKTspYi5leHRyYWN0Q29udGVudHMoKSxwKGIuc3RhcnRDb250YWluZXIpJiZiLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCk7YS50YWJsZVN1cnJvdW5kaW5nUmFuZ2UmJlxuYS50YWJsZVN1cnJvdW5kaW5nUmFuZ2UuZXh0cmFjdENvbnRlbnRzKCl9LHB1cmdlOmZ1bmN0aW9uKGEpe2lmKGEucHVyZ2VUYWJsZUJvb2ttYXJrKXt2YXIgYj1hLmRvYyxjPWEucmFuZ2UuY2xvbmUoKSxiPWIuY3JlYXRlRWxlbWVudChcInBcIik7Yi5pbnNlcnRCZWZvcmUoYS5wdXJnZVRhYmxlQm9va21hcmsuc3RhcnROb2RlKTtjLm1vdmVUb0Jvb2ttYXJrKGEucHVyZ2VUYWJsZUJvb2ttYXJrKTtjLmRlbGV0ZUNvbnRlbnRzKCk7YS5yYW5nZS5tb3ZlVG9Qb3NpdGlvbihiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKX19fX0oKSxkZXRlY3RFeHRyYWN0TWVyZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIShhLnJhbmdlLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiZhLnJhbmdlLmVuZFBhdGgoKS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSl9LGZpeFVuZWRpdGFibGVSYW5nZVBvc2l0aW9uOmZ1bmN0aW9uKGEpe2Euc3RhcnRDb250YWluZXIuZ2V0RHRkKClbXCIjXCJdfHxcbmEubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24obnVsbCwhMCl9LGF1dG9QYXJhZ3JhcGg6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnN0YXJ0UGF0aCgpLGY7ayhhLGMuYmxvY2ssYy5ibG9ja0xpbWl0KSYmKGY9ZyhhKSkmJihmPWIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChmKSxmLmFwcGVuZEJvZ3VzKCksYi5pbnNlcnROb2RlKGYpLGIubW92ZVRvUG9zaXRpb24oZixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpfX19KCl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBDS0VESVRPUi5wbHVnaW5zLndpZGdldCYmQ0tFRElUT1IucGx1Z2lucy53aWRnZXQuaXNEb21XaWRnZXQoYSl9ZnVuY3Rpb24gZShiLGMpe2lmKDA9PT1iLmxlbmd0aHx8YShiWzBdLmdldEVuY2xvc2VkTm9kZSgpKSlyZXR1cm4hMTt2YXIgZixkO2lmKChmPSFjJiYxPT09Yi5sZW5ndGgpJiYhKGY9YlswXS5jb2xsYXBzZWQpKXt2YXIgZz1iWzBdO2Y9Zy5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoe3RkOjEsXG50aDoxfSwhMCk7dmFyIGU9Zy5lbmRDb250YWluZXIuZ2V0QXNjZW5kYW50KHt0ZDoxLHRoOjF9LCEwKTtkPUNLRURJVE9SLnRvb2xzLnRyaW07ZiYmZi5lcXVhbHMoZSkmJiFmLmZpbmRPbmUoXCJ0ZCwgdGgsIHRyLCB0Ym9keSwgdGFibGVcIik/KGc9Zy5jbG9uZUNvbnRlbnRzKCksZj1nLmdldEZpcnN0KCk/ZChnLmdldEZpcnN0KCkuZ2V0VGV4dCgpKSE9PWQoZi5nZXRUZXh0KCkpOiEwKTpmPSExfWlmKGYpcmV0dXJuITE7Zm9yKGQ9MDtkPGIubGVuZ3RoO2QrKylpZihmPWJbZF0uX2dldFRhYmxlRWxlbWVudCgpLCFmKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGIoYSl7ZnVuY3Rpb24gYihhKXthPWEuZmluZChcInRkLCB0aFwiKTt2YXIgYz1bXSxmO2ZvcihmPTA7ZjxhLmNvdW50KCk7ZisrKWMucHVzaChhLmdldEl0ZW0oZikpO3JldHVybiBjfXZhciBjPVtdLGYsZDtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWY9YVtkXS5fZ2V0VGFibGVFbGVtZW50KCksZi5pcyYmZi5pcyh7dGQ6MSxcbnRoOjF9KT9jLnB1c2goZik6Yz1jLmNvbmNhdChiKGYpKTtyZXR1cm4gY31mdW5jdGlvbiBjKGEpe2E9YihhKTt2YXIgYz1cIlwiLGY9W10sZCxnO2ZvcihnPTA7ZzxhLmxlbmd0aDtnKyspZCYmIWQuZXF1YWxzKGFbZ10uZ2V0QXNjZW5kYW50KFwidHJcIikpPyhjKz1mLmpvaW4oXCJcXHRcIikrXCJcXG5cIixkPWFbZ10uZ2V0QXNjZW5kYW50KFwidHJcIiksZj1bXSk6MD09PWcmJihkPWFbZ10uZ2V0QXNjZW5kYW50KFwidHJcIikpLGYucHVzaChhW2ddLmdldFRleHQoKSk7cmV0dXJuIGMrPWYuam9pbihcIlxcdFwiKX1mdW5jdGlvbiBkKGEpe3ZhciBiPXRoaXMucm9vdC5lZGl0b3IsZj1iLmdldFNlbGVjdGlvbigxKTt0aGlzLnJlc2V0KCk7ej0hMDtmLnJvb3Qub25jZShcInNlbGVjdGlvbmNoYW5nZVwiLGZ1bmN0aW9uKGEpe2EuY2FuY2VsKCl9LG51bGwsbnVsbCwwKTtmLnNlbGVjdFJhbmdlcyhbYVswXV0pO2Y9dGhpcy5fLmNhY2hlO2YucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGEpO2YudHlwZT1cbkNLRURJVE9SLlNFTEVDVElPTl9URVhUO2Yuc2VsZWN0ZWRFbGVtZW50PWFbMF0uX2dldFRhYmxlRWxlbWVudCgpO2Yuc2VsZWN0ZWRUZXh0PWMoYSk7Zi5uYXRpdmVTZWw9bnVsbDt0aGlzLmlzRmFrZT0xO3RoaXMucmV2PXQrKztiLl8uZmFrZVNlbGVjdGlvbj10aGlzO3o9ITE7dGhpcy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIil9ZnVuY3Rpb24gbCgpe3ZhciBiPXRoaXMuXy5mYWtlU2VsZWN0aW9uLGM7aWYoYil7Yz10aGlzLmdldFNlbGVjdGlvbigxKTt2YXIgZjtpZighKGY9IWMpJiYoZj0hYy5pc0hpZGRlbigpKSl7Zj1iO3ZhciBkPWMuZ2V0UmFuZ2VzKCksZz1mLmdldFJhbmdlcygpLGg9ZC5sZW5ndGgmJmRbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZkWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxtPWcubGVuZ3RoJiZnWzBdLl9nZXRUYWJsZUVsZW1lbnQoKSYmZ1swXS5fZ2V0VGFibGVFbGVtZW50KCkuZ2V0QXNjZW5kYW50KFwidGFibGVcIixcbiEwKSxrPTE9PT1kLmxlbmd0aCYmZFswXS5fZ2V0VGFibGVFbGVtZW50KCkmJmRbMF0uX2dldFRhYmxlRWxlbWVudCgpLmlzKFwidGFibGVcIiksbj0xPT09Zy5sZW5ndGgmJmdbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZnWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5pcyhcInRhYmxlXCIpO2lmKGEoZi5nZXRTZWxlY3RlZEVsZW1lbnQoKSkpZj0hMTtlbHNle3ZhciBsPTE9PT1kLmxlbmd0aCYmZFswXS5jb2xsYXBzZWQsZz1lKGQsISFDS0VESVRPUi5lbnYud2Via2l0KSYmZShnKTtoPWgmJm0/aC5lcXVhbHMobSl8fG0uY29udGFpbnMoaCk6ITE7aCYmKGx8fGcpPyhrJiYhbiYmZi5zZWxlY3RSYW5nZXMoZCksZj0hMCk6Zj0hMX1mPSFmfWYmJihiLnJlc2V0KCksYj0wKX1pZighYiYmKGI9Y3x8dGhpcy5nZXRTZWxlY3Rpb24oMSksIWJ8fGIuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSkpcmV0dXJuO3RoaXMuZmlyZShcInNlbGVjdGlvbkNoZWNrXCIsYik7Yz10aGlzLmVsZW1lbnRQYXRoKCk7XG5jLmNvbXBhcmUodGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aCl8fChmPXRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgmJnRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGguYmxvY2tMaW1pdC5lcXVhbHMoYy5ibG9ja0xpbWl0KSxDS0VESVRPUi5lbnYud2Via2l0JiYhZiYmKHRoaXMuXy5wcmV2aW91c0FjdGl2ZT10aGlzLmRvY3VtZW50LmdldEFjdGl2ZSgpKSx0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoPWMsdGhpcy5maXJlKFwic2VsZWN0aW9uQ2hhbmdlXCIse3NlbGVjdGlvbjpiLHBhdGg6Y30pKX1mdW5jdGlvbiBrKCl7Qz0hMDt3fHwoZy5jYWxsKHRoaXMpLHc9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChnLDIwMCx0aGlzKSl9ZnVuY3Rpb24gZygpe3c9bnVsbDtDJiYoQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChsLDAsdGhpcyksQz0hMSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4geShhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzKENLRURJVE9SLmR0ZC4kZW1wdHkpP1xuITA6ITF9ZnVuY3Rpb24gbShhKXtmdW5jdGlvbiBiKGMsZil7cmV0dXJuIGMmJmMudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUP2EuY2xvbmUoKVtcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGY/XCJFbmRcIjpcIlN0YXJ0XCIpXShjKTohMX1pZighKGEucm9vdCBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlKSlyZXR1cm4hMTt2YXIgYz1hLnN0YXJ0Q29udGFpbmVyLGY9YS5nZXRQcmV2aW91c05vZGUoaCxudWxsLGMpLGQ9YS5nZXROZXh0Tm9kZShoLG51bGwsYyk7cmV0dXJuIGIoZil8fGIoZCwxKXx8IShmfHxkfHxjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5pc0Jsb2NrQm91bmRhcnkoKSYmYy5nZXRCb2d1cygpKT8hMDohMX1mdW5jdGlvbiBmKGEpe24oYSwhMSk7dmFyIGI9YS5nZXREb2N1bWVudCgpLmNyZWF0ZVRleHQodSk7YS5zZXRDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIsYik7cmV0dXJuIGJ9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEmJmEucmVtb3ZlQ3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtcbmlmKGMpe2lmKCExIT09Yil7dmFyIGY9YS5nZXREb2N1bWVudCgpLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpLGQ9ZiYmXCJOb25lXCIhPWYudHlwZSYmZi5nZXRSYW5nZUF0KDApLGc9dS5sZW5ndGg7aWYoYy5nZXRMZW5ndGgoKT5nJiZkJiZkLmludGVyc2VjdHNOb2RlKGMuJCkpe3ZhciBlPVt7bm9kZTpmLmFuY2hvck5vZGUsb2Zmc2V0OmYuYW5jaG9yT2Zmc2V0fSx7bm9kZTpmLmZvY3VzTm9kZSxvZmZzZXQ6Zi5mb2N1c09mZnNldH1dO2YuYW5jaG9yTm9kZT09Yy4kJiZmLmFuY2hvck9mZnNldD5nJiYoZVswXS5vZmZzZXQtPWcpO2YuZm9jdXNOb2RlPT1jLiQmJmYuZm9jdXNPZmZzZXQ+ZyYmKGVbMV0ub2Zmc2V0LT1nKX19Yy5zZXRUZXh0KHAoYy5nZXRUZXh0KCksMSkpO2UmJihjPWEuZ2V0RG9jdW1lbnQoKS4kLGY9Yy5nZXRTZWxlY3Rpb24oKSxjPWMuY3JlYXRlUmFuZ2UoKSxjLnNldFN0YXJ0KGVbMF0ubm9kZSxlWzBdLm9mZnNldCksYy5jb2xsYXBzZSghMCksZi5yZW1vdmVBbGxSYW5nZXMoKSxcbmYuYWRkUmFuZ2UoYyksZi5leHRlbmQoZVsxXS5ub2RlLGVbMV0ub2Zmc2V0KSl9fWZ1bmN0aW9uIHAoYSxiKXtyZXR1cm4gYj9hLnJlcGxhY2UoQSxmdW5jdGlvbihhLGIpe3JldHVybiBiP1wiwqBcIjpcIlwifSk6YS5yZXBsYWNlKHUsXCJcIil9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPWImJkNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYil8fFwiXFx4MjZuYnNwO1wiLGM9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGRhdGEtY2tlLWhpZGRlbi1zZWxcXHgzZFwiMVwiIGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiIHN0eWxlXFx4M2RcIicrKENLRURJVE9SLmVudi5pZSYmMTQ+Q0tFRElUT1IuZW52LnZlcnNpb24/XCJkaXNwbGF5Om5vbmVcIjpcInBvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6LTEwMDBweFwiKSsnXCJcXHgzZScrYytcIlxceDNjL2RpdlxceDNlXCIsYS5kb2N1bWVudCk7YS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2EuZWRpdGFibGUoKS5hcHBlbmQoYyk7dmFyIGY9YS5nZXRTZWxlY3Rpb24oMSksXG5kPWEuY3JlYXRlUmFuZ2UoKSxnPWYucm9vdC5vbihcInNlbGVjdGlvbmNoYW5nZVwiLGZ1bmN0aW9uKGEpe2EuY2FuY2VsKCl9LG51bGwsbnVsbCwwKTtkLnNldFN0YXJ0QXQoYyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7ZC5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Yuc2VsZWN0UmFuZ2VzKFtkXSk7Zy5yZW1vdmVMaXN0ZW5lcigpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpO2EuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI9Y31mdW5jdGlvbiB2KGEpe3ZhciBiPXszNzoxLDM5OjEsODoxLDQ2OjF9O3JldHVybiBmdW5jdGlvbihjKXt2YXIgZj1jLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7aWYoYltmXSl7dmFyIGQ9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxnPWRbMF07MT09ZC5sZW5ndGgmJmcuY29sbGFwc2VkJiYoZj1nWzM4PmY/XCJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZVwiOlwiZ2V0TmV4dEVkaXRhYmxlTm9kZVwiXSgpKSYmZi50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJmYWxzZVwiPT1mLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmKGEuZ2V0U2VsZWN0aW9uKCkuZmFrZShmKSxjLmRhdGEucHJldmVudERlZmF1bHQoKSxjLmNhbmNlbCgpKX19fWZ1bmN0aW9uIHgoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07Yy5nZXRDb21tb25BbmNlc3RvcigpLmlzUmVhZE9ubHkoKSYmYS5zcGxpY2UoYiwxKTtpZighYy5jb2xsYXBzZWQpe2lmKGMuc3RhcnRDb250YWluZXIuaXNSZWFkT25seSgpKWZvcih2YXIgZj1jLnN0YXJ0Q29udGFpbmVyLGQ7ZiYmISgoZD1mLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCkmJmYuaXMoXCJib2R5XCIpfHwhZi5pc1JlYWRPbmx5KCkpOylkJiZcImZhbHNlXCI9PWYuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZjLnNldFN0YXJ0QWZ0ZXIoZiksZj1mLmdldFBhcmVudCgpO2Y9Yy5zdGFydENvbnRhaW5lcjtkPWMuZW5kQ29udGFpbmVyO1xudmFyIGc9Yy5zdGFydE9mZnNldCxlPWMuZW5kT2Zmc2V0LGg9Yy5jbG9uZSgpO2YmJmYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZz49Zi5nZXRMZW5ndGgoKT9oLnNldFN0YXJ0QWZ0ZXIoZik6aC5zZXRTdGFydEJlZm9yZShmKSk7ZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihlP2guc2V0RW5kQWZ0ZXIoZCk6aC5zZXRFbmRCZWZvcmUoZCkpO2Y9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoaCk7Zi5ldmFsdWF0b3I9ZnVuY3Rpb24oZil7aWYoZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuaXNSZWFkT25seSgpKXt2YXIgZD1jLmNsb25lKCk7Yy5zZXRFbmRCZWZvcmUoZik7Yy5jb2xsYXBzZWQmJmEuc3BsaWNlKGItLSwxKTtmLmdldFBvc2l0aW9uKGguZW5kQ29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOU3x8KGQuc2V0U3RhcnRBZnRlcihmKSxkLmNvbGxhcHNlZHx8YS5zcGxpY2UoYisxLDAsZCkpO3JldHVybiEwfXJldHVybiExfTtmLm5leHQoKX19cmV0dXJuIGF9XG52YXIgcT1cImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cuZ2V0U2VsZWN0aW9uLHQ9MSx1PUNLRURJVE9SLnRvb2xzLnJlcGVhdChcIuKAi1wiLDcpLEE9bmV3IFJlZ0V4cCh1K1wiKCApP1wiLFwiZ1wiKSx6LHcsQyx5PUNLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpLEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz1hLmVkaXRvci5jcmVhdGVSYW5nZSgpO2MubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYS5zZWxlY3RlZCxiKSYmYS5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSk7cmV0dXJuITF9fWZ1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIuZWRpdG9yLGY9Yy5jcmVhdGVSYW5nZSgpLGQ7aWYoIWMucmVhZE9ubHkpcmV0dXJuKGQ9Zi5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihiLnNlbGVjdGVkLGEpKXx8KGQ9Zi5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihiLnNlbGVjdGVkLFxuIWEpKSxkJiZjLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZl0pLGMuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxiLnNlbGVjdGVkLnJlbW92ZSgpLGR8fChmLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGMuZWRpdGFibGUoKSksYy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2ZdKSksYy5maXJlKFwic2F2ZVNuYXBzaG90XCIpLCExfX12YXIgYz1hKCksZj1hKDEpO3JldHVybnszNzpjLDM4OmMsMzk6Ziw0MDpmLDg6YigpLDQ2OmIoMSl9fSgpO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VDcmVhdGVkXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBhPWMuZ2V0U2VsZWN0aW9uKCk7YSYmYS5yZW1vdmVBbGxSYW5nZXMoKX12YXIgYz1hLmVkaXRvcjtjLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3Q9bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24oYy5nZXRTZWxlY3Rpb24oKSk7dC5sb2NrKCl9ZnVuY3Rpb24gYigpe2cucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsXG5iKTttLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGIpO3ZhciBhPUNLRURJVE9SLmRvY3VtZW50LiQuc2VsZWN0aW9uLGM9YS5jcmVhdGVSYW5nZSgpO1wiTm9uZVwiIT1hLnR5cGUmJmMucGFyZW50RWxlbWVudCgpJiZjLnBhcmVudEVsZW1lbnQoKS5vd25lckRvY3VtZW50PT1kLiQmJmMuc2VsZWN0KCl9ZnVuY3Rpb24gZihhKXtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBiPShhPWEuZ2V0UmFuZ2VzKClbMF0pP2Euc3RhcnRDb250YWluZXIuZ2V0QXNjZW5kYW50KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKFwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil8fFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl9LCEwKTpudWxsO3JldHVybiBhJiZcImZhbHNlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiZifX12YXIgZD1jLmRvY3VtZW50LGc9Q0tFRElUT1IuZG9jdW1lbnQsXG5lPWMuZWRpdGFibGUoKSxoPWQuZ2V0Qm9keSgpLG09ZC5nZXREb2N1bWVudEVsZW1lbnQoKSxwPWUuaXNJbmxpbmUoKSx1LHQ7Q0tFRElUT1IuZW52LmdlY2tvJiZlLmF0dGFjaExpc3RlbmVyKGUsXCJmb2N1c1wiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTswIT09dSYmKGE9Yy5nZXRTZWxlY3Rpb24oKS5nZXROYXRpdmUoKSkmJmEuaXNDb2xsYXBzZWQmJmEuYW5jaG9yTm9kZT09ZS4kJiYoYT1jLmNyZWF0ZVJhbmdlKCksYS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGUpLGEuc2VsZWN0KCkpfSxudWxsLG51bGwsLTIpO2UuYXR0YWNoTGlzdGVuZXIoZSxDS0VESVRPUi5lbnYud2Via2l0P1wiRE9NRm9jdXNJblwiOlwiZm9jdXNcIixmdW5jdGlvbigpe3UmJkNLRURJVE9SLmVudi53ZWJraXQmJih1PWMuXy5wcmV2aW91c0FjdGl2ZSYmYy5fLnByZXZpb3VzQWN0aXZlLmVxdWFscyhkLmdldEFjdGl2ZSgpKSkmJm51bGwhPWMuXy5wcmV2aW91c1Njcm9sbFRvcCYmYy5fLnByZXZpb3VzU2Nyb2xsVG9wIT1cbmUuJC5zY3JvbGxUb3AmJihlLiQuc2Nyb2xsVG9wPWMuXy5wcmV2aW91c1Njcm9sbFRvcCk7Yy51bmxvY2tTZWxlY3Rpb24odSk7dT0wfSxudWxsLG51bGwsLTEpO2UuYXR0YWNoTGlzdGVuZXIoZSxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7dT0wfSk7aWYoQ0tFRElUT1IuZW52LmllfHxwKXE/ZS5hdHRhY2hMaXN0ZW5lcihlLFwiYmVmb3JlZGVhY3RpdmF0ZVwiLGEsbnVsbCxudWxsLC0xKTplLmF0dGFjaExpc3RlbmVyKGMsXCJzZWxlY3Rpb25DaGVja1wiLGEsbnVsbCxudWxsLC0xKSxlLmF0dGFjaExpc3RlbmVyKGUsQ0tFRElUT1IuZW52LndlYmtpdD9cIkRPTUZvY3VzT3V0XCI6XCJibHVyXCIsZnVuY3Rpb24oKXtjLmxvY2tTZWxlY3Rpb24odCk7dT0xfSxudWxsLG51bGwsLTEpLGUuYXR0YWNoTGlzdGVuZXIoZSxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7dT0wfSk7aWYoQ0tFRElUT1IuZW52LmllJiYhcCl7dmFyIHc7ZS5hdHRhY2hMaXN0ZW5lcihlLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7Mj09XG5hLmRhdGEuJC5idXR0b24mJigoYT1jLmRvY3VtZW50LmdldFNlbGVjdGlvbigpKSYmYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FfHwodz1jLndpbmRvdy5nZXRTY3JvbGxQb3NpdGlvbigpKSl9KTtlLmF0dGFjaExpc3RlbmVyKGUsXCJtb3VzZXVwXCIsZnVuY3Rpb24oYSl7Mj09YS5kYXRhLiQuYnV0dG9uJiZ3JiYoYy5kb2N1bWVudC4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0PXcueCxjLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcD13LnkpO3c9bnVsbH0pO2lmKFwiQmFja0NvbXBhdFwiIT1kLiQuY29tcGF0TW9kZSl7aWYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIHIseDttLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthPWEuZGF0YS4kO2lmKHIpe3ZhciBjPWguJC5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7Yy5tb3ZlVG9Qb2ludChhLmNsaWVudFgsYS5jbGllbnRZKX1jYXRjaChmKXt9ci5zZXRFbmRQb2ludCgwPlxueC5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb1N0YXJ0XCIsYyk/XCJFbmRUb0VuZFwiOlwiU3RhcnRUb1N0YXJ0XCIsYyk7ci5zZWxlY3QoKX19ZnVuY3Rpb24gYygpe20ucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTtnLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO20ucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7ci5zZWxlY3QoKX1hPWEuZGF0YTtpZihhLmdldFRhcmdldCgpLmlzKFwiaHRtbFwiKSYmYS4kLnk8bS4kLmNsaWVudEhlaWdodCYmYS4kLng8bS4kLmNsaWVudFdpZHRoKXtyPWguJC5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7ci5tb3ZlVG9Qb2ludChhLiQuY2xpZW50WCxhLiQuY2xpZW50WSl9Y2F0Y2goZil7fXg9ci5kdXBsaWNhdGUoKTttLm9uKFwibW91c2Vtb3ZlXCIsYik7Zy5vbihcIm1vdXNldXBcIixjKTttLm9uKFwibW91c2V1cFwiLGMpfX0pfWlmKDc8Q0tFRElUT1IuZW52LnZlcnNpb24mJjExPkNLRURJVE9SLmVudi52ZXJzaW9uKW0ub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiZcbihnLm9uKFwibW91c2V1cFwiLGIpLG0ub24oXCJtb3VzZXVwXCIsYikpfSl9fWUuYXR0YWNoTGlzdGVuZXIoZSxcInNlbGVjdGlvbmNoYW5nZVwiLGwsYyk7ZS5hdHRhY2hMaXN0ZW5lcihlLFwia2V5dXBcIixrLGMpO2UuYXR0YWNoTGlzdGVuZXIoZSxcImtleWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFNlbGVjdGlvbigxKTtmKGIpJiYoYi5zZWxlY3RFbGVtZW50KGYoYikpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0sYyk7ZS5hdHRhY2hMaXN0ZW5lcihlLENLRURJVE9SLmVudi53ZWJraXQ/XCJET01Gb2N1c0luXCI6XCJmb2N1c1wiLGZ1bmN0aW9uKCl7Yy5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2Muc2VsZWN0aW9uQ2hhbmdlKDEpfSk7aWYocCYmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbykpe3ZhciBBO2UuYXR0YWNoTGlzdGVuZXIoZSxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7QT0xfSk7ZS5hdHRhY2hMaXN0ZW5lcihkLmdldERvY3VtZW50RWxlbWVudCgpLFxuXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtBJiZrLmNhbGwoYyk7QT0wfSl9ZWxzZSBlLmF0dGFjaExpc3RlbmVyKENLRURJVE9SLmVudi5pZT9lOmQuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJtb3VzZXVwXCIsayxjKTtDS0VESVRPUi5lbnYud2Via2l0JiZlLmF0dGFjaExpc3RlbmVyKGQsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7c3dpdGNoKGEuZGF0YS5nZXRLZXkoKSl7Y2FzZSAxMzpjYXNlIDMzOmNhc2UgMzQ6Y2FzZSAzNTpjYXNlIDM2OmNhc2UgMzc6Y2FzZSAzOTpjYXNlIDg6Y2FzZSA0NTpjYXNlIDQ2OmUuaGFzRm9jdXMmJm4oZSl9fSxudWxsLG51bGwsLTEpO2UuYXR0YWNoTGlzdGVuZXIoZSxcImtleWRvd25cIix2KGMpLG51bGwsbnVsbCwtMSl9KTtjLm9uKFwic2V0RGF0YVwiLGZ1bmN0aW9uKCl7Yy51bmxvY2tTZWxlY3Rpb24oKTtDS0VESVRPUi5lbnYud2Via2l0JiZiKCl9KTtjLm9uKFwiY29udGVudERvbVVubG9hZFwiLGZ1bmN0aW9uKCl7Yy51bmxvY2tTZWxlY3Rpb24oKX0pO2lmKENLRURJVE9SLmVudi5pZTlDb21wYXQpYy5vbihcImJlZm9yZURlc3Ryb3lcIixcbmIsbnVsbCxudWxsLDkpO2Mub24oXCJkYXRhUmVhZHlcIixmdW5jdGlvbigpe2RlbGV0ZSBjLl8uZmFrZVNlbGVjdGlvbjtkZWxldGUgYy5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjtjLnNlbGVjdGlvbkNoYW5nZSgxKX0pO2Mub24oXCJsb2FkU25hcHNob3RcIixmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGUoQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSxiPWMuZWRpdGFibGUoKS5nZXRMYXN0KGEpO2ImJmIuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtaGlkZGVuLXNlbFwiKSYmKGIucmVtb3ZlKCksQ0tFRElUT1IuZW52LmdlY2tvJiYoYT1jLmVkaXRhYmxlKCkuZ2V0Rmlyc3QoYSkpJiZhLmlzKFwiYnJcIikmJmEuZ2V0QXR0cmlidXRlKFwiX21vel9lZGl0b3JfYm9ndXNfbm9kZVwiKSYmYS5yZW1vdmUoKSl9LG51bGwsbnVsbCwxMDApO2Mub24oXCJrZXlcIixmdW5jdGlvbihhKXtpZihcInd5c2l3eWdcIj09Yy5tb2RlKXt2YXIgYj1jLmdldFNlbGVjdGlvbigpO2lmKGIuaXNGYWtlKXt2YXIgZj1cbkJbYS5kYXRhLmtleUNvZGVdO2lmKGYpcmV0dXJuIGYoe2VkaXRvcjpjLHNlbGVjdGVkOmIuZ2V0U2VsZWN0ZWRFbGVtZW50KCksc2VsZWN0aW9uOmIsa2V5RXZlbnQ6YX0pfX19KX0pO2lmKENLRURJVE9SLmVudi53ZWJraXQpQ0tFRElUT1Iub24oXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5lZGl0b3I7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5lZGl0YWJsZSgpLGM9YS5nZXRDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIpO2MmJihjLmdldEN1c3RvbURhdGEoXCJyZWFkeVwiKT8obihhKSxhLmVkaXRvci5maXJlKFwic2VsZWN0aW9uQ2hlY2tcIikpOmMuc2V0Q3VzdG9tRGF0YShcInJlYWR5XCIsMSkpfSxudWxsLG51bGwsLTEpO2Iub24oXCJiZWZvcmVTZXRNb2RlXCIsZnVuY3Rpb24oKXtuKGIuZWRpdGFibGUoKSl9LG51bGwsbnVsbCwtMSk7Yi5vbihcImdldFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7YS5kYXRhJiYoYS5kYXRhPXAoYS5kYXRhKSl9LFxuYixudWxsLDIwKTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZT1wKGEuZGF0YS5kYXRhVmFsdWUpfSxudWxsLG51bGwsMCl9KTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbihhKXsoYT9sOmspLmNhbGwodGhpcyl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLl8uc2F2ZWRTZWxlY3Rpb24mJiF0aGlzLl8uZmFrZVNlbGVjdGlvbnx8YT8oYT10aGlzLmVkaXRhYmxlKCkpJiZcInd5c2l3eWdcIj09dGhpcy5tb2RlP25ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKGEpOm51bGw6dGhpcy5fLnNhdmVkU2VsZWN0aW9ufHx0aGlzLl8uZmFrZVNlbGVjdGlvbn07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5sb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKGEpe2E9YXx8dGhpcy5nZXRTZWxlY3Rpb24oMSk7cmV0dXJuIGEuZ2V0VHlwZSgpIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORT9cbighYS5pc0xvY2tlZCYmYS5sb2NrKCksdGhpcy5fLnNhdmVkU2VsZWN0aW9uPWEsITApOiExfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnVubG9ja1NlbGVjdGlvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uc2F2ZWRTZWxlY3Rpb247cmV0dXJuIGI/KGIudW5sb2NrKGEpLGRlbGV0ZSB0aGlzLl8uc2F2ZWRTZWxlY3Rpb24sITApOiExfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGh9O0NLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMpfTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMucm9vdCBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlP3RoaXMucm9vdC5lZGl0b3IuZ2V0U2VsZWN0aW9uKCk6XG5uZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbih0aGlzLnJvb3QpO2Euc2VsZWN0UmFuZ2VzKFt0aGlzXSk7cmV0dXJuIGF9O0NLRURJVE9SLlNFTEVDVElPTl9OT05FPTE7Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQ9MjtDS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVD0zO0NLRURJVE9SLmRvbS5zZWxlY3Rpb249ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5zZWxlY3Rpb24pe3ZhciBiPWE7YT1hLnJvb3R9dmFyIGM9YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50O3RoaXMucmV2PWI/Yi5yZXY6dCsrO3RoaXMuZG9jdW1lbnQ9YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudD9hOmEuZ2V0RG9jdW1lbnQoKTt0aGlzLnJvb3Q9Yz9hOnRoaXMuZG9jdW1lbnQuZ2V0Qm9keSgpO3RoaXMuaXNMb2NrZWQ9MDt0aGlzLl89e2NhY2hlOnt9fTtpZihiKXJldHVybiBDS0VESVRPUi50b29scy5leHRlbmQodGhpcy5fLmNhY2hlLGIuXy5jYWNoZSksXG50aGlzLmlzRmFrZT1iLmlzRmFrZSx0aGlzLmlzTG9ja2VkPWIuaXNMb2NrZWQsdGhpczthPXRoaXMuZ2V0TmF0aXZlKCk7dmFyIGYsZDtpZihhKWlmKGEuZ2V0UmFuZ2VBdClmPShkPWEucmFuZ2VDb3VudCYmYS5nZXRSYW5nZUF0KDApKSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGQuY29tbW9uQW5jZXN0b3JDb250YWluZXIpO2Vsc2V7dHJ5e2Q9YS5jcmVhdGVSYW5nZSgpfWNhdGNoKGcpe31mPWQmJkNLRURJVE9SLmRvbS5lbGVtZW50LmdldChkLml0ZW0mJmQuaXRlbSgwKXx8ZC5wYXJlbnRFbGVtZW50KCkpfWlmKCFmfHxmLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFR8fCF0aGlzLnJvb3QuZXF1YWxzKGYpJiYhdGhpcy5yb290LmNvbnRhaW5zKGYpKXRoaXMuXy5jYWNoZS50eXBlPUNLRURJVE9SLlNFTEVDVElPTl9OT05FLHRoaXMuXy5jYWNoZS5zdGFydEVsZW1lbnQ9bnVsbCx0aGlzLl8uY2FjaGUuc2VsZWN0ZWRFbGVtZW50PVxubnVsbCx0aGlzLl8uY2FjaGUuc2VsZWN0ZWRUZXh0PVwiXCIsdGhpcy5fLmNhY2hlLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdDtyZXR1cm4gdGhpc307dmFyIEc9e2ltZzoxLGhyOjEsbGk6MSx0YWJsZToxLHRyOjEsdGQ6MSx0aDoxLGVtYmVkOjEsb2JqZWN0OjEsb2w6MSx1bDoxLGE6MSxpbnB1dDoxLGZvcm06MSxzZWxlY3Q6MSx0ZXh0YXJlYToxLGJ1dHRvbjoxLGZpZWxkc2V0OjEsdGhlYWQ6MSx0Zm9vdDoxfTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLnNlbGVjdGlvbix7X3JlbW92ZUZpbGxpbmdDaGFyU2VxdWVuY2VTdHJpbmc6cCxfY3JlYXRlRmlsbGluZ0NoYXJTZXF1ZW5jZU5vZGU6ZixGSUxMSU5HX0NIQVJfU0VRVUVOQ0U6dX0pO0NLRURJVE9SLmRvbS5zZWxlY3Rpb24ucHJvdG90eXBlPXtnZXROYXRpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbD90aGlzLl8uY2FjaGUubmF0aXZlU2VsOnRoaXMuXy5jYWNoZS5uYXRpdmVTZWw9XG5xP3RoaXMuZG9jdW1lbnQuJC5zZWxlY3Rpb246dGhpcy5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmdldFNlbGVjdGlvbigpfSxnZXRUeXBlOnE/ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYoYS50eXBlKXJldHVybiBhLnR5cGU7dmFyIGI9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7dHJ5e3ZhciBjPXRoaXMuZ2V0TmF0aXZlKCksZj1jLnR5cGU7XCJUZXh0XCI9PWYmJihiPUNLRURJVE9SLlNFTEVDVElPTl9URVhUKTtcIkNvbnRyb2xcIj09ZiYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQpO2MuY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkmJihiPUNLRURJVE9SLlNFTEVDVElPTl9URVhUKX1jYXRjaChkKXt9cmV0dXJuIGEudHlwZT1ifTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnR5cGUpcmV0dXJuIGEudHlwZTt2YXIgYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVCxjPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWN8fCFjLnJhbmdlQ291bnQpYj1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORTtcbmVsc2UgaWYoMT09Yy5yYW5nZUNvdW50KXt2YXIgYz1jLmdldFJhbmdlQXQoMCksZj1jLnN0YXJ0Q29udGFpbmVyO2Y9PWMuZW5kQ29udGFpbmVyJiYxPT1mLm5vZGVUeXBlJiYxPT1jLmVuZE9mZnNldC1jLnN0YXJ0T2Zmc2V0JiZHW2YuY2hpbGROb2Rlc1tjLnN0YXJ0T2Zmc2V0XS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQpfXJldHVybiBhLnR5cGU9Yn0sZ2V0UmFuZ2VzOmZ1bmN0aW9uKCl7dmFyIGE9cT9mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuKG5ldyBDS0VESVRPUi5kb20ubm9kZShiKSkuZ2V0SW5kZXgoKX12YXIgYj1mdW5jdGlvbihiLGMpe2I9Yi5kdXBsaWNhdGUoKTtiLmNvbGxhcHNlKGMpO3ZhciBmPWIucGFyZW50RWxlbWVudCgpO2lmKCFmLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm57Y29udGFpbmVyOmYsb2Zmc2V0OjB9O2Zvcih2YXIgZD1mLmNoaWxkcmVuLGcsZSxoPWIuZHVwbGljYXRlKCksbT0wLFxuaz1kLmxlbmd0aC0xLG49LTEsbCxwO208PWs7KWlmKG49TWF0aC5mbG9vcigobStrKS8yKSxnPWRbbl0saC5tb3ZlVG9FbGVtZW50VGV4dChnKSxsPWguY29tcGFyZUVuZFBvaW50cyhcIlN0YXJ0VG9TdGFydFwiLGIpLDA8bClrPW4tMTtlbHNlIGlmKDA+bCltPW4rMTtlbHNlIHJldHVybntjb250YWluZXI6ZixvZmZzZXQ6YShnKX07aWYoLTE9PW58fG49PWQubGVuZ3RoLTEmJjA+bCl7aC5tb3ZlVG9FbGVtZW50VGV4dChmKTtoLnNldEVuZFBvaW50KFwiU3RhcnRUb1N0YXJ0XCIsYik7aD1oLnRleHQucmVwbGFjZSgvKFxcclxcbnxcXHIpL2csXCJcXG5cIikubGVuZ3RoO2Q9Zi5jaGlsZE5vZGVzO2lmKCFoKXJldHVybiBnPWRbZC5sZW5ndGgtMV0sZy5ub2RlVHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUP3tjb250YWluZXI6ZixvZmZzZXQ6ZC5sZW5ndGh9Ontjb250YWluZXI6ZyxvZmZzZXQ6Zy5ub2RlVmFsdWUubGVuZ3RofTtmb3IoZj1kLmxlbmd0aDswPGgmJjA8ZjspZT1kWy0tZl0sZS5ub2RlVHlwZT09XG5DS0VESVRPUi5OT0RFX1RFWFQmJihwPWUsaC09ZS5ub2RlVmFsdWUubGVuZ3RoKTtyZXR1cm57Y29udGFpbmVyOnAsb2Zmc2V0Oi1ofX1oLmNvbGxhcHNlKDA8bD8hMDohMSk7aC5zZXRFbmRQb2ludCgwPGw/XCJTdGFydFRvU3RhcnRcIjpcIkVuZFRvU3RhcnRcIixiKTtoPWgudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7aWYoIWgpcmV0dXJue2NvbnRhaW5lcjpmLG9mZnNldDphKGcpKygwPGw/MDoxKX07Zm9yKDswPGg7KXRyeXtlPWdbMDxsP1wicHJldmlvdXNTaWJsaW5nXCI6XCJuZXh0U2libGluZ1wiXSxlLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihoLT1lLm5vZGVWYWx1ZS5sZW5ndGgscD1lKSxnPWV9Y2F0Y2gocSl7cmV0dXJue2NvbnRhaW5lcjpmLG9mZnNldDphKGcpfX1yZXR1cm57Y29udGFpbmVyOnAsb2Zmc2V0OjA8bD8taDpwLm5vZGVWYWx1ZS5sZW5ndGgraH19O3JldHVybiBmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0TmF0aXZlKCksYz1hJiZcbmEuY3JlYXRlUmFuZ2UoKSxmPXRoaXMuZ2V0VHlwZSgpO2lmKCFhKXJldHVybltdO2lmKGY9PUNLRURJVE9SLlNFTEVDVElPTl9URVhUKXJldHVybiBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KSxmPWIoYywhMCksYS5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZi5jb250YWluZXIpLGYub2Zmc2V0KSxmPWIoYyksYS5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGYuY29udGFpbmVyKSxmLm9mZnNldCksYS5lbmRDb250YWluZXIuZ2V0UG9zaXRpb24oYS5zdGFydENvbnRhaW5lcikmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HJiZhLmVuZE9mZnNldDw9YS5zdGFydENvbnRhaW5lci5nZXRJbmRleCgpJiZhLmNvbGxhcHNlKCksW2FdO2lmKGY9PUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UKXtmb3IodmFyIGY9W10sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXtmb3IodmFyIGc9Yy5pdGVtKGQpLGU9Zy5wYXJlbnROb2RlLGg9MCxhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtoPFxuZS5jaGlsZE5vZGVzLmxlbmd0aCYmZS5jaGlsZE5vZGVzW2hdIT1nO2grKyk7YS5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZSksaCk7YS5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGUpLGgrMSk7Zi5wdXNoKGEpfXJldHVybiBmfXJldHVybltdfX0oKTpmdW5jdGlvbigpe3ZhciBhPVtdLGIsYz10aGlzLmdldE5hdGl2ZSgpO2lmKCFjKXJldHVybiBhO2Zvcih2YXIgZj0wO2Y8Yy5yYW5nZUNvdW50O2YrKyl7dmFyIGQ9Yy5nZXRSYW5nZUF0KGYpO2I9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Iuc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKGQuc3RhcnRDb250YWluZXIpLGQuc3RhcnRPZmZzZXQpO2Iuc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShkLmVuZENvbnRhaW5lciksZC5lbmRPZmZzZXQpO2EucHVzaChiKX1yZXR1cm4gYX07cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuXy5jYWNoZSxmPWMucmFuZ2VzO2Z8fChjLnJhbmdlcz1cbmY9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoYS5jYWxsKHRoaXMpKSk7cmV0dXJuIGI/eChuZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChmLnNsaWNlKCkpKTpmfX0oKSxnZXRTdGFydEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYodm9pZCAwIT09YS5zdGFydEVsZW1lbnQpcmV0dXJuIGEuc3RhcnRFbGVtZW50O3ZhciBiO3N3aXRjaCh0aGlzLmdldFR5cGUoKSl7Y2FzZSBDS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVDpyZXR1cm4gdGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKTtjYXNlIENLRURJVE9SLlNFTEVDVElPTl9URVhUOnZhciBjPXRoaXMuZ2V0UmFuZ2VzKClbMF07aWYoYyl7aWYoYy5jb2xsYXBzZWQpYj1jLnN0YXJ0Q29udGFpbmVyLGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj1iLmdldFBhcmVudCgpKTtlbHNle2ZvcihjLm9wdGltaXplKCk7Yj1jLnN0YXJ0Q29udGFpbmVyLGMuc3RhcnRPZmZzZXQ9PShiLmdldENoaWxkQ291bnQ/XG5iLmdldENoaWxkQ291bnQoKTpiLmdldExlbmd0aCgpKSYmIWIuaXNCbG9ja0JvdW5kYXJ5KCk7KWMuc2V0U3RhcnRBZnRlcihiKTtiPWMuc3RhcnRDb250YWluZXI7aWYoYi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIGIuZ2V0UGFyZW50KCk7aWYoKGI9Yi5nZXRDaGlsZChjLnN0YXJ0T2Zmc2V0KSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWZvcihjPWIuZ2V0Rmlyc3QoKTtjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVDspYj1jLGM9Yy5nZXRGaXJzdCgpO2Vsc2UgYj1jLnN0YXJ0Q29udGFpbmVyfWI9Yi4kfX1yZXR1cm4gYS5zdGFydEVsZW1lbnQ9Yj9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYik6bnVsbH0sZ2V0U2VsZWN0ZWRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKHZvaWQgMCE9PWEuc2VsZWN0ZWRFbGVtZW50KXJldHVybiBhLnNlbGVjdGVkRWxlbWVudDt2YXIgYj10aGlzLGM9Q0tFRElUT1IudG9vbHMudHJ5VGhlc2UoZnVuY3Rpb24oKXtyZXR1cm4gYi5nZXROYXRpdmUoKS5jcmVhdGVSYW5nZSgpLml0ZW0oMCl9LFxuZnVuY3Rpb24oKXtmb3IodmFyIGE9Yi5nZXRSYW5nZXMoKVswXS5jbG9uZSgpLGMsZixkPTI7ZCYmISgoYz1hLmdldEVuY2xvc2VkTm9kZSgpKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkdbYy5nZXROYW1lKCldJiYoZj1jKSk7ZC0tKWEuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5UKTtyZXR1cm4gZiYmZi4kfSk7cmV0dXJuIGEuc2VsZWN0ZWRFbGVtZW50PWM/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpOm51bGx9LGdldFNlbGVjdGVkVGV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZih2b2lkIDAhPT1hLnNlbGVjdGVkVGV4dClyZXR1cm4gYS5zZWxlY3RlZFRleHQ7dmFyIGI9dGhpcy5nZXROYXRpdmUoKSxiPXE/XCJDb250cm9sXCI9PWIudHlwZT9cIlwiOmIuY3JlYXRlUmFuZ2UoKS50ZXh0OmIudG9TdHJpbmcoKTtyZXR1cm4gYS5zZWxlY3RlZFRleHQ9Yn0sbG9jazpmdW5jdGlvbigpe3RoaXMuZ2V0UmFuZ2VzKCk7dGhpcy5nZXRTdGFydEVsZW1lbnQoKTtcbnRoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7dGhpcy5nZXRTZWxlY3RlZFRleHQoKTt0aGlzLl8uY2FjaGUubmF0aXZlU2VsPW51bGw7dGhpcy5pc0xvY2tlZD0xfSx1bmxvY2s6ZnVuY3Rpb24oYSl7aWYodGhpcy5pc0xvY2tlZCl7aWYoYSl2YXIgYj10aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpLGM9dGhpcy5nZXRSYW5nZXMoKSxmPXRoaXMuaXNGYWtlO3RoaXMuaXNMb2NrZWQ9MDt0aGlzLnJlc2V0KCk7YSYmKGE9Ynx8Y1swXSYmY1swXS5nZXRDb21tb25BbmNlc3RvcigpKSYmYS5nZXRBc2NlbmRhbnQoXCJib2R5XCIsMSkmJihlKGMpP2QuY2FsbCh0aGlzLGMpOmY/dGhpcy5mYWtlKGIpOmI/dGhpcy5zZWxlY3RFbGVtZW50KGIpOnRoaXMuc2VsZWN0UmFuZ2VzKGMpKX19LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLmNhY2hlPXt9O3RoaXMuaXNGYWtlPTA7dmFyIGE9dGhpcy5yb290LmVkaXRvcjtpZihhJiZhLl8uZmFrZVNlbGVjdGlvbilpZih0aGlzLnJldj09YS5fLmZha2VTZWxlY3Rpb24ucmV2KXtkZWxldGUgYS5fLmZha2VTZWxlY3Rpb247XG52YXIgYj1hLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO2lmKGIpe3ZhciBjPWEuY2hlY2tEaXJ0eSgpO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtiLnJlbW92ZSgpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpOyFjJiZhLnJlc2V0RGlydHkoKX1kZWxldGUgYS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcn1lbHNlIENLRURJVE9SLndhcm4oXCJzZWxlY3Rpb24tZmFrZS1yZXNldFwiKTt0aGlzLnJldj10Kyt9LHNlbGVjdEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Iuc2V0U3RhcnRCZWZvcmUoYSk7Yi5zZXRFbmRBZnRlcihhKTt0aGlzLnNlbGVjdFJhbmdlcyhbYl0pfSxzZWxlY3RSYW5nZXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yb290LmVkaXRvcixjPWImJmIuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI7dGhpcy5yZXNldCgpO2lmKGMpZm9yKHZhciBjPXRoaXMucm9vdCxnLGg9MDtoPGEubGVuZ3RoOysraClnPVxuYVtoXSxnLmVuZENvbnRhaW5lci5lcXVhbHMoYykmJihnLmVuZE9mZnNldD1NYXRoLm1pbihnLmVuZE9mZnNldCxjLmdldENoaWxkQ291bnQoKSkpO2lmKGEubGVuZ3RoKWlmKHRoaXMuaXNMb2NrZWQpe3ZhciBrPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpO3RoaXMudW5sb2NrKCk7dGhpcy5zZWxlY3RSYW5nZXMoYSk7dGhpcy5sb2NrKCk7ayYmIWsuZXF1YWxzKHRoaXMucm9vdCkmJmsuZm9jdXMoKX1lbHNle3ZhciBsO2E6e3ZhciBwLHU7aWYoMT09YS5sZW5ndGgmJiEodT1hWzBdKS5jb2xsYXBzZWQmJihsPXUuZ2V0RW5jbG9zZWROb2RlKCkpJiZsLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKHU9dS5jbG9uZSgpLHUuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULCEwKSwocD11LmdldEVuY2xvc2VkTm9kZSgpKSYmcC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihsPXApLFwiZmFsc2VcIj09bC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpKWJyZWFrIGE7XG5sPXZvaWQgMH1pZihsKXRoaXMuZmFrZShsKTtlbHNlIGlmKGImJmIucGx1Z2lucy50YWJsZXNlbGVjdGlvbiYmQ0tFRElUT1IucGx1Z2lucy50YWJsZXNlbGVjdGlvbi5pc1N1cHBvcnRlZEVudmlyb25tZW50JiZlKGEpJiYheilkLmNhbGwodGhpcyxhKTtlbHNle2lmKHEpe3A9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7bD0vXFx1ZmVmZnxcXHUwMGEwLzt1PXt0YWJsZToxLHRib2R5OjEsdHI6MX07MTxhLmxlbmd0aCYmKGI9YVthLmxlbmd0aC0xXSxhWzBdLnNldEVuZChiLmVuZENvbnRhaW5lcixiLmVuZE9mZnNldCkpO2I9YVswXTthPWIuY29sbGFwc2VkO3ZhciB0LHYsdztpZigoYz1iLmdldEVuY2xvc2VkTm9kZSgpKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuZ2V0TmFtZSgpaW4gRyYmKCFjLmlzKFwiYVwiKXx8IWMuZ2V0VGV4dCgpKSl0cnl7dz1jLiQuY3JlYXRlQ29udHJvbFJhbmdlKCk7dy5hZGRFbGVtZW50KGMuJCk7dy5zZWxlY3QoKTtyZXR1cm59Y2F0Y2gocil7fWlmKGIuc3RhcnRDb250YWluZXIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gdXx8Yi5lbmRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmVuZENvbnRhaW5lci5nZXROYW1lKClpbiB1KWIuc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCksYT1iLmNvbGxhcHNlZDt3PWIuY3JlYXRlQm9va21hcmsoKTt1PXcuc3RhcnROb2RlO2F8fChrPXcuZW5kTm9kZSk7dz1iLmRvY3VtZW50LiQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTt3Lm1vdmVUb0VsZW1lbnRUZXh0KHUuJCk7dy5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwxKTtrPyhsPWIuZG9jdW1lbnQuJC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpLGwubW92ZVRvRWxlbWVudFRleHQoay4kKSx3LnNldEVuZFBvaW50KFwiRW5kVG9FbmRcIixsKSx3Lm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwtMSkpOih0PXUuZ2V0TmV4dChwKSx2PXUuaGFzQXNjZW5kYW50KFwicHJlXCIpLHQ9ISh0JiZ0LmdldFRleHQmJnQuZ2V0VGV4dCgpLm1hdGNoKGwpKSYmXG4odnx8IXUuaGFzUHJldmlvdXMoKXx8dS5nZXRQcmV2aW91cygpLmlzJiZ1LmdldFByZXZpb3VzKCkuaXMoXCJiclwiKSksdj1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHYuc2V0SHRtbChcIlxceDI2IzY1Mjc5O1wiKSx2Lmluc2VydEJlZm9yZSh1KSx0JiZiLmRvY3VtZW50LmNyZWF0ZVRleHQoXCLvu79cIikuaW5zZXJ0QmVmb3JlKHUpKTtiLnNldFN0YXJ0QmVmb3JlKHUpO3UucmVtb3ZlKCk7YT8odD8ody5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwtMSksdy5zZWxlY3QoKSxiLmRvY3VtZW50LiQuc2VsZWN0aW9uLmNsZWFyKCkpOncuc2VsZWN0KCksYi5tb3ZlVG9Qb3NpdGlvbih2LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksdi5yZW1vdmUoKSk6KGIuc2V0RW5kQmVmb3JlKGspLGsucmVtb3ZlKCksdy5zZWxlY3QoKSl9ZWxzZXtrPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWspcmV0dXJuO3RoaXMucmVtb3ZlQWxsUmFuZ2VzKCk7Zm9yKHc9MDt3PGEubGVuZ3RoO3crKyl7aWYodzxcbmEubGVuZ3RoLTEmJih0PWFbd10sdj1hW3crMV0sbD10LmNsb25lKCksbC5zZXRTdGFydCh0LmVuZENvbnRhaW5lcix0LmVuZE9mZnNldCksbC5zZXRFbmQodi5zdGFydENvbnRhaW5lcix2LnN0YXJ0T2Zmc2V0KSwhbC5jb2xsYXBzZWQmJihsLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApLGI9bC5nZXRDb21tb25BbmNlc3RvcigpLGw9bC5nZXRFbmNsb3NlZE5vZGUoKSxiLmlzUmVhZE9ubHkoKXx8bCYmbC5pc1JlYWRPbmx5KCkpKSl7di5zZXRTdGFydCh0LnN0YXJ0Q29udGFpbmVyLHQuc3RhcnRPZmZzZXQpO2Euc3BsaWNlKHctLSwxKTtjb250aW51ZX1iPWFbd107dj10aGlzLmRvY3VtZW50LiQuY3JlYXRlUmFuZ2UoKTtiLmNvbGxhcHNlZCYmQ0tFRElUT1IuZW52LndlYmtpdCYmbShiKSYmKGw9Zih0aGlzLnJvb3QpLGIuaW5zZXJ0Tm9kZShsKSwodD1sLmdldE5leHQoKSkmJiFsLmdldFByZXZpb3VzKCkmJnQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImJyXCI9PVxudC5nZXROYW1lKCk/KG4odGhpcy5yb290KSxiLm1vdmVUb1Bvc2l0aW9uKHQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk6Yi5tb3ZlVG9Qb3NpdGlvbihsLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO3Yuc2V0U3RhcnQoYi5zdGFydENvbnRhaW5lci4kLGIuc3RhcnRPZmZzZXQpO3RyeXt2LnNldEVuZChiLmVuZENvbnRhaW5lci4kLGIuZW5kT2Zmc2V0KX1jYXRjaCh4KXtpZigwPD14LnRvU3RyaW5nKCkuaW5kZXhPZihcIk5TX0VSUk9SX0lMTEVHQUxfVkFMVUVcIikpYi5jb2xsYXBzZSgxKSx2LnNldEVuZChiLmVuZENvbnRhaW5lci4kLGIuZW5kT2Zmc2V0KTtlbHNlIHRocm93IHg7fWsuYWRkUmFuZ2Uodil9fXRoaXMucmVzZXQoKTt0aGlzLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKX19fSxmYWtlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yb290LmVkaXRvcjt2b2lkIDA9PT1iJiZhLmhhc0F0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikmJihiPWEuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSk7XG50aGlzLnJlc2V0KCk7cihjLGIpO3ZhciBmPXRoaXMuXy5jYWNoZSxkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtkLnNldFN0YXJ0QmVmb3JlKGEpO2Quc2V0RW5kQWZ0ZXIoYSk7Zi5yYW5nZXM9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoZCk7Zi5zZWxlY3RlZEVsZW1lbnQ9Zi5zdGFydEVsZW1lbnQ9YTtmLnR5cGU9Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQ7Zi5zZWxlY3RlZFRleHQ9Zi5uYXRpdmVTZWw9bnVsbDt0aGlzLmlzRmFrZT0xO3RoaXMucmV2PXQrKztjLl8uZmFrZVNlbGVjdGlvbj10aGlzO3RoaXMucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpfSxpc0hpZGRlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IoKTthJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGE9YS5nZXRQYXJlbnQoKSk7cmV0dXJuISghYXx8IWEuZGF0YShcImNrZS1oaWRkZW4tc2VsXCIpKX0saXNJblRhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMuZ2V0UmFuZ2VzKCksXG5hKX0saXNDb2xsYXBzZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJhbmdlcygpO3JldHVybiAxPT09YS5sZW5ndGgmJmFbMF0uY29sbGFwc2VkfSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFJhbmdlcygpLmNyZWF0ZUJvb2ttYXJrcyhhKTt0aGlzLmlzRmFrZSYmKGEuaXNGYWtlPTEpO3JldHVybiBhfSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRSYW5nZXMoKS5jcmVhdGVCb29rbWFya3MyKGEpO3RoaXMuaXNGYWtlJiYoYS5pc0Zha2U9MSk7cmV0dXJuIGF9LHNlbGVjdEJvb2ttYXJrczpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYyxmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtkLm1vdmVUb0Jvb2ttYXJrKGFbZl0pO2IucHVzaChkKX1hLmlzRmFrZSYmKGM9ZShiKT9iWzBdLl9nZXRUYWJsZUVsZW1lbnQoKTpiWzBdLmdldEVuY2xvc2VkTm9kZSgpLGMmJmMudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlR8fChDS0VESVRPUi53YXJuKFwic2VsZWN0aW9uLW5vdC1mYWtlXCIpLGEuaXNGYWtlPTApKTthLmlzRmFrZSYmIWUoYik/dGhpcy5mYWtlKGMpOnRoaXMuc2VsZWN0UmFuZ2VzKGIpO3JldHVybiB0aGlzfSxnZXRDb21tb25BbmNlc3RvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0UmFuZ2VzKCk7cmV0dXJuIGEubGVuZ3RoP2FbMF0uc3RhcnRDb250YWluZXIuZ2V0Q29tbW9uQW5jZXN0b3IoYVthLmxlbmd0aC0xXS5lbmRDb250YWluZXIpOm51bGx9LHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKCl7dGhpcy50eXBlIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSYmdGhpcy5nZXRSYW5nZXMoKVswXS5zY3JvbGxJbnRvVmlldygpfSxyZW1vdmVBbGxSYW5nZXM6ZnVuY3Rpb24oKXtpZih0aGlzLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUpe3ZhciBhPXRoaXMuZ2V0TmF0aXZlKCk7dHJ5e2EmJmFbcT9cImVtcHR5XCI6XCJyZW1vdmVBbGxSYW5nZXNcIl0oKX1jYXRjaChiKXt9dGhpcy5yZXNldCgpfX19fSgpLFxuXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IuU1RZTEVfQkxPQ0s9MSxDS0VESVRPUi5TVFlMRV9JTkxJTkU9MixDS0VESVRPUi5TVFlMRV9PQkpFQ1Q9MyxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmb3IodmFyIGMsZjsoYT1hLmdldFBhcmVudCgpKSYmIWEuZXF1YWxzKGIpOylpZihhLmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKSljPWE7ZWxzZSBpZighZil7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik7XCJmYWxzZVwiPT1kP2M9YTpcInRydWVcIj09ZCYmKGY9MSl9cmV0dXJuIGN9ZnVuY3Rpb24gZShhLGIsYyxmKXtyZXR1cm4oYS5nZXRQb3NpdGlvbihiKXxmKT09ZiYmKCFjLmNoaWxkUnVsZXx8Yy5jaGlsZFJ1bGUoYSkpfWZ1bmN0aW9uIGIoYyl7dmFyIGY9Yy5kb2N1bWVudDtpZihjLmNvbGxhcHNlZClmPXQodGhpcyxmKSxjLmluc2VydE5vZGUoZiksYy5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Vsc2V7dmFyIGc9XG50aGlzLmVsZW1lbnQsaD10aGlzLl8uZGVmaW5pdGlvbixtLGs9aC5pZ25vcmVSZWFkb25seSxuPWt8fGguaW5jbHVkZVJlYWRvbmx5O251bGw9PW4mJihuPWMucm9vdC5nZXRDdXN0b21EYXRhKFwiY2tlX2luY2x1ZGVSZWFkb25seVwiKSk7dmFyIGw9Q0tFRElUT1IuZHRkW2ddO2x8fChtPSEwLGw9Q0tFRElUT1IuZHRkLnNwYW4pO2MuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSwxKTtjLnRyaW0oKTt2YXIgcD1jLmNyZWF0ZUJvb2ttYXJrKCkscT1wLnN0YXJ0Tm9kZSx1PXAuZW5kTm9kZSx3PXEscjtpZighayl7dmFyIHg9Yy5nZXRDb21tb25BbmNlc3RvcigpLGs9YShxLHgpLHg9YSh1LHgpO2smJih3PWsuZ2V0TmV4dFNvdXJjZU5vZGUoITApKTt4JiYodT14KX1mb3Iody5nZXRQb3NpdGlvbih1KT09Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYodz0wKTt3Oyl7az0hMTtpZih3LmVxdWFscyh1KSl3PW51bGwsaz0hMDtlbHNle3ZhciBBPXcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP1xudy5nZXROYW1lKCk6bnVsbCx4PUEmJlwiZmFsc2VcIj09dy5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiksej1BJiZ3LmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKTtpZihBJiZ3LmRhdGEoXCJja2UtYm9va21hcmtcIikpe3c9dy5nZXROZXh0U291cmNlTm9kZSghMCk7Y29udGludWV9aWYoeCYmbiYmQ0tFRElUT1IuZHRkLiRibG9ja1tBXSlmb3IodmFyIHk9dyxCPWQoeSksQz12b2lkIDAsRz1CLmxlbmd0aCxlYT0wLHk9RyYmbmV3IENLRURJVE9SLmRvbS5yYW5nZSh5LmdldERvY3VtZW50KCkpO2VhPEc7KytlYSl7dmFyIEM9QltlYV0sRT1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW0MuZGF0YShcImNrZS1maWx0ZXJcIildO2lmKEU/RS5jaGVjayh0aGlzKToxKXkuc2VsZWN0Tm9kZUNvbnRlbnRzKEMpLGIuY2FsbCh0aGlzLHkpfUI9QT8hbFtBXXx8ej8wOngmJiFuPzA6ZSh3LHUsaCxLKToxO2lmKEIpaWYoQz13LmdldFBhcmVudCgpLEI9aCxHPWcsZWE9bSwhQ3x8IShDLmdldER0ZCgpfHxcbkNLRURJVE9SLmR0ZC5zcGFuKVtHXSYmIWVhfHxCLnBhcmVudFJ1bGUmJiFCLnBhcmVudFJ1bGUoQykpaz0hMDtlbHNle2lmKHJ8fEEmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbQV0mJih3LmdldFBvc2l0aW9uKHUpfEspIT1LfHwocj1jLmNsb25lKCksci5zZXRTdGFydEJlZm9yZSh3KSksQT13LnR5cGUsQT09Q0tFRElUT1IuTk9ERV9URVhUfHx4fHxBPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiF3LmdldENoaWxkQ291bnQoKSl7Zm9yKHZhciBBPXcsRjsoaz0hQS5nZXROZXh0KEkpKSYmKEY9QS5nZXRQYXJlbnQoKSxsW0YuZ2V0TmFtZSgpXSkmJmUoRixxLGgsSik7KUE9RjtyLnNldEVuZEFmdGVyKEEpfX1lbHNlIGs9ITA7dz13LmdldE5leHRTb3VyY2VOb2RlKHp8fHgpfWlmKGsmJnImJiFyLmNvbGxhcHNlZCl7Zm9yKHZhciBrPXQodGhpcyxmKSx4PWsuaGFzQXR0cmlidXRlcygpLHo9ci5nZXRDb21tb25BbmNlc3RvcigpLEE9e30sQj17fSxDPXt9LEc9e30sZmEsSCxoYTtrJiZcbno7KXtpZih6LmdldE5hbWUoKT09Zyl7Zm9yKGZhIGluIGguYXR0cmlidXRlcykhR1tmYV0mJihoYT16LmdldEF0dHJpYnV0ZShIKSkmJihrLmdldEF0dHJpYnV0ZShmYSk9PWhhP0JbZmFdPTE6R1tmYV09MSk7Zm9yKEggaW4gaC5zdHlsZXMpIUNbSF0mJihoYT16LmdldFN0eWxlKEgpKSYmKGsuZ2V0U3R5bGUoSCk9PWhhP0FbSF09MTpDW0hdPTEpfXo9ei5nZXRQYXJlbnQoKX1mb3IoZmEgaW4gQilrLnJlbW92ZUF0dHJpYnV0ZShmYSk7Zm9yKEggaW4gQSlrLnJlbW92ZVN0eWxlKEgpO3gmJiFrLmhhc0F0dHJpYnV0ZXMoKSYmKGs9bnVsbCk7az8oci5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhrKSxyLmluc2VydE5vZGUoayksdi5jYWxsKHRoaXMsayksay5tZXJnZVNpYmxpbmdzKCksQ0tFRElUT1IuZW52LmllfHxrLiQubm9ybWFsaXplKCkpOihrPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIiksci5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhrKSxyLmluc2VydE5vZGUoayksXG52LmNhbGwodGhpcyxrKSxrLnJlbW92ZSghMCkpO3I9bnVsbH19Yy5tb3ZlVG9Cb29rbWFyayhwKTtjLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCk7Yy5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKX19ZnVuY3Rpb24gYyhhKXtmdW5jdGlvbiBiKCl7Zm9yKHZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZi5nZXRQYXJlbnQoKSksYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKG4uZ2V0UGFyZW50KCkpLGQ9bnVsbCxnPW51bGwsZT0wO2U8YS5lbGVtZW50cy5sZW5ndGg7ZSsrKXt2YXIgaD1hLmVsZW1lbnRzW2VdO2lmKGg9PWEuYmxvY2t8fGg9PWEuYmxvY2tMaW1pdClicmVhaztsLmNoZWNrRWxlbWVudFJlbW92YWJsZShoLCEwKSYmKGQ9aCl9Zm9yKGU9MDtlPGMuZWxlbWVudHMubGVuZ3RoO2UrKyl7aD1jLmVsZW1lbnRzW2VdO2lmKGg9PWMuYmxvY2t8fGg9PWMuYmxvY2tMaW1pdClicmVhaztsLmNoZWNrRWxlbWVudFJlbW92YWJsZShoLCEwKSYmXG4oZz1oKX1nJiZuLmJyZWFrUGFyZW50KGcpO2QmJmYuYnJlYWtQYXJlbnQoZCl9YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO3ZhciBjPWEuY3JlYXRlQm9va21hcmsoKSxmPWMuc3RhcnROb2RlLGQ9dGhpcy5fLmRlZmluaXRpb24uYWx3YXlzUmVtb3ZlRWxlbWVudDtpZihhLmNvbGxhcHNlZCl7Zm9yKHZhciBnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZi5nZXRQYXJlbnQoKSxhLnJvb3QpLGUsaD0wLG07aDxnLmVsZW1lbnRzLmxlbmd0aCYmKG09Zy5lbGVtZW50c1toXSkmJm0hPWcuYmxvY2smJm0hPWcuYmxvY2tMaW1pdDtoKyspaWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUobSkpe3ZhciBrOyFkJiZhLmNvbGxhcHNlZCYmKGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChtLENLRURJVE9SLkVORCl8fChrPWEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChtLENLRURJVE9SLlNUQVJUKSkpPyhlPW0sZS5tYXRjaD1rP1wic3RhcnRcIjpcImVuZFwiKToobS5tZXJnZVNpYmxpbmdzKCksXG5tLmlzKHRoaXMuZWxlbWVudCk/ci5jYWxsKHRoaXMsbSk6eChtLHoodGhpcylbbS5nZXROYW1lKCldKSl9aWYoZSl7ZD1mO2ZvcihoPTA7O2grKyl7bT1nLmVsZW1lbnRzW2hdO2lmKG0uZXF1YWxzKGUpKWJyZWFrO2Vsc2UgaWYobS5tYXRjaCljb250aW51ZTtlbHNlIG09bS5jbG9uZSgpO20uYXBwZW5kKGQpO2Q9bX1kW1wic3RhcnRcIj09ZS5tYXRjaD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oZSl9fWVsc2V7dmFyIG49Yy5lbmROb2RlLGw9dGhpcztiKCk7Zm9yKGc9ZjshZy5lcXVhbHMobik7KWU9Zy5nZXROZXh0U291cmNlTm9kZSgpLGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShnKSYmKGcuZ2V0TmFtZSgpPT10aGlzLmVsZW1lbnQ/ci5jYWxsKHRoaXMsZyk6eChnLHoodGhpcylbZy5nZXROYW1lKCldKSxlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5jb250YWlucyhmKSYmKGIoKSxlPWYuZ2V0TmV4dCgpKSksXG5nPWV9YS5tb3ZlVG9Cb29rbWFyayhjKTthLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfWZ1bmN0aW9uIGQoYSl7dmFyIGI9W107YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYi5wdXNoKGEpLCExfSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApO3JldHVybiBifWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5nZXRFbmNsb3NlZE5vZGUoKXx8YS5nZXRDb21tb25BbmNlc3RvcighMSwhMCk7KGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYixhLnJvb3QpKS5jb250YWlucyh0aGlzLmVsZW1lbnQsMSkpJiYhYS5pc1JlYWRPbmx5KCkmJnUoYSx0aGlzKX1mdW5jdGlvbiBrKGEpe3ZhciBiPWEuZ2V0Q29tbW9uQW5jZXN0b3IoITAsITApO2lmKGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYixhLnJvb3QpKS5jb250YWlucyh0aGlzLmVsZW1lbnQsMSkpe3ZhciBiPXRoaXMuXy5kZWZpbml0aW9uLFxuYz1iLmF0dHJpYnV0ZXM7aWYoYylmb3IodmFyIGYgaW4gYylhLnJlbW92ZUF0dHJpYnV0ZShmLGNbZl0pO2lmKGIuc3R5bGVzKWZvcih2YXIgZCBpbiBiLnN0eWxlcyliLnN0eWxlcy5oYXNPd25Qcm9wZXJ0eShkKSYmYS5yZW1vdmVTdHlsZShkKX19ZnVuY3Rpb24gZyhhKXt2YXIgYj1hLmNyZWF0ZUJvb2ttYXJrKCEwKSxjPWEuY3JlYXRlSXRlcmF0b3IoKTtjLmVuZm9yY2VSZWFsQmxvY2tzPSEwO3RoaXMuXy5lbnRlck1vZGUmJihjLmVubGFyZ2VCcj10aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUik7Zm9yKHZhciBmLGQ9YS5kb2N1bWVudCxnO2Y9Yy5nZXROZXh0UGFyYWdyYXBoKCk7KSFmLmlzUmVhZE9ubHkoKSYmKGMuYWN0aXZlRmlsdGVyP2MuYWN0aXZlRmlsdGVyLmNoZWNrKHRoaXMpOjEpJiYoZz10KHRoaXMsZCxmKSxtKGYsZykpO2EubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gaChhKXt2YXIgYj1hLmNyZWF0ZUJvb2ttYXJrKDEpLGM9YS5jcmVhdGVJdGVyYXRvcigpO1xuYy5lbmZvcmNlUmVhbEJsb2Nrcz0hMDtjLmVubGFyZ2VCcj10aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUjtmb3IodmFyIGYsZDtmPWMuZ2V0TmV4dFBhcmFncmFwaCgpOyl0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShmKSYmKGYuaXMoXCJwcmVcIik/KChkPXRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP251bGw6YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikpJiZmLmNvcHlBdHRyaWJ1dGVzKGQpLG0oZixkKSk6ci5jYWxsKHRoaXMsZikpO2EubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gbShhLGIpe3ZhciBjPSFiO2MmJihiPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGEuY29weUF0dHJpYnV0ZXMoYikpO3ZhciBkPWImJmIuaXMoXCJwcmVcIiksZz1hLmlzKFwicHJlXCIpLGU9IWQmJmc7aWYoZCYmIWcpe2c9YjsoZT1hLmdldEJvZ3VzKCkpJiZlLnJlbW92ZSgpO1xuZT1hLmdldEh0bWwoKTtlPW4oZSwvKD86XlsgXFx0XFxuXFxyXSspfCg/OlsgXFx0XFxuXFxyXSskKS9nLFwiXCIpO2U9ZS5yZXBsYWNlKC9bIFxcdFxcclxcbl0qKDxicltePl0qPilbIFxcdFxcclxcbl0qL2dpLFwiJDFcIik7ZT1lLnJlcGxhY2UoLyhbIFxcdFxcblxccl0rfCZuYnNwOykvZyxcIiBcIik7ZT1lLnJlcGxhY2UoLzxiclxcYltePl0qPi9naSxcIlxcblwiKTtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBoPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guYXBwZW5kKGcpO2cuJC5vdXRlckhUTUw9XCJcXHgzY3ByZVxceDNlXCIrZStcIlxceDNjL3ByZVxceDNlXCI7Zy5jb3B5QXR0cmlidXRlcyhoLmdldEZpcnN0KCkpO2c9aC5nZXRGaXJzdCgpLnJlbW92ZSgpfWVsc2UgZy5zZXRIdG1sKGUpO2I9Z31lbHNlIGU/Yj1wKGM/W2EuZ2V0SHRtbCgpXTpmKGEpLGIpOmEubW92ZUNoaWxkcmVuKGIpO2IucmVwbGFjZShhKTtpZihkKXt2YXIgYz1iLG07KG09Yy5nZXRQcmV2aW91cyhIKSkmJm0udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbm0uaXMoXCJwcmVcIikmJihkPW4obS5nZXRIdG1sKCksL1xcbiQvLFwiXCIpK1wiXFxuXFxuXCIrbihjLmdldEh0bWwoKSwvXlxcbi8sXCJcIiksQ0tFRElUT1IuZW52LmllP2MuJC5vdXRlckhUTUw9XCJcXHgzY3ByZVxceDNlXCIrZCtcIlxceDNjL3ByZVxceDNlXCI6Yy5zZXRIdG1sKGQpLG0ucmVtb3ZlKCkpfWVsc2UgYyYmcShiKX1mdW5jdGlvbiBmKGEpe3ZhciBiPVtdO24oYS5nZXRPdXRlckh0bWwoKSwvKFxcU1xccyopXFxuKD86XFxzfCg8c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPikpKlxcbig/ISQpL2dpLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYitcIlxceDNjL3ByZVxceDNlXCIrYytcIlxceDNjcHJlXFx4M2VcIn0pLnJlcGxhY2UoLzxwcmVcXGIuKj8+KFtcXHNcXFNdKj8pPFxcL3ByZT4vZ2ksZnVuY3Rpb24oYSxjKXtiLnB1c2goYyl9KTtyZXR1cm4gYn1mdW5jdGlvbiBuKGEsYixjKXt2YXIgZj1cIlwiLGQ9XCJcIjthPWEucmVwbGFjZSgvKF48c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPil8KDxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+JCkvZ2ksXG5mdW5jdGlvbihhLGIsYyl7YiYmKGY9Yik7YyYmKGQ9Yyk7cmV0dXJuXCJcIn0pO3JldHVybiBmK2EucmVwbGFjZShiLGMpK2R9ZnVuY3Rpb24gcChhLGIpe3ZhciBjOzE8YS5sZW5ndGgmJihjPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChiLmdldERvY3VtZW50KCkpKTtmb3IodmFyIGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGQ9YVtmXSxkPWQucmVwbGFjZSgvKFxcclxcbnxcXHIpL2csXCJcXG5cIiksZD1uKGQsL15bIFxcdF0qXFxuLyxcIlwiKSxkPW4oZCwvXFxuJC8sXCJcIiksZD1uKGQsL15bIFxcdF0rfFsgXFx0XSskL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gMT09YS5sZW5ndGg/XCJcXHgyNm5ic3A7XCI6Yj9cIiBcIitDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgyNm5ic3A7XCIsYS5sZW5ndGgtMSk6Q0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4MjZuYnNwO1wiLGEubGVuZ3RoLTEpK1wiIFwifSksZD1kLnJlcGxhY2UoL1xcbi9nLFwiXFx4M2NiclxceDNlXCIpLGQ9ZC5yZXBsYWNlKC9bIFxcdF17Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixcbmEubGVuZ3RoLTEpK1wiIFwifSk7aWYoYyl7dmFyIGc9Yi5jbG9uZSgpO2cuc2V0SHRtbChkKTtjLmFwcGVuZChnKX1lbHNlIGIuc2V0SHRtbChkKX1yZXR1cm4gY3x8Yn1mdW5jdGlvbiByKGEsYil7dmFyIGM9dGhpcy5fLmRlZmluaXRpb24sZj1jLmF0dHJpYnV0ZXMsYz1jLnN0eWxlcyxkPXoodGhpcylbYS5nZXROYW1lKCldLGc9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShmKSYmQ0tFRElUT1IudG9vbHMuaXNFbXB0eShjKSxlO2ZvcihlIGluIGYpaWYoXCJjbGFzc1wiIT1lJiYhdGhpcy5fLmRlZmluaXRpb24uZnVsbE1hdGNofHxhLmdldEF0dHJpYnV0ZShlKT09dyhlLGZbZV0pKWImJlwiZGF0YS1cIj09ZS5zbGljZSgwLDUpfHwoZz1hLmhhc0F0dHJpYnV0ZShlKSxhLnJlbW92ZUF0dHJpYnV0ZShlKSk7Zm9yKHZhciBoIGluIGMpdGhpcy5fLmRlZmluaXRpb24uZnVsbE1hdGNoJiZhLmdldFN0eWxlKGgpIT13KGgsY1toXSwhMCl8fChnPWd8fCEhYS5nZXRTdHlsZShoKSxhLnJlbW92ZVN0eWxlKGgpKTtcbngoYSxkLEJbYS5nZXROYW1lKCldKTtnJiYodGhpcy5fLmRlZmluaXRpb24uYWx3YXlzUmVtb3ZlRWxlbWVudD9xKGEsMSk6IUNLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldfHx0aGlzLl8uZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUiYmIWEuaGFzQXR0cmlidXRlcygpP3EoYSk6YS5yZW5hbWVOb2RlKHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikpfWZ1bmN0aW9uIHYoYSl7Zm9yKHZhciBiPXoodGhpcyksYz1hLmdldEVsZW1lbnRzQnlUYWcodGhpcy5lbGVtZW50KSxmLGQ9Yy5jb3VudCgpOzA8PS0tZDspZj1jLmdldEl0ZW0oZCksZi5pc1JlYWRPbmx5KCl8fHIuY2FsbCh0aGlzLGYsITApO2Zvcih2YXIgZyBpbiBiKWlmKGchPXRoaXMuZWxlbWVudClmb3IoYz1hLmdldEVsZW1lbnRzQnlUYWcoZyksZD1jLmNvdW50KCktMTswPD1kO2QtLSlmPWMuZ2V0SXRlbShkKSxmLmlzUmVhZE9ubHkoKXx8eChmLGJbZ10pfWZ1bmN0aW9uIHgoYSxcbmIsYyl7aWYoYj1iJiZiLmF0dHJpYnV0ZXMpZm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBkPWJbZl1bMF0sZztpZihnPWEuZ2V0QXR0cmlidXRlKGQpKXt2YXIgZT1iW2ZdWzFdOyhudWxsPT09ZXx8ZS50ZXN0JiZlLnRlc3QoZyl8fFwic3RyaW5nXCI9PXR5cGVvZiBlJiZnPT1lKSYmYS5yZW1vdmVBdHRyaWJ1dGUoZCl9fWN8fHEoYSl9ZnVuY3Rpb24gcShhLGIpe2lmKCFhLmhhc0F0dHJpYnV0ZXMoKXx8YilpZihDS0VESVRPUi5kdGQuJGJsb2NrW2EuZ2V0TmFtZSgpXSl7dmFyIGM9YS5nZXRQcmV2aW91cyhIKSxmPWEuZ2V0TmV4dChIKTshY3x8Yy50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQmJmMuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSl8fGEuYXBwZW5kKFwiYnJcIiwxKTshZnx8Zi50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQmJmYuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSl8fGEuYXBwZW5kKFwiYnJcIik7YS5yZW1vdmUoITApfWVsc2UgYz1hLmdldEZpcnN0KCksZj1hLmdldExhc3QoKSxcbmEucmVtb3ZlKCEwKSxjJiYoYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMubWVyZ2VTaWJsaW5ncygpLGYmJiFjLmVxdWFscyhmKSYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYubWVyZ2VTaWJsaW5ncygpKX1mdW5jdGlvbiB0KGEsYixjKXt2YXIgZjtmPWEuZWxlbWVudDtcIipcIj09ZiYmKGY9XCJzcGFuXCIpO2Y9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYsYik7YyYmYy5jb3B5QXR0cmlidXRlcyhmKTtmPXUoZixhKTtiLmdldEN1c3RvbURhdGEoXCJkb2NfcHJvY2Vzc2luZ19zdHlsZVwiKSYmZi5oYXNBdHRyaWJ1dGUoXCJpZFwiKT9mLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpOmIuc2V0Q3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIsMSk7cmV0dXJuIGZ9ZnVuY3Rpb24gdShhLGIpe3ZhciBjPWIuXy5kZWZpbml0aW9uLGY9Yy5hdHRyaWJ1dGVzLGM9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGMpO2lmKGYpZm9yKHZhciBkIGluIGYpYS5zZXRBdHRyaWJ1dGUoZCxcbmZbZF0pO2MmJmEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixjKTtyZXR1cm4gYX1mdW5jdGlvbiBBKGEsYil7Zm9yKHZhciBjIGluIGEpYVtjXT1hW2NdLnJlcGxhY2UoRixmdW5jdGlvbihhLGMpe3JldHVybiBiW2NdfSl9ZnVuY3Rpb24geihhKXtpZihhLl8ub3ZlcnJpZGVzKXJldHVybiBhLl8ub3ZlcnJpZGVzO3ZhciBiPWEuXy5vdmVycmlkZXM9e30sYz1hLl8uZGVmaW5pdGlvbi5vdmVycmlkZXM7aWYoYyl7Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKXx8KGM9W2NdKTtmb3IodmFyIGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGQ9Y1tmXSxnLGU7XCJzdHJpbmdcIj09dHlwZW9mIGQ/Zz1kLnRvTG93ZXJDYXNlKCk6KGc9ZC5lbGVtZW50P2QuZWxlbWVudC50b0xvd2VyQ2FzZSgpOmEuZWxlbWVudCxlPWQuYXR0cmlidXRlcyk7ZD1iW2ddfHwoYltnXT17fSk7aWYoZSl7dmFyIGQ9ZC5hdHRyaWJ1dGVzPWQuYXR0cmlidXRlc3x8W10saDtmb3IoaCBpbiBlKWQucHVzaChbaC50b0xvd2VyQ2FzZSgpLFxuZVtoXV0pfX19cmV0dXJuIGJ9ZnVuY3Rpb24gdyhhLGIsYyl7dmFyIGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKTtmW2M/XCJzZXRTdHlsZVwiOlwic2V0QXR0cmlidXRlXCJdKGEsYik7cmV0dXJuIGZbYz9cImdldFN0eWxlXCI6XCJnZXRBdHRyaWJ1dGVcIl0oYSl9ZnVuY3Rpb24gQyhhLGIpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm5cImZvbnQtZmFtaWx5XCI9PWIudG9Mb3dlckNhc2UoKT9hLnJlcGxhY2UoL1tcIiddL2csXCJcIik6YX1cInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGEpKTtcInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGIsITApKTtmb3IodmFyIGYgaW4gYSlpZighKGYgaW4gYil8fGMoYltmXSxmKSE9YyhhW2ZdLGYpJiZcImluaGVyaXRcIiE9YVtmXSYmXCJpbmhlcml0XCIhPWJbZl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geShhLGIsYyl7dmFyIGY9YS5kb2N1bWVudCxkPWEuZ2V0UmFuZ2VzKCk7XG5iPWI/dGhpcy5yZW1vdmVGcm9tUmFuZ2U6dGhpcy5hcHBseVRvUmFuZ2U7dmFyIGcsZTtpZihhLmlzRmFrZSYmYS5pc0luVGFibGUoKSlmb3IoZz1bXSxlPTA7ZTxkLmxlbmd0aDtlKyspZy5wdXNoKGRbZV0uY2xvbmUoKSk7Zm9yKHZhciBoPWQuY3JlYXRlSXRlcmF0b3IoKTtlPWguZ2V0TmV4dFJhbmdlKCk7KWIuY2FsbCh0aGlzLGUsYyk7YS5zZWxlY3RSYW5nZXMoZ3x8ZCk7Zi5yZW1vdmVDdXN0b21EYXRhKFwiZG9jX3Byb2Nlc3Npbmdfc3R5bGVcIil9dmFyIEI9e2FkZHJlc3M6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSxwOjEscHJlOjEsc2VjdGlvbjoxLGhlYWRlcjoxLGZvb3RlcjoxLG5hdjoxLGFydGljbGU6MSxhc2lkZToxLGZpZ3VyZToxLGRpYWxvZzoxLGhncm91cDoxLHRpbWU6MSxtZXRlcjoxLG1lbnU6MSxjb21tYW5kOjEsa2V5Z2VuOjEsb3V0cHV0OjEscHJvZ3Jlc3M6MSxkZXRhaWxzOjEsZGF0YWdyaWQ6MSxkYXRhbGlzdDoxfSxHPXthOjEsYmxvY2txdW90ZToxLFxuZW1iZWQ6MSxocjoxLGltZzoxLGxpOjEsb2JqZWN0OjEsb2w6MSx0YWJsZToxLHRkOjEsdHI6MSx0aDoxLHVsOjEsZGw6MSxkdDoxLGRkOjEsZm9ybToxLGF1ZGlvOjEsdmlkZW86MX0sRT0vXFxzKig/OjtcXHMqfCQpLyxGPS8jXFwoKC4rPylcXCkvZyxJPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMCwxKSxIPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoMSk7Q0tFRElUT1Iuc3R5bGU9ZnVuY3Rpb24oYSxiKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYS50eXBlKXJldHVybiBuZXcgQ0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnNbYS50eXBlXShhKTt2YXIgYz1hLmF0dHJpYnV0ZXM7YyYmYy5zdHlsZSYmKGEuc3R5bGVzPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLnN0eWxlcyxDS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYy5zdHlsZSkpLGRlbGV0ZSBjLnN0eWxlKTtiJiYoYT1DS0VESVRPUi50b29scy5jbG9uZShhKSxBKGEuYXR0cmlidXRlcyxiKSxBKGEuc3R5bGVzLFxuYikpO2M9dGhpcy5lbGVtZW50PWEuZWxlbWVudD9cInN0cmluZ1wiPT10eXBlb2YgYS5lbGVtZW50P2EuZWxlbWVudC50b0xvd2VyQ2FzZSgpOmEuZWxlbWVudDpcIipcIjt0aGlzLnR5cGU9YS50eXBlfHwoQltjXT9DS0VESVRPUi5TVFlMRV9CTE9DSzpHW2NdP0NLRURJVE9SLlNUWUxFX09CSkVDVDpDS0VESVRPUi5TVFlMRV9JTkxJTkUpO1wib2JqZWN0XCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQmJih0aGlzLnR5cGU9Q0tFRElUT1IuU1RZTEVfT0JKRUNUKTt0aGlzLl89e2RlZmluaXRpb246YX19O0NLRURJVE9SLnN0eWxlLnByb3RvdHlwZT17YXBwbHk6ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudClyZXR1cm4geS5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSk7aWYodGhpcy5jaGVja0FwcGxpY2FibGUoYS5lbGVtZW50UGF0aCgpLGEpKXt2YXIgYj10aGlzLl8uZW50ZXJNb2RlO2J8fCh0aGlzLl8uZW50ZXJNb2RlPWEuYWN0aXZlRW50ZXJNb2RlKTtcbnkuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCksMCxhKTt0aGlzLl8uZW50ZXJNb2RlPWJ9fSxyZW1vdmU6ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudClyZXR1cm4geS5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwxKTtpZih0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksYSkpe3ZhciBiPXRoaXMuXy5lbnRlck1vZGU7Ynx8KHRoaXMuXy5lbnRlck1vZGU9YS5hY3RpdmVFbnRlck1vZGUpO3kuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCksMSxhKTt0aGlzLl8uZW50ZXJNb2RlPWJ9fSxhcHBseVRvUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5hcHBseVRvUmFuZ2U9dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/Yjp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP2c6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/bDpudWxsO3JldHVybiB0aGlzLmFwcGx5VG9SYW5nZShhKX0scmVtb3ZlRnJvbVJhbmdlOmZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlRnJvbVJhbmdlPVxudGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/Yzp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP2g6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/azpudWxsO3JldHVybiB0aGlzLnJlbW92ZUZyb21SYW5nZShhKX0sYXBwbHlUb09iamVjdDpmdW5jdGlvbihhKXt1KGEsdGhpcyl9LGNoZWNrQWN0aXZlOmZ1bmN0aW9uKGEsYil7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBDS0VESVRPUi5TVFlMRV9CTE9DSzpyZXR1cm4gdGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LCEwLGIpO2Nhc2UgQ0tFRElUT1IuU1RZTEVfT0JKRUNUOmNhc2UgQ0tFRElUT1IuU1RZTEVfSU5MSU5FOmZvcih2YXIgYz1hLmVsZW1lbnRzLGY9MCxkO2Y8Yy5sZW5ndGg7ZisrKWlmKGQ9Y1tmXSx0aGlzLnR5cGUhPUNLRURJVE9SLlNUWUxFX0lOTElORXx8ZCE9YS5ibG9jayYmZCE9YS5ibG9ja0xpbWl0KXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVCl7dmFyIGc9XG5kLmdldE5hbWUoKTtpZighKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/Zz09dGhpcy5lbGVtZW50OmcgaW4gdGhpcy5lbGVtZW50KSljb250aW51ZX1pZih0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShkLCEwLGIpKXJldHVybiEwfX1yZXR1cm4hMX0sY2hlY2tBcHBsaWNhYmxlOmZ1bmN0aW9uKGEsYixjKXtiJiZiIGluc3RhbmNlb2YgQ0tFRElUT1IuZmlsdGVyJiYoYz1iKTtpZihjJiYhYy5jaGVjayh0aGlzKSlyZXR1cm4hMTtzd2l0Y2godGhpcy50eXBlKXtjYXNlIENLRURJVE9SLlNUWUxFX09CSkVDVDpyZXR1cm4hIWEuY29udGFpbnModGhpcy5lbGVtZW50KTtjYXNlIENLRURJVE9SLlNUWUxFX0JMT0NLOnJldHVybiEhYS5ibG9ja0xpbWl0LmdldER0ZCgpW3RoaXMuZWxlbWVudF19cmV0dXJuITB9LGNoZWNrRWxlbWVudE1hdGNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fLmRlZmluaXRpb247aWYoIWF8fCFjLmlnbm9yZVJlYWRvbmx5JiZhLmlzUmVhZE9ubHkoKSlyZXR1cm4hMTtcbnZhciBmPWEuZ2V0TmFtZSgpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/Zj09dGhpcy5lbGVtZW50OmYgaW4gdGhpcy5lbGVtZW50KXtpZighYiYmIWEuaGFzQXR0cmlidXRlcygpKXJldHVybiEwO2lmKGY9Yy5fQUMpYz1mO2Vsc2V7dmFyIGY9e30sZD0wLGc9Yy5hdHRyaWJ1dGVzO2lmKGcpZm9yKHZhciBlIGluIGcpZCsrLGZbZV09Z1tlXTtpZihlPUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChjKSlmLnN0eWxlfHxkKyssZi5zdHlsZT1lO2YuX2xlbmd0aD1kO2M9Yy5fQUM9Zn1pZihjLl9sZW5ndGgpe2Zvcih2YXIgaCBpbiBjKWlmKFwiX2xlbmd0aFwiIT1oKWlmKGY9YS5nZXRBdHRyaWJ1dGUoaCl8fFwiXCIsXCJzdHlsZVwiPT1oP0MoY1toXSxmKTpjW2hdPT1mKXtpZighYilyZXR1cm4hMH1lbHNlIGlmKGIpcmV0dXJuITE7aWYoYilyZXR1cm4hMH1lbHNlIHJldHVybiEwfXJldHVybiExfSxjaGVja0VsZW1lbnRSZW1vdmFibGU6ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuY2hlY2tFbGVtZW50TWF0Y2goYSxcbmIsYykpcmV0dXJuITA7aWYoYj16KHRoaXMpW2EuZ2V0TmFtZSgpXSl7dmFyIGY7aWYoIShiPWIuYXR0cmlidXRlcykpcmV0dXJuITA7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylpZihmPWJbY11bMF0sZj1hLmdldEF0dHJpYnV0ZShmKSl7dmFyIGQ9YltjXVsxXTtpZihudWxsPT09ZClyZXR1cm4hMDtpZihcInN0cmluZ1wiPT10eXBlb2YgZCl7aWYoZj09ZClyZXR1cm4hMH1lbHNlIGlmKGQudGVzdChmKSlyZXR1cm4hMH19cmV0dXJuITF9LGJ1aWxkUHJldmlldzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uZGVmaW5pdGlvbixjPVtdLGY9Yi5lbGVtZW50O1wiYmRvXCI9PWYmJihmPVwic3BhblwiKTt2YXIgYz1bXCJcXHgzY1wiLGZdLGQ9Yi5hdHRyaWJ1dGVzO2lmKGQpZm9yKHZhciBnIGluIGQpYy5wdXNoKFwiIFwiLGcsJ1xceDNkXCInLGRbZ10sJ1wiJyk7KGQ9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGIpKSYmYy5wdXNoKCcgc3R5bGVcXHgzZFwiJyxkLCdcIicpO2MucHVzaChcIlxceDNlXCIsYXx8Yi5uYW1lLFxuXCJcXHgzYy9cIixmLFwiXFx4M2VcIik7cmV0dXJuIGMuam9pbihcIlwiKX0sZ2V0RGVmaW5pdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGVmaW5pdGlvbn19O0NLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dD1mdW5jdGlvbihhKXt2YXIgYj1hLl9TVDtpZihiKXJldHVybiBiO3ZhciBiPWEuc3R5bGVzLGM9YS5hdHRyaWJ1dGVzJiZhLmF0dHJpYnV0ZXMuc3R5bGV8fFwiXCIsZj1cIlwiO2MubGVuZ3RoJiYoYz1jLnJlcGxhY2UoRSxcIjtcIikpO2Zvcih2YXIgZCBpbiBiKXt2YXIgZz1iW2RdLGU9KGQrXCI6XCIrZykucmVwbGFjZShFLFwiO1wiKTtcImluaGVyaXRcIj09Zz9mKz1lOmMrPWV9Yy5sZW5ndGgmJihjPUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUNzc1RleHQoYywhMCkpO3JldHVybiBhLl9TVD1jK2Z9O0NLRURJVE9SLnN0eWxlLmN1c3RvbUhhbmRsZXJzPXt9O0NLRURJVE9SLnN0eWxlLmFkZEN1c3RvbUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy5fPXtkZWZpbml0aW9uOmF9O1xudGhpcy5zZXR1cCYmdGhpcy5zZXR1cChhKX07Yi5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLnN0eWxlLnByb3RvdHlwZSkse2Fzc2lnbmVkVG86Q0tFRElUT1IuU1RZTEVfT0JKRUNUfSxhLCEwKTtyZXR1cm4gdGhpcy5jdXN0b21IYW5kbGVyc1thLnR5cGVdPWJ9O3ZhciBLPUNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElOR3xDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUx8Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVELEo9Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHxDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUR9KCksQ0tFRElUT1Iuc3R5bGVDb21tYW5kPWZ1bmN0aW9uKGEsZSl7dGhpcy5yZXF1aXJlZENvbnRlbnQ9dGhpcy5hbGxvd2VkQ29udGVudD10aGlzLnN0eWxlPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZSwhMCl9LFxuQ0tFRElUT1Iuc3R5bGVDb21tYW5kLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGEpe2EuZm9jdXMoKTt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY/YS5hcHBseVN0eWxlKHRoaXMuc3R5bGUpOnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZhLnJlbW92ZVN0eWxlKHRoaXMuc3R5bGUpfSxDS0VESVRPUi5zdHlsZXNTZXQ9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcIlwiLFwic3R5bGVzU2V0XCIpLENLRURJVE9SLmFkZFN0eWxlc1NldD1DS0VESVRPUi50b29scy5iaW5kKENLRURJVE9SLnN0eWxlc1NldC5hZGQsQ0tFRElUT1Iuc3R5bGVzU2V0KSxDS0VESVRPUi5sb2FkU3R5bGVzU2V0PWZ1bmN0aW9uKGEsZSxiKXtDS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYSxlLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGEsYil9LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHthdHRhY2hTdHlsZVN0YXRlQ2hhbmdlOmZ1bmN0aW9uKGEsXG5lKXt2YXIgYj10aGlzLl8uc3R5bGVTdGF0ZUNoYW5nZUNhbGxiYWNrcztifHwoYj10aGlzLl8uc3R5bGVTdGF0ZUNoYW5nZUNhbGxiYWNrcz1bXSx0aGlzLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0saz1lLnN0eWxlLmNoZWNrQWN0aXZlKGEuZGF0YS5wYXRoLHRoaXMpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRjtlLmZuLmNhbGwodGhpcyxrKX19KSk7Yi5wdXNoKHtzdHlsZTphLGZuOmV9KX0sYXBwbHlTdHlsZTpmdW5jdGlvbihhKXthLmFwcGx5KHRoaXMpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihhKXthLnJlbW92ZSh0aGlzKX0sZ2V0U3R5bGVzU2V0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucylhKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucyk7ZWxzZXt2YXIgZT10aGlzLGI9ZS5jb25maWcuc3R5bGVzQ29tYm9fc3R5bGVzU2V0fHxlLmNvbmZpZy5zdHlsZXNTZXQ7XG5pZighMT09PWIpYShudWxsKTtlbHNlIGlmKGIgaW5zdGFuY2VvZiBBcnJheSllLl8uc3R5bGVzRGVmaW5pdGlvbnM9YixhKGIpO2Vsc2V7Ynx8KGI9XCJkZWZhdWx0XCIpO3ZhciBiPWIuc3BsaXQoXCI6XCIpLGM9YlswXTtDS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYyxiWzFdP2Iuc2xpY2UoMSkuam9pbihcIjpcIik6Q0tFRElUT1IuZ2V0VXJsKFwic3R5bGVzLmpzXCIpLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGMsZnVuY3Rpb24oYil7ZS5fLnN0eWxlc0RlZmluaXRpb25zPWJbY107YShlLl8uc3R5bGVzRGVmaW5pdGlvbnMpfSl9fX19KSxDS0VESVRPUi5kb20uY29tbWVudD1mdW5jdGlvbihhLGUpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT0oZT9lLiQ6ZG9jdW1lbnQpLmNyZWF0ZUNvbW1lbnQoYSkpO0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlLENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGUsXG57dHlwZTpDS0VESVRPUi5OT0RFX0NPTU1FTlQsZ2V0T3V0ZXJIdG1sOmZ1bmN0aW9uKCl7cmV0dXJuXCJcXHgzYyEtLVwiK3RoaXMuJC5ub2RlVmFsdWUrXCItLVxceDNlXCJ9fSksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXt2YXIgYT17fSxlPXt9LGI7Zm9yKGIgaW4gQ0tFRElUT1IuZHRkLiRibG9ja0xpbWl0KWIgaW4gQ0tFRElUT1IuZHRkLiRsaXN0fHwoYVtiXT0xKTtmb3IoYiBpbiBDS0VESVRPUi5kdGQuJGJsb2NrKWIgaW4gQ0tFRElUT1IuZHRkLiRibG9ja0xpbWl0fHxiIGluIENLRURJVE9SLmR0ZC4kZW1wdHl8fChlW2JdPTEpO0NLRURJVE9SLmRvbS5lbGVtZW50UGF0aD1mdW5jdGlvbihiLGQpe3ZhciBsPW51bGwsaz1udWxsLGc9W10saD1iLG07ZD1kfHxiLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpO2h8fChoPWQpO2RvIGlmKGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtnLnB1c2goaCk7aWYoIXRoaXMubGFzdEVsZW1lbnQmJih0aGlzLmxhc3RFbGVtZW50PWgsaC5pcyhDS0VESVRPUi5kdGQuJG9iamVjdCl8fFxuXCJmYWxzZVwiPT1oLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkpY29udGludWU7aWYoaC5lcXVhbHMoZCkpYnJlYWs7aWYoIWsmJihtPWguZ2V0TmFtZSgpLFwidHJ1ZVwiPT1oLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9rPWg6IWwmJmVbbV0mJihsPWgpLGFbbV0pKXtpZihtPSFsJiZcImRpdlwiPT1tKXthOnttPWguZ2V0Q2hpbGRyZW4oKTtmb3IodmFyIGY9MCxuPW0uY291bnQoKTtmPG47ZisrKXt2YXIgcD1tLmdldEl0ZW0oZik7aWYocC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kYmxvY2tbcC5nZXROYW1lKCldKXttPSEwO2JyZWFrIGF9fW09ITF9bT0hbX1tP2w9aDprPWh9fXdoaWxlKGg9aC5nZXRQYXJlbnQoKSk7a3x8KGs9ZCk7dGhpcy5ibG9jaz1sO3RoaXMuYmxvY2tMaW1pdD1rO3RoaXMucm9vdD1kO3RoaXMuZWxlbWVudHM9Z319KCksQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoLnByb3RvdHlwZT17Y29tcGFyZTpmdW5jdGlvbihhKXt2YXIgZT1cbnRoaXMuZWxlbWVudHM7YT1hJiZhLmVsZW1lbnRzO2lmKCFhfHxlLmxlbmd0aCE9YS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBiPTA7YjxlLmxlbmd0aDtiKyspaWYoIWVbYl0uZXF1YWxzKGFbYl0pKXJldHVybiExO3JldHVybiEwfSxjb250YWluczpmdW5jdGlvbihhLGUsYil7dmFyIGM9MCxkO1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoZD1mdW5jdGlvbihiKXtyZXR1cm4gYi5nZXROYW1lKCk9PWF9KTthIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/ZD1mdW5jdGlvbihiKXtyZXR1cm4gYi5lcXVhbHMoYSl9OkNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSk/ZD1mdW5jdGlvbihiKXtyZXR1cm4tMTxDS0VESVRPUi50b29scy5pbmRleE9mKGEsYi5nZXROYW1lKCkpfTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2Q9YTpcIm9iamVjdFwiPT10eXBlb2YgYSYmKGQ9ZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0TmFtZSgpaW4gYX0pO3ZhciBsPXRoaXMuZWxlbWVudHMsaz1sLmxlbmd0aDtlJiZcbihiP2MrPTE6LS1rKTtiJiYobD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChsLDApLGwucmV2ZXJzZSgpKTtmb3IoO2M8aztjKyspaWYoZChsW2NdKSlyZXR1cm4gbFtjXTtyZXR1cm4gbnVsbH0saXNDb250ZXh0Rm9yOmZ1bmN0aW9uKGEpe3ZhciBlO3JldHVybiBhIGluIENLRURJVE9SLmR0ZC4kYmxvY2s/KGU9dGhpcy5jb250YWlucyhDS0VESVRPUi5kdGQuJGludGVybWVkaWF0ZSl8fHRoaXMucm9vdC5lcXVhbHModGhpcy5ibG9jaykmJnRoaXMuYmxvY2t8fHRoaXMuYmxvY2tMaW1pdCwhIWUuZ2V0RHRkKClbYV0pOiEwfSxkaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5ibG9ja3x8dGhpcy5ibG9ja0xpbWl0fHx0aGlzLnJvb3QpLmdldERpcmVjdGlvbigxKX19LENLRURJVE9SLmRvbS50ZXh0PWZ1bmN0aW9uKGEsZSl7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPShlP2UuJDpkb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoYSkpO3RoaXMuJD1hfSxDS0VESVRPUi5kb20udGV4dC5wcm90b3R5cGU9XG5uZXcgQ0tFRElUT1IuZG9tLm5vZGUsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWUubGVuZ3RofSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWV9LHNldFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy4kLm5vZGVWYWx1ZT1hfSxzcGxpdDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQucGFyZW50Tm9kZSxiPWUuY2hpbGROb2Rlcy5sZW5ndGgsYz10aGlzLmdldExlbmd0aCgpLGQ9dGhpcy5nZXREb2N1bWVudCgpLGw9bmV3IENLRURJVE9SLmRvbS50ZXh0KHRoaXMuJC5zcGxpdFRleHQoYSksZCk7ZS5jaGlsZE5vZGVzLmxlbmd0aD09YiYmKGE+PWM/KGw9ZC5jcmVhdGVUZXh0KFwiXCIpLGwuaW5zZXJ0QWZ0ZXIodGhpcykpOihhPWQuY3JlYXRlVGV4dChcIlwiKSxhLmluc2VydEFmdGVyKGwpLGEucmVtb3ZlKCkpKTtcbnJldHVybiBsfSxzdWJzdHJpbmc6ZnVuY3Rpb24oYSxlKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZT90aGlzLiQubm9kZVZhbHVlLnN1YnN0cihhKTp0aGlzLiQubm9kZVZhbHVlLnN1YnN0cmluZyhhLGUpfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMsZCl7dmFyIGU9YS5zZXJpYWxpemFibGUsaz1jW2Q/XCJlbmRDb250YWluZXJcIjpcInN0YXJ0Q29udGFpbmVyXCJdLGc9ZD9cImVuZE9mZnNldFwiOlwic3RhcnRPZmZzZXRcIixoPWU/Yy5kb2N1bWVudC5nZXRCeUlkKGEuc3RhcnROb2RlKTphLnN0YXJ0Tm9kZTthPWU/Yy5kb2N1bWVudC5nZXRCeUlkKGEuZW5kTm9kZSk6YS5lbmROb2RlO2suZXF1YWxzKGguZ2V0UHJldmlvdXMoKSk/KGMuc3RhcnRPZmZzZXQ9Yy5zdGFydE9mZnNldC1rLmdldExlbmd0aCgpLWEuZ2V0UHJldmlvdXMoKS5nZXRMZW5ndGgoKSxrPWEuZ2V0TmV4dCgpKTprLmVxdWFscyhhLmdldFByZXZpb3VzKCkpJiYoYy5zdGFydE9mZnNldC09ay5nZXRMZW5ndGgoKSxcbms9YS5nZXROZXh0KCkpO2suZXF1YWxzKGguZ2V0UGFyZW50KCkpJiZjW2ddKys7ay5lcXVhbHMoYS5nZXRQYXJlbnQoKSkmJmNbZ10rKztjW2Q/XCJlbmRDb250YWluZXJcIjpcInN0YXJ0Q29udGFpbmVyXCJdPWs7cmV0dXJuIGN9Q0tFRElUT1IuZG9tLnJhbmdlTGlzdD1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdClyZXR1cm4gYTthP2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ucmFuZ2UmJihhPVthXSk6YT1bXTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGEsZSl9O3ZhciBlPXtjcmVhdGVJdGVyYXRvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksZD1bXSxlO3JldHVybntnZXROZXh0UmFuZ2U6ZnVuY3Rpb24oayl7ZT12b2lkIDA9PT1lPzA6ZSsxO3ZhciBnPWFbZV07aWYoZyYmMTxhLmxlbmd0aCl7aWYoIWUpZm9yKHZhciBoPWEubGVuZ3RoLTE7MDw9aDtoLS0pZC51bnNoaWZ0KGFbaF0uY3JlYXRlQm9va21hcmsoITApKTtcbmlmKGspZm9yKHZhciBtPTA7YVtlK20rMV07KXt2YXIgZj1nLmRvY3VtZW50O2s9MDtoPWYuZ2V0QnlJZChkW21dLmVuZE5vZGUpO2ZvcihmPWYuZ2V0QnlJZChkW20rMV0uc3RhcnROb2RlKTs7KXtoPWguZ2V0TmV4dFNvdXJjZU5vZGUoITEpO2lmKGYuZXF1YWxzKGgpKWs9MTtlbHNlIGlmKGMoaCl8fGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmlzQmxvY2tCb3VuZGFyeSgpKWNvbnRpbnVlO2JyZWFrfWlmKCFrKWJyZWFrO20rK31mb3IoZy5tb3ZlVG9Cb29rbWFyayhkLnNoaWZ0KCkpO20tLTspaD1hWysrZV0saC5tb3ZlVG9Cb29rbWFyayhkLnNoaWZ0KCkpLGcuc2V0RW5kKGguZW5kQ29udGFpbmVyLGguZW5kT2Zmc2V0KX1yZXR1cm4gZ319fSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPVtdLGQsZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKXtjLnB1c2goZD10aGlzW2VdLmNyZWF0ZUJvb2ttYXJrKGIsITApKTtmb3IodmFyIGs9ZSsxO2s8dGhpcy5sZW5ndGg7aysrKXRoaXNba109XG5hKGQsdGhpc1trXSksdGhpc1trXT1hKGQsdGhpc1trXSwhMCl9cmV0dXJuIGN9LGNyZWF0ZUJvb2ttYXJrczI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVtdLGQ9MDtkPHRoaXMubGVuZ3RoO2QrKyljLnB1c2godGhpc1tkXS5jcmVhdGVCb29rbWFyazIoYSkpO3JldHVybiBjfSxtb3ZlVG9Cb29rbWFya3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aDtjKyspdGhpc1tjXS5tb3ZlVG9Cb29rbWFyayhhW2NdKX19fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3JldHVybiBDS0VESVRPUi5nZXRVcmwoQ0tFRElUT1Iuc2tpbk5hbWUuc3BsaXQoXCIsXCIpWzFdfHxcInNraW5zL1wiK0NLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVswXStcIi9cIil9ZnVuY3Rpb24gZShiKXt2YXIgYz1DS0VESVRPUi5za2luW1widWFfXCIrYl0sZD1DS0VESVRPUi5lbnY7aWYoYylmb3IodmFyIGM9Yy5zcGxpdChcIixcIikuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhPmI/LTE6MX0pLGc9MCxcbmU7ZzxjLmxlbmd0aDtnKyspaWYoZT1jW2ddLGQuaWUmJihlLnJlcGxhY2UoL15pZS8sXCJcIik9PWQudmVyc2lvbnx8ZC5xdWlya3MmJlwiaWVxdWlya3NcIj09ZSkmJihlPVwiaWVcIiksZFtlXSl7Yis9XCJfXCIrY1tnXTticmVha31yZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGEoKStiK1wiLmNzc1wiKX1mdW5jdGlvbiBiKGEsYil7bFthXXx8KENLRURJVE9SLmRvY3VtZW50LmFwcGVuZFN0eWxlU2hlZXQoZShhKSksbFthXT0xKTtiJiZiKCl9ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLmdldEJ5SWQoayk7Ynx8KGI9YS5nZXRIZWFkKCkuYXBwZW5kKFwic3R5bGVcIiksYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLGspLGIuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIikpO3JldHVybiBifWZ1bmN0aW9uIGQoYSxiLGMpe3ZhciBkLGcsZTtpZihDS0VESVRPUi5lbnYud2Via2l0KWZvcihiPWIuc3BsaXQoXCJ9XCIpLnNsaWNlKDAsLTEpLGc9MDtnPGIubGVuZ3RoO2crKyliW2ddPWJbZ10uc3BsaXQoXCJ7XCIpO2Zvcih2YXIgaD1cbjA7aDxhLmxlbmd0aDtoKyspaWYoQ0tFRElUT1IuZW52LndlYmtpdClmb3IoZz0wO2c8Yi5sZW5ndGg7ZysrKXtlPWJbZ11bMV07Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyllPWUucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO2FbaF0uJC5zaGVldC5hZGRSdWxlKGJbZ11bMF0sZSl9ZWxzZXtlPWI7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyllPWUucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO0NLRURJVE9SLmVudi5pZSYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24/YVtoXS4kLnN0eWxlU2hlZXQuY3NzVGV4dCs9ZTphW2hdLiQuaW5uZXJIVE1MKz1lfX12YXIgbD17fTtDS0VESVRPUi5za2luPXtwYXRoOmEsbG9hZFBhcnQ6ZnVuY3Rpb24oYyxmKXtDS0VESVRPUi5za2luLm5hbWUhPUNLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVswXT9DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoYSgpK1wic2tpbi5qc1wiKSxmdW5jdGlvbigpe2IoYyxmKX0pOmIoYyxmKX0sXG5nZXRQYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5nZXRVcmwoZShhKSl9LGljb25zOnt9LGFkZEljb246ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLnRvTG93ZXJDYXNlKCk7dGhpcy5pY29uc1thXXx8KHRoaXMuaWNvbnNbYV09e3BhdGg6YixvZmZzZXQ6Y3x8MCxiZ3NpemU6ZHx8XCIxNnB4XCJ9KX0sZ2V0SWNvblN0eWxlOmZ1bmN0aW9uKGEsYixjLGQsZyl7dmFyIGU7YSYmKGE9YS50b0xvd2VyQ2FzZSgpLGImJihlPXRoaXMuaWNvbnNbYStcIi1ydGxcIl0pLGV8fChlPXRoaXMuaWNvbnNbYV0pKTthPWN8fGUmJmUucGF0aHx8XCJcIjtkPWR8fGUmJmUub2Zmc2V0O2c9Z3x8ZSYmZS5iZ3NpemV8fFwiMTZweFwiO2EmJihhPWEucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikpO3JldHVybiBhJiZcImJhY2tncm91bmQtaW1hZ2U6dXJsKCdcIitDS0VESVRPUi5nZXRVcmwoYSkrXCInKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgXCIrZCtcInB4O2JhY2tncm91bmQtc2l6ZTpcIitnK1wiO1wifX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUsXG57Z2V0VWlDb2xvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpQ29sb3J9LHNldFVpQ29sb3I6ZnVuY3Rpb24oYSl7dmFyIGI9YyhDS0VESVRPUi5kb2N1bWVudCk7cmV0dXJuKHRoaXMuc2V0VWlDb2xvcj1mdW5jdGlvbihhKXt0aGlzLnVpQ29sb3I9YTt2YXIgYz1DS0VESVRPUi5za2luLmNoYW1lbGVvbixlPVwiXCIsbT1cIlwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihlPWModGhpcyxcImVkaXRvclwiKSxtPWModGhpcyxcInBhbmVsXCIpKTthPVtbaCxhXV07ZChbYl0sZSxhKTtkKGcsbSxhKX0pLmNhbGwodGhpcyxhKX19KTt2YXIgaz1cImNrZV91aV9jb2xvclwiLGc9W10saD0vXFwkY29sb3IvZztDS0VESVRPUi5vbihcImluc3RhbmNlTG9hZGVkXCIsZnVuY3Rpb24oYSl7aWYoIUNLRURJVE9SLmVudi5pZXx8IUNLRURJVE9SLmVudi5xdWlya3Mpe3ZhciBiPWEuZWRpdG9yO2E9ZnVuY3Rpb24oYSl7YT0oYS5kYXRhWzBdfHxhLmRhdGEpLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImlmcmFtZVwiKS5nZXRJdGVtKDApLmdldEZyYW1lRG9jdW1lbnQoKTtcbmlmKCFhLmdldEJ5SWQoXCJja2VfdWlfY29sb3JcIikpe2E9YyhhKTtnLnB1c2goYSk7dmFyIGU9Yi5nZXRVaUNvbG9yKCk7ZSYmZChbYV0sQ0tFRElUT1Iuc2tpbi5jaGFtZWxlb24oYixcInBhbmVsXCIpLFtbaCxlXV0pfX07Yi5vbihcInBhbmVsU2hvd1wiLGEpO2Iub24oXCJtZW51U2hvd1wiLGEpO2IuY29uZmlnLnVpQ29sb3ImJmIuc2V0VWlDb2xvcihiLmNvbmZpZy51aUNvbG9yKX19KX0oKSxmdW5jdGlvbigpe2lmKENLRURJVE9SLmVudi53ZWJraXQpQ0tFRElUT1IuZW52LmhjPSExO2Vsc2V7dmFyIGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IHN0eWxlXFx4M2RcIndpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTAwMDBweDtib3JkZXI6MXB4IHNvbGlkO2JvcmRlci1jb2xvcjpyZWQgYmx1ZVwiXFx4M2VcXHgzYy9kaXZcXHgzZScsQ0tFRElUT1IuZG9jdW1lbnQpO2EuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0SGVhZCgpKTtcbnRyeXt2YXIgZT1hLmdldENvbXB1dGVkU3R5bGUoXCJib3JkZXItdG9wLWNvbG9yXCIpLGI9YS5nZXRDb21wdXRlZFN0eWxlKFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIpO0NLRURJVE9SLmVudi5oYz0hKCFlfHxlIT1iKX1jYXRjaChjKXtDS0VESVRPUi5lbnYuaGM9ITF9YS5yZW1vdmUoKX1DS0VESVRPUi5lbnYuaGMmJihDS0VESVRPUi5lbnYuY3NzQ2xhc3MrPVwiIGNrZV9oY1wiKTtDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVRleHQoXCIuY2tle3Zpc2liaWxpdHk6aGlkZGVuO31cIik7Q0tFRElUT1Iuc3RhdHVzPVwibG9hZGVkXCI7Q0tFRElUT1IuZmlyZU9uY2UoXCJsb2FkZWRcIik7aWYoYT1DS0VESVRPUi5fLnBlbmRpbmcpZm9yKGRlbGV0ZSBDS0VESVRPUi5fLnBlbmRpbmcsZT0wO2U8YS5sZW5ndGg7ZSsrKUNLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY29uc3RydWN0b3IuYXBwbHkoYVtlXVswXSxhW2VdWzFdKSxDS0VESVRPUi5hZGQoYVtlXVswXSl9KCksQ0tFRElUT1Iuc2tpbi5uYW1lPVxuXCJtb29uby1saXNhXCIsQ0tFRElUT1Iuc2tpbi51YV9lZGl0b3I9XCJpZSxpZXF1aXJrcyxpZTgsZ2Vja29cIixDS0VESVRPUi5za2luLnVhX2RpYWxvZz1cImllLGllcXVpcmtzLGllOFwiLENLRURJVE9SLnNraW4uY2hhbWVsZW9uPWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQ9YS5tYXRjaCgvW14jXS4vZyksZT0wOzM+ZTtlKyspe3ZhciBrPWUsZztnPXBhcnNlSW50KGRbZV0sMTYpO2c9KFwiMFwiKygwPmM/MHxnKigxK2MpOjB8ZysoMjU1LWcpKmMpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO2Rba109Z31yZXR1cm5cIiNcIitkLmpvaW4oXCJcIil9fSgpLGU9e2VkaXRvcjpuZXcgQ0tFRElUT1IudGVtcGxhdGUoXCJ7aWR9LmNrZV9jaHJvbWUgW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfdG9wIFsgYmFja2dyb3VuZC1jb2xvcjp7ZGVmYXVsdEJhY2tncm91bmR9O2JvcmRlci1ib3R0b20tY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2JvdHRvbSBbYmFja2dyb3VuZC1jb2xvcjp7ZGVmYXVsdEJhY2tncm91bmR9O2JvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3Jlc2l6ZXIgW2JvcmRlci1yaWdodC1jb2xvcjp7Y2tlUmVzaXplcn1dIHtpZH0gLmNrZV9kaWFsb2dfdGl0bGUgW2JhY2tncm91bmQtY29sb3I6e2RlZmF1bHRCYWNrZ3JvdW5kfTtib3JkZXItYm90dG9tLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfZm9vdGVyIFtiYWNrZ3JvdW5kLWNvbG9yOntkZWZhdWx0QmFja2dyb3VuZH07b3V0bGluZS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYiBbYmFja2dyb3VuZC1jb2xvcjp7ZGlhbG9nVGFifTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWI6aG92ZXIgW2JhY2tncm91bmQtY29sb3I6e2xpZ2h0QmFja2dyb3VuZH07XSB7aWR9IC5ja2VfZGlhbG9nX2NvbnRlbnRzIFtib3JkZXItdG9wLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkLCB7aWR9IC5ja2VfZGlhbG9nX3RhYl9zZWxlY3RlZDpob3ZlciBbYmFja2dyb3VuZDp7ZGlhbG9nVGFiU2VsZWN0ZWR9O2JvcmRlci1ib3R0b20tY29sb3I6e2RpYWxvZ1RhYlNlbGVjdGVkQm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfYm9keSBbYmFja2dyb3VuZDp7ZGlhbG9nQm9keX07Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gYS5ja2VfYnV0dG9uX29mZjpob3Zlcix7aWR9IGEuY2tlX2J1dHRvbl9vZmY6Zm9jdXMse2lkfSBhLmNrZV9idXR0b25fb2ZmOmFjdGl2ZSBbYmFja2dyb3VuZC1jb2xvcjp7ZGFya0JhY2tncm91bmR9O2JvcmRlci1jb2xvcjp7dG9vbGJhckVsZW1lbnRzQm9yZGVyfTtdIHtpZH0gLmNrZV9idXR0b25fb24gW2JhY2tncm91bmQtY29sb3I6e2NrZUJ1dHRvbk9ufTtib3JkZXItY29sb3I6e3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07XSB7aWR9IC5ja2VfdG9vbGJhcl9zZXBhcmF0b3Ise2lkfSAuY2tlX3Rvb2xncm91cCBhLmNrZV9idXR0b246bGFzdC1jaGlsZDphZnRlcix7aWR9IC5ja2VfdG9vbGdyb3VwIGEuY2tlX2J1dHRvbi5ja2VfYnV0dG9uX2Rpc2FibGVkOmhvdmVyOmxhc3QtY2hpbGQ6YWZ0ZXIgW2JhY2tncm91bmQtY29sb3I6IHt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O2JvcmRlci1jb2xvcjoge3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07XSB7aWR9IGEuY2tlX2NvbWJvX2J1dHRvbjpob3Zlcix7aWR9IGEuY2tlX2NvbWJvX2J1dHRvbjpmb2N1cyx7aWR9IC5ja2VfY29tYm9fb24gYS5ja2VfY29tYm9fYnV0dG9uIFtib3JkZXItY29sb3I6e3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07YmFja2dyb3VuZC1jb2xvcjp7ZGFya0JhY2tncm91bmR9O10ge2lkfSAuY2tlX2NvbWJvOmFmdGVyIFtib3JkZXItY29sb3I6e3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07XSB7aWR9IC5ja2VfcGF0aF9pdGVtIFtjb2xvcjp7ZWxlbWVudHNQYXRoQ29sb3J9O10ge2lkfSBhLmNrZV9wYXRoX2l0ZW06aG92ZXIse2lkfSBhLmNrZV9wYXRoX2l0ZW06Zm9jdXMse2lkfSBhLmNrZV9wYXRoX2l0ZW06YWN0aXZlIFtiYWNrZ3JvdW5kLWNvbG9yOntkYXJrQmFja2dyb3VuZH07XSB7aWR9LmNrZV9wYW5lbCBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIFwiKSxcbnBhbmVsOm5ldyBDS0VESVRPUi50ZW1wbGF0ZShcIi5ja2VfcGFuZWxfZ3JvdXB0aXRsZSBbYmFja2dyb3VuZC1jb2xvcjp7bGlnaHRCYWNrZ3JvdW5kfTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gLmNrZV9tZW51YnV0dG9uX2ljb24gW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIC5ja2VfbWVudWJ1dHRvbjpob3ZlciwuY2tlX21lbnVidXR0b246Zm9jdXMsLmNrZV9tZW51YnV0dG9uOmFjdGl2ZSBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkhvdmVyfTtdIC5ja2VfbWVudWJ1dHRvbjpob3ZlciAuY2tlX21lbnVidXR0b25faWNvbiwgLmNrZV9tZW51YnV0dG9uOmZvY3VzIC5ja2VfbWVudWJ1dHRvbl9pY29uLCAuY2tlX21lbnVidXR0b246YWN0aXZlIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbkhvdmVyfTtdIC5ja2VfbWVudWJ1dHRvbl9kaXNhYmxlZDpob3ZlciAuY2tlX21lbnVidXR0b25faWNvbiwuY2tlX21lbnVidXR0b25fZGlzYWJsZWQ6Zm9jdXMgLmNrZV9tZW51YnV0dG9uX2ljb24sLmNrZV9tZW51YnV0dG9uX2Rpc2FibGVkOmFjdGl2ZSAuY2tlX21lbnVidXR0b25faWNvbiBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb259O10gLmNrZV9tZW51c2VwYXJhdG9yIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbn07XSBhOmhvdmVyLmNrZV9jb2xvcmJveCwgYTphY3RpdmUuY2tlX2NvbG9yYm94IFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gYTpob3Zlci5ja2VfY29sb3JhdXRvLCBhOmhvdmVyLmNrZV9jb2xvcm1vcmUsIGE6YWN0aXZlLmNrZV9jb2xvcmF1dG8sIGE6YWN0aXZlLmNrZV9jb2xvcm1vcmUgW2JhY2tncm91bmQtY29sb3I6e2NrZUNvbG9yYXV0b307Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIFwiKX07XG5yZXR1cm4gZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIudWlDb2xvciwuNCksZD17aWQ6XCIuXCIrYi5pZCxkZWZhdWx0Qm9yZGVyOmEoZCwtLjIpLHRvb2xiYXJFbGVtZW50c0JvcmRlcjphKGQsLS4yNSksZGVmYXVsdEJhY2tncm91bmQ6ZCxsaWdodEJhY2tncm91bmQ6YShkLC44KSxkYXJrQmFja2dyb3VuZDphKGQsLS4xNSksY2tlQnV0dG9uT246YShkLC40KSxja2VSZXNpemVyOmEoZCwtLjQpLGNrZUNvbG9yYXV0bzphKGQsLjgpLGRpYWxvZ0JvZHk6YShkLC43KSxkaWFsb2dUYWI6YShkLC42NSksZGlhbG9nVGFiU2VsZWN0ZWQ6XCIjRkZGXCIsZGlhbG9nVGFiU2VsZWN0ZWRCb3JkZXI6XCIjRkZGXCIsZWxlbWVudHNQYXRoQ29sb3I6YShkLC0uNiksbWVudWJ1dHRvbkhvdmVyOmEoZCwuMSksbWVudWJ1dHRvbkljb246YShkLC41KSxtZW51YnV0dG9uSWNvbkhvdmVyOmEoZCwuMyl9O3JldHVybiBlW2NdLm91dHB1dChkKS5yZXBsYWNlKC9cXFsvZyxcIntcIikucmVwbGFjZSgvXFxdL2csXCJ9XCIpfX0oKSxcbkNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZGlhbG9ndWlcIix7b25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5ffHwodGhpcy5fPXt9KTt0aGlzLl9bXCJkZWZhdWx0XCJdPXRoaXMuXy5pbml0VmFsdWU9YVtcImRlZmF1bHRcIl18fFwiXCI7dGhpcy5fLnJlcXVpcmVkPWEucmVxdWlyZWR8fCExO2Zvcih2YXIgYj1bdGhpcy5fXSxjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyliLnB1c2goYXJndW1lbnRzW2NdKTtiLnB1c2goITApO0NLRURJVE9SLnRvb2xzLmV4dGVuZC5hcHBseShDS0VESVRPUi50b29scyxiKTtyZXR1cm4gdGhpcy5ffSxlPXtidWlsZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0KGEsYixjKX19LGI9e2J1aWxkOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1tiLnR5cGVdKGEsYixjKX19LGM9e2lzQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCkhPVxudGhpcy5nZXRJbml0VmFsdWUoKX0scmVzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldEluaXRWYWx1ZSgpLGEpfSxzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPXRoaXMuZ2V0VmFsdWUoKX0scmVzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPXRoaXMuX1tcImRlZmF1bHRcIl19LGdldEluaXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uaW5pdFZhbHVlfX0sZD1DS0VESVRPUi50b29scy5leHRlbmQoe30sQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGUuZXZlbnRQcm9jZXNzb3JzLHtvbkNoYW5nZTpmdW5jdGlvbihhLGIpe3RoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWR8fChhLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7YS5wYXJ0cy5kaWFsb2cuaXNWaXNpYmxlKCkmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTp0aGlzLmdldFZhbHVlKCl9KX0sXG50aGlzKX0sdGhpcyksdGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZD0hMCk7dGhpcy5vbihcImNoYW5nZVwiLGIpfX0sITApLGw9L15vbihbQS1aXVxcdyspLyxrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKShsLnRlc3QoYil8fFwidGl0bGVcIj09Ynx8XCJ0eXBlXCI9PWIpJiZkZWxldGUgYVtiXTtyZXR1cm4gYX0sZz1mdW5jdGlvbihhKXthPWEuZGF0YS5nZXRLZXlzdHJva2UoKTthPT1DS0VESVRPUi5TSElGVCtDS0VESVRPUi5BTFQrMzY/dGhpcy5zZXREaXJlY3Rpb25NYXJrZXIoXCJsdHJcIik6YT09Q0tFRElUT1IuU0hJRlQrQ0tFRElUT1IuQUxUKzM1JiZ0aGlzLnNldERpcmVjdGlvbk1hcmtlcihcInJ0bFwiKX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnVpLmRpYWxvZyx7bGFiZWxlZEVsZW1lbnQ6ZnVuY3Rpb24oYixjLGYsZCl7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgZz1hLmNhbGwodGhpcyxjKTtnLmxhYmVsSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXG5cIl9sYWJlbFwiO3RoaXMuXy5jaGlsZHJlbj1bXTt2YXIgZT17cm9sZTpjLnJvbGV8fFwicHJlc2VudGF0aW9uXCJ9O2MuaW5jbHVkZUxhYmVsJiYoZVtcImFyaWEtbGFiZWxsZWRieVwiXT1nLmxhYmVsSWQpO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYyxmLFwiZGl2XCIsbnVsbCxlLGZ1bmN0aW9uKCl7dmFyIGE9W10sZj1jLnJlcXVpcmVkP1wiIGNrZV9yZXF1aXJlZFwiOlwiXCI7XCJob3Jpem9udGFsXCIhPWMubGFiZWxMYXlvdXQ/YS5wdXNoKCdcXHgzY2xhYmVsIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9sYWJlbCcrZisnXCIgJywnIGlkXFx4M2RcIicrZy5sYWJlbElkKydcIicsZy5pbnB1dElkPycgZm9yXFx4M2RcIicrZy5pbnB1dElkKydcIic6XCJcIiwoYy5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIsYy5sYWJlbCxcIlxceDNjL2xhYmVsXFx4M2VcIiwnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2NvbnRlbnRcIicsXG5jLmNvbnRyb2xTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5jb250cm9sU3R5bGUrJ1wiJzpcIlwiLCcgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJyxkLmNhbGwodGhpcyxiLGMpLFwiXFx4M2MvZGl2XFx4M2VcIik6KGY9e3R5cGU6XCJoYm94XCIsd2lkdGhzOmMud2lkdGhzLHBhZGRpbmc6MCxjaGlsZHJlbjpbe3R5cGU6XCJodG1sXCIsaHRtbDonXFx4M2NsYWJlbCBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfbGFiZWwnK2YrJ1wiIGlkXFx4M2RcIicrZy5sYWJlbElkKydcIiBmb3JcXHgzZFwiJytnLmlucHV0SWQrJ1wiJysoYy5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShjLmxhYmVsKStcIlxceDNjL2xhYmVsXFx4M2VcIn0se3R5cGU6XCJodG1sXCIsaHRtbDonXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9jb250ZW50XCInKyhjLmNvbnRyb2xTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5jb250cm9sU3R5bGUrXG4nXCInOlwiXCIpK1wiXFx4M2VcIitkLmNhbGwodGhpcyxiLGMpK1wiXFx4M2Mvc3BhblxceDNlXCJ9XX0sQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnMuaGJveC5idWlsZChiLGYsYSkpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LHRleHRJbnB1dDpmdW5jdGlvbihiLGMsZil7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXthLmNhbGwodGhpcyxjKTt2YXIgZD10aGlzLl8uaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl90ZXh0SW5wdXRcIixlPXtcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2lucHV0X1wiK2MudHlwZSxpZDpkLHR5cGU6Yy50eXBlfTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtjLm1heExlbmd0aCYmKGUubWF4bGVuZ3RoPWMubWF4TGVuZ3RoKTtjLnNpemUmJihlLnNpemU9Yy5zaXplKTtjLmlucHV0U3R5bGUmJihlLnN0eWxlPWMuaW5wdXRTdHlsZSk7dmFyIGs9dGhpcyxsPSExO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtrLmdldElucHV0RWxlbWVudCgpLm9uKFwia2V5ZG93blwiLFxuZnVuY3Rpb24oYSl7MTM9PWEuZGF0YS5nZXRLZXlzdHJva2UoKSYmKGw9ITApfSk7ay5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleXVwXCIsZnVuY3Rpb24oYSl7MTM9PWEuZGF0YS5nZXRLZXlzdHJva2UoKSYmbCYmKGIuZ2V0QnV0dG9uKFwib2tcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmdldEJ1dHRvbihcIm9rXCIpLmNsaWNrKCl9LDApLGw9ITEpO2suYmlkaSYmZy5jYWxsKGssYSl9LG51bGwsbnVsbCwxRTMpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZixmdW5jdGlvbigpe3ZhciBhPVsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF8nLGMudHlwZSwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiddO2Mud2lkdGgmJmEucHVzaCgnc3R5bGVcXHgzZFwid2lkdGg6JytjLndpZHRoKydcIiAnKTthLnB1c2goXCJcXHgzZVxceDNjaW5wdXQgXCIpO2VbXCJhcmlhLWxhYmVsbGVkYnlcIl09dGhpcy5fLmxhYmVsSWQ7dGhpcy5fLnJlcXVpcmVkJiZcbihlW1wiYXJpYS1yZXF1aXJlZFwiXT10aGlzLl8ucmVxdWlyZWQpO2Zvcih2YXIgYiBpbiBlKWEucHVzaChiKydcXHgzZFwiJytlW2JdKydcIiAnKTthLnB1c2goXCIgL1xceDNlXFx4M2MvZGl2XFx4M2VcIik7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sdGV4dGFyZWE6ZnVuY3Rpb24oYixjLGYpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7YS5jYWxsKHRoaXMsYyk7dmFyIGQ9dGhpcyxlPXRoaXMuXy5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3RleHRhcmVhXCIsaz17fTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtrLnJvd3M9Yy5yb3dzfHw1O2suY29scz1jLmNvbHN8fDIwO2tbXCJjbGFzc1wiXT1cImNrZV9kaWFsb2dfdWlfaW5wdXRfdGV4dGFyZWEgXCIrKGNbXCJjbGFzc1wiXXx8XCJcIik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMuaW5wdXRTdHlsZSYmKGsuc3R5bGU9Yy5pbnB1dFN0eWxlKTtjLmRpciYmKGsuZGlyPWMuZGlyKTtpZihkLmJpZGkpYi5vbihcImxvYWRcIixcbmZ1bmN0aW9uKCl7ZC5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleXVwXCIsZyl9LGQpO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixjLGYsZnVuY3Rpb24oKXtrW1wiYXJpYS1sYWJlbGxlZGJ5XCJdPXRoaXMuXy5sYWJlbElkO3RoaXMuXy5yZXF1aXJlZCYmKGtbXCJhcmlhLXJlcXVpcmVkXCJdPXRoaXMuXy5yZXF1aXJlZCk7dmFyIGE9WydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0X3RleHRhcmVhXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2N0ZXh0YXJlYSBpZFxceDNkXCInLGUsJ1wiICddLGI7Zm9yKGIgaW4gaylhLnB1c2goYisnXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShrW2JdKSsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcIixDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGQuX1tcImRlZmF1bHRcIl0pLFwiXFx4M2MvdGV4dGFyZWFcXHgzZVxceDNjL2RpdlxceDNlXCIpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LGNoZWNrYm94OmZ1bmN0aW9uKGIsXG5jLGYpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGQ9YS5jYWxsKHRoaXMsYyx7XCJkZWZhdWx0XCI6ISFjW1wiZGVmYXVsdFwiXX0pO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYyxmLFwic3BhblwiLG51bGwsbnVsbCxmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjLHtpZDpjLmlkP2MuaWQrXCJfY2hlY2tib3hcIjpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9jaGVja2JveFwifSwhMCksZj1bXSxnPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2xhYmVsXCIsZT17XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9jaGVja2JveF9pbnB1dFwiLHR5cGU6XCJjaGVja2JveFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6Z307ayhhKTtjW1wiZGVmYXVsdFwiXSYmKGUuY2hlY2tlZD1cImNoZWNrZWRcIik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuaW5wdXRTdHlsZSYmKGEuc3R5bGU9YS5pbnB1dFN0eWxlKTtcbmQuY2hlY2tib3g9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixhLGYsXCJpbnB1dFwiLG51bGwsZSk7Zi5wdXNoKCcgXFx4M2NsYWJlbCBpZFxceDNkXCInLGcsJ1wiIGZvclxceDNkXCInLGUuaWQsJ1wiJysoYy5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShjLmxhYmVsKSxcIlxceDNjL2xhYmVsXFx4M2VcIik7cmV0dXJuIGYuam9pbihcIlwiKX0pfX0scmFkaW86ZnVuY3Rpb24oYixjLGYpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7YS5jYWxsKHRoaXMsYyk7dGhpcy5fW1wiZGVmYXVsdFwiXXx8KHRoaXMuX1tcImRlZmF1bHRcIl09dGhpcy5fLmluaXRWYWx1ZT1jLml0ZW1zWzBdWzFdKTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTt2YXIgZD1bXSxnPXRoaXM7Yy5yb2xlPVwicmFkaW9ncm91cFwiO2MuaW5jbHVkZUxhYmVsPSEwO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsXG5iLGMsZixmdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxmPVtdLGU9KGMuaWQ/Yy5pZDpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKSkrXCJfcmFkaW9cIixsPTA7bDxjLml0ZW1zLmxlbmd0aDtsKyspe3ZhciB0PWMuaXRlbXNbbF0sdT12b2lkIDAhPT10WzJdP3RbMl06dFswXSxBPXZvaWQgMCE9PXRbMV0/dFsxXTp0WzBdLHo9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfcmFkaW9faW5wdXRcIix3PXorXCJfbGFiZWxcIix6PUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjLHtpZDp6LHRpdGxlOm51bGwsdHlwZTpudWxsfSwhMCksdT1DS0VESVRPUi50b29scy5leHRlbmQoe30seix7dGl0bGU6dX0sITApLEM9e3R5cGU6XCJyYWRpb1wiLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfcmFkaW9faW5wdXRcIixuYW1lOmUsdmFsdWU6QSxcImFyaWEtbGFiZWxsZWRieVwiOnd9LHk9W107Zy5fW1wiZGVmYXVsdFwiXT09QSYmKEMuY2hlY2tlZD1cImNoZWNrZWRcIik7ayh6KTtrKHUpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB6LmlucHV0U3R5bGUmJlxuKHouc3R5bGU9ei5pbnB1dFN0eWxlKTt6LmtleWJvYXJkRm9jdXNhYmxlPSEwO2QucHVzaChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLHoseSxcImlucHV0XCIsbnVsbCxDKSk7eS5wdXNoKFwiIFwiKTtuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLHUseSxcImxhYmVsXCIsbnVsbCx7aWQ6dyxcImZvclwiOkMuaWR9LHRbMF0pO2EucHVzaCh5LmpvaW4oXCJcIikpfW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveChiLGQsYSxmKTtyZXR1cm4gZi5qb2luKFwiXCIpfSk7dGhpcy5fLmNoaWxkcmVuPWR9fSxidXR0b246ZnVuY3Rpb24oYixjLGYpe2lmKGFyZ3VtZW50cy5sZW5ndGgpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihjPWMoYi5nZXRQYXJlbnRFZGl0b3IoKSkpO2EuY2FsbCh0aGlzLGMse2Rpc2FibGVkOmMuZGlzYWJsZWR8fCExfSk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24odGhpcyk7dmFyIGQ9dGhpcztiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7XG4oZnVuY3Rpb24oKXthLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtkLmNsaWNrKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KTthLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjF9JiYoZC5jbGljaygpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0pfSkoKTthLnVuc2VsZWN0YWJsZSgpfSx0aGlzKTt2YXIgZz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYyk7ZGVsZXRlIGcuc3R5bGU7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfbGFiZWxcIjtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGcsZixcImFcIixudWxsLHtzdHlsZTpjLnN0eWxlLGhyZWY6XCJqYXZhc2NyaXB0OnZvaWQoMClcIix0aXRsZTpjLmxhYmVsLGhpZGVmb2N1czpcInRydWVcIixcImNsYXNzXCI6Y1tcImNsYXNzXCJdLHJvbGU6XCJidXR0b25cIixcImFyaWEtbGFiZWxsZWRieVwiOmV9LCdcXHgzY3NwYW4gaWRcXHgzZFwiJytlKydcIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2J1dHRvblwiXFx4M2UnK1xuQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShjLmxhYmVsKStcIlxceDNjL3NwYW5cXHgzZVwiKX19LHNlbGVjdDpmdW5jdGlvbihiLGMsZil7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgZD1hLmNhbGwodGhpcyxjKTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtkLmlucHV0SWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfc2VsZWN0XCI7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZixmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjLHtpZDpjLmlkP2MuaWQrXCJfc2VsZWN0XCI6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfc2VsZWN0XCJ9LCEwKSxmPVtdLGc9W10sZT17aWQ6ZC5pbnB1dElkLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfaW5wdXRfc2VsZWN0XCIsXCJhcmlhLWxhYmVsbGVkYnlcIjp0aGlzLl8ubGFiZWxJZH07Zi5wdXNoKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0XycsXG5jLnR5cGUsJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCInKTtjLndpZHRoJiZmLnB1c2goJ3N0eWxlXFx4M2RcIndpZHRoOicrYy53aWR0aCsnXCIgJyk7Zi5wdXNoKFwiXFx4M2VcIik7dm9pZCAwIT09Yy5zaXplJiYoZS5zaXplPWMuc2l6ZSk7dm9pZCAwIT09Yy5tdWx0aXBsZSYmKGUubXVsdGlwbGU9Yy5tdWx0aXBsZSk7ayhhKTtmb3IodmFyIGw9MCx0O2w8Yy5pdGVtcy5sZW5ndGgmJih0PWMuaXRlbXNbbF0pO2wrKylnLnB1c2goJ1xceDNjb3B0aW9uIHZhbHVlXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSh2b2lkIDAhPT10WzFdP3RbMV06dFswXSkucmVwbGFjZSgvXCIvZyxcIlxceDI2cXVvdDtcIiksJ1wiIC9cXHgzZSAnLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUodFswXSkpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBhLmlucHV0U3R5bGUmJihhLnN0eWxlPWEuaW5wdXRTdHlsZSk7ZC5zZWxlY3Q9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixhLGYsXCJzZWxlY3RcIixudWxsLFxuZSxnLmpvaW4oXCJcIikpO2YucHVzaChcIlxceDNjL2RpdlxceDNlXCIpO3JldHVybiBmLmpvaW4oXCJcIil9KX19LGZpbGU6ZnVuY3Rpb24oYixjLGYpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dm9pZCAwPT09Y1tcImRlZmF1bHRcIl0mJihjW1wiZGVmYXVsdFwiXT1cIlwiKTt2YXIgZD1DS0VESVRPUi50b29scy5leHRlbmQoYS5jYWxsKHRoaXMsYykse2RlZmluaXRpb246YyxidXR0b25zOltdfSk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZC5mcmFtZUlkKS5nZXRQYXJlbnQoKS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdWlfaW5wdXRfZmlsZVwiKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixjLGYsZnVuY3Rpb24oKXtkLmZyYW1lSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfZmlsZUlucHV0XCI7dmFyIGE9WydcXHgzY2lmcmFtZSBmcmFtZWJvcmRlclxceDNkXCIwXCIgYWxsb3d0cmFuc3BhcmVuY3lcXHgzZFwiMFwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfZmlsZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgaWRcXHgzZFwiJyxcbmQuZnJhbWVJZCwnXCIgdGl0bGVcXHgzZFwiJyxjLmxhYmVsLCdcIiBzcmNcXHgzZFwiamF2YXNjcmlwdDp2b2lkKCddO2EucHVzaChDS0VESVRPUi5lbnYuaWU/XCIoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC5jbG9zZSgpO1wiKStcIn0pKClcIjpcIjBcIik7YS5wdXNoKCcpXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sZmlsZUJ1dHRvbjpmdW5jdGlvbihiLGMsZil7dmFyIGQ9dGhpcztpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2EuY2FsbCh0aGlzLGMpO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO3ZhciBnPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjKSxlPWcub25DbGljaztnLmNsYXNzTmFtZT0oZy5jbGFzc05hbWU/Zy5jbGFzc05hbWUrXCIgXCI6XCJcIikrXCJja2VfZGlhbG9nX3VpX2J1dHRvblwiO2cub25DbGljaz1mdW5jdGlvbihhKXt2YXIgZj1cbmNbXCJmb3JcIl07YT1lP2UuY2FsbCh0aGlzLGEpOiExOyExIT09YSYmKFwieGhyXCIhPT1hJiZiLmdldENvbnRlbnRFbGVtZW50KGZbMF0sZlsxXSkuc3VibWl0KCksdGhpcy5kaXNhYmxlKCkpfTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Yi5nZXRDb250ZW50RWxlbWVudChjW1wiZm9yXCJdWzBdLGNbXCJmb3JcIl1bMV0pLl8uYnV0dG9ucy5wdXNoKGQpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmJ1dHRvbi5jYWxsKHRoaXMsYixnLGYpfX0saHRtbDpmdW5jdGlvbigpe3ZhciBhPS9eXFxzKjxbXFx3Ol0rXFxzKyhbXj5dKik/Pi8sYj0vXihcXHMqPFtcXHc6XSsoPzpcXHMrW14+XSopPykoKD86LnxcXHJ8XFxuKSspJC8sYz0vXFwvJC87cmV0dXJuIGZ1bmN0aW9uKGQsZyxlKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBrPVtdLGw9Zy5odG1sO1wiXFx4M2NcIiE9bC5jaGFyQXQoMCkmJihsPVwiXFx4M2NzcGFuXFx4M2VcIitsK1wiXFx4M2Mvc3BhblxceDNlXCIpO3ZhciBxPWcuZm9jdXM7aWYocSl7dmFyIHQ9dGhpcy5mb2N1cztcbnRoaXMuZm9jdXM9ZnVuY3Rpb24oKXsoXCJmdW5jdGlvblwiPT10eXBlb2YgcT9xOnQpLmNhbGwodGhpcyk7dGhpcy5maXJlKFwiZm9jdXNcIil9O2cuaXNGb2N1c2FibGUmJih0aGlzLmlzRm9jdXNhYmxlPXRoaXMuaXNGb2N1c2FibGUpO3RoaXMua2V5Ym9hcmRGb2N1c2FibGU9ITB9Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsZCxnLGssXCJzcGFuXCIsbnVsbCxudWxsLFwiXCIpO2s9ay5qb2luKFwiXCIpLm1hdGNoKGEpO2w9bC5tYXRjaChiKXx8W1wiXCIsXCJcIixcIlwiXTtjLnRlc3QobFsxXSkmJihsWzFdPWxbMV0uc2xpY2UoMCwtMSksbFsyXT1cIi9cIitsWzJdKTtlLnB1c2goW2xbMV0sXCIgXCIsa1sxXXx8XCJcIixsWzJdXS5qb2luKFwiXCIpKX19fSgpLGZpZWxkc2V0OmZ1bmN0aW9uKGEsYixjLGQsZyl7dmFyIGU9Zy5sYWJlbDt0aGlzLl89e2NoaWxkcmVuOmJ9O0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGEsZyxkLFwiZmllbGRzZXRcIixudWxsLG51bGwsZnVuY3Rpb24oKXt2YXIgYT1cbltdO2UmJmEucHVzaChcIlxceDNjbGVnZW5kXCIrKGcubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrZy5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiK2UrXCJcXHgzYy9sZWdlbmRcXHgzZVwiKTtmb3IodmFyIGI9MDtiPGMubGVuZ3RoO2IrKylhLnB1c2goY1tiXSk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5odG1sLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudDtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7c2V0TGFiZWw6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8ubGFiZWxJZCk7MT5iLmdldENoaWxkQ291bnQoKT8obmV3IENLRURJVE9SLmRvbS50ZXh0KGEsQ0tFRElUT1IuZG9jdW1lbnQpKS5hcHBlbmRUbyhiKTpiLmdldENoaWxkKDApLiQubm9kZVZhbHVlPVxuYTtyZXR1cm4gdGhpc30sZ2V0TGFiZWw6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5sYWJlbElkKTtyZXR1cm4hYXx8MT5hLmdldENoaWxkQ291bnQoKT9cIlwiOmEuZ2V0Q2hpbGQoMCkuZ2V0VGV4dCgpfSxldmVudFByb2Nlc3NvcnM6ZH0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5idXR0b24ucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Y2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRpc2FibGVkPyExOnRoaXMuZmlyZShcImNsaWNrXCIse2RpYWxvZzp0aGlzLl8uZGlhbG9nfSl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5kaXNhYmxlZD0hMTt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTthJiZhLnJlbW92ZUNsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLmRpc2FibGVkPSEwO3RoaXMuZ2V0RWxlbWVudCgpLmFkZENsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxcbmlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpLmlzVmlzaWJsZSgpfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fLmRpc2FibGVkfSxldmVudFByb2Nlc3NvcnM6Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmV2ZW50UHJvY2Vzc29ycyx7b25DbGljazpmdW5jdGlvbihhLGIpe3RoaXMub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX19LCEwKSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuY2xpY2soKX0sYWNjZXNzS2V5RG93bjpmdW5jdGlvbigpe3RoaXMuZm9jdXMoKX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlucHV0SWQpfSxcbmZvY3VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RQYXJlbnRUYWIoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRJbnB1dEVsZW1lbnQoKTtiJiZiLiQuZm9jdXMoKX0sMCl9LHNlbGVjdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPWEuZ2V0SW5wdXRFbGVtZW50KCk7YiYmKGIuJC5mb2N1cygpLGIuJC5zZWxlY3QoKSl9LDApfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuc2VsZWN0KCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuYmlkaSl7dmFyIGI9YSYmYS5jaGFyQXQoMCk7KGI9XCLigKpcIj09Yj9cImx0clwiOlwi4oCrXCI9PWI/XCJydGxcIjpudWxsKSYmKGE9YS5zbGljZSgxKSk7dGhpcy5zZXREaXJlY3Rpb25NYXJrZXIoYil9YXx8KGE9XCJcIik7cmV0dXJuIENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLnNldFZhbHVlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sXG5nZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmdldFZhbHVlLmNhbGwodGhpcyk7aWYodGhpcy5iaWRpJiZhKXt2YXIgYj10aGlzLmdldERpcmVjdGlvbk1hcmtlcigpO2ImJihhPShcImx0clwiPT1iP1wi4oCqXCI6XCLigKtcIikrYSl9cmV0dXJuIGF9LHNldERpcmVjdGlvbk1hcmtlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldElucHV0RWxlbWVudCgpO2E/Yi5zZXRBdHRyaWJ1dGVzKHtkaXI6YSxcImRhdGEtY2tlLWRpci1tYXJrZXJcIjphfSk6dGhpcy5nZXREaXJlY3Rpb25NYXJrZXIoKSYmYi5yZW1vdmVBdHRyaWJ1dGVzKFtcImRpclwiLFwiZGF0YS1ja2UtZGlyLW1hcmtlclwiXSl9LGdldERpcmVjdGlvbk1hcmtlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmRhdGEoXCJja2UtZGlyLW1hcmtlclwiKX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LGMsITApO0NLRURJVE9SLnVpLmRpYWxvZy50ZXh0YXJlYS5wcm90b3R5cGU9XG5uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dDtDS0VESVRPUi51aS5kaWFsb2cuc2VsZWN0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zZWxlY3QuZ2V0RWxlbWVudCgpfSxhZGQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcIm9wdGlvblwiLHRoaXMuZ2V0RGlhbG9nKCkuZ2V0UGFyZW50RWRpdG9yKCkuZG9jdW1lbnQpLGc9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kO2QuJC50ZXh0PWE7ZC4kLnZhbHVlPXZvaWQgMD09PWJ8fG51bGw9PT1iP2E6Yjt2b2lkIDA9PT1jfHxudWxsPT09Yz9DS0VESVRPUi5lbnYuaWU/Zy5hZGQoZC4kKTpnLmFkZChkLiQsbnVsbCk6Zy5hZGQoZC4kLGMpO3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLnJlbW92ZShhKTtcbnJldHVybiB0aGlzfSxjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpLiQ7MDxhLmxlbmd0aDspYS5yZW1vdmUoMCk7cmV0dXJuIHRoaXN9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxjLCEwKTtDS0VESVRPUi51aS5kaWFsb2cuY2hlY2tib3gucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5jaGVja2JveC5nZXRFbGVtZW50KCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLmNoZWNrZWQ9YTshYiYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmF9KX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLmNoZWNrZWR9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7dGhpcy5zZXRWYWx1ZSghdGhpcy5nZXRWYWx1ZSgpKX0sZXZlbnRQcm9jZXNzb3JzOntvbkNoYW5nZTpmdW5jdGlvbihhLFxuYil7aWYoIUNLRURJVE9SLmVudi5pZXx8ODxDS0VESVRPUi5lbnYudmVyc2lvbilyZXR1cm4gZC5vbkNoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jaGVja2JveC5nZXRFbGVtZW50KCk7YS5vbihcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGEuJDtcImNoZWNrZWRcIj09Yi5wcm9wZXJ0eU5hbWUmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphLiQuY2hlY2tlZH0pfSx0aGlzKX0sdGhpcyk7dGhpcy5vbihcImNoYW5nZVwiLGIpO3JldHVybiBudWxsfX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LGMsITApO0NLRURJVE9SLnVpLmRpYWxvZy5yYWRpby5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLl8uY2hpbGRyZW4sZCxnPTA7ZzxjLmxlbmd0aCYmKGQ9Y1tnXSk7ZysrKWQuZ2V0RWxlbWVudCgpLiQuY2hlY2tlZD1cbmQuZ2V0VmFsdWUoKT09YTshYiYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmF9KX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5fLmNoaWxkcmVuLGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQpcmV0dXJuIGFbYl0uZ2V0VmFsdWUoKTtyZXR1cm4gbnVsbH0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2hpbGRyZW4sYjtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWlmKGFbYl0uZ2V0RWxlbWVudCgpLiQuY2hlY2tlZCl7YVtiXS5nZXRFbGVtZW50KCkuZm9jdXMoKTtyZXR1cm59YVswXS5nZXRFbGVtZW50KCkuZm9jdXMoKX0sZXZlbnRQcm9jZXNzb3JzOntvbkNoYW5nZTpmdW5jdGlvbihhLGIpe2lmKCFDS0VESVRPUi5lbnYuaWV8fDg8Q0tFRElUT1IuZW52LnZlcnNpb24pcmV0dXJuIGQub25DaGFuZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGE9XG50aGlzLl8uY2hpbGRyZW4sYj10aGlzLGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdLmdldEVsZW1lbnQoKS5vbihcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDtcImNoZWNrZWRcIj09YS5wcm9wZXJ0eU5hbWUmJnRoaXMuJC5jaGVja2VkJiZiLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfSl9LHRoaXMpO3RoaXMub24oXCJjaGFuZ2VcIixiKTtyZXR1cm4gbnVsbH19fSxjLCEwKTtDS0VESVRPUi51aS5kaWFsb2cuZmlsZS5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQsYyx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpO3JldHVybiAwPGEuJC5mb3Jtcy5sZW5ndGg/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEuJC5mb3Jtc1swXS5lbGVtZW50c1swXSk6XG50aGlzLmdldEVsZW1lbnQoKX0sc3VibWl0OmZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLnN1Ym1pdCgpO3JldHVybiB0aGlzfSxnZXRBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLmFjdGlvbn0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9L15vbihbQS1aXVxcdyspLyxjLGQ9ZnVuY3Rpb24oYSxiLGMsZil7YS5vbihcImZvcm1Mb2FkZWRcIixmdW5jdGlvbigpe2EuZ2V0SW5wdXRFbGVtZW50KCkub24oYyxmLGEpfSl9LGc7Zm9yKGcgaW4gYSlpZihjPWcubWF0Y2goYikpdGhpcy5ldmVudFByb2Nlc3NvcnNbZ10/dGhpcy5ldmVudFByb2Nlc3NvcnNbZ10uY2FsbCh0aGlzLHRoaXMuXy5kaWFsb2csYVtnXSk6ZCh0aGlzLHRoaXMuXy5kaWFsb2csY1sxXS50b0xvd2VyQ2FzZSgpLGFbZ10pO3JldHVybiB0aGlzfSxyZXNldDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtjLiQub3BlbigpO1xudmFyIGg9XCJcIjtkLnNpemUmJihoPWQuc2l6ZS0oQ0tFRElUT1IuZW52LmllPzc6MCkpO3ZhciB1PWIuZnJhbWVJZCtcIl9pbnB1dFwiO2MuJC53cml0ZShbJ1xceDNjaHRtbCBkaXJcXHgzZFwiJytsKydcIiBsYW5nXFx4M2RcIicrcSsnXCJcXHgzZVxceDNjaGVhZFxceDNlXFx4M2N0aXRsZVxceDNlXFx4M2MvdGl0bGVcXHgzZVxceDNjL2hlYWRcXHgzZVxceDNjYm9keSBzdHlsZVxceDNkXCJtYXJnaW46IDA7IG92ZXJmbG93OiBoaWRkZW47IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1wiXFx4M2UnLCdcXHgzY2Zvcm0gZW5jdHlwZVxceDNkXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgbWV0aG9kXFx4M2RcIlBPU1RcIiBkaXJcXHgzZFwiJytsKydcIiBsYW5nXFx4M2RcIicrcSsnXCIgYWN0aW9uXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShkLmFjdGlvbiksJ1wiXFx4M2VcXHgzY2xhYmVsIGlkXFx4M2RcIicsYi5sYWJlbElkLCdcIiBmb3JcXHgzZFwiJyx1LCdcIiBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGQubGFiZWwpLFxuJ1xceDNjL2xhYmVsXFx4M2VcXHgzY2lucHV0IHN0eWxlXFx4M2RcIndpZHRoOjEwMCVcIiBpZFxceDNkXCInLHUsJ1wiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLGIubGFiZWxJZCwnXCIgdHlwZVxceDNkXCJmaWxlXCIgbmFtZVxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZC5pZHx8XCJja2VfdXBsb2FkXCIpLCdcIiBzaXplXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSgwPGg/aDpcIlwiKSwnXCIgL1xceDNlXFx4M2MvZm9ybVxceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlXFx4M2NzY3JpcHRcXHgzZScsQ0tFRElUT1IuZW52LmllP1wiKFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtcIjpcIlwiLFwid2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIrZStcIik7XCIsXCJ3aW5kb3cub25iZWZvcmV1bmxvYWQgXFx4M2QgZnVuY3Rpb24oKSB7d2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIraytcIil9XCIsXCJcXHgzYy9zY3JpcHRcXHgzZVwiXS5qb2luKFwiXCIpKTtcbmMuJC5jbG9zZSgpO2ZvcihoPTA7aDxnLmxlbmd0aDtoKyspZ1toXS5lbmFibGUoKX12YXIgYj10aGlzLl8sYz1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGIuZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpLGQ9Yi5kZWZpbml0aW9uLGc9Yi5idXR0b25zLGU9dGhpcy5mb3JtTG9hZGVkTnVtYmVyLGs9dGhpcy5mb3JtVW5sb2FkTnVtYmVyLGw9Yi5kaWFsb2cuXy5lZGl0b3IubGFuZy5kaXIscT1iLmRpYWxvZy5fLmVkaXRvci5sYW5nQ29kZTtlfHwoZT10aGlzLmZvcm1Mb2FkZWROdW1iZXI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJmb3JtTG9hZGVkXCIpfSx0aGlzKSxrPXRoaXMuZm9ybVVubG9hZE51bWJlcj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuY2xlYXJDdXN0b21EYXRhKCl9LHRoaXMpLHRoaXMuZ2V0RGlhbG9nKCkuXy5lZGl0b3Iub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihlKTtcbkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGspfSkpO0NLRURJVE9SLmVudi5nZWNrbz9zZXRUaW1lb3V0KGEsNTAwKTphKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC52YWx1ZXx8XCJcIn0sc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT1cIlwifSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGEsYil7dGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZHx8KHRoaXMub24oXCJmb3JtTG9hZGVkXCIsZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRWYWx1ZSgpfSl9LHRoaXMpfSx0aGlzKSx0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkPSEwKTt0aGlzLm9uKFwiY2hhbmdlXCIsYil9fSxrZXlib2FyZEZvY3VzYWJsZTohMH0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5maWxlQnV0dG9uLnByb3RvdHlwZT1cbm5ldyBDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uO0NLRURJVE9SLnVpLmRpYWxvZy5maWVsZHNldC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuY2xvbmUoQ0tFRElUT1IudWkuZGlhbG9nLmhib3gucHJvdG90eXBlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidGV4dFwiLGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJwYXNzd29yZFwiLGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJjaGVja2JveFwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJyYWRpb1wiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJidXR0b25cIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwic2VsZWN0XCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpbGVcIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiZmlsZUJ1dHRvblwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJodG1sXCIsXG5iKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiZmllbGRzZXRcIix7YnVpbGQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1iLmNoaWxkcmVuLGcsZT1bXSxrPVtdLGw9MDtsPGQubGVuZ3RoJiYoZz1kW2xdKTtsKyspe3ZhciBxPVtdO2UucHVzaChxKTtrLnB1c2goQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnNbZy50eXBlXS5idWlsZChhLGcscSkpfXJldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2IudHlwZV0oYSxrLGUsYyxiKX19KX19KSxDS0VESVRPUi5ESUFMT0dfUkVTSVpFX05PTkU9MCxDS0VESVRPUi5ESUFMT0dfUkVTSVpFX1dJRFRIPTEsQ0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFQ9MixDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEg9MyxDS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRT0xLENLRURJVE9SLkRJQUxPR19TVEFURV9CVVNZPTIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Zm9yKHZhciBhPXRoaXMuXy50YWJJZExpc3QubGVuZ3RoLFxuYj1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMuXy50YWJJZExpc3QsdGhpcy5fLmN1cnJlbnRUYWJJZCkrYSxjPWItMTtjPmItYTtjLS0paWYodGhpcy5fLnRhYnNbdGhpcy5fLnRhYklkTGlzdFtjJWFdXVswXS4kLm9mZnNldEhlaWdodClyZXR1cm4gdGhpcy5fLnRhYklkTGlzdFtjJWFdO3JldHVybiBudWxsfWZ1bmN0aW9uIGUoKXtmb3IodmFyIGE9dGhpcy5fLnRhYklkTGlzdC5sZW5ndGgsYj1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMuXy50YWJJZExpc3QsdGhpcy5fLmN1cnJlbnRUYWJJZCksYz1iKzE7YzxiK2E7YysrKWlmKHRoaXMuXy50YWJzW3RoaXMuXy50YWJJZExpc3RbYyVhXV1bMF0uJC5vZmZzZXRIZWlnaHQpcmV0dXJuIHRoaXMuXy50YWJJZExpc3RbYyVhXTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjPWEuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpLGY9MCxkPWMubGVuZ3RoO2Y8ZDtmKyspe3ZhciBnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjW2ZdKTtcblwidGV4dFwiPT1nLmdldEF0dHJpYnV0ZShcInR5cGVcIikudG9Mb3dlckNhc2UoKSYmKGI/KGcuc2V0QXR0cmlidXRlKFwidmFsdWVcIixnLmdldEN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIpfHxcIlwiKSxnLnJlbW92ZUN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIpKTooZy5zZXRDdXN0b21EYXRhKFwiZmFrZV92YWx1ZVwiLGcuZ2V0QXR0cmlidXRlKFwidmFsdWVcIikpLGcuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSkpfX1mdW5jdGlvbiBjKGEsYil7dmFyIGM9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTtjJiYoYT9jLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiKTpjLnNldEF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiLCEwKSk7YXx8KHRoaXMuc2VsZWN0P3RoaXMuc2VsZWN0KCk6dGhpcy5mb2N1cygpKTtiJiZhbGVydChiKTt0aGlzLmZpcmUoXCJ2YWxpZGF0ZWRcIix7dmFsaWQ6YSxtc2c6Yn0pfWZ1bmN0aW9uIGQoKXt2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpO2EmJmEucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIpfVxuZnVuY3Rpb24gbChhKXt2YXIgYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChDS0VESVRPUi5hZGRUZW1wbGF0ZShcImRpYWxvZ1wiLHgpLm91dHB1dCh7aWQ6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGVkaXRvcklkOmEuaWQsbGFuZ0RpcjphLmxhbmcuZGlyLGxhbmdDb2RlOmEubGFuZ0NvZGUsZWRpdG9yRGlhbG9nQ2xhc3M6XCJja2VfZWRpdG9yX1wiK2EubmFtZS5yZXBsYWNlKC9cXC4vZyxcIlxcXFwuXCIpK1wiX2RpYWxvZ1wiLGNsb3NlVGl0bGU6YS5sYW5nLmNvbW1vbi5jbG9zZSxoaWRwaTpDS0VESVRPUi5lbnYuaGlkcGk/XCJja2VfaGlkcGlcIjpcIlwifSkpLGM9Yi5nZXRDaGlsZChbMCwwLDAsMCwwXSksZj1jLmdldENoaWxkKDApLGQ9Yy5nZXRDaGlsZCgxKTthLnBsdWdpbnMuY2xpcGJvYXJkJiZDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQoYyk7IUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LnF1aXJrc3x8XG5DS0VESVRPUi5lbnYuZWRnZXx8KGE9XCJqYXZhc2NyaXB0OnZvaWQoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC5jbG9zZSgpO1wiKStcIn0oKSlcIixDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NpZnJhbWUgZnJhbWVCb3JkZXJcXHgzZFwiMFwiIGNsYXNzXFx4M2RcImNrZV9pZnJhbWVfc2hpbVwiIHNyY1xceDNkXCInK2ErJ1wiIHRhYkluZGV4XFx4M2RcIi0xXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJykuYXBwZW5kVG8oYy5nZXRQYXJlbnQoKSkpO2YudW5zZWxlY3RhYmxlKCk7ZC51bnNlbGVjdGFibGUoKTtyZXR1cm57ZWxlbWVudDpiLHBhcnRzOntkaWFsb2c6Yi5nZXRDaGlsZCgwKSx0aXRsZTpmLGNsb3NlOmQsdGFiczpjLmdldENoaWxkKDIpLGNvbnRlbnRzOmMuZ2V0Q2hpbGQoWzMsMCwwLDBdKSxmb290ZXI6Yy5nZXRDaGlsZChbMywwLDEsMF0pfX19ZnVuY3Rpb24gayhhLFxuYixjKXt0aGlzLmVsZW1lbnQ9Yjt0aGlzLmZvY3VzSW5kZXg9Yzt0aGlzLnRhYkluZGV4PTA7dGhpcy5pc0ZvY3VzYWJsZT1mdW5jdGlvbigpe3JldHVybiFiLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpJiZiLmlzVmlzaWJsZSgpfTt0aGlzLmZvY3VzPWZ1bmN0aW9uKCl7YS5fLmN1cnJlbnRGb2N1c0luZGV4PXRoaXMuZm9jdXNJbmRleDt0aGlzLmVsZW1lbnQuZm9jdXMoKX07Yi5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0S2V5c3Ryb2tlKClpbnszMjoxLDEzOjF9JiZ0aGlzLmZpcmUoXCJjbGlja1wiKX0pO2Iub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwibW91c2VvdmVyXCIpfSk7Yi5vbihcImJsdXJcIixmdW5jdGlvbigpe3RoaXMuZmlyZShcIm1vdXNlb3V0XCIpfSl9ZnVuY3Rpb24gZyhhKXtmdW5jdGlvbiBiKCl7YS5sYXlvdXQoKX12YXIgYz1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKTtjLm9uKFwicmVzaXplXCIsYik7YS5vbihcImhpZGVcIixmdW5jdGlvbigpe2MucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixcbmIpfSl9ZnVuY3Rpb24gaChhLGIpe3RoaXMuXz17ZGlhbG9nOmF9O0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpfWZ1bmN0aW9uIG0oYSl7ZnVuY3Rpb24gYihjKXt2YXIgaz1hLmdldFNpemUoKSxsPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLG09Yy5kYXRhLiQuc2NyZWVuWCxuPWMuZGF0YS4kLnNjcmVlblkscT1tLWYueCx1PW4tZi55O2Y9e3g6bSx5Om59O2QueCs9cTtkLnkrPXU7YS5tb3ZlKGQueCtoWzNdPGU/LWhbM106ZC54LWhbMV0+bC53aWR0aC1rLndpZHRoLWU/bC53aWR0aC1rLndpZHRoKyhcInJ0bFwiPT1nLmxhbmcuZGlyPzA6aFsxXSk6ZC54LGQueStoWzBdPGU/LWhbMF06ZC55LWhbMl0+bC5oZWlnaHQtay5oZWlnaHQtZT9sLmhlaWdodC1rLmhlaWdodCtoWzJdOmQueSwxKTtjLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBjKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixcbmIpO0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBhPXkuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpfX12YXIgZj1udWxsLGQ9bnVsbCxnPWEuZ2V0UGFyZW50RWRpdG9yKCksZT1nLmNvbmZpZy5kaWFsb2dfbWFnbmV0RGlzdGFuY2UsaD1DS0VESVRPUi5za2luLm1hcmdpbnN8fFswLDAsMCwwXTtcInVuZGVmaW5lZFwiPT10eXBlb2YgZSYmKGU9MjApO2EucGFydHMudGl0bGUub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihnKXtmPXt4OmcuZGF0YS4kLnNjcmVlblgseTpnLmRhdGEuJC5zY3JlZW5ZfTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNlbW92ZVwiLGIpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2V1cFwiLGMpO2Q9YS5nZXRQb3NpdGlvbigpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBlPVxueS5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCk7ZS5vbihcIm1vdXNlbW92ZVwiLGIpO2Uub24oXCJtb3VzZXVwXCIsYyl9Zy5kYXRhLnByZXZlbnREZWZhdWx0KCl9LGEpfWZ1bmN0aW9uIGYoYSl7ZnVuY3Rpb24gYihjKXt2YXIgbj1cInJ0bFwiPT1nLmxhbmcuZGlyLHE9bS53aWR0aCx1PW0uaGVpZ2h0LHQ9cSsoYy5kYXRhLiQuc2NyZWVuWC1sLngpKihuPy0xOjEpKihhLl8ubW92ZWQ/MToyKSxwPXUrKGMuZGF0YS4kLnNjcmVlblktbC55KSooYS5fLm1vdmVkPzE6Miksdz1hLl8uZWxlbWVudC5nZXRGaXJzdCgpLHc9biYmdy5nZXRDb21wdXRlZFN0eWxlKFwicmlnaHRcIiksdj1hLmdldFBvc2l0aW9uKCk7di55K3A+ay5oZWlnaHQmJihwPWsuaGVpZ2h0LXYueSk7KG4/dzp2LngpK3Q+ay53aWR0aCYmKHQ9ay53aWR0aC0obj93OnYueCkpO2lmKGQ9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEh8fGQ9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USClxPU1hdGgubWF4KGYubWluV2lkdGh8fFxuMCx0LWUpO2lmKGQ9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfSEVJR0hUfHxkPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgpdT1NYXRoLm1heChmLm1pbkhlaWdodHx8MCxwLWgpO2EucmVzaXplKHEsdSk7YS5fLm1vdmVkfHxhLmxheW91dCgpO2MuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGMoKXtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpO24mJihuLnJlbW92ZSgpLG49bnVsbCk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIGE9eS5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCk7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYil9fXZhciBmPWEuZGVmaW5pdGlvbixkPWYucmVzaXphYmxlO2lmKGQhPUNLRURJVE9SLkRJQUxPR19SRVNJWkVfTk9ORSl7dmFyIGc9YS5nZXRQYXJlbnRFZGl0b3IoKSxcbmUsaCxrLGwsbSxuLHE9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oZil7bT1hLmdldFNpemUoKTt2YXIgZD1hLnBhcnRzLmNvbnRlbnRzO2QuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlmcmFtZVwiKS5sZW5ndGgmJihuPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3Jlc2l6ZV9jb3ZlclwiIHN0eWxlXFx4M2RcImhlaWdodDogMTAwJTsgcG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTtcIlxceDNlXFx4M2MvZGl2XFx4M2UnKSxkLmFwcGVuZChuKSk7aD1tLmhlaWdodC1hLnBhcnRzLmNvbnRlbnRzLmdldFNpemUoXCJoZWlnaHRcIiwhKENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzKSk7ZT1tLndpZHRoLWEucGFydHMuY29udGVudHMuZ2V0U2l6ZShcIndpZHRoXCIsMSk7bD17eDpmLnNjcmVlblgseTpmLnNjcmVlbll9O2s9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCk7XG5DS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNlbW92ZVwiLGIpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2V1cFwiLGMpO0NLRURJVE9SLmVudi5pZTZDb21wYXQmJihkPXkuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpLGQub24oXCJtb3VzZW1vdmVcIixiKSxkLm9uKFwibW91c2V1cFwiLGMpKTtmLnByZXZlbnREZWZhdWx0JiZmLnByZXZlbnREZWZhdWx0KCl9KTthLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGI9XCJcIjtkPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX1dJRFRIP2I9XCIgY2tlX3Jlc2l6ZXJfaG9yaXpvbnRhbFwiOmQ9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfSEVJR0hUJiYoYj1cIiBja2VfcmVzaXplcl92ZXJ0aWNhbFwiKTtiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfcmVzaXplcicrYitcIiBja2VfcmVzaXplcl9cIitnLmxhbmcuZGlyKydcIiB0aXRsZVxceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZy5sYW5nLmNvbW1vbi5yZXNpemUpK1xuJ1wiIG9ubW91c2Vkb3duXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbignK3ErJywgZXZlbnQgKVwiXFx4M2UnKyhcImx0clwiPT1nLmxhbmcuZGlyP1wi4peiXCI6XCLil6NcIikrXCJcXHgzYy9kaXZcXHgzZVwiKTthLnBhcnRzLmZvb3Rlci5hcHBlbmQoYiwxKX0pO2cub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihxKX0pfX1mdW5jdGlvbiBuKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgxKX1mdW5jdGlvbiBwKGEpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLGM9YS5jb25maWcsZj1DS0VESVRPUi5za2luTmFtZXx8YS5jb25maWcuc2tpbixkPWMuZGlhbG9nX2JhY2tncm91bmRDb3ZlckNvbG9yfHwoXCJtb29uby1saXNhXCI9PWY/XCJibGFja1wiOlwid2hpdGVcIiksZj1jLmRpYWxvZ19iYWNrZ3JvdW5kQ292ZXJPcGFjaXR5LGc9Yy5iYXNlRmxvYXRaSW5kZXgsYz1DS0VESVRPUi50b29scy5nZW5LZXkoZCxmLGcpLGU9Q1tjXTtlP2Uuc2hvdygpOlxuKGc9WydcXHgzY2RpdiB0YWJJbmRleFxceDNkXCItMVwiIHN0eWxlXFx4M2RcInBvc2l0aW9uOiAnLENLRURJVE9SLmVudi5pZTZDb21wYXQ/XCJhYnNvbHV0ZVwiOlwiZml4ZWRcIixcIjsgei1pbmRleDogXCIsZyxcIjsgdG9wOiAwcHg7IGxlZnQ6IDBweDsgXCIsQ0tFRElUT1IuZW52LmllNkNvbXBhdD9cIlwiOlwiYmFja2dyb3VuZC1jb2xvcjogXCIrZCwnXCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19iYWNrZ3JvdW5kX2NvdmVyXCJcXHgzZSddLENLRURJVE9SLmVudi5pZTZDb21wYXQmJihkPVwiXFx4M2NodG1sXFx4M2VcXHgzY2JvZHkgc3R5bGVcXHgzZFxcXFwnYmFja2dyb3VuZC1jb2xvcjpcIitkK1wiO1xcXFwnXFx4M2VcXHgzYy9ib2R5XFx4M2VcXHgzYy9odG1sXFx4M2VcIixnLnB1c2goJ1xceDNjaWZyYW1lIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgZnJhbWVib3JkZXJcXHgzZFwiMFwiIGlkXFx4M2RcImNrZV9kaWFsb2dfYmFja2dyb3VuZF9pZnJhbWVcIiBzcmNcXHgzZFwiamF2YXNjcmlwdDonKSxnLnB1c2goXCJ2b2lkKChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrXG5DS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQud3JpdGUoICdcIitkK1wiJyApO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSkoKSlcIiksZy5wdXNoKCdcIiBzdHlsZVxceDNkXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6IDEwMCU7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eVxceDNkMClcIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKSksZy5wdXNoKFwiXFx4M2MvZGl2XFx4M2VcIiksZT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChnLmpvaW4oXCJcIikpLGUuc2V0T3BhY2l0eSh2b2lkIDAhPT1mP2Y6LjUpLGUub24oXCJrZXlkb3duXCIsbiksZS5vbihcImtleXByZXNzXCIsbiksZS5vbihcImtleXVwXCIsbiksZS5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkpLENbY109ZSk7YS5mb2N1c01hbmFnZXIuYWRkKGUpO3k9ZTthPWZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRWaWV3UGFuZVNpemUoKTtcbmUuc2V0U3R5bGVzKHt3aWR0aDphLndpZHRoK1wicHhcIixoZWlnaHQ6YS5oZWlnaHQrXCJweFwifSl9O3ZhciBoPWZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRTY3JvbGxQb3NpdGlvbigpLGM9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcDtlLnNldFN0eWxlcyh7bGVmdDphLngrXCJweFwiLHRvcDphLnkrXCJweFwifSk7aWYoYyl7ZG8gYT1jLmdldFBvc2l0aW9uKCksYy5tb3ZlKGEueCxhLnkpO3doaWxlKGM9Yy5fLnBhcmVudERpYWxvZyl9fTt3PWE7Yi5vbihcInJlc2l6ZVwiLGEpO2EoKTtDS0VESVRPUi5lbnYubWFjJiZDS0VESVRPUi5lbnYud2Via2l0fHxlLmZvY3VzKCk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIGs9ZnVuY3Rpb24oKXtoKCk7YXJndW1lbnRzLmNhbGxlZS5wcmV2U2Nyb2xsSGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2IuJC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay5wcmV2U2Nyb2xsSGFuZGxlcj13aW5kb3cub25zY3JvbGx8fGZ1bmN0aW9uKCl7fTtcbndpbmRvdy5vbnNjcm9sbD1rfSwwKTtoKCl9fWZ1bmN0aW9uIHIoYSl7eSYmKGEuZm9jdXNNYW5hZ2VyLnJlbW92ZSh5KSxhPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLHkuaGlkZSgpLGEucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIix3KSxDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiZhLiQuc2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5vbnNjcm9sbD13aW5kb3cub25zY3JvbGwmJndpbmRvdy5vbnNjcm9sbC5wcmV2U2Nyb2xsSGFuZGxlcnx8bnVsbH0sMCksdz1udWxsKX12YXIgdj1DS0VESVRPUi50b29scy5jc3NMZW5ndGgseD0nXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX3Jlc2V0X2FsbCB7ZWRpdG9ySWR9IHtlZGl0b3JEaWFsb2dDbGFzc30ge2hpZHBpfVwiIGRpclxceDNkXCJ7bGFuZ0Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiByb2xlXFx4M2RcImRpYWxvZ1wiIGFyaWEtbGFiZWxsZWRieVxceDNkXCJja2VfZGlhbG9nX3RpdGxlX3tpZH1cIlxceDNlXFx4M2N0YWJsZSBjbGFzc1xceDNkXCJja2VfZGlhbG9nICcrXG5DS0VESVRPUi5lbnYuY3NzQ2xhc3MrJyBja2Vfe2xhbmdEaXJ9XCIgc3R5bGVcXHgzZFwicG9zaXRpb246YWJzb2x1dGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3RyXFx4M2VcXHgzY3RkIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfYm9keVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjZGl2IGlkXFx4M2RcImNrZV9kaWFsb2dfdGl0bGVfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdGl0bGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjYSBpZFxceDNkXCJja2VfZGlhbG9nX2Nsb3NlX2J1dHRvbl97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19jbG9zZV9idXR0b25cIiBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiIHRpdGxlXFx4M2RcIntjbG9zZVRpdGxlfVwiIHJvbGVcXHgzZFwiYnV0dG9uXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbGFiZWxcIlxceDNlWFxceDNjL3NwYW5cXHgzZVxceDNjL2FcXHgzZVxceDNjZGl2IGlkXFx4M2RcImNrZV9kaWFsb2dfdGFic197aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ190YWJzXCIgcm9sZVxceDNkXCJ0YWJsaXN0XCJcXHgzZVxceDNjL2RpdlxceDNlXFx4M2N0YWJsZSBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCBpZFxceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzX2JvZHlcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgaWRcXHgzZFwiY2tlX2RpYWxvZ19mb290ZXJfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfZm9vdGVyXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2MvdGRcXHgzZVxceDNjL3RyXFx4M2VcXHgzYy90YWJsZVxceDNlXFx4M2MvZGl2XFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjL3RhYmxlXFx4M2VcXHgzYy9kaXZcXHgzZSc7XG5DS0VESVRPUi5kaWFsb2c9ZnVuY3Rpb24oYixnKXtmdW5jdGlvbiBoKCl7dmFyIGE9Qi5fLmZvY3VzTGlzdDthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50YWJJbmRleCE9Yi50YWJJbmRleD9iLnRhYkluZGV4LWEudGFiSW5kZXg6YS5mb2N1c0luZGV4LWIuZm9jdXNJbmRleH0pO2Zvcih2YXIgYj1hLmxlbmd0aCxjPTA7YzxiO2MrKylhW2NdLmZvY3VzSW5kZXg9Y31mdW5jdGlvbiBrKGEpe3ZhciBiPUIuXy5mb2N1c0xpc3Q7YT1hfHwwO2lmKCEoMT5iLmxlbmd0aCkpe3ZhciBjPUIuXy5jdXJyZW50Rm9jdXNJbmRleDtCLl8udGFiQmFyTW9kZSYmMD5hJiYoYz0wKTt0cnl7YltjXS5nZXRJbnB1dEVsZW1lbnQoKS4kLmJsdXIoKX1jYXRjaChmKXt9dmFyIGQ9YyxnPTE8Qi5fLnBhZ2VDb3VudDtkb3tkKz1hO2lmKGcmJiFCLl8udGFiQmFyTW9kZSYmKGQ9PWIubGVuZ3RofHwtMT09ZCkpe0IuXy50YWJCYXJNb2RlPSEwO0IuXy50YWJzW0IuXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCk7XG5CLl8uY3VycmVudEZvY3VzSW5kZXg9LTE7cmV0dXJufWQ9KGQrYi5sZW5ndGgpJWIubGVuZ3RoO2lmKGQ9PWMpYnJlYWt9d2hpbGUoYSYmIWJbZF0uaXNGb2N1c2FibGUoKSk7YltkXS5mb2N1cygpO1widGV4dFwiPT1iW2RdLnR5cGUmJmJbZF0uc2VsZWN0KCl9fWZ1bmN0aW9uIG4oYyl7aWYoQj09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCl7dmFyIGY9Yy5kYXRhLmdldEtleXN0cm9rZSgpLGQ9XCJydGxcIj09Yi5sYW5nLmRpcixnPVszNywzOCwzOSw0MF07eT1yPTA7aWYoOT09Znx8Zj09Q0tFRElUT1IuU0hJRlQrOSlrKGY9PUNLRURJVE9SLlNISUZUKzk/LTE6MSkseT0xO2Vsc2UgaWYoZj09Q0tFRElUT1IuQUxUKzEyMSYmIUIuXy50YWJCYXJNb2RlJiYxPEIuZ2V0UGFnZUNvdW50KCkpQi5fLnRhYkJhck1vZGU9ITAsQi5fLnRhYnNbQi5fLmN1cnJlbnRUYWJJZF1bMF0uZm9jdXMoKSxCLl8uY3VycmVudEZvY3VzSW5kZXg9LTEseT0xO2Vsc2UgaWYoLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZyxcbmYpJiZCLl8udGFiQmFyTW9kZSlmPS0xIT1DS0VESVRPUi50b29scy5pbmRleE9mKFtkPzM5OjM3LDM4XSxmKT9hLmNhbGwoQik6ZS5jYWxsKEIpLEIuc2VsZWN0UGFnZShmKSxCLl8udGFic1tmXVswXS5mb2N1cygpLHk9MTtlbHNlIGlmKDEzIT1mJiYzMiE9Znx8IUIuXy50YWJCYXJNb2RlKWlmKDEzPT1mKWY9Yy5kYXRhLmdldFRhcmdldCgpLGYuaXMoXCJhXCIsXCJidXR0b25cIixcInNlbGVjdFwiLFwidGV4dGFyZWFcIil8fGYuaXMoXCJpbnB1dFwiKSYmXCJidXR0b25cIj09Zi4kLnR5cGV8fCgoZj10aGlzLmdldEJ1dHRvbihcIm9rXCIpKSYmQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmLmNsaWNrLDAsZikseT0xKSxyPTE7ZWxzZSBpZigyNz09ZikoZj10aGlzLmdldEJ1dHRvbihcImNhbmNlbFwiKSk/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmLmNsaWNrLDAsZik6ITEhPT10aGlzLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJnRoaXMuaGlkZSgpLHI9MTtlbHNlIHJldHVybjtlbHNlIHRoaXMuc2VsZWN0UGFnZSh0aGlzLl8uY3VycmVudFRhYklkKSxcbnRoaXMuXy50YWJCYXJNb2RlPSExLHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxrKDEpLHk9MTt1KGMpfX1mdW5jdGlvbiB1KGEpe3k/YS5kYXRhLnByZXZlbnREZWZhdWx0KDEpOnImJmEuZGF0YS5zdG9wUHJvcGFnYXRpb24oKX12YXIgdD1DS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1tnXSxwPUNLRURJVE9SLnRvb2xzLmNsb25lKHEpLHc9Yi5jb25maWcuZGlhbG9nX2J1dHRvbnNPcmRlcnx8XCJPU1wiLHY9Yi5sYW5nLmRpcixBPXt9LHkscjsoXCJPU1wiPT13JiZDS0VESVRPUi5lbnYubWFjfHxcInJ0bFwiPT13JiZcImx0clwiPT12fHxcImx0clwiPT13JiZcInJ0bFwiPT12KSYmcC5idXR0b25zLnJldmVyc2UoKTt0PUNLRURJVE9SLnRvb2xzLmV4dGVuZCh0KGIpLHApO3Q9Q0tFRElUT1IudG9vbHMuY2xvbmUodCk7dD1uZXcgeih0aGlzLHQpO3A9bChiKTt0aGlzLl89e2VkaXRvcjpiLGVsZW1lbnQ6cC5lbGVtZW50LG5hbWU6Zyxjb250ZW50U2l6ZTp7d2lkdGg6MCxoZWlnaHQ6MH0sXG5zaXplOnt3aWR0aDowLGhlaWdodDowfSxjb250ZW50czp7fSxidXR0b25zOnt9LGFjY2Vzc0tleU1hcDp7fSx0YWJzOnt9LHRhYklkTGlzdDpbXSxjdXJyZW50VGFiSWQ6bnVsbCxjdXJyZW50VGFiSW5kZXg6bnVsbCxwYWdlQ291bnQ6MCxsYXN0VGFiOm51bGwsdGFiQmFyTW9kZTohMSxmb2N1c0xpc3Q6W10sY3VycmVudEZvY3VzSW5kZXg6MCxoYXNGb2N1czohMX07dGhpcy5wYXJ0cz1wLnBhcnRzO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJhcmlhV2lkZ2V0XCIsdGhpcy5wYXJ0cy5jb250ZW50cyl9LDAsdGhpcyk7cD17cG9zaXRpb246Q0tFRElUT1IuZW52LmllNkNvbXBhdD9cImFic29sdXRlXCI6XCJmaXhlZFwiLHRvcDowLHZpc2liaWxpdHk6XCJoaWRkZW5cIn07cFtcInJ0bFwiPT12P1wicmlnaHRcIjpcImxlZnRcIl09MDt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZXMocCk7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKTt0aGlzLmRlZmluaXRpb249dD1DS0VESVRPUi5maXJlKFwiZGlhbG9nRGVmaW5pdGlvblwiLFxue25hbWU6ZyxkZWZpbml0aW9uOnR9LGIpLmRlZmluaXRpb247aWYoIShcInJlbW92ZURpYWxvZ1RhYnNcImluIGIuXykmJmIuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnMpe3A9Yi5jb25maWcucmVtb3ZlRGlhbG9nVGFicy5zcGxpdChcIjtcIik7Zm9yKHY9MDt2PHAubGVuZ3RoO3YrKylpZih3PXBbdl0uc3BsaXQoXCI6XCIpLDI9PXcubGVuZ3RoKXt2YXIgeD13WzBdO0FbeF18fChBW3hdPVtdKTtBW3hdLnB1c2god1sxXSl9Yi5fLnJlbW92ZURpYWxvZ1RhYnM9QX1pZihiLl8ucmVtb3ZlRGlhbG9nVGFicyYmKEE9Yi5fLnJlbW92ZURpYWxvZ1RhYnNbZ10pKWZvcih2PTA7djxBLmxlbmd0aDt2KyspdC5yZW1vdmVDb250ZW50cyhBW3ZdKTtpZih0Lm9uTG9hZCl0aGlzLm9uKFwibG9hZFwiLHQub25Mb2FkKTtpZih0Lm9uU2hvdyl0aGlzLm9uKFwic2hvd1wiLHQub25TaG93KTtpZih0Lm9uSGlkZSl0aGlzLm9uKFwiaGlkZVwiLHQub25IaWRlKTtpZih0Lm9uT2spdGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYSl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpO1xuc2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCk7ITE9PT10Lm9uT2suY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dGhpcy5zdGF0ZT1DS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRTtpZih0Lm9uQ2FuY2VsKXRoaXMub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXshMT09PXQub25DYW5jZWwuY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dmFyIEI9dGhpcyxPPWZ1bmN0aW9uKGEpe3ZhciBiPUIuXy5jb250ZW50cyxjPSExLGY7Zm9yKGYgaW4gYilmb3IodmFyIGQgaW4gYltmXSlpZihjPWEuY2FsbCh0aGlzLGJbZl1bZF0pKXJldHVybn07dGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYSl7TyhmdW5jdGlvbihiKXtpZihiLnZhbGlkYXRlKXt2YXIgZj1iLnZhbGlkYXRlKHRoaXMpLGQ9XCJzdHJpbmdcIj09dHlwZW9mIGZ8fCExPT09ZjtkJiYoYS5kYXRhLmhpZGU9ITEsYS5zdG9wKCkpO2MuY2FsbChiLCFkLFwic3RyaW5nXCI9PXR5cGVvZiBmP1xuZjp2b2lkIDApO3JldHVybiBkfX0pfSx0aGlzLG51bGwsMCk7dGhpcy5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpe08oZnVuY3Rpb24oYyl7aWYoYy5pc0NoYW5nZWQoKSlyZXR1cm4gYi5jb25maWcuZGlhbG9nX25vQ29uZmlybUNhbmNlbHx8Y29uZmlybShiLmxhbmcuY29tbW9uLmNvbmZpcm1DYW5jZWwpfHwoYS5kYXRhLmhpZGU9ITEpLCEwfSl9LHRoaXMsbnVsbCwwKTt0aGlzLnBhcnRzLmNsb3NlLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXshMSE9PXRoaXMuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO3RoaXMuY2hhbmdlRm9jdXM9azt2YXIgQz10aGlzLl8uZWxlbWVudDtiLmZvY3VzTWFuYWdlci5hZGQoQywxKTt0aGlzLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7Qy5vbihcImtleWRvd25cIixuLHRoaXMpO2lmKENLRURJVE9SLmVudi5nZWNrbylDLm9uKFwia2V5cHJlc3NcIix1LHRoaXMpfSk7dGhpcy5vbihcImhpZGVcIixcbmZ1bmN0aW9uKCl7Qy5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIixuKTtDS0VESVRPUi5lbnYuZ2Vja28mJkMucmVtb3ZlTGlzdGVuZXIoXCJrZXlwcmVzc1wiLHUpO08oZnVuY3Rpb24oYSl7ZC5hcHBseShhKX0pfSk7dGhpcy5vbihcImlmcmFtZUFkZGVkXCIsZnVuY3Rpb24oYSl7KG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoYS5kYXRhLmlmcmFtZS4kLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpKS5vbihcImtleWRvd25cIixuLHRoaXMsbnVsbCwwKX0pO3RoaXMub24oXCJzaG93XCIsZnVuY3Rpb24oKXtoKCk7dmFyIGE9MTxCLl8ucGFnZUNvdW50O2IuY29uZmlnLmRpYWxvZ19zdGFydHVwRm9jdXNUYWImJmE/KEIuXy50YWJCYXJNb2RlPSEwLEIuXy50YWJzW0IuXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCksQi5fLmN1cnJlbnRGb2N1c0luZGV4PS0xKTp0aGlzLl8uaGFzRm9jdXN8fCh0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9YT8tMTp0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aC0xLHQub25Gb2N1cz9cbihhPXQub25Gb2N1cy5jYWxsKHRoaXMpKSYmYS5mb2N1cygpOmsoMSkpfSx0aGlzLG51bGwsNDI5NDk2NzI5NSk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl0aGlzLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCksYj1hLmdldEZpcnN0KCk7Yi5yZW1vdmUoKTtiLmFwcGVuZFRvKGEpfSx0aGlzKTttKHRoaXMpO2YodGhpcyk7KG5ldyBDS0VESVRPUi5kb20udGV4dCh0LnRpdGxlLENLRURJVE9SLmRvY3VtZW50KSkuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSk7Zm9yKHY9MDt2PHQuY29udGVudHMubGVuZ3RoO3YrKykoQT10LmNvbnRlbnRzW3ZdKSYmdGhpcy5hZGRQYWdlKEEpO3RoaXMucGFydHMudGFicy5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldFRhcmdldCgpO2IuaGFzQ2xhc3MoXCJja2VfZGlhbG9nX3RhYlwiKSYmKGI9Yi4kLmlkLHRoaXMuc2VsZWN0UGFnZShiLnN1YnN0cmluZyg0LGIubGFzdEluZGV4T2YoXCJfXCIpKSksXG50aGlzLl8udGFiQmFyTW9kZSYmKHRoaXMuXy50YWJCYXJNb2RlPSExLHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxrKDEpKSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9LHRoaXMpO3Y9W107QT1DS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKHRoaXMse3R5cGU6XCJoYm94XCIsY2xhc3NOYW1lOlwiY2tlX2RpYWxvZ19mb290ZXJfYnV0dG9uc1wiLHdpZHRoczpbXSxjaGlsZHJlbjp0LmJ1dHRvbnN9LHYpLmdldENoaWxkKCk7dGhpcy5wYXJ0cy5mb290ZXIuc2V0SHRtbCh2LmpvaW4oXCJcIikpO2Zvcih2PTA7djxBLmxlbmd0aDt2KyspdGhpcy5fLmJ1dHRvbnNbQVt2XS5pZF09QVt2XX07Q0tFRElUT1IuZGlhbG9nLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGlkZSgpO3RoaXMuXy5lbGVtZW50LnJlbW92ZSgpfSxyZXNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aD09XG5hJiZ0aGlzLl8uY29udGVudFNpemUuaGVpZ2h0PT1ifHwoQ0tFRElUT1IuZGlhbG9nLmZpcmUoXCJyZXNpemVcIix7ZGlhbG9nOnRoaXMsd2lkdGg6YSxoZWlnaHQ6Yn0sdGhpcy5fLmVkaXRvciksdGhpcy5maXJlKFwicmVzaXplXCIse3dpZHRoOmEsaGVpZ2h0OmJ9LHRoaXMuXy5lZGl0b3IpLHRoaXMucGFydHMuY29udGVudHMuc2V0U3R5bGVzKHt3aWR0aDphK1wicHhcIixoZWlnaHQ6YitcInB4XCJ9KSxcInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyJiZ0aGlzLl8ucG9zaXRpb24mJih0aGlzLl8ucG9zaXRpb24ueD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKS53aWR0aC10aGlzLl8uY29udGVudFNpemUud2lkdGgtcGFyc2VJbnQodGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5nZXRTdHlsZShcInJpZ2h0XCIpLDEwKSksdGhpcy5fLmNvbnRlbnRTaXplPXt3aWR0aDphLGhlaWdodDpifSl9fSgpLGdldFNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpO1xucmV0dXJue3dpZHRoOmEuJC5vZmZzZXRXaWR0aHx8MCxoZWlnaHQ6YS4kLm9mZnNldEhlaWdodHx8MH19LG1vdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBmPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCksZD1cInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyLGc9XCJmaXhlZFwiPT1mLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKTtDS0VESVRPUi5lbnYuaWUmJmYuc2V0U3R5bGUoXCJ6b29tXCIsXCIxMDAlXCIpO2cmJnRoaXMuXy5wb3NpdGlvbiYmdGhpcy5fLnBvc2l0aW9uLng9PWEmJnRoaXMuXy5wb3NpdGlvbi55PT1ifHwodGhpcy5fLnBvc2l0aW9uPXt4OmEseTpifSxnfHwoZz1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLGErPWcueCxiKz1nLnkpLGQmJihnPXRoaXMuZ2V0U2l6ZSgpLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCkud2lkdGgtZy53aWR0aC1hKSxiPXt0b3A6KDA8Yj9iOjApK1wicHhcIn0sXG5iW2Q/XCJyaWdodFwiOlwibGVmdFwiXT0oMDxhP2E6MCkrXCJweFwiLGYuc2V0U3R5bGVzKGIpLGMmJih0aGlzLl8ubW92ZWQ9MSkpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe30sdGhpcy5fLnBvc2l0aW9uKX0sc2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5lbGVtZW50LGI9dGhpcy5kZWZpbml0aW9uO2EuZ2V0UGFyZW50KCkmJmEuZ2V0UGFyZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSk/YS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpOmEuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKTt0aGlzLnJlc2l6ZSh0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aHx8Yi53aWR0aHx8Yi5taW5XaWR0aCx0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS5oZWlnaHR8fGIuaGVpZ2h0fHxiLm1pbkhlaWdodCk7dGhpcy5yZXNldCgpO251bGw9PT1cbnRoaXMuXy5jdXJyZW50VGFiSWQmJnRoaXMuc2VsZWN0UGFnZSh0aGlzLmRlZmluaXRpb24uY29udGVudHNbMF0uaWQpO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4JiYoQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleD10aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgpO3RoaXMuXy5lbGVtZW50LmdldEZpcnN0KCkuc2V0U3R5bGUoXCJ6LWluZGV4XCIsQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleCs9MTApO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPyhDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMsdGhpcy5fLnBhcmVudERpYWxvZz1udWxsLHAodGhpcy5fLmVkaXRvcikpOih0aGlzLl8ucGFyZW50RGlhbG9nPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AsdGhpcy5fLnBhcmVudERpYWxvZy5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKS4kLnN0eWxlLnpJbmRleC09TWF0aC5mbG9vcih0aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgvXG4yKSxDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMpO2Eub24oXCJrZXlkb3duXCIsRyk7YS5vbihcImtleXVwXCIsRSk7dGhpcy5fLmhhc0ZvY3VzPSExO2Zvcih2YXIgYyBpbiBiLmNvbnRlbnRzKWlmKGIuY29udGVudHNbY10pe3ZhciBhPWIuY29udGVudHNbY10sZj10aGlzLl8udGFic1thLmlkXSxkPWEucmVxdWlyZWRDb250ZW50LGU9MDtpZihmKXtmb3IodmFyIGggaW4gdGhpcy5fLmNvbnRlbnRzW2EuaWRdKXt2YXIgaz10aGlzLl8uY29udGVudHNbYS5pZF1baF07XCJoYm94XCIhPWsudHlwZSYmXCJ2Ym94XCIhPWsudHlwZSYmay5nZXRJbnB1dEVsZW1lbnQoKSYmKGsucmVxdWlyZWRDb250ZW50JiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2soay5yZXF1aXJlZENvbnRlbnQpP2suZGlzYWJsZSgpOihrLmVuYWJsZSgpLGUrKykpfSFlfHxkJiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2soZCk/ZlswXS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpOlxuZlswXS5yZW1vdmVDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpfX1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5sYXlvdXQoKTtnKHRoaXMpO3RoaXMucGFydHMuZGlhbG9nLnNldFN0eWxlKFwidmlzaWJpbGl0eVwiLFwiXCIpO3RoaXMuZmlyZU9uY2UoXCJsb2FkXCIse30pO0NLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpO3RoaXMuZmlyZShcInNob3dcIix7fSk7dGhpcy5fLmVkaXRvci5maXJlKFwiZGlhbG9nU2hvd1wiLHRoaXMpO3RoaXMuXy5wYXJlbnREaWFsb2d8fHRoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmxvY2soKTt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYSl7YS5zZXRJbml0VmFsdWUmJmEuc2V0SW5pdFZhbHVlKCl9KX0sMTAwLHRoaXMpfSxsYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcnRzLmRpYWxvZyxiPXRoaXMuZ2V0U2l6ZSgpLGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCksZj1cbihjLndpZHRoLWIud2lkdGgpLzIsZD0oYy5oZWlnaHQtYi5oZWlnaHQpLzI7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8KGIuaGVpZ2h0KygwPGQ/ZDowKT5jLmhlaWdodHx8Yi53aWR0aCsoMDxmP2Y6MCk+Yy53aWR0aD9hLnNldFN0eWxlKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpOmEuc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiZml4ZWRcIikpO3RoaXMubW92ZSh0aGlzLl8ubW92ZWQ/dGhpcy5fLnBvc2l0aW9uLng6Zix0aGlzLl8ubW92ZWQ/dGhpcy5fLnBvc2l0aW9uLnk6ZCl9LGZvcmVhY2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMuXy5jb250ZW50cylmb3IodmFyIGMgaW4gdGhpcy5fLmNvbnRlbnRzW2JdKWEuY2FsbCh0aGlzLHRoaXMuXy5jb250ZW50c1tiXVtjXSk7cmV0dXJuIHRoaXN9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7YS5yZXNldCYmYS5yZXNldCgxKX07cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5mb3JlYWNoKGEpO3JldHVybiB0aGlzfX0oKSxcbnNldHVwQ29udGVudDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYil7Yi5zZXR1cCYmYi5zZXR1cC5hcHBseShiLGEpfSl9LGNvbW1pdENvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGIpe0NLRURJVE9SLmVudi5pZSYmdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PT1iLmZvY3VzSW5kZXgmJmIuZ2V0SW5wdXRFbGVtZW50KCkuJC5ibHVyKCk7Yi5jb21taXQmJmIuY29tbWl0LmFwcGx5KGIsYSl9KX0saGlkZTpmdW5jdGlvbigpe2lmKHRoaXMucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpKXt0aGlzLmZpcmUoXCJoaWRlXCIse30pO3RoaXMuXy5lZGl0b3IuZmlyZShcImRpYWxvZ0hpZGVcIix0aGlzKTt0aGlzLnNlbGVjdFBhZ2UodGhpcy5fLnRhYklkTGlzdFswXSk7dmFyIGE9dGhpcy5fLmVsZW1lbnQ7YS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7dGhpcy5wYXJ0cy5kaWFsb2cuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXG5cImhpZGRlblwiKTtmb3IoSSh0aGlzKTtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wIT10aGlzOylDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wLmhpZGUoKTtpZih0aGlzLl8ucGFyZW50RGlhbG9nKXt2YXIgYj10aGlzLl8ucGFyZW50RGlhbG9nLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpO2Iuc2V0U3R5bGUoXCJ6LWluZGV4XCIscGFyc2VJbnQoYi4kLnN0eWxlLnpJbmRleCwxMCkrTWF0aC5mbG9vcih0aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgvMikpfWVsc2Ugcih0aGlzLl8uZWRpdG9yKTtpZihDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMuXy5wYXJlbnREaWFsb2cpQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleC09MTA7ZWxzZXtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4PW51bGw7YS5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIixHKTthLnJlbW92ZUxpc3RlbmVyKFwia2V5dXBcIixFKTt2YXIgYz10aGlzLl8uZWRpdG9yO1xuYy5mb2N1cygpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZvY3VzTWFuYWdlci51bmxvY2soKTtDS0VESVRPUi5lbnYuaU9TJiZjLndpbmRvdy5mb2N1cygpfSwwKX1kZWxldGUgdGhpcy5fLnBhcmVudERpYWxvZzt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYSl7YS5yZXNldEluaXRWYWx1ZSYmYS5yZXNldEluaXRWYWx1ZSgpfSk7dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRSl9fSxhZGRQYWdlOmZ1bmN0aW9uKGEpe2lmKCFhLnJlcXVpcmVkQ29udGVudHx8dGhpcy5fLmVkaXRvci5maWx0ZXIuY2hlY2soYS5yZXF1aXJlZENvbnRlbnQpKXtmb3IodmFyIGI9W10sYz1hLmxhYmVsPycgdGl0bGVcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEubGFiZWwpKydcIic6XCJcIixmPUNLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLnZib3guYnVpbGQodGhpcyx7dHlwZTpcInZib3hcIixjbGFzc05hbWU6XCJja2VfZGlhbG9nX3BhZ2VfY29udGVudHNcIixcbmNoaWxkcmVuOmEuZWxlbWVudHMsZXhwYW5kOiEhYS5leHBhbmQscGFkZGluZzphLnBhZGRpbmcsc3R5bGU6YS5zdHlsZXx8XCJ3aWR0aDogMTAwJTtcIn0sYiksZD10aGlzLl8uY29udGVudHNbYS5pZF09e30sZz1mLmdldENoaWxkKCksZT0wO2Y9Zy5zaGlmdCgpOylmLm5vdEFsbG93ZWR8fFwiaGJveFwiPT1mLnR5cGV8fFwidmJveFwiPT1mLnR5cGV8fGUrKyxkW2YuaWRdPWYsXCJmdW5jdGlvblwiPT10eXBlb2YgZi5nZXRDaGlsZCYmZy5wdXNoLmFwcGx5KGcsZi5nZXRDaGlsZCgpKTtlfHwoYS5oaWRkZW49ITApO2I9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoYi5qb2luKFwiXCIpKTtiLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInRhYnBhbmVsXCIpO2Y9Q0tFRElUT1IuZW52O2Q9XCJja2VfXCIrYS5pZCtcIl9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7Yz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChbJ1xceDNjYSBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3RhYlwiJyxcbjA8dGhpcy5fLnBhZ2VDb3VudD9cIiBja2VfbGFzdFwiOlwiY2tlX2ZpcnN0XCIsYyxhLmhpZGRlbj8nIHN0eWxlXFx4M2RcImRpc3BsYXk6bm9uZVwiJzpcIlwiLCcgaWRcXHgzZFwiJyxkLCdcIicsZi5nZWNrbyYmIWYuaGM/XCJcIjonIGhyZWZcXHgzZFwiamF2YXNjcmlwdDp2b2lkKDApXCInLCcgdGFiSW5kZXhcXHgzZFwiLTFcIiBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIHJvbGVcXHgzZFwidGFiXCJcXHgzZScsYS5sYWJlbCxcIlxceDNjL2FcXHgzZVwiXS5qb2luKFwiXCIpKTtiLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLGQpO3RoaXMuXy50YWJzW2EuaWRdPVtjLGJdO3RoaXMuXy50YWJJZExpc3QucHVzaChhLmlkKTshYS5oaWRkZW4mJnRoaXMuXy5wYWdlQ291bnQrKzt0aGlzLl8ubGFzdFRhYj1jO3RoaXMudXBkYXRlU3R5bGUoKTtiLnNldEF0dHJpYnV0ZShcIm5hbWVcIixhLmlkKTtiLmFwcGVuZFRvKHRoaXMucGFydHMuY29udGVudHMpO2MudW5zZWxlY3RhYmxlKCk7dGhpcy5wYXJ0cy50YWJzLmFwcGVuZChjKTthLmFjY2Vzc0tleSYmXG4oRih0aGlzLHRoaXMsXCJDVFJMK1wiK2EuYWNjZXNzS2V5LEssSCksdGhpcy5fLmFjY2Vzc0tleU1hcFtcIkNUUkwrXCIrYS5hY2Nlc3NLZXldPWEuaWQpfX0sc2VsZWN0UGFnZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uY3VycmVudFRhYklkIT1hJiYhdGhpcy5fLnRhYnNbYV1bMF0uaGFzQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9kaXNhYmxlZFwiKSYmITEhPT10aGlzLmZpcmUoXCJzZWxlY3RQYWdlXCIse3BhZ2U6YSxjdXJyZW50UGFnZTp0aGlzLl8uY3VycmVudFRhYklkfSkpe2Zvcih2YXIgYyBpbiB0aGlzLl8udGFicyl7dmFyIGY9dGhpcy5fLnRhYnNbY11bMF0sZD10aGlzLl8udGFic1tjXVsxXTtjIT1hJiYoZi5yZW1vdmVDbGFzcyhcImNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkXCIpLGQuaGlkZSgpKTtkLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsYyE9YSl9dmFyIGc9dGhpcy5fLnRhYnNbYV07Z1swXS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkXCIpO0NLRURJVE9SLmVudi5pZTZDb21wYXR8fFxuQ0tFRElUT1IuZW52LmllN0NvbXBhdD8oYihnWzFdKSxnWzFdLnNob3coKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihnWzFdLDEpfSwwKSk6Z1sxXS5zaG93KCk7dGhpcy5fLmN1cnJlbnRUYWJJZD1hO3RoaXMuXy5jdXJyZW50VGFiSW5kZXg9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LGEpfX0sdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt0aGlzLnBhcnRzLmRpYWxvZ1soMT09PXRoaXMuXy5wYWdlQ291bnQ/XCJhZGRcIjpcInJlbW92ZVwiKStcIkNsYXNzXCJdKFwiY2tlX3NpbmdsZV9wYWdlXCIpfSxoaWRlUGFnZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl8udGFic1tiXSYmdGhpcy5fLnRhYnNbYl1bMF07YyYmMSE9dGhpcy5fLnBhZ2VDb3VudCYmYy5pc1Zpc2libGUoKSYmKGI9PXRoaXMuXy5jdXJyZW50VGFiSWQmJnRoaXMuc2VsZWN0UGFnZShhLmNhbGwodGhpcykpLGMuaGlkZSgpLHRoaXMuXy5wYWdlQ291bnQtLSx0aGlzLnVwZGF0ZVN0eWxlKCkpfSxzaG93UGFnZTpmdW5jdGlvbihhKXtpZihhPVxudGhpcy5fLnRhYnNbYV0mJnRoaXMuXy50YWJzW2FdWzBdKWEuc2hvdygpLHRoaXMuXy5wYWdlQ291bnQrKyx0aGlzLnVwZGF0ZVN0eWxlKCl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVsZW1lbnR9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLm5hbWV9LGdldENvbnRlbnRFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fLmNvbnRlbnRzW2FdO3JldHVybiBjJiZjW2JdfSxnZXRWYWx1ZU9mOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0Q29udGVudEVsZW1lbnQoYSxiKS5nZXRWYWx1ZSgpfSxzZXRWYWx1ZU9mOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5nZXRDb250ZW50RWxlbWVudChhLGIpLnNldFZhbHVlKGMpfSxnZXRCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5idXR0b25zW2FdfSxjbGljazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uY2xpY2soKX0sZGlzYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZGlzYWJsZSgpfSxcbmVuYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZW5hYmxlKCl9LGdldFBhZ2VDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8ucGFnZUNvdW50fSxnZXRQYXJlbnRFZGl0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVkaXRvcn0sZ2V0U2VsZWN0ZWRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50RWRpdG9yKCkuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCl9LGFkZEZvY3VzYWJsZTpmdW5jdGlvbihhLGIpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiKWI9dGhpcy5fLmZvY3VzTGlzdC5sZW5ndGgsdGhpcy5fLmZvY3VzTGlzdC5wdXNoKG5ldyBrKHRoaXMsYSxiKSk7ZWxzZXt0aGlzLl8uZm9jdXNMaXN0LnNwbGljZShiLDAsbmV3IGsodGhpcyxhLGIpKTtmb3IodmFyIGM9YisxO2M8dGhpcy5fLmZvY3VzTGlzdC5sZW5ndGg7YysrKXRoaXMuXy5mb2N1c0xpc3RbY10uZm9jdXNJbmRleCsrfX0sXG5zZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlIT1hKXt0aGlzLnN0YXRlPWE7aWYoYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0JVU1kpe2lmKCF0aGlzLnBhcnRzLnNwaW5uZXIpe3ZhciBiPXRoaXMuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXIsYz17YXR0cmlidXRlczp7XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ19zcGlubmVyXCJ9LHN0eWxlczp7XCJmbG9hdFwiOlwicnRsXCI9PWI/XCJyaWdodFwiOlwibGVmdFwifX07Yy5zdHlsZXNbXCJtYXJnaW4tXCIrKFwicnRsXCI9PWI/XCJsZWZ0XCI6XCJyaWdodFwiKV09XCI4cHhcIjt0aGlzLnBhcnRzLnNwaW5uZXI9Q0tFRElUT1IuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiLGMpO3RoaXMucGFydHMuc3Bpbm5lci5zZXRIdG1sKFwiXFx4MjYjODk4NztcIik7dGhpcy5wYXJ0cy5zcGlubmVyLmFwcGVuZFRvKHRoaXMucGFydHMudGl0bGUsMSl9dGhpcy5wYXJ0cy5zcGlubmVyLnNob3coKTt0aGlzLmdldEJ1dHRvbihcIm9rXCIpLmRpc2FibGUoKX1lbHNlIGE9PVxuQ0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUmJih0aGlzLnBhcnRzLnNwaW5uZXImJnRoaXMucGFydHMuc3Bpbm5lci5oaWRlKCksdGhpcy5nZXRCdXR0b24oXCJva1wiKS5lbmFibGUoKSk7dGhpcy5maXJlKFwic3RhdGVcIixhKX19fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZGlhbG9nLHthZGQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV0mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fCh0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV09Yil9LGV4aXN0czpmdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMuXy5kaWFsb2dEZWZpbml0aW9uc1thXX0sZ2V0Q3VycmVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wfSxpc1RhYkVuYWJsZWQ6ZnVuY3Rpb24oYSxiLGMpe2E9YS5jb25maWcucmVtb3ZlRGlhbG9nVGFicztyZXR1cm4hKGEmJmEubWF0Y2gobmV3IFJlZ0V4cChcIig/Ol58OylcIitiK1wiOlwiK2MrXCIoPzokfDspXCIsXG5cImlcIikpKX0sb2tCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGIpe2I9Ynx8e307cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7aWQ6XCJva1wiLHR5cGU6XCJidXR0b25cIixsYWJlbDphLmxhbmcuY29tbW9uLm9rLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfYnV0dG9uX29rXCIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoXCJva1wiLHtoaWRlOiEwfSkuaGlkZSYmYS5oaWRlKCl9fSxiLCEwKX07YS50eXBlPVwiYnV0dG9uXCI7YS5vdmVycmlkZT1mdW5jdGlvbihiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGMpe3JldHVybiBhKGMsYil9LHt0eXBlOlwiYnV0dG9uXCJ9LCEwKX07cmV0dXJuIGF9KCksY2FuY2VsQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe2lkOlwiY2FuY2VsXCIsdHlwZTpcImJ1dHRvblwiLGxhYmVsOmEubGFuZy5jb21tb24uY2FuY2VsLFxuXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9idXR0b25fY2FuY2VsXCIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJmEuaGlkZSgpfX0sYiwhMCl9O2EudHlwZT1cImJ1dHRvblwiO2Eub3ZlcnJpZGU9ZnVuY3Rpb24oYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihjKXtyZXR1cm4gYShjLGIpfSx7dHlwZTpcImJ1dHRvblwifSwhMCl9O3JldHVybiBhfSgpLGFkZFVJRWxlbWVudDpmdW5jdGlvbihhLGIpe3RoaXMuXy51aUVsZW1lbnRCdWlsZGVyc1thXT1ifX0pO0NLRURJVE9SLmRpYWxvZy5fPXt1aUVsZW1lbnRCdWlsZGVyczp7fSxkaWFsb2dEZWZpbml0aW9uczp7fSxjdXJyZW50VG9wOm51bGwsY3VycmVudFpJbmRleDpudWxsfTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5kaWFsb2cpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmRpYWxvZy5wcm90b3R5cGUpO1xudmFyIHE9e3Jlc2l6YWJsZTpDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgsbWluV2lkdGg6NjAwLG1pbkhlaWdodDo0MDAsYnV0dG9uczpbQ0tFRElUT1IuZGlhbG9nLm9rQnV0dG9uLENLRURJVE9SLmRpYWxvZy5jYW5jZWxCdXR0b25dfSx0PWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGY9MCxkO2Q9YVtmXTtmKyspaWYoZC5pZD09Ynx8YyYmZFtjXSYmKGQ9dChkW2NdLGIsYykpKXJldHVybiBkO3JldHVybiBudWxsfSx1PWZ1bmN0aW9uKGEsYixjLGYsZCl7aWYoYyl7Zm9yKHZhciBnPTAsZTtlPWFbZ107ZysrKXtpZihlLmlkPT1jKXJldHVybiBhLnNwbGljZShnLDAsYiksYjtpZihmJiZlW2ZdJiYoZT11KGVbZl0sYixjLGYsITApKSlyZXR1cm4gZX1pZihkKXJldHVybiBudWxsfWEucHVzaChiKTtyZXR1cm4gYn0sQT1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBmPTAsZDtkPWFbZl07ZisrKXtpZihkLmlkPT1iKXJldHVybiBhLnNwbGljZShmLDEpO2lmKGMmJmRbY10mJihkPUEoZFtjXSxcbmIsYykpKXJldHVybiBkfXJldHVybiBudWxsfSx6PWZ1bmN0aW9uKGEsYil7dGhpcy5kaWFsb2c9YTtmb3IodmFyIGM9Yi5jb250ZW50cyxmPTAsZDtkPWNbZl07ZisrKWNbZl09ZCYmbmV3IGgoYSxkKTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKX07ei5wcm90b3R5cGU9e2dldENvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiB0KHRoaXMuY29udGVudHMsYSl9LGdldEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdCh0aGlzLmJ1dHRvbnMsYSl9LGFkZENvbnRlbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHUodGhpcy5jb250ZW50cyxhLGIpfSxhZGRCdXR0b246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdSh0aGlzLmJ1dHRvbnMsYSxiKX0scmVtb3ZlQ29udGVudHM6ZnVuY3Rpb24oYSl7QSh0aGlzLmNvbnRlbnRzLGEpfSxyZW1vdmVCdXR0b246ZnVuY3Rpb24oYSl7QSh0aGlzLmJ1dHRvbnMsYSl9fTtoLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0KHRoaXMuZWxlbWVudHMsXG5hLFwiY2hpbGRyZW5cIil9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiB1KHRoaXMuZWxlbWVudHMsYSxiLFwiY2hpbGRyZW5cIil9LHJlbW92ZTpmdW5jdGlvbihhKXtBKHRoaXMuZWxlbWVudHMsYSxcImNoaWxkcmVuXCIpfX07dmFyIHcsQz17fSx5LEI9e30sRz1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5tZXRhS2V5LGM9YS5kYXRhLiQuYWx0S2V5LGY9YS5kYXRhLiQuc2hpZnRLZXksZD1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuZGF0YS4kLmtleUNvZGUpOyhiPUJbKGI/XCJDVFJMK1wiOlwiXCIpKyhjP1wiQUxUK1wiOlwiXCIpKyhmP1wiU0hJRlQrXCI6XCJcIikrZF0pJiZiLmxlbmd0aCYmKGI9YltiLmxlbmd0aC0xXSxiLmtleWRvd24mJmIua2V5ZG93bi5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9LEU9ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQubWV0YUtleSxjPWEuZGF0YS4kLmFsdEtleSxcbmY9YS5kYXRhLiQuc2hpZnRLZXksZD1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuZGF0YS4kLmtleUNvZGUpOyhiPUJbKGI/XCJDVFJMK1wiOlwiXCIpKyhjP1wiQUxUK1wiOlwiXCIpKyhmP1wiU0hJRlQrXCI6XCJcIikrZF0pJiZiLmxlbmd0aCYmKGI9YltiLmxlbmd0aC0xXSxiLmtleXVwJiYoYi5rZXl1cC5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSxhLmRhdGEucHJldmVudERlZmF1bHQoKSkpfSxGPWZ1bmN0aW9uKGEsYixjLGYsZCl7KEJbY118fChCW2NdPVtdKSkucHVzaCh7dWlFbGVtZW50OmEsZGlhbG9nOmIsa2V5OmMsa2V5dXA6ZHx8YS5hY2Nlc3NLZXlVcCxrZXlkb3duOmZ8fGEuYWNjZXNzS2V5RG93bn0pfSxJPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBCKXtmb3IodmFyIGM9QltiXSxmPWMubGVuZ3RoLTE7MDw9ZjtmLS0pY1tmXS5kaWFsb2chPWEmJmNbZl0udWlFbGVtZW50IT1hfHxjLnNwbGljZShmLDEpOzA9PT1jLmxlbmd0aCYmZGVsZXRlIEJbYl19fSxIPWZ1bmN0aW9uKGEsXG5iKXthLl8uYWNjZXNzS2V5TWFwW2JdJiZhLnNlbGVjdFBhZ2UoYS5fLmFjY2Vzc0tleU1hcFtiXSl9LEs9ZnVuY3Rpb24oKXt9OyhmdW5jdGlvbigpe0NLRURJVE9SLnVpLmRpYWxvZz17dWlFbGVtZW50OmZ1bmN0aW9uKGEsYixjLGYsZCxnLGUpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGg9KGYuY2FsbD9mKGIpOmYpfHxcImRpdlwiLGs9W1wiXFx4M2NcIixoLFwiIFwiXSxsPShkJiZkLmNhbGw/ZChiKTpkKXx8e30sbT0oZyYmZy5jYWxsP2coYik6Zyl8fHt9LG49KGUmJmUuY2FsbD9lLmNhbGwodGhpcyxhLGIpOmUpfHxcIlwiLHE9dGhpcy5kb21JZD1tLmlkfHxDS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl91aUVsZW1lbnRcIjtiLnJlcXVpcmVkQ29udGVudCYmIWEuZ2V0UGFyZW50RWRpdG9yKCkuZmlsdGVyLmNoZWNrKGIucmVxdWlyZWRDb250ZW50KSYmKGwuZGlzcGxheT1cIm5vbmVcIix0aGlzLm5vdEFsbG93ZWQ9ITApO20uaWQ9cTt2YXIgdT17fTtiLnR5cGUmJih1W1wiY2tlX2RpYWxvZ191aV9cIitcbmIudHlwZV09MSk7Yi5jbGFzc05hbWUmJih1W2IuY2xhc3NOYW1lXT0xKTtiLmRpc2FibGVkJiYodS5ja2VfZGlzYWJsZWQ9MSk7Zm9yKHZhciB0PW1bXCJjbGFzc1wiXSYmbVtcImNsYXNzXCJdLnNwbGl0P21bXCJjbGFzc1wiXS5zcGxpdChcIiBcIik6W10scT0wO3E8dC5sZW5ndGg7cSsrKXRbcV0mJih1W3RbcV1dPTEpO3Q9W107Zm9yKHEgaW4gdSl0LnB1c2gocSk7bVtcImNsYXNzXCJdPXQuam9pbihcIiBcIik7Yi50aXRsZSYmKG0udGl0bGU9Yi50aXRsZSk7dT0oYi5zdHlsZXx8XCJcIikuc3BsaXQoXCI7XCIpO2IuYWxpZ24mJih0PWIuYWxpZ24sbFtcIm1hcmdpbi1sZWZ0XCJdPVwibGVmdFwiPT10PzA6XCJhdXRvXCIsbFtcIm1hcmdpbi1yaWdodFwiXT1cInJpZ2h0XCI9PXQ/MDpcImF1dG9cIik7Zm9yKHEgaW4gbCl1LnB1c2gocStcIjpcIitsW3FdKTtiLmhpZGRlbiYmdS5wdXNoKFwiZGlzcGxheTpub25lXCIpO2ZvcihxPXUubGVuZ3RoLTE7MDw9cTtxLS0pXCJcIj09PXVbcV0mJnUuc3BsaWNlKHEsMSk7MDx1Lmxlbmd0aCYmKG0uc3R5bGU9XG4obS5zdHlsZT9tLnN0eWxlK1wiOyBcIjpcIlwiKSt1LmpvaW4oXCI7IFwiKSk7Zm9yKHEgaW4gbSlrLnB1c2gocSsnXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShtW3FdKSsnXCIgJyk7ay5wdXNoKFwiXFx4M2VcIixuLFwiXFx4M2MvXCIsaCxcIlxceDNlXCIpO2MucHVzaChrLmpvaW4oXCJcIikpOyh0aGlzLl98fCh0aGlzLl89e30pKS5kaWFsb2c9YTtcImJvb2xlYW5cIj09dHlwZW9mIGIuaXNDaGFuZ2VkJiYodGhpcy5pc0NoYW5nZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYi5pc0NoYW5nZWR9KTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLmlzQ2hhbmdlZCYmKHRoaXMuaXNDaGFuZ2VkPWIuaXNDaGFuZ2VkKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLnNldFZhbHVlJiYodGhpcy5zZXRWYWx1ZT1DS0VESVRPUi50b29scy5vdmVycmlkZSh0aGlzLnNldFZhbHVlLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXthLmNhbGwodGhpcyxiLnNldFZhbHVlLmNhbGwodGhpcyxjKSl9fSkpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGIuZ2V0VmFsdWUmJlxuKHRoaXMuZ2V0VmFsdWU9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUodGhpcy5nZXRWYWx1ZSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYi5nZXRWYWx1ZS5jYWxsKHRoaXMsYS5jYWxsKHRoaXMpKX19KSk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24odGhpcyk7dGhpcy5yZWdpc3RlckV2ZW50cyhiKTt0aGlzLmFjY2Vzc0tleVVwJiZ0aGlzLmFjY2Vzc0tleURvd24mJmIuYWNjZXNzS2V5JiZGKHRoaXMsYSxcIkNUUkwrXCIrYi5hY2Nlc3NLZXkpO3ZhciBwPXRoaXM7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBiPXAuZ2V0SW5wdXRFbGVtZW50KCk7aWYoYil7dmFyIGM9cC50eXBlIGlue2NoZWNrYm94OjEscmF0aW86MX0mJkNLRURJVE9SLmVudi5pZSYmOD5DS0VESVRPUi5lbnYudmVyc2lvbj9cImNrZV9kaWFsb2dfdWlfZm9jdXNlZFwiOlwiXCI7Yi5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXthLl8udGFiQmFyTW9kZT0hMTthLl8uaGFzRm9jdXM9ITA7cC5maXJlKFwiZm9jdXNcIik7XG5jJiZ0aGlzLmFkZENsYXNzKGMpfSk7Yi5vbihcImJsdXJcIixmdW5jdGlvbigpe3AuZmlyZShcImJsdXJcIik7YyYmdGhpcy5yZW1vdmVDbGFzcyhjKX0pfX0pO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO3RoaXMua2V5Ym9hcmRGb2N1c2FibGUmJih0aGlzLnRhYkluZGV4PWIudGFiSW5kZXh8fDAsdGhpcy5mb2N1c0luZGV4PWEuXy5mb2N1c0xpc3QucHVzaCh0aGlzKS0xLHRoaXMub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YS5fLmN1cnJlbnRGb2N1c0luZGV4PXAuZm9jdXNJbmRleH0pKX19LGhib3g6ZnVuY3Rpb24oYSxiLGMsZixkKXtpZighKDQ+YXJndW1lbnRzLmxlbmd0aCkpe3RoaXMuX3x8KHRoaXMuXz17fSk7dmFyIGc9dGhpcy5fLmNoaWxkcmVuPWIsZT1kJiZkLndpZHRoc3x8bnVsbCxoPWQmJmQuaGVpZ2h0fHxudWxsLGssbD17cm9sZTpcInByZXNlbnRhdGlvblwifTtkJiZkLmFsaWduJiYobC5hbGlnbj1kLmFsaWduKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxcbmEsZHx8e3R5cGU6XCJoYm94XCJ9LGYsXCJ0YWJsZVwiLHt9LGwsZnVuY3Rpb24oKXt2YXIgYT1bJ1xceDNjdGJvZHlcXHgzZVxceDNjdHIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9oYm94XCJcXHgzZSddO2ZvcihrPTA7azxjLmxlbmd0aDtrKyspe3ZhciBiPVwiY2tlX2RpYWxvZ191aV9oYm94X2NoaWxkXCIsZj1bXTswPT09ayYmKGI9XCJja2VfZGlhbG9nX3VpX2hib3hfZmlyc3RcIik7az09Yy5sZW5ndGgtMSYmKGI9XCJja2VfZGlhbG9nX3VpX2hib3hfbGFzdFwiKTthLnB1c2goJ1xceDNjdGQgY2xhc3NcXHgzZFwiJyxiLCdcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiICcpO2U/ZVtrXSYmZi5wdXNoKFwid2lkdGg6XCIrdihlW2tdKSk6Zi5wdXNoKFwid2lkdGg6XCIrTWF0aC5mbG9vcigxMDAvYy5sZW5ndGgpK1wiJVwiKTtoJiZmLnB1c2goXCJoZWlnaHQ6XCIrdihoKSk7ZCYmdm9pZCAwIT09ZC5wYWRkaW5nJiZmLnB1c2goXCJwYWRkaW5nOlwiK3YoZC5wYWRkaW5nKSk7Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZcbmdba10uYWxpZ24mJmYucHVzaChcInRleHQtYWxpZ246XCIrZ1trXS5hbGlnbik7MDxmLmxlbmd0aCYmYS5wdXNoKCdzdHlsZVxceDNkXCInK2Yuam9pbihcIjsgXCIpKydcIiAnKTthLnB1c2goXCJcXHgzZVwiLGNba10sXCJcXHgzYy90ZFxceDNlXCIpfWEucHVzaChcIlxceDNjL3RyXFx4M2VcXHgzYy90Ym9keVxceDNlXCIpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LHZib3g6ZnVuY3Rpb24oYSxiLGMsZixkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3RoaXMuX3x8KHRoaXMuXz17fSk7dmFyIGc9dGhpcy5fLmNoaWxkcmVuPWIsZT1kJiZkLndpZHRofHxudWxsLGg9ZCYmZC5oZWlnaHRzfHxudWxsO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGEsZHx8e3R5cGU6XCJ2Ym94XCJ9LGYsXCJkaXZcIixudWxsLHtyb2xlOlwicHJlc2VudGF0aW9uXCJ9LGZ1bmN0aW9uKCl7dmFyIGI9WydcXHgzY3RhYmxlIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgY2VsbHNwYWNpbmdcXHgzZFwiMFwiIGJvcmRlclxceDNkXCIwXCIgJ107XG5iLnB1c2goJ3N0eWxlXFx4M2RcIicpO2QmJmQuZXhwYW5kJiZiLnB1c2goXCJoZWlnaHQ6MTAwJTtcIik7Yi5wdXNoKFwid2lkdGg6XCIrdihlfHxcIjEwMCVcIiksXCI7XCIpO0NLRURJVE9SLmVudi53ZWJraXQmJmIucHVzaChcImZsb2F0Om5vbmU7XCIpO2IucHVzaCgnXCInKTtiLnB1c2goJ2FsaWduXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShkJiZkLmFsaWdufHwoXCJsdHJcIj09YS5nZXRQYXJlbnRFZGl0b3IoKS5sYW5nLmRpcj9cImxlZnRcIjpcInJpZ2h0XCIpKSwnXCIgJyk7Yi5wdXNoKFwiXFx4M2VcXHgzY3Rib2R5XFx4M2VcIik7Zm9yKHZhciBmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBrPVtdO2IucHVzaCgnXFx4M2N0clxceDNlXFx4M2N0ZCByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiICcpO2UmJmsucHVzaChcIndpZHRoOlwiK3YoZXx8XCIxMDAlXCIpKTtoP2sucHVzaChcImhlaWdodDpcIit2KGhbZl0pKTpkJiZkLmV4cGFuZCYmay5wdXNoKFwiaGVpZ2h0OlwiK01hdGguZmxvb3IoMTAwL2MubGVuZ3RoKStcIiVcIik7XG5kJiZ2b2lkIDAhPT1kLnBhZGRpbmcmJmsucHVzaChcInBhZGRpbmc6XCIrdihkLnBhZGRpbmcpKTtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJmdbZl0uYWxpZ24mJmsucHVzaChcInRleHQtYWxpZ246XCIrZ1tmXS5hbGlnbik7MDxrLmxlbmd0aCYmYi5wdXNoKCdzdHlsZVxceDNkXCInLGsuam9pbihcIjsgXCIpLCdcIiAnKTtiLnB1c2goJyBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX3Zib3hfY2hpbGRcIlxceDNlJyxjW2ZdLFwiXFx4M2MvdGRcXHgzZVxceDNjL3RyXFx4M2VcIil9Yi5wdXNoKFwiXFx4M2MvdGJvZHlcXHgzZVxceDNjL3RhYmxlXFx4M2VcIik7cmV0dXJuIGIuam9pbihcIlwiKX0pfX19fSkoKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZT17Z2V0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuZG9tSWQpfSxnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KCl9LGdldERpYWxvZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGlhbG9nfSxcbnNldFZhbHVlOmZ1bmN0aW9uKGEsYil7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5zZXRWYWx1ZShhKTshYiYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmF9KTtyZXR1cm4gdGhpc30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRWYWx1ZSgpfSxpc0NoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sc2VsZWN0UGFyZW50VGFiOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCk7KGE9YS5nZXRQYXJlbnQoKSkmJi0xPT1hLiQuY2xhc3NOYW1lLnNlYXJjaChcImNrZV9kaWFsb2dfcGFnZV9jb250ZW50c1wiKTspO2lmKCFhKXJldHVybiB0aGlzO2E9YS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO3RoaXMuXy5kaWFsb2cuXy5jdXJyZW50VGFiSWQhPWEmJnRoaXMuXy5kaWFsb2cuc2VsZWN0UGFnZShhKTtyZXR1cm4gdGhpc30sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdFBhcmVudFRhYigpLmdldElucHV0RWxlbWVudCgpLmZvY3VzKCk7XG5yZXR1cm4gdGhpc30scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9L15vbihbQS1aXVxcdyspLyxjLGY9ZnVuY3Rpb24oYSxiLGMsZil7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe2EuZ2V0SW5wdXRFbGVtZW50KCkub24oYyxmLGEpfSl9LGQ7Zm9yKGQgaW4gYSlpZihjPWQubWF0Y2goYikpdGhpcy5ldmVudFByb2Nlc3NvcnNbZF0/dGhpcy5ldmVudFByb2Nlc3NvcnNbZF0uY2FsbCh0aGlzLHRoaXMuXy5kaWFsb2csYVtkXSk6Zih0aGlzLHRoaXMuXy5kaWFsb2csY1sxXS50b0xvd2VyQ2FzZSgpLGFbZF0pO3JldHVybiB0aGlzfSxldmVudFByb2Nlc3NvcnM6e29uTG9hZDpmdW5jdGlvbihhLGIpe2Eub24oXCJsb2FkXCIsYix0aGlzKX0sb25TaG93OmZ1bmN0aW9uKGEsYil7YS5vbihcInNob3dcIixiLHRoaXMpfSxvbkhpZGU6ZnVuY3Rpb24oYSxiKXthLm9uKFwiaGlkZVwiLGIsdGhpcyl9fSxhY2Nlc3NLZXlEb3duOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe30sXG5kaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwidHJ1ZVwiKTthLmFkZENsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTt0aGlzLmdldElucHV0RWxlbWVudCgpLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO2EucmVtb3ZlQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdldEVsZW1lbnQoKS5oYXNDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuaXNWaXNpYmxlKCl9LGlzRm9jdXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNWaXNpYmxlKCk/ITA6ITF9fTtDS0VESVRPUi51aS5kaWFsb2cuaGJveC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LFxue2dldENoaWxkOmZ1bmN0aW9uKGEpe2lmKDE+YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fLmNoaWxkcmVuLmNvbmNhdCgpO2Euc3BsaWNlfHwoYT1bYV0pO3JldHVybiAyPmEubGVuZ3RoP3RoaXMuXy5jaGlsZHJlblthWzBdXTp0aGlzLl8uY2hpbGRyZW5bYVswXV0mJnRoaXMuXy5jaGlsZHJlblthWzBdXS5nZXRDaGlsZD90aGlzLl8uY2hpbGRyZW5bYVswXV0uZ2V0Q2hpbGQoYS5zbGljZSgxLGEubGVuZ3RoKSk6bnVsbH19LCEwKTtDS0VESVRPUi51aS5kaWFsb2cudmJveC5wcm90b3R5cGU9bmV3IENLRURJVE9SLnVpLmRpYWxvZy5oYm94OyhmdW5jdGlvbigpe3ZhciBhPXtidWlsZDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBmPWIuY2hpbGRyZW4sZCxnPVtdLGU9W10saD0wO2g8Zi5sZW5ndGgmJihkPWZbaF0pO2grKyl7dmFyIGs9W107Zy5wdXNoKGspO2UucHVzaChDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVyc1tkLnR5cGVdLmJ1aWxkKGEsZCxrKSl9cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2dbYi50eXBlXShhLFxuZSxnLGMsYil9fTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiaGJveFwiLGEpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ2Ym94XCIsYSl9KSgpO0NLRURJVE9SLmRpYWxvZ0NvbW1hbmQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmRpYWxvZ05hbWU9YTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiLCEwKX07Q0tFRElUT1IuZGlhbG9nQ29tbWFuZC5wcm90b3R5cGU9e2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50YWJJZDthLm9wZW5EaWFsb2codGhpcy5kaWFsb2dOYW1lLGZ1bmN0aW9uKGEpe2ImJmEuc2VsZWN0UGFnZShiKX0pfSxjYW5VbmRvOiExLGVkaXRvckZvY3VzOjF9OyhmdW5jdGlvbigpe3ZhciBhPS9eKFthXXxbXmFdKSskLyxiPS9eXFxkKiQvLGM9L15cXGQqKD86XFwuXFxkKyk/JC8sZj0vXigoKFxcZCooXFwuXFxkKykpfChcXGQqKSkocHh8XFwlKT8pPyQvLGQ9L14oKChcXGQqKFxcLlxcZCspKXwoXFxkKikpKHB4fGVtfGV4fGlufGNtfG1tfHB0fHBjfFxcJSk/KT8kL2ksXG5nPS9eKFxccypbXFx3LV0rXFxzKjpcXHMqW146O10rKD86O3wkKSkqJC87Q0tFRElUT1IuVkFMSURBVEVfT1I9MTtDS0VESVRPUi5WQUxJREFURV9BTkQ9MjtDS0VESVRPUi5kaWFsb2cudmFsaWRhdGU9e2Z1bmN0aW9uczpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzJiZ0aGlzLmdldFZhbHVlP3RoaXMuZ2V0VmFsdWUoKTphWzBdLGMsZj1DS0VESVRPUi5WQUxJREFURV9BTkQsZD1bXSxnO2ZvcihnPTA7ZzxhLmxlbmd0aDtnKyspaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYVtnXSlkLnB1c2goYVtnXSk7ZWxzZSBicmVhaztnPGEubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgYVtnXSYmKGM9YVtnXSxnKyspO2c8YS5sZW5ndGgmJlwibnVtYmVyXCI9PXR5cGVvZiBhW2ddJiYoZj1hW2ddKTt2YXIgZT1mPT1DS0VESVRPUi5WQUxJREFURV9BTkQ/ITA6ITE7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKyllPWY9PUNLRURJVE9SLlZBTElEQVRFX0FORD9lJiZcbmRbZ10oYik6ZXx8ZFtnXShiKTtyZXR1cm4gZT8hMDpjfX0scmVnZXg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yz10aGlzJiZ0aGlzLmdldFZhbHVlP3RoaXMuZ2V0VmFsdWUoKTpjO3JldHVybiBhLnRlc3QoYyk/ITA6Yn19LG5vdEVtcHR5OmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlZ2V4KGEsYil9LGludGVnZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVnZXgoYixhKX0sbnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2V4KGMsYSl9LGNzc0xlbmd0aDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYSl7cmV0dXJuIGQudGVzdChDS0VESVRPUi50b29scy50cmltKGEpKX0sYSl9LGh0bWxMZW5ndGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBmLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxpbmxpbmVTdHlsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYSl7cmV0dXJuIGcudGVzdChDS0VESVRPUi50b29scy50cmltKGEpKX0sXG5hKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGIpe3JldHVybiBiPT1hfSxiKX0sbm90RXF1YWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYil7cmV0dXJuIGIhPWF9LGIpfX07Q0tFRElUT1Iub24oXCJpbnN0YW5jZURlc3Ryb3llZFwiLGZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLnRvb2xzLmlzRW1wdHkoQ0tFRElUT1IuaW5zdGFuY2VzKSl7Zm9yKHZhciBiO2I9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcDspYi5oaWRlKCk7Zm9yKHZhciBjIGluIEMpQ1tjXS5yZW1vdmUoKTtDPXt9fWE9YS5lZGl0b3IuXy5zdG9yZWREaWFsb2dzO2Zvcih2YXIgZiBpbiBhKWFbZl0uZGVzdHJveSgpfSl9KSgpO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHtvcGVuRGlhbG9nOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxmPUNLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdO1xubnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AmJnAodGhpcyk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZiljPXRoaXMuXy5zdG9yZWREaWFsb2dzfHwodGhpcy5fLnN0b3JlZERpYWxvZ3M9e30pLGM9Y1thXXx8KGNbYV09bmV3IENLRURJVE9SLmRpYWxvZyh0aGlzLGEpKSxiJiZiLmNhbGwoYyxjKSxjLnNob3coKTtlbHNle2lmKFwiZmFpbGVkXCI9PWYpdGhyb3cgcih0aGlzKSxFcnJvcignW0NLRURJVE9SLmRpYWxvZy5vcGVuRGlhbG9nXSBEaWFsb2cgXCInK2ErJ1wiIGZhaWxlZCB3aGVuIGxvYWRpbmcgZGVmaW5pdGlvbi4nKTtcInN0cmluZ1wiPT10eXBlb2YgZiYmQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGYpLGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiIT10eXBlb2YgQ0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV0mJihDS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXT1cImZhaWxlZFwiKTt0aGlzLm9wZW5EaWFsb2coYSxcbmIpfSx0aGlzLDAsMSl9Q0tFRElUT1Iuc2tpbi5sb2FkUGFydChcImRpYWxvZ1wiKTtyZXR1cm4gY319KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImRpYWxvZ1wiLHtyZXF1aXJlczpcImRpYWxvZ3VpXCIsaW5pdDpmdW5jdGlvbihhKXthLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihlKXtlLmRhdGEuZGlhbG9nJiZhLm9wZW5EaWFsb2coZS5kYXRhLmRpYWxvZyl9LG51bGwsbnVsbCw5OTkpfX0pLGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJhMTF5aGVscFwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGF2YWlsYWJsZUxhbmdzOnthZjoxLGFyOjEsYXo6MSxiZzoxLGNhOjEsY3M6MSxjeToxLGRhOjEsZGU6MSxcImRlLWNoXCI6MSxlbDoxLGVuOjEsXCJlbi1hdVwiOjEsXCJlbi1nYlwiOjEsZW86MSxlczoxLFwiZXMtbXhcIjoxLGV0OjEsZXU6MSxmYToxLGZpOjEsZm86MSxmcjoxLFwiZnItY2FcIjoxLGdsOjEsZ3U6MSxoZToxLGhpOjEsaHI6MSxodToxLGlkOjEsaXQ6MSxqYToxLGttOjEsa286MSxcbmt1OjEsbHQ6MSxsdjoxLG1rOjEsbW46MSxuYjoxLG5sOjEsbm86MSxvYzoxLHBsOjEscHQ6MSxcInB0LWJyXCI6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxzcjoxLFwic3ItbGF0blwiOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSx6aDoxLFwiemgtY25cIjoxfSxpbml0OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXM7YS5hZGRDb21tYW5kKFwiYTExeUhlbHBcIix7ZXhlYzpmdW5jdGlvbigpe3ZhciBiPWEubGFuZ0NvZGUsYj1lLmF2YWlsYWJsZUxhbmdzW2JdP2I6ZS5hdmFpbGFibGVMYW5nc1tiLnJlcGxhY2UoLy0uKi8sXCJcIildP2IucmVwbGFjZSgvLS4qLyxcIlwiKTpcImVuXCI7Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGUucGF0aCtcImRpYWxvZ3MvbGFuZy9cIitiK1wiLmpzXCIpLGZ1bmN0aW9uKCl7YS5sYW5nLmExMXloZWxwPWUubGFuZ0VudHJpZXNbYl07YS5vcGVuRGlhbG9nKFwiYTExeUhlbHBcIil9KX0sbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0sXG5yZWFkT25seToxLGNhblVuZG86ITF9KTthLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrNDgsXCJhMTF5SGVscFwiKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiYTExeUhlbHBcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2ExMXloZWxwLmpzXCIpO2Eub24oXCJhcmlhRWRpdG9ySGVscExhYmVsXCIsZnVuY3Rpb24oYil7Yi5kYXRhLmxhYmVsPWEubGFuZy5jb21tb24uZWRpdG9ySGVscH0pfX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiYWJvdXRcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBlPWEuYWRkQ29tbWFuZChcImFib3V0XCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJhYm91dFwiKSk7ZS5tb2Rlcz17d3lzaXd5ZzoxLHNvdXJjZToxfTtlLmNhblVuZG89ITE7ZS5yZWFkT25seT0xO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIkFib3V0XCIse2xhYmVsOmEubGFuZy5hYm91dC5kbGdUaXRsZSxjb21tYW5kOlwiYWJvdXRcIix0b29sYmFyOlwiYWJvdXRcIn0pO1xuQ0tFRElUT1IuZGlhbG9nLmFkZChcImFib3V0XCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9hYm91dC5qc1wiKX19KSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImJhc2ljc3R5bGVzXCIse2luaXQ6ZnVuY3Rpb24oYSl7dmFyIGU9MCxiPWZ1bmN0aW9uKGIsZCxoLGwpe2lmKGwpe2w9bmV3IENLRURJVE9SLnN0eWxlKGwpO3ZhciBmPWNbaF07Zi51bnNoaWZ0KGwpO2EuYXR0YWNoU3R5bGVTdGF0ZUNoYW5nZShsLGZ1bmN0aW9uKGIpeyFhLnJlYWRPbmx5JiZhLmdldENvbW1hbmQoaCkuc2V0U3RhdGUoYil9KTthLmFkZENvbW1hbmQoaCxuZXcgQ0tFRElUT1Iuc3R5bGVDb21tYW5kKGwse2NvbnRlbnRGb3JtczpmfSkpO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihiLHtsYWJlbDpkLGNvbW1hbmQ6aCx0b29sYmFyOlwiYmFzaWNzdHlsZXMsXCIrKGUrPTEwKX0pfX0sYz17Ym9sZDpbXCJzdHJvbmdcIixcImJcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7YT1hLnN0eWxlc1tcImZvbnQtd2VpZ2h0XCJdO3JldHVyblwiYm9sZFwiPT1cbmF8fDcwMDw9K2F9XV0saXRhbGljOltcImVtXCIsXCJpXCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe3JldHVyblwiaXRhbGljXCI9PWEuc3R5bGVzW1wiZm9udC1zdHlsZVwiXX1dXSx1bmRlcmxpbmU6W1widVwiLFtcInNwYW5cIixmdW5jdGlvbihhKXtyZXR1cm5cInVuZGVybGluZVwiPT1hLnN0eWxlc1tcInRleHQtZGVjb3JhdGlvblwiXX1dXSxzdHJpa2U6W1wic1wiLFwic3RyaWtlXCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe3JldHVyblwibGluZS10aHJvdWdoXCI9PWEuc3R5bGVzW1widGV4dC1kZWNvcmF0aW9uXCJdfV1dLHN1YnNjcmlwdDpbXCJzdWJcIl0sc3VwZXJzY3JpcHQ6W1wic3VwXCJdfSxkPWEuY29uZmlnLGw9YS5sYW5nLmJhc2ljc3R5bGVzO2IoXCJCb2xkXCIsbC5ib2xkLFwiYm9sZFwiLGQuY29yZVN0eWxlc19ib2xkKTtiKFwiSXRhbGljXCIsbC5pdGFsaWMsXCJpdGFsaWNcIixkLmNvcmVTdHlsZXNfaXRhbGljKTtiKFwiVW5kZXJsaW5lXCIsbC51bmRlcmxpbmUsXCJ1bmRlcmxpbmVcIixkLmNvcmVTdHlsZXNfdW5kZXJsaW5lKTtiKFwiU3RyaWtlXCIsXG5sLnN0cmlrZSxcInN0cmlrZVwiLGQuY29yZVN0eWxlc19zdHJpa2UpO2IoXCJTdWJzY3JpcHRcIixsLnN1YnNjcmlwdCxcInN1YnNjcmlwdFwiLGQuY29yZVN0eWxlc19zdWJzY3JpcHQpO2IoXCJTdXBlcnNjcmlwdFwiLGwuc3VwZXJzY3JpcHQsXCJzdXBlcnNjcmlwdFwiLGQuY29yZVN0eWxlc19zdXBlcnNjcmlwdCk7YS5zZXRLZXlzdHJva2UoW1tDS0VESVRPUi5DVFJMKzY2LFwiYm9sZFwiXSxbQ0tFRElUT1IuQ1RSTCs3MyxcIml0YWxpY1wiXSxbQ0tFRElUT1IuQ1RSTCs4NSxcInVuZGVybGluZVwiXV0pfX0pLENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX2JvbGQ9e2VsZW1lbnQ6XCJzdHJvbmdcIixvdmVycmlkZXM6XCJiXCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX2l0YWxpYz17ZWxlbWVudDpcImVtXCIsb3ZlcnJpZGVzOlwiaVwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc191bmRlcmxpbmU9e2VsZW1lbnQ6XCJ1XCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N0cmlrZT17ZWxlbWVudDpcInNcIixcbm92ZXJyaWRlczpcInN0cmlrZVwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdWJzY3JpcHQ9e2VsZW1lbnQ6XCJzdWJcIn0sQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfc3VwZXJzY3JpcHQ9e2VsZW1lbnQ6XCJzdXBcIn0sZnVuY3Rpb24oKXt2YXIgYT17ZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmdldENvbW1hbmQoXCJibG9ja3F1b3RlXCIpLnN0YXRlLGM9YS5nZXRTZWxlY3Rpb24oKSxkPWMmJmMuZ2V0UmFuZ2VzKClbMF07aWYoZCl7dmFyIGw9Yy5jcmVhdGVCb29rbWFya3MoKTtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBrPWxbMF0uc3RhcnROb2RlLGc9bFswXS5lbmROb2RlLGg7aWYoayYmXCJibG9ja3F1b3RlXCI9PWsuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpKWZvcihoPWs7aD1oLmdldE5leHQoKTspaWYoaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguaXNCbG9ja0JvdW5kYXJ5KCkpe2subW92ZShoLCEwKTticmVha31pZihnJiZcImJsb2NrcXVvdGVcIj09Zy5nZXRQYXJlbnQoKS5nZXROYW1lKCkpZm9yKGg9XG5nO2g9aC5nZXRQcmV2aW91cygpOylpZihoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmaC5pc0Jsb2NrQm91bmRhcnkoKSl7Zy5tb3ZlKGgpO2JyZWFrfX12YXIgbT1kLmNyZWF0ZUl0ZXJhdG9yKCk7bS5lbmxhcmdlQnI9YS5jb25maWcuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUjtpZihiPT1DS0VESVRPUi5UUklTVEFURV9PRkYpe2ZvcihrPVtdO2I9bS5nZXROZXh0UGFyYWdyYXBoKCk7KWsucHVzaChiKTsxPmsubGVuZ3RoJiYoYj1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLGc9bC5zaGlmdCgpLGQuaW5zZXJ0Tm9kZShiKSxiLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoXCLvu79cIixhLmRvY3VtZW50KSksZC5tb3ZlVG9Cb29rbWFyayhnKSxkLnNlbGVjdE5vZGVDb250ZW50cyhiKSxkLmNvbGxhcHNlKCEwKSxnPWQuY3JlYXRlQm9va21hcmsoKSxrLnB1c2goYiksbC51bnNoaWZ0KGcpKTtcbmg9a1swXS5nZXRQYXJlbnQoKTtkPVtdO2ZvcihnPTA7ZzxrLmxlbmd0aDtnKyspYj1rW2ddLGg9aC5nZXRDb21tb25BbmNlc3RvcihiLmdldFBhcmVudCgpKTtmb3IoYj17dGFibGU6MSx0Ym9keToxLHRyOjEsb2w6MSx1bDoxfTtiW2guZ2V0TmFtZSgpXTspaD1oLmdldFBhcmVudCgpO2ZvcihnPW51bGw7MDxrLmxlbmd0aDspe2ZvcihiPWsuc2hpZnQoKTshYi5nZXRQYXJlbnQoKS5lcXVhbHMoaCk7KWI9Yi5nZXRQYXJlbnQoKTtiLmVxdWFscyhnKXx8ZC5wdXNoKGIpO2c9Yn1mb3IoOzA8ZC5sZW5ndGg7KWlmKGI9ZC5zaGlmdCgpLFwiYmxvY2txdW90ZVwiPT1iLmdldE5hbWUoKSl7Zm9yKGc9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZG9jdW1lbnQpO2IuZ2V0Rmlyc3QoKTspZy5hcHBlbmQoYi5nZXRGaXJzdCgpLnJlbW92ZSgpKSxrLnB1c2goZy5nZXRMYXN0KCkpO2cucmVwbGFjZShiKX1lbHNlIGsucHVzaChiKTtkPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJsb2NrcXVvdGVcIik7XG5mb3IoZC5pbnNlcnRCZWZvcmUoa1swXSk7MDxrLmxlbmd0aDspYj1rLnNoaWZ0KCksZC5hcHBlbmQoYil9ZWxzZSBpZihiPT1DS0VESVRPUi5UUklTVEFURV9PTil7Zz1bXTtmb3IoaD17fTtiPW0uZ2V0TmV4dFBhcmFncmFwaCgpOyl7Zm9yKGs9ZD1udWxsO2IuZ2V0UGFyZW50KCk7KXtpZihcImJsb2NrcXVvdGVcIj09Yi5nZXRQYXJlbnQoKS5nZXROYW1lKCkpe2Q9Yi5nZXRQYXJlbnQoKTtrPWI7YnJlYWt9Yj1iLmdldFBhcmVudCgpfWQmJmsmJiFrLmdldEN1c3RvbURhdGEoXCJibG9ja3F1b3RlX21vdmVvdXRcIikmJihnLnB1c2goayksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGgsayxcImJsb2NrcXVvdGVfbW92ZW91dFwiLCEwKSl9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGgpO2I9W107az1bXTtmb3IoaD17fTswPGcubGVuZ3RoOyltPWcuc2hpZnQoKSxkPW0uZ2V0UGFyZW50KCksbS5nZXRQcmV2aW91cygpP20uZ2V0TmV4dCgpPyhtLmJyZWFrUGFyZW50KG0uZ2V0UGFyZW50KCkpLFxuay5wdXNoKG0uZ2V0TmV4dCgpKSk6bS5yZW1vdmUoKS5pbnNlcnRBZnRlcihkKTptLnJlbW92ZSgpLmluc2VydEJlZm9yZShkKSxkLmdldEN1c3RvbURhdGEoXCJibG9ja3F1b3RlX3Byb2Nlc3NlZFwiKXx8KGsucHVzaChkKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoaCxkLFwiYmxvY2txdW90ZV9wcm9jZXNzZWRcIiwhMCkpLGIucHVzaChtKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoaCk7Zm9yKGc9ay5sZW5ndGgtMTswPD1nO2ctLSl7ZD1rW2ddO2E6e2g9ZDtmb3IodmFyIG09MCxmPWguZ2V0Q2hpbGRDb3VudCgpLG49dm9pZCAwO208ZiYmKG49aC5nZXRDaGlsZChtKSk7bSsrKWlmKG4udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZuLmlzQmxvY2tCb3VuZGFyeSgpKXtoPSExO2JyZWFrIGF9aD0hMH1oJiZkLnJlbW92ZSgpfWlmKGEuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlIpZm9yKGQ9ITA7Yi5sZW5ndGg7KWlmKG09Yi5zaGlmdCgpLFxuXCJkaXZcIj09bS5nZXROYW1lKCkpe2c9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZG9jdW1lbnQpOyFkfHwhbS5nZXRQcmV2aW91cygpfHxtLmdldFByZXZpb3VzKCkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZtLmdldFByZXZpb3VzKCkuaXNCbG9ja0JvdW5kYXJ5KCl8fGcuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtmb3IoZD1tLmdldE5leHQoKSYmIShtLmdldE5leHQoKS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJm0uZ2V0TmV4dCgpLmlzQmxvY2tCb3VuZGFyeSgpKTttLmdldEZpcnN0KCk7KW0uZ2V0Rmlyc3QoKS5yZW1vdmUoKS5hcHBlbmRUbyhnKTtkJiZnLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7Zy5yZXBsYWNlKG0pO2Q9ITF9fWMuc2VsZWN0Qm9va21hcmtzKGwpO2EuZm9jdXMoKX19LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFN0YXRlKGEuZWxlbWVudFBhdGgoYi5ibG9ja3x8XG5iLmJsb2NrTGltaXQpLmNvbnRhaW5zKFwiYmxvY2txdW90ZVwiLDEpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRil9LGNvbnRleHQ6XCJibG9ja3F1b3RlXCIsYWxsb3dlZENvbnRlbnQ6XCJibG9ja3F1b3RlXCIscmVxdWlyZWRDb250ZW50OlwiYmxvY2txdW90ZVwifTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImJsb2NrcXVvdGVcIix7aW5pdDpmdW5jdGlvbihlKXtlLmJsb2NrbGVzc3x8KGUuYWRkQ29tbWFuZChcImJsb2NrcXVvdGVcIixhKSxlLnVpLmFkZEJ1dHRvbiYmZS51aS5hZGRCdXR0b24oXCJCbG9ja3F1b3RlXCIse2xhYmVsOmUubGFuZy5ibG9ja3F1b3RlLnRvb2xiYXIsY29tbWFuZDpcImJsb2NrcXVvdGVcIix0b29sYmFyOlwiYmxvY2tzLDEwXCJ9KSl9fSl9KCksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYyx7ZWRpdG9yOmEsaWQ6XCJja2UtXCIrQ0tFRElUT1IudG9vbHMuZ2V0VW5pcXVlSWQoKSxcbmFyZWE6YS5fLm5vdGlmaWNhdGlvbkFyZWF9KTtjLnR5cGV8fCh0aGlzLnR5cGU9XCJpbmZvXCIpO3RoaXMuZWxlbWVudD10aGlzLl9jcmVhdGVFbGVtZW50KCk7YS5wbHVnaW5zLmNsaXBib2FyZCYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KHRoaXMuZWxlbWVudCl9ZnVuY3Rpb24gZShhKXt2YXIgYz10aGlzO3RoaXMuZWRpdG9yPWE7dGhpcy5ub3RpZmljYXRpb25zPVtdO3RoaXMuZWxlbWVudD10aGlzLl9jcmVhdGVFbGVtZW50KCk7dGhpcy5fdWlCdWZmZXI9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDEwLHRoaXMuX2xheW91dCx0aGlzKTt0aGlzLl9jaGFuZ2VCdWZmZXI9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDUwMCx0aGlzLl9sYXlvdXQsdGhpcyk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2MuX3JlbW92ZUxpc3RlbmVycygpO2MuZWxlbWVudC5yZW1vdmUoKX0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibm90aWZpY2F0aW9uXCIsXG57aW5pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtiLnNldFN0eWxlcyh7cG9zaXRpb246XCJmaXhlZFwiLFwibWFyZ2luLWxlZnRcIjpcIi05OTk5cHhcIn0pO2Iuc2V0QXR0cmlidXRlcyh7XCJhcmlhLWxpdmVcIjpcImFzc2VydGl2ZVwiLFwiYXJpYS1hdG9taWNcIjpcInRydWVcIn0pO2Iuc2V0VGV4dChhKTtDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKGIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnJlbW92ZSgpfSwxMDApfWEuXy5ub3RpZmljYXRpb25BcmVhPW5ldyBlKGEpO2Euc2hvd05vdGlmaWNhdGlvbj1mdW5jdGlvbihjLGUsayl7dmFyIGcsaDtcInByb2dyZXNzXCI9PWU/Zz1rOmg9aztjPW5ldyBDS0VESVRPUi5wbHVnaW5zLm5vdGlmaWNhdGlvbihhLHttZXNzYWdlOmMsdHlwZTplLHByb2dyZXNzOmcsZHVyYXRpb246aH0pO2Muc2hvdygpO3JldHVybiBjfTthLm9uKFwia2V5XCIsZnVuY3Rpb24oZCl7aWYoMjc9PVxuZC5kYXRhLmtleUNvZGUpe3ZhciBlPWEuXy5ub3RpZmljYXRpb25BcmVhLm5vdGlmaWNhdGlvbnM7ZS5sZW5ndGgmJihjKGEubGFuZy5ub3RpZmljYXRpb24uY2xvc2VkKSxlW2UubGVuZ3RoLTFdLmhpZGUoKSxkLmNhbmNlbCgpKX19KX19KTthLnByb3RvdHlwZT17c2hvdzpmdW5jdGlvbigpeyExIT09dGhpcy5lZGl0b3IuZmlyZShcIm5vdGlmaWNhdGlvblNob3dcIix7bm90aWZpY2F0aW9uOnRoaXN9KSYmKHRoaXMuYXJlYS5hZGQodGhpcyksdGhpcy5faGlkZUFmdGVyVGltZW91dCgpKX0sdXBkYXRlOmZ1bmN0aW9uKGEpe3ZhciBjPSEwOyExPT09dGhpcy5lZGl0b3IuZmlyZShcIm5vdGlmaWNhdGlvblVwZGF0ZVwiLHtub3RpZmljYXRpb246dGhpcyxvcHRpb25zOmF9KSYmKGM9ITEpO3ZhciBkPXRoaXMuZWxlbWVudCxlPWQuZmluZE9uZShcIi5ja2Vfbm90aWZpY2F0aW9uX21lc3NhZ2VcIiksaz1kLmZpbmRPbmUoXCIuY2tlX25vdGlmaWNhdGlvbl9wcm9ncmVzc1wiKSxnPWEudHlwZTtkLnJlbW92ZUF0dHJpYnV0ZShcInJvbGVcIik7XG5hLnByb2dyZXNzJiZcInByb2dyZXNzXCIhPXRoaXMudHlwZSYmKGc9XCJwcm9ncmVzc1wiKTtnJiYoZC5yZW1vdmVDbGFzcyh0aGlzLl9nZXRDbGFzcygpKSxkLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiksdGhpcy50eXBlPWcsZC5hZGRDbGFzcyh0aGlzLl9nZXRDbGFzcygpKSxkLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0aGlzLnR5cGUpLFwicHJvZ3Jlc3NcIiE9dGhpcy50eXBlfHxrP1wicHJvZ3Jlc3NcIiE9dGhpcy50eXBlJiZrJiZrLnJlbW92ZSgpOihrPXRoaXMuX2NyZWF0ZVByb2dyZXNzRWxlbWVudCgpLGsuaW5zZXJ0QmVmb3JlKGUpKSk7dm9pZCAwIT09YS5tZXNzYWdlJiYodGhpcy5tZXNzYWdlPWEubWVzc2FnZSxlLnNldEh0bWwodGhpcy5tZXNzYWdlKSk7dm9pZCAwIT09YS5wcm9ncmVzcyYmKHRoaXMucHJvZ3Jlc3M9YS5wcm9ncmVzcyxrJiZrLnNldFN0eWxlKFwid2lkdGhcIix0aGlzLl9nZXRQZXJjZW50YWdlUHJvZ3Jlc3MoKSkpO2MmJmEuaW1wb3J0YW50JiYoZC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXG5cImFsZXJ0XCIpLHRoaXMuaXNWaXNpYmxlKCl8fHRoaXMuYXJlYS5hZGQodGhpcykpO3RoaXMuZHVyYXRpb249YS5kdXJhdGlvbjt0aGlzLl9oaWRlQWZ0ZXJUaW1lb3V0KCl9LGhpZGU6ZnVuY3Rpb24oKXshMSE9PXRoaXMuZWRpdG9yLmZpcmUoXCJub3RpZmljYXRpb25IaWRlXCIse25vdGlmaWNhdGlvbjp0aGlzfSkmJnRoaXMuYXJlYS5yZW1vdmUodGhpcyl9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiAwPD1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMuYXJlYS5ub3RpZmljYXRpb25zLHRoaXMpfSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYyxkLGU9dGhpcy5lZGl0b3IubGFuZy5jb21tb24uY2xvc2U7Yz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7Yy5hZGRDbGFzcyhcImNrZV9ub3RpZmljYXRpb25cIik7Yy5hZGRDbGFzcyh0aGlzLl9nZXRDbGFzcygpKTtjLnNldEF0dHJpYnV0ZXMoe2lkOnRoaXMuaWQscm9sZTpcImFsZXJ0XCIsXCJhcmlhLWxhYmVsXCI6dGhpcy50eXBlfSk7XG5cInByb2dyZXNzXCI9PXRoaXMudHlwZSYmYy5hcHBlbmQodGhpcy5fY3JlYXRlUHJvZ3Jlc3NFbGVtZW50KCkpO2Q9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwicFwiKTtkLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvbl9tZXNzYWdlXCIpO2Quc2V0SHRtbCh0aGlzLm1lc3NhZ2UpO2MuYXBwZW5kKGQpO2Q9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjYSBjbGFzc1xceDNkXCJja2Vfbm90aWZpY2F0aW9uX2Nsb3NlXCIgaHJlZlxceDNkXCJqYXZhc2NyaXB0OnZvaWQoMClcIiB0aXRsZVxceDNkXCInK2UrJ1wiIHJvbGVcXHgzZFwiYnV0dG9uXCIgdGFiaW5kZXhcXHgzZFwiLTFcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9sYWJlbFwiXFx4M2VYXFx4M2Mvc3BhblxceDNlXFx4M2MvYVxceDNlJyk7Yy5hcHBlbmQoZCk7ZC5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXthLmVkaXRvci5mb2N1cygpO2EuaGlkZSgpfSk7cmV0dXJuIGN9LF9nZXRDbGFzczpmdW5jdGlvbigpe3JldHVyblwicHJvZ3Jlc3NcIj09XG50aGlzLnR5cGU/XCJja2Vfbm90aWZpY2F0aW9uX2luZm9cIjpcImNrZV9ub3RpZmljYXRpb25fXCIrdGhpcy50eXBlfSxfY3JlYXRlUHJvZ3Jlc3NFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKTthLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvbl9wcm9ncmVzc1wiKTthLnNldFN0eWxlKFwid2lkdGhcIix0aGlzLl9nZXRQZXJjZW50YWdlUHJvZ3Jlc3MoKSk7cmV0dXJuIGF9LF9nZXRQZXJjZW50YWdlUHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgxMDAqKHRoaXMucHJvZ3Jlc3N8fDApKStcIiVcIn0sX2hpZGVBZnRlclRpbWVvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGM7dGhpcy5faGlkZVRpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0SWQpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmR1cmF0aW9uKWM9dGhpcy5kdXJhdGlvbjtlbHNlIGlmKFwiaW5mb1wiPT10aGlzLnR5cGV8fFwic3VjY2Vzc1wiPT1cbnRoaXMudHlwZSljPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmVkaXRvci5jb25maWcubm90aWZpY2F0aW9uX2R1cmF0aW9uP3RoaXMuZWRpdG9yLmNvbmZpZy5ub3RpZmljYXRpb25fZHVyYXRpb246NUUzO2MmJihhLl9oaWRlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmhpZGUoKX0sYykpfX07ZS5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhKXt0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChhKTt0aGlzLmVsZW1lbnQuYXBwZW5kKGEuZWxlbWVudCk7MT09dGhpcy5lbGVtZW50LmdldENoaWxkQ291bnQoKSYmKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQodGhpcy5lbGVtZW50KSx0aGlzLl9hdHRhY2hMaXN0ZW5lcnMoKSk7dGhpcy5fbGF5b3V0KCl9LHJlbW92ZTpmdW5jdGlvbihhKXt2YXIgYz1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMubm90aWZpY2F0aW9ucyxhKTswPmN8fCh0aGlzLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGMsMSksYS5lbGVtZW50LnJlbW92ZSgpLFxudGhpcy5lbGVtZW50LmdldENoaWxkQ291bnQoKXx8KHRoaXMuX3JlbW92ZUxpc3RlbmVycygpLHRoaXMuZWxlbWVudC5yZW1vdmUoKSkpfSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLGM9YS5jb25maWcsZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7ZC5hZGRDbGFzcyhcImNrZV9ub3RpZmljYXRpb25zX2FyZWFcIik7ZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwiY2tlX25vdGlmaWNhdGlvbnNfYXJlYV9cIithLm5hbWUpO2Quc2V0U3R5bGUoXCJ6LWluZGV4XCIsYy5iYXNlRmxvYXRaSW5kZXgtMik7cmV0dXJuIGR9LF9hdHRhY2hMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxjPXRoaXMuZWRpdG9yO2Eub24oXCJzY3JvbGxcIix0aGlzLl91aUJ1ZmZlci5pbnB1dCk7YS5vbihcInJlc2l6ZVwiLHRoaXMuX3VpQnVmZmVyLmlucHV0KTtjLm9uKFwiY2hhbmdlXCIsdGhpcy5fY2hhbmdlQnVmZmVyLmlucHV0KTtcbmMub24oXCJmbG9hdGluZ1NwYWNlTGF5b3V0XCIsdGhpcy5fbGF5b3V0LHRoaXMsbnVsbCwyMCk7Yy5vbihcImJsdXJcIix0aGlzLl9sYXlvdXQsdGhpcyxudWxsLDIwKX0sX3JlbW92ZUxpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLGM9dGhpcy5lZGl0b3I7YS5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX3VpQnVmZmVyLmlucHV0KTthLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fdWlCdWZmZXIuaW5wdXQpO2MucmVtb3ZlTGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLl9jaGFuZ2VCdWZmZXIuaW5wdXQpO2MucmVtb3ZlTGlzdGVuZXIoXCJmbG9hdGluZ1NwYWNlTGF5b3V0XCIsdGhpcy5fbGF5b3V0KTtjLnJlbW92ZUxpc3RlbmVyKFwiYmx1clwiLHRoaXMuX2xheW91dCl9LF9sYXlvdXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Yy5zZXRTdHlsZShcImxlZnRcIix0KHUrZS53aWR0aC1uLXApKX12YXIgYz10aGlzLmVsZW1lbnQsZD1cbnRoaXMuZWRpdG9yLGU9ZC51aS5jb250ZW50c0VsZW1lbnQuZ2V0Q2xpZW50UmVjdCgpLGs9ZC51aS5jb250ZW50c0VsZW1lbnQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLGcsaCxtPWMuZ2V0Q2xpZW50UmVjdCgpLGYsbj10aGlzLl9ub3RpZmljYXRpb25XaWR0aCxwPXRoaXMuX25vdGlmaWNhdGlvbk1hcmdpbjtmPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpO3ZhciByPWYuZ2V0U2Nyb2xsUG9zaXRpb24oKSx2PWYuZ2V0Vmlld1BhbmVTaXplKCkseD1DS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkscT14LmdldERvY3VtZW50UG9zaXRpb24oKSx0PUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aDtuJiZwfHwoZj10aGlzLmVsZW1lbnQuZ2V0Q2hpbGQoMCksbj10aGlzLl9ub3RpZmljYXRpb25XaWR0aD1mLmdldENsaWVudFJlY3QoKS53aWR0aCxwPXRoaXMuX25vdGlmaWNhdGlvbk1hcmdpbj1wYXJzZUludChmLmdldENvbXB1dGVkU3R5bGUoXCJtYXJnaW4tbGVmdFwiKSwxMCkrcGFyc2VJbnQoZi5nZXRDb21wdXRlZFN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpLFxuMTApKTtkLnRvb2xiYXImJihnPWQudWkuc3BhY2UoXCJ0b3BcIiksaD1nLmdldENsaWVudFJlY3QoKSk7ZyYmZy5pc1Zpc2libGUoKSYmaC5ib3R0b20+ZS50b3AmJmguYm90dG9tPGUuYm90dG9tLW0uaGVpZ2h0P2Muc2V0U3R5bGVzKHtwb3NpdGlvbjpcImZpeGVkXCIsdG9wOnQoaC5ib3R0b20pfSk6MDxlLnRvcD9jLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDp0KGsueSl9KTprLnkrZS5oZWlnaHQtbS5oZWlnaHQ+ci55P2Muc2V0U3R5bGVzKHtwb3NpdGlvbjpcImZpeGVkXCIsdG9wOjB9KTpjLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDp0KGsueStlLmhlaWdodC1tLmhlaWdodCl9KTt2YXIgdT1cImZpeGVkXCI9PWMuZ2V0U3R5bGUoXCJwb3NpdGlvblwiKT9lLmxlZnQ6XCJzdGF0aWNcIiE9eC5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik/ay54LXEueDprLng7ZS53aWR0aDxuK3A/ay54K24rcD5yLngrdi53aWR0aD9hKCk6Yy5zZXRTdHlsZShcImxlZnRcIixcbnQodSkpOmsueCtuK3A+ci54K3Yud2lkdGg/Yy5zZXRTdHlsZShcImxlZnRcIix0KHUpKTprLngrZS53aWR0aC8yK24vMitwPnIueCt2LndpZHRoP2Muc2V0U3R5bGUoXCJsZWZ0XCIsdCh1LWsueCtyLngrdi53aWR0aC1uLXApKTowPmUubGVmdCtlLndpZHRoLW4tcD9hKCk6MD5lLmxlZnQrZS53aWR0aC8yLW4vMj9jLnNldFN0eWxlKFwibGVmdFwiLHQodS1rLngrci54KSk6Yy5zZXRTdHlsZShcImxlZnRcIix0KHUrZS53aWR0aC8yLW4vMi1wLzIpKX19O0NLRURJVE9SLnBsdWdpbnMubm90aWZpY2F0aW9uPWF9KCksZnVuY3Rpb24oKXt2YXIgYT0nXFx4M2NhIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfYnV0dG9uIGNrZV9idXR0b25fX3tuYW1lfSBja2VfYnV0dG9uX3tzdGF0ZX0ge2Nsc31cIicrKENLRURJVE9SLmVudi5nZWNrbyYmIUNLRURJVE9SLmVudi5oYz9cIlwiOlwiIGhyZWZcXHgzZFxcXCJqYXZhc2NyaXB0OnZvaWQoJ3t0aXRsZUpzfScpXFxcIlwiKSsnIHRpdGxlXFx4M2RcInt0aXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJidXR0b25cIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwie2lkfV9sYWJlbFwiIGFyaWEtZGVzY3JpYmVkYnlcXHgzZFwie2lkfV9kZXNjcmlwdGlvblwiIGFyaWEtaGFzcG9wdXBcXHgzZFwie2hhc0Fycm93fVwiIGFyaWEtZGlzYWJsZWRcXHgzZFwie2FyaWFEaXNhYmxlZH1cIic7XG5DS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihhKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoYSs9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBhPWErKCcgb25rZXlkb3duXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2tleWRvd25Gbn0sZXZlbnQpO1wiIG9uZm9jdXNcXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Zm9jdXNGbn0sZXZlbnQpO1wiICcrKENLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIikrJ1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHRoaXMpO3JldHVybiBmYWxzZTtcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9idXR0b25faWNvbiBja2VfYnV0dG9uX197aWNvbk5hbWV9X2ljb25cIiBzdHlsZVxceDNkXCJ7c3R5bGV9XCInKSxcbmE9YSsnXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1fbGFiZWxcIiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2xhYmVsIGNrZV9idXR0b25fX3tuYW1lfV9sYWJlbFwiIGFyaWEtaGlkZGVuXFx4M2RcImZhbHNlXCJcXHgzZXtsYWJlbH1cXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9kZXNjcmlwdGlvblwiIGNsYXNzXFx4M2RcImNrZV9idXR0b25fbGFiZWxcIiBhcmlhLWhpZGRlblxceDNkXCJmYWxzZVwiXFx4M2V7YXJpYVNob3J0Y3V0fVxceDNjL3NwYW5cXHgzZXthcnJvd0h0bWx9XFx4M2MvYVxceDNlJyxlPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwiYnV0dG9uQXJyb3dcIiwnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9idXR0b25fYXJyb3dcIlxceDNlJysoQ0tFRElUT1IuZW52LmhjP1wiXFx4MjYjOTY2MDtcIjpcIlwiKStcIlxceDNjL3NwYW5cXHgzZVwiKSxiPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwiYnV0dG9uXCIsYSk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJidXR0b25cIix7YmVmb3JlSW5pdDpmdW5jdGlvbihhKXthLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfQlVUVE9OLFxuQ0tFRElUT1IudWkuYnV0dG9uLmhhbmRsZXIpfX0pO0NLRURJVE9SLlVJX0JVVFRPTj1cImJ1dHRvblwiO0NLRURJVE9SLnVpLmJ1dHRvbj1mdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxhLHt0aXRsZTphLmxhYmVsLGNsaWNrOmEuY2xpY2t8fGZ1bmN0aW9uKGIpe2IuZXhlY0NvbW1hbmQoYS5jb21tYW5kKX19KTt0aGlzLl89e319O0NLRURJVE9SLnVpLmJ1dHRvbi5oYW5kbGVyPXtjcmVhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5idXR0b24oYSl9fTtDS0VESVRPUi51aS5idXR0b24ucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBsKCl7dmFyIGI9YS5tb2RlO2ImJihiPXRoaXMubW9kZXNbYl0/dm9pZCAwIT09a1tiXT9rW2JdOkNLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxiPWEucmVhZE9ubHkmJiF0aGlzLnJlYWRPbmx5P0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOlxuYix0aGlzLnNldFN0YXRlKGIpLHRoaXMucmVmcmVzaCYmdGhpcy5yZWZyZXNoKCkpfXZhciBrPW51bGwsZz1DS0VESVRPUi5lbnYsaD10aGlzLl8uaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksbT1cIlwiLGY9dGhpcy5jb21tYW5kLG4scCxyO3RoaXMuXy5lZGl0b3I9YTt2YXIgdj17aWQ6aCxidXR0b246dGhpcyxlZGl0b3I6YSxmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoaCkuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKGEpfSxhdHRhY2g6ZnVuY3Rpb24oYSl7dGhpcy5idXR0b24uYXR0YWNoKGEpfX0seD1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXtpZih2Lm9ua2V5KXJldHVybiBhPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSksITEhPT12Lm9ua2V5KHYsYS5nZXRLZXlzdHJva2UoKSl9KSxxPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe3ZhciBiO3Yub25mb2N1cyYmXG4oYj0hMSE9PXYub25mb2N1cyh2LG5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSkpKTtyZXR1cm4gYn0pLHQ9MDt2LmNsaWNrRm49bj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3QmJihhLnVubG9ja1NlbGVjdGlvbigxKSx0PTApO3YuZXhlY3V0ZSgpO2cuaU9TJiZhLmZvY3VzKCl9KTt0aGlzLm1vZGVzPyhrPXt9LGEub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oKXthLm1vZGUmJnRoaXMuXy5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJihrW2EubW9kZV09dGhpcy5fLnN0YXRlKX0sdGhpcyksYS5vbihcImFjdGl2ZUZpbHRlckNoYW5nZVwiLGwsdGhpcyksYS5vbihcIm1vZGVcIixsLHRoaXMpLCF0aGlzLnJlYWRPbmx5JiZhLm9uKFwicmVhZE9ubHlcIixsLHRoaXMpKTpmJiYoZj1hLmdldENvbW1hbmQoZikpJiYoZi5vbihcInN0YXRlXCIsZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKGYuc3RhdGUpfSx0aGlzKSxtKz1mLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTj9cblwib25cIjpmLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9cImRpc2FibGVkXCI6XCJvZmZcIik7dmFyIHU7aWYodGhpcy5kaXJlY3Rpb25hbClhLm9uKFwiY29udGVudERpckNoYW5nZWRcIixmdW5jdGlvbihiKXt2YXIgZj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCksZD1mLmdldEZpcnN0KCk7Yj1iLmRhdGE7YiE9YS5sYW5nLmRpcj9mLmFkZENsYXNzKFwiY2tlX1wiK2IpOmYucmVtb3ZlQ2xhc3MoXCJja2VfbHRyXCIpLnJlbW92ZUNsYXNzKFwiY2tlX3J0bFwiKTtkLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsQ0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUodSxcInJ0bFwiPT1iLHRoaXMuaWNvbix0aGlzLmljb25PZmZzZXQpKX0sdGhpcyk7Zj8ocD1hLmdldENvbW1hbmRLZXlzdHJva2UoZikpJiYocj1DS0VESVRPUi50b29scy5rZXlzdHJva2VUb1N0cmluZyhhLmxhbmcuY29tbW9uLmtleWJvYXJkLHApKTptKz1cIm9mZlwiO3A9dGhpcy5uYW1lfHx0aGlzLmNvbW1hbmQ7dmFyIEE9XG5udWxsLHo9dGhpcy5pY29uO3U9cDt0aGlzLmljb24mJiEvXFwuLy50ZXN0KHRoaXMuaWNvbik/KHU9dGhpcy5pY29uLHo9bnVsbCk6KHRoaXMuaWNvbiYmKEE9dGhpcy5pY29uKSxDS0VESVRPUi5lbnYuaGlkcGkmJnRoaXMuaWNvbkhpRHBpJiYoQT10aGlzLmljb25IaURwaSkpO0E/KENLRURJVE9SLnNraW4uYWRkSWNvbihBLEEpLHo9bnVsbCk6QT11O209e2lkOmgsbmFtZTpwLGljb25OYW1lOnUsbGFiZWw6dGhpcy5sYWJlbCxjbHM6dGhpcy5jbGFzc05hbWV8fFwiXCIsc3RhdGU6bSxhcmlhRGlzYWJsZWQ6XCJkaXNhYmxlZFwiPT1tP1widHJ1ZVwiOlwiZmFsc2VcIix0aXRsZTp0aGlzLnRpdGxlKyhyP1wiIChcIityLmRpc3BsYXkrXCIpXCI6XCJcIiksYXJpYVNob3J0Y3V0OnI/YS5sYW5nLmNvbW1vbi5rZXlib2FyZFNob3J0Y3V0K1wiIFwiK3IuYXJpYTpcIlwiLHRpdGxlSnM6Zy5nZWNrbyYmIWcuaGM/XCJcIjoodGhpcy50aXRsZXx8XCJcIikucmVwbGFjZShcIidcIixcIlwiKSxoYXNBcnJvdzp0aGlzLmhhc0Fycm93P1widHJ1ZVwiOlxuXCJmYWxzZVwiLGtleWRvd25Gbjp4LGZvY3VzRm46cSxjbGlja0ZuOm4sc3R5bGU6Q0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUoQSxcInJ0bFwiPT1hLmxhbmcuZGlyLHosdGhpcy5pY29uT2Zmc2V0KSxhcnJvd0h0bWw6dGhpcy5oYXNBcnJvdz9lLm91dHB1dCgpOlwiXCJ9O2Iub3V0cHV0KG0sZCk7aWYodGhpcy5vblJlbmRlcil0aGlzLm9uUmVuZGVyKCk7cmV0dXJuIHZ9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdGF0ZT09YSlyZXR1cm4hMTt0aGlzLl8uc3RhdGU9YTt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCk7cmV0dXJuIGI/KGIuc2V0U3RhdGUoYSxcImNrZV9idXR0b25cIiksYT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApOmIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKSx0aGlzLmhhc0Fycm93PyhhPWE9PUNLRURJVE9SLlRSSVNUQVRFX09OP3RoaXMuXy5lZGl0b3IubGFuZy5idXR0b24uc2VsZWN0ZWRMYWJlbC5yZXBsYWNlKC8lMS9nLFxudGhpcy5sYWJlbCk6dGhpcy5sYWJlbCxDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCtcIl9sYWJlbFwiKS5zZXRUZXh0KGEpKTphPT1DS0VESVRPUi5UUklTVEFURV9PTj9iLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCEwKTpiLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiKSwhMCk6ITF9LGdldFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zdGF0ZX0sdG9GZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5mZWF0dXJlKXJldHVybiB0aGlzLl8uZmVhdHVyZTt2YXIgYj10aGlzO3RoaXMuYWxsb3dlZENvbnRlbnR8fHRoaXMucmVxdWlyZWRDb250ZW50fHwhdGhpcy5jb21tYW5kfHwoYj1hLmdldENvbW1hbmQodGhpcy5jb21tYW5kKXx8Yik7cmV0dXJuIHRoaXMuXy5mZWF0dXJlPWJ9fTtDS0VESVRPUi51aS5wcm90b3R5cGUuYWRkQnV0dG9uPWZ1bmN0aW9uKGEsYil7dGhpcy5hZGQoYSxDS0VESVRPUi5VSV9CVVRUT04sYil9fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtmdW5jdGlvbiBiKCl7Zm9yKHZhciBmPVxuYygpLGg9Q0tFRElUT1IudG9vbHMuY2xvbmUoYS5jb25maWcudG9vbGJhckdyb3Vwcyl8fGUoYSksbT0wO208aC5sZW5ndGg7bSsrKXt2YXIgbD1oW21dO2lmKFwiL1wiIT1sKXtcInN0cmluZ1wiPT10eXBlb2YgbCYmKGw9aFttXT17bmFtZTpsfSk7dmFyIHgscT1sLmdyb3VwcztpZihxKWZvcih2YXIgdD0wO3Q8cS5sZW5ndGg7dCsrKXg9cVt0XSwoeD1mW3hdKSYmZyhsLHgpOyh4PWZbbC5uYW1lXSkmJmcobCx4KX19cmV0dXJuIGh9ZnVuY3Rpb24gYygpe3ZhciBiPXt9LGYsZyxlO2ZvcihmIGluIGEudWkuaXRlbXMpZz1hLnVpLml0ZW1zW2ZdLGU9Zy50b29sYmFyfHxcIm90aGVyc1wiLGU9ZS5zcGxpdChcIixcIiksZz1lWzBdLGU9cGFyc2VJbnQoZVsxXXx8LTEsMTApLGJbZ118fChiW2ddPVtdKSxiW2ddLnB1c2goe25hbWU6ZixvcmRlcjplfSk7Zm9yKGcgaW4gYiliW2ddPWJbZ10uc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLm9yZGVyPT1iLm9yZGVyPzA6MD5iLm9yZGVyPy0xOjA+YS5vcmRlcj9cbjE6YS5vcmRlcjxiLm9yZGVyPy0xOjF9KTtyZXR1cm4gYn1mdW5jdGlvbiBnKGIsYyl7aWYoYy5sZW5ndGgpe2IuaXRlbXM/Yi5pdGVtcy5wdXNoKGEudWkuY3JlYXRlKFwiLVwiKSk6Yi5pdGVtcz1bXTtmb3IodmFyIGY7Zj1jLnNoaWZ0KCk7KWY9XCJzdHJpbmdcIj09dHlwZW9mIGY/ZjpmLm5hbWUsbSYmLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxmKXx8KGY9YS51aS5jcmVhdGUoZikpJiZhLmFkZEZlYXR1cmUoZikmJmIuaXRlbXMucHVzaChmKX19ZnVuY3Rpb24gaChhKXt2YXIgYj1bXSxjLGYsZDtmb3IoYz0wO2M8YS5sZW5ndGg7KytjKWY9YVtjXSxkPXt9LFwiL1wiPT1mP2IucHVzaChmKTpDS0VESVRPUi50b29scy5pc0FycmF5KGYpPyhnKGQsQ0tFRElUT1IudG9vbHMuY2xvbmUoZikpLGIucHVzaChkKSk6Zi5pdGVtcyYmKGcoZCxDS0VESVRPUi50b29scy5jbG9uZShmLml0ZW1zKSksZC5uYW1lPWYubmFtZSxiLnB1c2goZCkpO3JldHVybiBifXZhciBtPWEuY29uZmlnLnJlbW92ZUJ1dHRvbnMsXG5tPW0mJm0uc3BsaXQoXCIsXCIpLGY9YS5jb25maWcudG9vbGJhcjtcInN0cmluZ1wiPT10eXBlb2YgZiYmKGY9YS5jb25maWdbXCJ0b29sYmFyX1wiK2ZdKTtyZXR1cm4gYS50b29sYmFyPWY/aChmKTpiKCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS5fLnRvb2xiYXJHcm91cHN8fChhLl8udG9vbGJhckdyb3Vwcz1be25hbWU6XCJkb2N1bWVudFwiLGdyb3VwczpbXCJtb2RlXCIsXCJkb2N1bWVudFwiLFwiZG9jdG9vbHNcIl19LHtuYW1lOlwiY2xpcGJvYXJkXCIsZ3JvdXBzOltcImNsaXBib2FyZFwiLFwidW5kb1wiXX0se25hbWU6XCJlZGl0aW5nXCIsZ3JvdXBzOltcImZpbmRcIixcInNlbGVjdGlvblwiLFwic3BlbGxjaGVja2VyXCJdfSx7bmFtZTpcImZvcm1zXCJ9LFwiL1wiLHtuYW1lOlwiYmFzaWNzdHlsZXNcIixncm91cHM6W1wiYmFzaWNzdHlsZXNcIixcImNsZWFudXBcIl19LHtuYW1lOlwicGFyYWdyYXBoXCIsZ3JvdXBzOltcImxpc3RcIixcImluZGVudFwiLFwiYmxvY2tzXCIsXCJhbGlnblwiLFwiYmlkaVwiXX0se25hbWU6XCJsaW5rc1wifSx7bmFtZTpcImluc2VydFwifSxcblwiL1wiLHtuYW1lOlwic3R5bGVzXCJ9LHtuYW1lOlwiY29sb3JzXCJ9LHtuYW1lOlwidG9vbHNcIn0se25hbWU6XCJvdGhlcnNcIn0se25hbWU6XCJhYm91dFwifV0pfXZhciBiPWZ1bmN0aW9uKCl7dGhpcy50b29sYmFycz1bXTt0aGlzLmZvY3VzQ29tbWFuZEV4ZWN1dGVkPSExfTtiLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7Yj10aGlzLnRvb2xiYXJzW2ErK107KWZvcih2YXIgYz0wLGc7Zz1iLml0ZW1zW2MrK107KWlmKGcuZm9jdXMpe2cuZm9jdXMoKTtyZXR1cm59fTt2YXIgYz17bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0scmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe2EudG9vbGJveCYmKGEudG9vbGJveC5mb2N1c0NvbW1hbmRFeGVjdXRlZD0hMCxDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5haXI/c2V0VGltZW91dChmdW5jdGlvbigpe2EudG9vbGJveC5mb2N1cygpfSwxMDApOmEudG9vbGJveC5mb2N1cygpKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidG9vbGJhclwiLFxue3JlcXVpcmVzOlwiYnV0dG9uXCIsaW5pdDpmdW5jdGlvbihkKXt2YXIgZSxrPWZ1bmN0aW9uKGEsYil7dmFyIGMsZj1cInJ0bFwiPT1kLmxhbmcuZGlyLG49ZC5jb25maWcudG9vbGJhckdyb3VwQ3ljbGluZyxwPWY/Mzc6MzksZj1mPzM5OjM3LG49dm9pZCAwPT09bnx8bjtzd2l0Y2goYil7Y2FzZSA5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpmb3IoOyFjfHwhYy5pdGVtcy5sZW5ndGg7KWlmKGM9OT09Yj8oYz9jLm5leHQ6YS50b29sYmFyLm5leHQpfHxkLnRvb2xib3gudG9vbGJhcnNbMF06KGM/Yy5wcmV2aW91czphLnRvb2xiYXIucHJldmlvdXMpfHxkLnRvb2xib3gudG9vbGJhcnNbZC50b29sYm94LnRvb2xiYXJzLmxlbmd0aC0xXSxjLml0ZW1zLmxlbmd0aClmb3IoYT1jLml0ZW1zW2U/Yy5pdGVtcy5sZW5ndGgtMTowXTthJiYhYS5mb2N1czspKGE9ZT9hLnByZXZpb3VzOmEubmV4dCl8fChjPTApO2EmJmEuZm9jdXMoKTtyZXR1cm4hMTtjYXNlIHA6Yz1hO2RvIGM9Yy5uZXh0LCFjJiZcbm4mJihjPWEudG9vbGJhci5pdGVtc1swXSk7d2hpbGUoYyYmIWMuZm9jdXMpO2M/Yy5mb2N1cygpOmsoYSw5KTtyZXR1cm4hMTtjYXNlIDQwOnJldHVybiBhLmJ1dHRvbiYmYS5idXR0b24uaGFzQXJyb3c/YS5leGVjdXRlKCk6ayhhLDQwPT1iP3A6ZiksITE7Y2FzZSBmOmNhc2UgMzg6Yz1hO2RvIGM9Yy5wcmV2aW91cywhYyYmbiYmKGM9YS50b29sYmFyLml0ZW1zW2EudG9vbGJhci5pdGVtcy5sZW5ndGgtMV0pO3doaWxlKGMmJiFjLmZvY3VzKTtjP2MuZm9jdXMoKTooZT0xLGsoYSxDS0VESVRPUi5TSElGVCs5KSxlPTApO3JldHVybiExO2Nhc2UgMjc6cmV0dXJuIGQuZm9jdXMoKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGEuZXhlY3V0ZSgpLCExfXJldHVybiEwfTtkLm9uKFwidWlTcGFjZVwiLGZ1bmN0aW9uKGMpe2lmKGMuZGF0YS5zcGFjZT09ZC5jb25maWcudG9vbGJhckxvY2F0aW9uKXtjLnJlbW92ZUxpc3RlbmVyKCk7ZC50b29sYm94PW5ldyBiO3ZhciBlPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLFxubD1bJ1xceDNjc3BhbiBpZFxceDNkXCInLGUsJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnLGQubGFuZy50b29sYmFyLnRvb2xiYXJzLFwiXFx4M2Mvc3BhblxceDNlXCIsJ1xceDNjc3BhbiBpZFxceDNkXCInK2QudWkuc3BhY2VJZChcInRvb2xib3hcIikrJ1wiIGNsYXNzXFx4M2RcImNrZV90b29sYm94XCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLGUsJ1wiIG9ubW91c2Vkb3duXFx4M2RcInJldHVybiBmYWxzZTtcIlxceDNlJ10sZT0hMSE9PWQuY29uZmlnLnRvb2xiYXJTdGFydHVwRXhwYW5kZWQsZixuO2QuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmZC5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmbC5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hfbWFpblwiJysoZT9cIlxceDNlXCI6JyBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlJykpO2Zvcih2YXIgcD1kLnRvb2xib3gudG9vbGJhcnMscj1hKGQpLHY9ci5sZW5ndGgsXG54PTA7eDx2O3grKyl7dmFyIHEsdD0wLHUsQT1yW3hdLHo9XCIvXCIhPT1BJiYoXCIvXCI9PT1yW3grMV18fHg9PXYtMSksdztpZihBKWlmKGYmJihsLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksbj1mPTApLFwiL1wiPT09QSlsLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9icmVha1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtlbHNle3c9QS5pdGVtc3x8QTtmb3IodmFyIEM9MDtDPHcubGVuZ3RoO0MrKyl7dmFyIHk9d1tDXSxCO2lmKHkpe3ZhciBHPWZ1bmN0aW9uKGEpe2E9YS5yZW5kZXIoZCxsKTtFPXQuaXRlbXMucHVzaChhKS0xOzA8RSYmKGEucHJldmlvdXM9dC5pdGVtc1tFLTFdLGEucHJldmlvdXMubmV4dD1hKTthLnRvb2xiYXI9dDthLm9ua2V5PWs7YS5vbmZvY3VzPWZ1bmN0aW9uKCl7ZC50b29sYm94LmZvY3VzQ29tbWFuZEV4ZWN1dGVkfHxkLmZvY3VzKCl9fTtpZih5LnR5cGU9PUNLRURJVE9SLlVJX1NFUEFSQVRPUiluPWYmJnk7ZWxzZXtCPSExIT09eS5jYW5Hcm91cDtcbmlmKCF0KXtxPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3Q9e2lkOnEsaXRlbXM6W119O3U9QS5uYW1lJiYoZC5sYW5nLnRvb2xiYXIudG9vbGJhckdyb3Vwc1tBLm5hbWVdfHxBLm5hbWUpO2wucHVzaCgnXFx4M2NzcGFuIGlkXFx4M2RcIicscSwnXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXInKyh6PycgY2tlX3Rvb2xiYXJfbGFzdFwiJzonXCInKSx1PycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIicrcSsnX2xhYmVsXCInOlwiXCIsJyByb2xlXFx4M2RcInRvb2xiYXJcIlxceDNlJyk7dSYmbC5wdXNoKCdcXHgzY3NwYW4gaWRcXHgzZFwiJyxxLCdfbGFiZWxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJyx1LFwiXFx4M2Mvc3BhblxceDNlXCIpO2wucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYmFyX3N0YXJ0XCJcXHgzZVxceDNjL3NwYW5cXHgzZScpO3ZhciBFPXAucHVzaCh0KS0xOzA8RSYmKHQucHJldmlvdXM9cFtFLTFdLHQucHJldmlvdXMubmV4dD10KX1CP2Z8fChsLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGdyb3VwXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJyksXG5mPTEpOmYmJihsLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksZj0wKTtuJiYoRyhuKSxuPTApO0coeSl9fX1mJiYobC5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpLG49Zj0wKTt0JiZsLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9lbmRcIlxceDNlXFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyl9fWQuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmbC5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpO2lmKGQuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmZC5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIEY9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtkLmV4ZWNDb21tYW5kKFwidG9vbGJhckNvbGxhcHNlXCIpfSk7ZC5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKEYpfSk7ZC5hZGRDb21tYW5kKFwidG9vbGJhckNvbGxhcHNlXCIse3JlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1cbmEudWkuc3BhY2UoXCJ0b29sYmFyX2NvbGxhcHNlclwiKSxjPWIuZ2V0UHJldmlvdXMoKSxmPWEudWkuc3BhY2UoXCJjb250ZW50c1wiKSxkPWMuZ2V0UGFyZW50KCksZz1wYXJzZUludChmLiQuc3R5bGUuaGVpZ2h0LDEwKSxlPWQuJC5vZmZzZXRIZWlnaHQsaD1iLmhhc0NsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKTtoPyhjLnNob3coKSxiLnJlbW92ZUNsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKSxiLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYS5sYW5nLnRvb2xiYXIudG9vbGJhckNvbGxhcHNlKSk6KGMuaGlkZSgpLGIuYWRkQ2xhc3MoXCJja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluXCIpLGIuc2V0QXR0cmlidXRlKFwidGl0bGVcIixhLmxhbmcudG9vbGJhci50b29sYmFyRXhwYW5kKSk7Yi5nZXRGaXJzdCgpLnNldFRleHQoaD9cIuKWslwiOlwi4peAXCIpO2Yuc2V0U3R5bGUoXCJoZWlnaHRcIixnLShkLiQub2Zmc2V0SGVpZ2h0LWUpK1wicHhcIik7YS5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmEuY29udGFpbmVyLiQub2Zmc2V0SGVpZ2h0LFxuY29udGVudHNIZWlnaHQ6Zi4kLm9mZnNldEhlaWdodCxvdXRlcldpZHRoOmEuY29udGFpbmVyLiQub2Zmc2V0V2lkdGh9KX0sbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19KTtkLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrKENLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LndlYmtpdD8xODk6MTA5KSxcInRvb2xiYXJDb2xsYXBzZVwiKTtsLnB1c2goJ1xceDNjYSB0aXRsZVxceDNkXCInKyhlP2QubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZTpkLmxhbmcudG9vbGJhci50b29sYmFyRXhwYW5kKSsnXCIgaWRcXHgzZFwiJytkLnVpLnNwYWNlSWQoXCJ0b29sYmFyX2NvbGxhcHNlclwiKSsnXCIgdGFiSW5kZXhcXHgzZFwiLTFcIiBjbGFzc1xceDNkXCJja2VfdG9vbGJveF9jb2xsYXBzZXInKTtlfHxsLnB1c2goXCIgY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKTtsLnB1c2goJ1wiIG9uY2xpY2tcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrRisnKVwiXFx4M2UnLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2Fycm93XCJcXHgzZVxceDI2Izk2NTA7XFx4M2Mvc3BhblxceDNlJyxcblwiXFx4M2MvYVxceDNlXCIpfWwucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKTtjLmRhdGEuaHRtbCs9bC5qb2luKFwiXCIpfX0pO2Qub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtpZih0aGlzLnRvb2xib3gpe3ZhciBhLGI9MCxjLGYsZDtmb3IoYT10aGlzLnRvb2xib3gudG9vbGJhcnM7YjxhLmxlbmd0aDtiKyspZm9yKGY9YVtiXS5pdGVtcyxjPTA7YzxmLmxlbmd0aDtjKyspZD1mW2NdLGQuY2xpY2tGbiYmQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZC5jbGlja0ZuKSxkLmtleURvd25GbiYmQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZC5rZXlEb3duRm4pfX0pO2Qub24oXCJ1aVJlYWR5XCIsZnVuY3Rpb24oKXt2YXIgYT1kLnVpLnNwYWNlKFwidG9vbGJveFwiKTthJiZkLmZvY3VzTWFuYWdlci5hZGQoYSwxKX0pO2QuYWRkQ29tbWFuZChcInRvb2xiYXJGb2N1c1wiLGMpO2Quc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCsxMjEsXCJ0b29sYmFyRm9jdXNcIik7ZC51aS5hZGQoXCItXCIsQ0tFRElUT1IuVUlfU0VQQVJBVE9SLFxue30pO2QudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9TRVBBUkFUT1Ise2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybntyZW5kZXI6ZnVuY3Rpb24oYSxiKXtiLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9zZXBhcmF0b3JcIiByb2xlXFx4M2RcInNlcGFyYXRvclwiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtyZXR1cm57fX19fX0pfX0pO0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRUb29sYmFyR3JvdXA9ZnVuY3Rpb24oYSxiLGMpe3ZhciBnPWUodGhpcy5lZGl0b3IpLGg9MD09PWIsbT17bmFtZTphfTtpZihjKXtpZihjPUNLRURJVE9SLnRvb2xzLnNlYXJjaChnLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PWN9KSl7IWMuZ3JvdXBzJiYoYy5ncm91cHM9W10pO2lmKGImJihiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYy5ncm91cHMsYiksMDw9Yikpe2MuZ3JvdXBzLnNwbGljZShiKzEsMCxhKTtyZXR1cm59aD9jLmdyb3Vwcy5zcGxpY2UoMCwwLGEpOmMuZ3JvdXBzLnB1c2goYSk7XG5yZXR1cm59Yj1udWxsfWImJihiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZyxmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1ifSkpO2g/Zy5zcGxpY2UoMCwwLGEpOlwibnVtYmVyXCI9PXR5cGVvZiBiP2cuc3BsaWNlKGIrMSwwLG0pOmcucHVzaChhKX19KCksQ0tFRElUT1IuVUlfU0VQQVJBVE9SPVwic2VwYXJhdG9yXCIsQ0tFRElUT1IuY29uZmlnLnRvb2xiYXJMb2NhdGlvbj1cInRvcFwiLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7Yi50eXBlfHwoYi50eXBlPVwiYXV0b1wiKTtpZihjJiYhMT09PWEuZmlyZShcImJlZm9yZVBhc3RlXCIsYil8fCFiLmRhdGFWYWx1ZSYmYi5kYXRhVHJhbnNmZXIuaXNFbXB0eSgpKXJldHVybiExO2IuZGF0YVZhbHVlfHwoYi5kYXRhVmFsdWU9XCJcIik7aWYoQ0tFRElUT1IuZW52LmdlY2tvJiZcImRyb3BcIj09Yi5tZXRob2QmJmEudG9vbGJveClhLm9uY2UoXCJhZnRlclBhc3RlXCIsZnVuY3Rpb24oKXthLnRvb2xib3guZm9jdXMoKX0pO3JldHVybiBhLmZpcmUoXCJwYXN0ZVwiLFxuYil9ZnVuY3Rpb24gZShiKXtmdW5jdGlvbiBjKCl7dmFyIGE9Yi5lZGl0YWJsZSgpO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZCl7dmFyIGQ9ZnVuY3Rpb24oYSl7Yi5nZXRTZWxlY3Rpb24oKS5pc0NvbGxhcHNlZCgpfHwoYi5yZWFkT25seSYmXCJjdXRcIj09YS5uYW1lfHxCLmluaXRQYXN0ZURhdGFUcmFuc2ZlcihhLGIpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX07YS5vbihcImNvcHlcIixkKTthLm9uKFwiY3V0XCIsZCk7YS5vbihcImN1dFwiLGZ1bmN0aW9uKCl7Yi5yZWFkT25seXx8Yi5leHRyYWN0U2VsZWN0ZWRIdG1sKCl9LG51bGwsbnVsbCw5OTkpfWEub24oQi5tYWluUGFzdGVFdmVudCxmdW5jdGlvbihhKXtcImJlZm9yZXBhc3RlXCI9PUIubWFpblBhc3RlRXZlbnQmJkd8fHcoYSl9KTtcImJlZm9yZXBhc3RlXCI9PUIubWFpblBhc3RlRXZlbnQmJihhLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXtFfHwoZSgpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLFxudyhhKSxrKFwicGFzdGVcIikpfSksYS5vbihcImNvbnRleHRtZW51XCIsaCxudWxsLG51bGwsMCksYS5vbihcImJlZm9yZXBhc3RlXCIsZnVuY3Rpb24oYSl7IWEuZGF0YXx8YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQuc2hpZnRLZXl8fGgoKX0sbnVsbCxudWxsLDApKTthLm9uKFwiYmVmb3JlY3V0XCIsZnVuY3Rpb24oKXshRyYmbChiKX0pO3ZhciBnO2EuYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZW52LmllP2E6Yi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKSxcIm1vdXNldXBcIixmdW5jdGlvbigpe2c9c2V0VGltZW91dChmdW5jdGlvbigpe0MoKX0sMCl9KTtiLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGcpfSk7YS5vbihcImtleXVwXCIsQyl9ZnVuY3Rpb24gZChhKXtyZXR1cm57dHlwZTphLGNhblVuZG86XCJjdXRcIj09YSxzdGFydERpc2FibGVkOiEwLGZha2VLZXlzdHJva2U6XCJjdXRcIj09YT9DS0VESVRPUi5DVFJMKzg4OkNLRURJVE9SLkNUUkwrNjcsZXhlYzpmdW5jdGlvbigpe1wiY3V0XCI9PVxudGhpcy50eXBlJiZsKCk7dmFyIGE7dmFyIGM9dGhpcy50eXBlO2lmKENLRURJVE9SLmVudi5pZSlhPWsoYyk7ZWxzZSB0cnl7YT1iLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoYywhMSxudWxsKX1jYXRjaChkKXthPSExfWF8fGIuc2hvd05vdGlmaWNhdGlvbihiLmxhbmcuY2xpcGJvYXJkW3RoaXMudHlwZStcIkVycm9yXCJdKTtyZXR1cm4gYX19fWZ1bmN0aW9uIGcoKXtyZXR1cm57Y2FuVW5kbzohMSxhc3luYzohMCxmYWtlS2V5c3Ryb2tlOkNLRURJVE9SLkNUUkwrODYsZXhlYzpmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGYoYyxlKXtlPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgZT9lOiEwO2M/KGMubWV0aG9kPVwicGFzdGVcIixjLmRhdGFUcmFuc2Zlcnx8KGMuZGF0YVRyYW5zZmVyPUIuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKCkpLGEoYixjLGUpKTpnJiYhYi5fLmZvcmNlUGFzdGVEaWFsb2cmJmIuc2hvd05vdGlmaWNhdGlvbihrLFwiaW5mb1wiLGIuY29uZmlnLmNsaXBib2FyZF9ub3RpZmljYXRpb25EdXJhdGlvbik7XG5iLl8uZm9yY2VQYXN0ZURpYWxvZz0hMTtiLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIse25hbWU6XCJwYXN0ZVwiLGNvbW1hbmQ6ZCxyZXR1cm5WYWx1ZTohIWN9KX1jPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgYyYmbnVsbCE9PWM/Yzp7fTt2YXIgZD10aGlzLGc9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjLm5vdGlmaWNhdGlvbj9jLm5vdGlmaWNhdGlvbjohMCxlPWMudHlwZSxoPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKGIubGFuZy5jb21tb24ua2V5Ym9hcmQsYi5nZXRDb21tYW5kS2V5c3Ryb2tlKHRoaXMpKSxrPVwic3RyaW5nXCI9PT10eXBlb2YgZz9nOmIubGFuZy5jbGlwYm9hcmQucGFzdGVOb3RpZmljYXRpb24ucmVwbGFjZSgvJTEvLCdcXHgzY2tiZCBhcmlhLWxhYmVsXFx4M2RcIicraC5hcmlhKydcIlxceDNlJytoLmRpc3BsYXkrXCJcXHgzYy9rYmRcXHgzZVwiKSxoPVwic3RyaW5nXCI9PT10eXBlb2YgYz9jOmMuZGF0YVZhbHVlO2UmJiEwIT09Yi5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0JiZcblwiYWxsb3ctd29yZFwiIT09Yi5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0P2IuXy5uZXh0UGFzdGVUeXBlPWU6ZGVsZXRlIGIuXy5uZXh0UGFzdGVUeXBlO1wic3RyaW5nXCI9PT10eXBlb2YgaD9mKHtkYXRhVmFsdWU6aH0pOmIuZ2V0Q2xpcGJvYXJkRGF0YShmKX19fWZ1bmN0aW9uIGUoKXtFPTE7c2V0VGltZW91dChmdW5jdGlvbigpe0U9MH0sMTAwKX1mdW5jdGlvbiBoKCl7Rz0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtHPTB9LDEwKX1mdW5jdGlvbiBrKGEpe3ZhciBjPWIuZG9jdW1lbnQsZD1jLmdldEJvZHkoKSxnPSExLGU9ZnVuY3Rpb24oKXtnPSEwfTtkLm9uKGEsZSk7NzxDS0VESVRPUi5lbnYudmVyc2lvbj9jLiQuZXhlY0NvbW1hbmQoYSk6Yy4kLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmV4ZWNDb21tYW5kKGEpO2QucmVtb3ZlTGlzdGVuZXIoYSxlKTtyZXR1cm4gZ31mdW5jdGlvbiBsKCl7aWYoQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LnF1aXJrcyl7dmFyIGE9XG5iLmdldFNlbGVjdGlvbigpLGMsZCxnO2EuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCYmKGM9YS5nZXRTZWxlY3RlZEVsZW1lbnQoKSkmJihkPWEuZ2V0UmFuZ2VzKClbMF0sZz1iLmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIiksZy5pbnNlcnRCZWZvcmUoYyksZC5zZXRTdGFydEJlZm9yZShnKSxkLnNldEVuZEFmdGVyKGMpLGEuc2VsZWN0UmFuZ2VzKFtkXSksc2V0VGltZW91dChmdW5jdGlvbigpe2MuZ2V0UGFyZW50KCkmJihnLnJlbW92ZSgpLGEuc2VsZWN0RWxlbWVudChjKSl9LDApKX19ZnVuY3Rpb24gbShhLGMpe3ZhciBkPWIuZG9jdW1lbnQsZz1iLmVkaXRhYmxlKCksZT1mdW5jdGlvbihhKXthLmNhbmNlbCgpfSxoO2lmKCFkLmdldEJ5SWQoXCJja2VfcGFzdGViaW5cIikpe3ZhciBrPWIuZ2V0U2VsZWN0aW9uKCksbD1rLmNyZWF0ZUJvb2ttYXJrcygpO0NLRURJVE9SLmVudi5pZSYmay5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIik7dmFyIG49bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCFDS0VESVRPUi5lbnYud2Via2l0JiZcbiFnLmlzKFwiYm9keVwiKXx8Q0tFRElUT1IuZW52LmllP1wiZGl2XCI6XCJib2R5XCIsZCk7bi5zZXRBdHRyaWJ1dGVzKHtpZDpcImNrZV9wYXN0ZWJpblwiLFwiZGF0YS1ja2UtdGVtcFwiOlwiMVwifSk7dmFyIHE9MCxkPWQuZ2V0V2luZG93KCk7Q0tFRElUT1IuZW52LndlYmtpdD8oZy5hcHBlbmQobiksbi5hZGRDbGFzcyhcImNrZV9lZGl0YWJsZVwiKSxnLmlzKFwiYm9keVwiKXx8KHE9XCJzdGF0aWNcIiE9Zy5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik/ZzpDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZy4kLm9mZnNldFBhcmVudCkscT1xLmdldERvY3VtZW50UG9zaXRpb24oKS55KSk6Zy5nZXRBc2NlbmRhbnQoQ0tFRElUT1IuZW52LmllP1wiYm9keVwiOlwiaHRtbFwiLDEpLmFwcGVuZChuKTtuLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpkLmdldFNjcm9sbFBvc2l0aW9uKCkueS1xKzEwK1wicHhcIix3aWR0aDpcIjFweFwiLGhlaWdodDpNYXRoLm1heCgxLGQuZ2V0Vmlld1BhbmVTaXplKCkuaGVpZ2h0LVxuMjApK1wicHhcIixvdmVyZmxvdzpcImhpZGRlblwiLG1hcmdpbjowLHBhZGRpbmc6MH0pO0NLRURJVE9SLmVudi5zYWZhcmkmJm4uc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXCJ0ZXh0XCIpKTsocT1uLmdldFBhcmVudCgpLmlzUmVhZE9ubHkoKSk/KG4uc2V0T3BhY2l0eSgwKSxuLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCEwKSk6bi5zZXRTdHlsZShcImx0clwiPT1iLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XCJsZWZ0XCI6XCJyaWdodFwiLFwiLTEwMDAwcHhcIik7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGUsbnVsbCxudWxsLDApO2lmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbyloPWcub25jZShcImJsdXJcIixlLG51bGwsbnVsbCwtMTAwKTtxJiZuLmZvY3VzKCk7cT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKG4pO3Euc2VsZWN0Tm9kZUNvbnRlbnRzKG4pO3ZhciB1PXEuc2VsZWN0KCk7Q0tFRElUT1IuZW52LmllJiZcbihoPWcub25jZShcImJsdXJcIixmdW5jdGlvbigpe2IubG9ja1NlbGVjdGlvbih1KX0pKTt2YXIgdD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLnk7c2V0VGltZW91dChmdW5jdGlvbigpe0NLRURJVE9SLmVudi53ZWJraXQmJihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9dCk7aCYmaC5yZW1vdmVMaXN0ZW5lcigpO0NLRURJVE9SLmVudi5pZSYmZy5mb2N1cygpO2suc2VsZWN0Qm9va21hcmtzKGwpO24ucmVtb3ZlKCk7dmFyIGE7Q0tFRElUT1IuZW52LndlYmtpdCYmKGE9bi5nZXRGaXJzdCgpKSYmYS5pcyYmYS5oYXNDbGFzcyhcIkFwcGxlLXN0eWxlLXNwYW5cIikmJihuPWEpO2IucmVtb3ZlTGlzdGVuZXIoXCJzZWxlY3Rpb25DaGFuZ2VcIixlKTtjKG4uZ2V0SHRtbCgpKX0sMCl9fWZ1bmN0aW9uIEEoKXtpZihcInBhc3RlXCI9PUIubWFpblBhc3RlRXZlbnQpcmV0dXJuIGIuZmlyZShcImJlZm9yZVBhc3RlXCIse3R5cGU6XCJhdXRvXCIsXG5tZXRob2Q6XCJwYXN0ZVwifSksITE7Yi5mb2N1cygpO2UoKTt2YXIgYT1iLmZvY3VzTWFuYWdlcjthLmxvY2soKTtpZihiLmVkaXRhYmxlKCkuZmlyZShCLm1haW5QYXN0ZUV2ZW50KSYmIWsoXCJwYXN0ZVwiKSlyZXR1cm4gYS51bmxvY2soKSwhMTthLnVubG9jaygpO3JldHVybiEwfWZ1bmN0aW9uIHooYSl7aWYoXCJ3eXNpd3lnXCI9PWIubW9kZSlzd2l0Y2goYS5kYXRhLmtleUNvZGUpe2Nhc2UgQ0tFRElUT1IuQ1RSTCs4NjpjYXNlIENLRURJVE9SLlNISUZUKzQ1OmE9Yi5lZGl0YWJsZSgpO2UoKTtcInBhc3RlXCI9PUIubWFpblBhc3RlRXZlbnQmJmEuZmlyZShcImJlZm9yZXBhc3RlXCIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuQ1RSTCs4ODpjYXNlIENLRURJVE9SLlNISUZUKzQ2OmIuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSw1MCl9fWZ1bmN0aW9uIHcoYyl7dmFyIGQ9e3R5cGU6XCJhdXRvXCIsbWV0aG9kOlwicGFzdGVcIixcbmRhdGFUcmFuc2ZlcjpCLmluaXRQYXN0ZURhdGFUcmFuc2ZlcihjKX07ZC5kYXRhVHJhbnNmZXIuY2FjaGVEYXRhKCk7dmFyIGc9ITEhPT1iLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLGQpO2cmJkIuY2FuQ2xpcGJvYXJkQXBpQmVUcnVzdGVkKGQuZGF0YVRyYW5zZmVyLGIpPyhjLmRhdGEucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShiLGQpfSwwKSk6bShjLGZ1bmN0aW9uKGMpe2QuZGF0YVZhbHVlPWMucmVwbGFjZSgvPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrW148XSo/PFxcL3NwYW4+L2lnLFwiXCIpO2cmJmEoYixkKX0pfWZ1bmN0aW9uIEMoKXtpZihcInd5c2l3eWdcIj09Yi5tb2RlKXt2YXIgYT15KFwicGFzdGVcIik7Yi5nZXRDb21tYW5kKFwiY3V0XCIpLnNldFN0YXRlKHkoXCJjdXRcIikpO2IuZ2V0Q29tbWFuZChcImNvcHlcIikuc2V0U3RhdGUoeShcImNvcHlcIikpO2IuZ2V0Q29tbWFuZChcInBhc3RlXCIpLnNldFN0YXRlKGEpO2IuZmlyZShcInBhc3RlU3RhdGVcIixhKX19ZnVuY3Rpb24geShhKXtpZihGJiZcbmEgaW57cGFzdGU6MSxjdXQ6MX0pcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2lmKFwicGFzdGVcIj09YSlyZXR1cm4gQ0tFRElUT1IuVFJJU1RBVEVfT0ZGO2E9Yi5nZXRTZWxlY3Rpb24oKTt2YXIgYz1hLmdldFJhbmdlcygpO3JldHVybiBhLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX05PTkV8fDE9PWMubGVuZ3RoJiZjWzBdLmNvbGxhcHNlZD9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpDS0VESVRPUi5UUklTVEFURV9PRkZ9dmFyIEI9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQsRz0wLEU9MCxGPTA7KGZ1bmN0aW9uKCl7Yi5vbihcImtleVwiLHopO2Iub24oXCJjb250ZW50RG9tXCIsYyk7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe0Y9YS5kYXRhLnNlbGVjdGlvbi5nZXRSYW5nZXMoKVswXS5jaGVja1JlYWRPbmx5KCk7QygpfSk7aWYoYi5jb250ZXh0TWVudSl7Yi5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihhLGIpe0Y9XG5iLmdldFJhbmdlcygpWzBdLmNoZWNrUmVhZE9ubHkoKTtyZXR1cm57Y3V0OnkoXCJjdXRcIiksY29weTp5KFwiY29weVwiKSxwYXN0ZTp5KFwicGFzdGVcIil9fSk7dmFyIGE9bnVsbDtiLm9uKFwibWVudVNob3dcIixmdW5jdGlvbigpe2EmJihhLnJlbW92ZUxpc3RlbmVyKCksYT1udWxsKTt2YXIgYz1iLmNvbnRleHRNZW51LmZpbmRJdGVtQnlDb21tYW5kTmFtZShcInBhc3RlXCIpO2MmJmMuZWxlbWVudCYmKGE9Yy5lbGVtZW50Lm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe2IuXy5mb3JjZVBhc3RlRGlhbG9nPSEwfSkpfSl9aWYoYi51aS5hZGRCdXR0b24pYi5vbmNlKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKCl7Yi5fLnBhc3RlQnV0dG9ucyYmQ0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChiLl8ucGFzdGVCdXR0b25zLGZ1bmN0aW9uKGEpe2lmKGE9Yi51aS5nZXQoYSkpQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChhLl8uaWQpLm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe2IuXy5mb3JjZVBhc3RlRGlhbG9nPVxuITB9KX0pfSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyxkLGcsZSxoKXt2YXIgaz1iLmxhbmcuY2xpcGJvYXJkW2RdO2IuYWRkQ29tbWFuZChkLGcpO2IudWkuYWRkQnV0dG9uJiZiLnVpLmFkZEJ1dHRvbihjLHtsYWJlbDprLGNvbW1hbmQ6ZCx0b29sYmFyOlwiY2xpcGJvYXJkLFwiK2V9KTtiLmFkZE1lbnVJdGVtcyYmYi5hZGRNZW51SXRlbShkLHtsYWJlbDprLGNvbW1hbmQ6ZCxncm91cDpcImNsaXBib2FyZFwiLG9yZGVyOmh9KX1hKFwiQ3V0XCIsXCJjdXRcIixkKFwiY3V0XCIpLDEwLDEpO2EoXCJDb3B5XCIsXCJjb3B5XCIsZChcImNvcHlcIiksMjAsNCk7YShcIlBhc3RlXCIsXCJwYXN0ZVwiLGcoKSwzMCw4KTtiLl8ucGFzdGVCdXR0b25zfHwoYi5fLnBhc3RlQnV0dG9ucz1bXSk7Yi5fLnBhc3RlQnV0dG9ucy5wdXNoKFwiUGFzdGVcIil9KSgpO2IuZ2V0Q2xpcGJvYXJkRGF0YT1mdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2EuY2FuY2VsKCk7YyhhLmRhdGEpfWZ1bmN0aW9uIGcoYSl7YS5yZW1vdmVMaXN0ZW5lcigpO1xuYS5jYW5jZWwoKTtjKHt0eXBlOmgsZGF0YVZhbHVlOmEuZGF0YS5kYXRhVmFsdWUsZGF0YVRyYW5zZmVyOmEuZGF0YS5kYXRhVHJhbnNmZXIsbWV0aG9kOlwicGFzdGVcIn0pfXZhciBlPSExLGg9XCJhdXRvXCI7Y3x8KGM9YSxhPW51bGwpO2Iub24oXCJiZWZvcmVQYXN0ZVwiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtlPSEwO2g9YS5kYXRhLnR5cGV9LG51bGwsbnVsbCwxRTMpO2Iub24oXCJwYXN0ZVwiLGQsbnVsbCxudWxsLDApOyExPT09QSgpJiYoYi5yZW1vdmVMaXN0ZW5lcihcInBhc3RlXCIsZCksYi5fLmZvcmNlUGFzdGVEaWFsb2cmJmUmJmIuZmlyZShcInBhc3RlRGlhbG9nXCIpPyhiLm9uKFwicGFzdGVEaWFsb2dDb21taXRcIixnKSxiLm9uKFwiZGlhbG9nSGlkZVwiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmRhdGEucmVtb3ZlTGlzdGVuZXIoXCJwYXN0ZURpYWxvZ0NvbW1pdFwiLGcpO2EuZGF0YS5fLmNvbW1pdHRlZHx8YyhudWxsKX0pKTpjKG51bGwpKX19ZnVuY3Rpb24gYihhKXtpZihDS0VESVRPUi5lbnYud2Via2l0KXtpZighYS5tYXRjaCgvXltePF0qJC9nKSYmXG4hYS5tYXRjaCgvXig8ZGl2PjxiciggP1xcLyk/PjxcXC9kaXY+fDxkaXY+W148XSo8XFwvZGl2PikqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSBpZihDS0VESVRPUi5lbnYuaWUpe2lmKCFhLm1hdGNoKC9eKFtePF18PGJyKCA/XFwvKT8+KSokL2dpKSYmIWEubWF0Y2goL14oPHA+KFtePF18PGJyKCA/XFwvKT8+KSo8XFwvcD58KFxcclxcbikpKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmdlY2tvKXtpZighYS5tYXRjaCgvXihbXjxdfDxiciggP1xcLyk/PikqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSByZXR1cm5cImh0bWxcIjtyZXR1cm5cImh0bWxpZmllZHRleHRcIn1mdW5jdGlvbiBjKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4M2MvcFxceDNlXFx4M2NwXFx4M2VcIix+fihhLzIpKSsoMT09YSUyP1wiXFx4M2NiclxceDNlXCI6XCJcIil9Yj1iLnJlcGxhY2UoL1xccysvZyxcIiBcIikucmVwbGFjZSgvPiArPC9nLFwiXFx4M2VcXHgzY1wiKS5yZXBsYWNlKC88YnIgP1xcLz4vZ2ksXG5cIlxceDNjYnJcXHgzZVwiKTtiPWIucmVwbGFjZSgvPFxcLz9bQS1aXSs+L2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pO2lmKGIubWF0Y2goL15bXjxdJC8pKXJldHVybiBiO0NLRURJVE9SLmVudi53ZWJraXQmJi0xPGIuaW5kZXhPZihcIlxceDNjZGl2XFx4M2VcIikmJihiPWIucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2PikoPyEkfCg8ZGl2Pig8YnI+fCk8XFwvZGl2PikpL2csXCJcXHgzY2JyXFx4M2VcIikucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2Pil7Mn0oPyEkKS9nLFwiXFx4M2NkaXZcXHgzZVxceDNjL2RpdlxceDNlXCIpLGIubWF0Y2goLzxkaXY+KDxicj58KTxcXC9kaXY+LykmJihiPVwiXFx4M2NwXFx4M2VcIitiLnJlcGxhY2UoLyg8ZGl2Pig8YnI+fCk8XFwvZGl2PikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS5zcGxpdChcIlxceDNjL2RpdlxceDNlXFx4M2NkaXZcXHgzZVwiKS5sZW5ndGgrMSl9KStcIlxceDNjL3BcXHgzZVwiKSxiPWIucmVwbGFjZSgvPFxcL2Rpdj48ZGl2Pi9nLFwiXFx4M2NiclxceDNlXCIpLFxuYj1iLnJlcGxhY2UoLzxcXC8/ZGl2Pi9nLFwiXCIpKTtDS0VESVRPUi5lbnYuZ2Vja28mJmEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKENLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC9ePGJyPjxicj4kLyxcIlxceDNjYnJcXHgzZVwiKSksLTE8Yi5pbmRleE9mKFwiXFx4M2NiclxceDNlXFx4M2NiclxceDNlXCIpJiYoYj1cIlxceDNjcFxceDNlXCIrYi5yZXBsYWNlKC8oPGJyPil7Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS5sZW5ndGgvNCl9KStcIlxceDNjL3BcXHgzZVwiKSk7cmV0dXJuIGsoYSxiKX1mdW5jdGlvbiBkKCl7ZnVuY3Rpb24gYSgpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gQ0tFRElUT1IuZHRkKVwiJFwiIT1jLmNoYXJBdCgwKSYmXCJkaXZcIiE9YyYmXCJzcGFuXCIhPWMmJihiW2NdPTEpO3JldHVybiBifXZhciBiPXt9O3JldHVybntnZXQ6ZnVuY3Rpb24oYyl7cmV0dXJuXCJwbGFpbi10ZXh0XCI9PWM/Yi5wbGFpblRleHR8fChiLnBsYWluVGV4dD1uZXcgQ0tFRElUT1IuZmlsdGVyKFwiYnJcIikpOlxuXCJzZW1hbnRpYy1jb250ZW50XCI9PWM/KChjPWIuc2VtYW50aWNDb250ZW50KXx8KGM9bmV3IENLRURJVE9SLmZpbHRlcixjLmFsbG93KHskMTp7ZWxlbWVudHM6YSgpLGF0dHJpYnV0ZXM6ITAsc3R5bGVzOiExLGNsYXNzZXM6ITF9fSksYz1iLnNlbWFudGljQ29udGVudD1jKSxjKTpjP25ldyBDS0VESVRPUi5maWx0ZXIoYyk6bnVsbH19fWZ1bmN0aW9uIGwoYSxiLGMpe2I9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChiKTt2YXIgZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtjLmFwcGx5VG8oYiwhMCwhMSxhLmFjdGl2ZUVudGVyTW9kZSk7Yi53cml0ZUh0bWwoZCk7cmV0dXJuIGQuZ2V0SHRtbCgpfWZ1bmN0aW9uIGsoYSxiKXthLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/Yj1iLnJlcGxhY2UoLyg8XFwvcD48cD4pKy9nLGZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgzY2JyXFx4M2VcIixhLmxlbmd0aC9cbjcqMil9KS5yZXBsYWNlKC88XFwvP3A+L2csXCJcIik6YS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJViYmKGI9Yi5yZXBsYWNlKC88KFxcLyk/cD4vZyxcIlxceDNjJDFkaXZcXHgzZVwiKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhhKXthLmRhdGEucHJldmVudERlZmF1bHQoKTthLmRhdGEuJC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1cIm5vbmVcIn1mdW5jdGlvbiBoKGIpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkO2Iub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGMsZyxlKXtnLnNlbGVjdCgpO2EoYix7ZGF0YVRyYW5zZmVyOmUsbWV0aG9kOlwiZHJvcFwifSwxKTtlLnNvdXJjZUVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Uuc291cmNlRWRpdG9yLmVkaXRhYmxlKCkuZXh0cmFjdEh0bWxGcm9tUmFuZ2UoYyk7ZS5zb3VyY2VFZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSk7ZS5zb3VyY2VFZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX1cbmZ1bmN0aW9uIGcoZCxlKXtkLnNlbGVjdCgpO2EoYix7ZGF0YVRyYW5zZmVyOmUsbWV0aG9kOlwiZHJvcFwifSwxKTtjLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcigpfWZ1bmN0aW9uIGUoYSxjLGQpe3ZhciBnPXskOmEuZGF0YS4kLHRhcmdldDphLmRhdGEuZ2V0VGFyZ2V0KCl9O2MmJihnLmRyYWdSYW5nZT1jKTtkJiYoZy5kcm9wUmFuZ2U9ZCk7ITE9PT1iLmZpcmUoYS5uYW1lLGcpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBoKGEpe2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYT1hLmdldFBhcmVudCgpKTtyZXR1cm4gYS5nZXRDaGlsZENvdW50KCl9dmFyIGs9Yi5lZGl0YWJsZSgpLGw9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZ2V0RHJvcFRhcmdldChiKSxtPWIudWkuc3BhY2UoXCJ0b3BcIiksQT1iLnVpLnNwYWNlKFwiYm90dG9tXCIpO2MucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KG0pO2MucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KEEpO1xuay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJhZ3N0YXJ0XCIsZSk7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ3N0YXJ0XCIsYy5yZXNldERyYWdEYXRhVHJhbnNmZXIsYyxudWxsLDEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGEpe2MuaW5pdERyYWdEYXRhVHJhbnNmZXIoYSxiKX0sbnVsbCxudWxsLDIpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5kcmFnUmFuZ2U9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoYy5kcmFnU3RhcnRDb250YWluZXJDaGlsZENvdW50PWE/aChhLnN0YXJ0Q29udGFpbmVyKTpudWxsLGMuZHJhZ0VuZENvbnRhaW5lckNoaWxkQ291bnQ9YT9oKGEuZW5kQ29udGFpbmVyKTpudWxsKX0sbnVsbCxudWxsLDEwMCk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJhZ2VuZFwiLGUpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdlbmRcIixcbmMuaW5pdERyYWdEYXRhVHJhbnNmZXIsYyxudWxsLDEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdlbmRcIixjLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcixjLG51bGwsMTAwKTtrLmF0dGFjaExpc3RlbmVyKGwsXCJkcmFnb3ZlclwiLGZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLmVudi5lZGdlKWEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7dmFyIGI9YS5kYXRhLmdldFRhcmdldCgpO2ImJmIuaXMmJmIuaXMoXCJodG1sXCIpP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpOkNLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNGaWxlQXBpU3VwcG9ydGVkJiZhLmRhdGEuJC5kYXRhVHJhbnNmZXIudHlwZXMuY29udGFpbnMoXCJGaWxlc1wiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9fSk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJvcFwiLGZ1bmN0aW9uKGEpe2lmKCFhLmRhdGEuJC5kZWZhdWx0UHJldmVudGVkKXthLmRhdGEucHJldmVudERlZmF1bHQoKTt2YXIgZD1hLmRhdGEuZ2V0VGFyZ2V0KCk7XG5pZighZC5pc1JlYWRPbmx5KCl8fGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzKFwiaHRtbFwiKSl7dmFyIGQ9Yy5nZXRSYW5nZUF0RHJvcFBvc2l0aW9uKGEsYiksZz1jLmRyYWdSYW5nZTtkJiZlKGEsZyxkKX19fSxudWxsLG51bGwsOTk5OSk7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJvcFwiLGMuaW5pdERyYWdEYXRhVHJhbnNmZXIsYyxudWxsLDEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyb3BcIixmdW5jdGlvbihhKXtpZihhPWEuZGF0YSl7dmFyIGU9YS5kcm9wUmFuZ2UsaD1hLmRyYWdSYW5nZSxrPWEuZGF0YVRyYW5zZmVyO2suZ2V0VHJhbnNmZXJUeXBlKGIpPT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmludGVybmFsRHJvcChoLGUsayxiKX0sMCk6ay5nZXRUcmFuc2ZlclR5cGUoYik9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfQ1JPU1NfRURJVE9SUz9kKGgsZSxrKTpnKGUsayl9fSxudWxsLG51bGwsOTk5OSl9KX1cbnZhciBtO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiY2xpcGJvYXJkXCIse3JlcXVpcmVzOlwiZGlhbG9nLG5vdGlmaWNhdGlvbix0b29sYmFyXCIsaW5pdDpmdW5jdGlvbihhKXt2YXIgZyxrPWQoKTthLmNvbmZpZy5mb3JjZVBhc3RlQXNQbGFpblRleHQ/Zz1cInBsYWluLXRleHRcIjphLmNvbmZpZy5wYXN0ZUZpbHRlcj9nPWEuY29uZmlnLnBhc3RlRmlsdGVyOiFDS0VESVRPUi5lbnYud2Via2l0fHxcInBhc3RlRmlsdGVyXCJpbiBhLmNvbmZpZ3x8KGc9XCJzZW1hbnRpYy1jb250ZW50XCIpO2EucGFzdGVGaWx0ZXI9ay5nZXQoZyk7ZShhKTtoKGEpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJwYXN0ZVwiLENLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJkaWFsb2dzL3Bhc3RlLmpzXCIpKTtpZihDS0VESVRPUi5lbnYuZ2Vja28pe3ZhciBtPVtcImltYWdlL3BuZ1wiLFwiaW1hZ2UvanBlZ1wiLFwiaW1hZ2UvZ2lmXCJdLHY7YS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLGQ9Yy5kYXRhVHJhbnNmZXI7XG5pZighYy5kYXRhVmFsdWUmJlwicGFzdGVcIj09Yy5tZXRob2QmJmQmJjE9PWQuZ2V0RmlsZXNDb3VudCgpJiZ2IT1kLmlkJiYoZD1kLmdldEZpbGUoMCksLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxkLnR5cGUpKSl7dmFyIGc9bmV3IEZpbGVSZWFkZXI7Zy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGZ1bmN0aW9uKCl7Yi5kYXRhLmRhdGFWYWx1ZT0nXFx4M2NpbWcgc3JjXFx4M2RcIicrZy5yZXN1bHQrJ1wiIC9cXHgzZSc7YS5maXJlKFwicGFzdGVcIixiLmRhdGEpfSwhMSk7Zy5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixmdW5jdGlvbigpe2EuZmlyZShcInBhc3RlXCIsYi5kYXRhKX0sITEpO2cuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZnVuY3Rpb24oKXthLmZpcmUoXCJwYXN0ZVwiLGIuZGF0YSl9LCExKTtnLnJlYWRBc0RhdGFVUkwoZCk7dj1jLmRhdGFUcmFuc2Zlci5pZDtiLnN0b3AoKX19LG51bGwsbnVsbCwxKX1hLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXtiLmRhdGEuZGF0YVRyYW5zZmVyfHxcbihiLmRhdGEuZGF0YVRyYW5zZmVyPW5ldyBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIpO2lmKCFiLmRhdGEuZGF0YVZhbHVlKXt2YXIgYz1iLmRhdGEuZGF0YVRyYW5zZmVyLGQ9Yy5nZXREYXRhKFwidGV4dC9odG1sXCIpO2lmKGQpYi5kYXRhLmRhdGFWYWx1ZT1kLGIuZGF0YS50eXBlPVwiaHRtbFwiO2Vsc2UgaWYoZD1jLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKWIuZGF0YS5kYXRhVmFsdWU9YS5lZGl0YWJsZSgpLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChkKSxiLmRhdGEudHlwZT1cInRleHRcIn19LG51bGwsbnVsbCwxKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZGF0YVZhbHVlLGM9Q0tFRElUT1IuZHRkLiRibG9jazstMTxiLmluZGV4T2YoXCJBcHBsZS1cIikmJihiPWIucmVwbGFjZSgvPHNwYW4gY2xhc3M9XCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcIj4mbmJzcDs8XFwvc3Bhbj4vZ2ksXCIgXCIpLFwiaHRtbFwiIT1hLmRhdGEudHlwZSYmKGI9Yi5yZXBsYWNlKC88c3BhbiBjbGFzcz1cIkFwcGxlLXRhYi1zcGFuXCJbXj5dKj4oW148XSopPFxcL3NwYW4+L2dpLFxuZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIil9KSksLTE8Yi5pbmRleE9mKCdcXHgzY2JyIGNsYXNzXFx4M2RcIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIlxceDNlJykmJihhLmRhdGEuc3RhcnRzV2l0aEVPTD0xLGEuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIixiPWIucmVwbGFjZSgvPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPi8sXCJcIikpLGI9Yi5yZXBsYWNlKC8oPFtePl0rKSBjbGFzcz1cIkFwcGxlLVteXCJdKlwiL2dpLFwiJDFcIikpO2lmKGIubWF0Y2goL148W148XStja2VfKGVkaXRhYmxlfGNvbnRlbnRzKS9pKSl7dmFyIGQsZixnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtmb3IoZy5zZXRIdG1sKGIpOzE9PWcuZ2V0Q2hpbGRDb3VudCgpJiYoZD1nLmdldEZpcnN0KCkpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGQuaGFzQ2xhc3MoXCJja2VfZWRpdGFibGVcIil8fFxuZC5oYXNDbGFzcyhcImNrZV9jb250ZW50c1wiKSk7KWc9Zj1kO2YmJihiPWYuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4kL2ksXCJcIikpfUNLRURJVE9SLmVudi5pZT9iPWIucmVwbGFjZSgvXiZuYnNwOyg/OiB8XFxyXFxuKT88KFxcdyspL2csZnVuY3Rpb24oYixkKXtyZXR1cm4gZC50b0xvd2VyQ2FzZSgpaW4gYz8oYS5kYXRhLnByZVNuaWZmaW5nPVwiaHRtbFwiLFwiXFx4M2NcIitkKTpifSk6Q0tFRElUT1IuZW52LndlYmtpdD9iPWIucmVwbGFjZSgvPFxcLyhcXHcrKT48ZGl2Pjxicj48XFwvZGl2PiQvLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGQgaW4gYz8oYS5kYXRhLmVuZHNXaXRoRU9MPTEsXCJcXHgzYy9cIitkK1wiXFx4M2VcIik6Yn0pOkNLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC8oXFxzKTxicj4kLyxcIiQxXCIpKTthLmRhdGEuZGF0YVZhbHVlPWJ9LG51bGwsbnVsbCwzKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihkKXtkPWQuZGF0YTt2YXIgZz1hLl8ubmV4dFBhc3RlVHlwZXx8ZC50eXBlLGU9ZC5kYXRhVmFsdWUsXG5oLG09YS5jb25maWcuY2xpcGJvYXJkX2RlZmF1bHRDb250ZW50VHlwZXx8XCJodG1sXCIsbj1kLmRhdGFUcmFuc2Zlci5nZXRUcmFuc2ZlclR5cGUoYSk7aD1cImh0bWxcIj09Z3x8XCJodG1sXCI9PWQucHJlU25pZmZpbmc/XCJodG1sXCI6YihlKTtkZWxldGUgYS5fLm5leHRQYXN0ZVR5cGU7XCJodG1saWZpZWR0ZXh0XCI9PWgmJihlPWMoYS5jb25maWcsZSkpO1widGV4dFwiPT1nJiZcImh0bWxcIj09aD9lPWwoYSxlLGsuZ2V0KFwicGxhaW4tdGV4dFwiKSk6bj09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTCYmYS5wYXN0ZUZpbHRlciYmIWQuZG9udEZpbHRlciYmKGU9bChhLGUsYS5wYXN0ZUZpbHRlcikpO2Quc3RhcnRzV2l0aEVPTCYmKGU9J1xceDNjYnIgZGF0YS1ja2UtZW9sXFx4M2RcIjFcIlxceDNlJytlKTtkLmVuZHNXaXRoRU9MJiYoZSs9J1xceDNjYnIgZGF0YS1ja2UtZW9sXFx4M2RcIjFcIlxceDNlJyk7XCJhdXRvXCI9PWcmJihnPVwiaHRtbFwiPT1ofHxcImh0bWxcIj09bT9cImh0bWxcIjpcInRleHRcIik7ZC50eXBlPVxuZztkLmRhdGFWYWx1ZT1lO2RlbGV0ZSBkLnByZVNuaWZmaW5nO2RlbGV0ZSBkLnN0YXJ0c1dpdGhFT0w7ZGVsZXRlIGQuZW5kc1dpdGhFT0x9LG51bGwsbnVsbCw2KTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXtiPWIuZGF0YTtiLmRhdGFWYWx1ZSYmKGEuaW5zZXJ0SHRtbChiLmRhdGFWYWx1ZSxiLnR5cGUsYi5yYW5nZSksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZShcImFmdGVyUGFzdGVcIil9LDApKX0sbnVsbCxudWxsLDFFMyk7YS5vbihcInBhc3RlRGlhbG9nXCIsZnVuY3Rpb24oYil7c2V0VGltZW91dChmdW5jdGlvbigpe2Eub3BlbkRpYWxvZyhcInBhc3RlXCIsYi5kYXRhKX0sMCl9KX19KTtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZD17aXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkOighQ0tFRElUT1IuZW52LmllfHwxNjw9Q0tFRElUT1IuZW52LnZlcnNpb24pJiYhQ0tFRElUT1IuZW52LmlPUyxpc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZDohQ0tFRElUT1IuZW52LmllfHxcbjE2PD1DS0VESVRPUi5lbnYudmVyc2lvbixpc0ZpbGVBcGlTdXBwb3J0ZWQ6IUNLRURJVE9SLmVudi5pZXx8OTxDS0VESVRPUi5lbnYudmVyc2lvbixtYWluUGFzdGVFdmVudDpDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9cImJlZm9yZXBhc3RlXCI6XCJwYXN0ZVwiLGFkZFBhc3RlQnV0dG9uOmZ1bmN0aW9uKGEsYixjKXthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKGIsYyksYS5fLnBhc3RlQnV0dG9uc3x8KGEuXy5wYXN0ZUJ1dHRvbnM9W10pLGEuXy5wYXN0ZUJ1dHRvbnMucHVzaChiKSl9LGNhbkNsaXBib2FyZEFwaUJlVHJ1c3RlZDpmdW5jdGlvbihhLGIpe3JldHVybiBhLmdldFRyYW5zZmVyVHlwZShiKSE9Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTHx8Q0tFRElUT1IuZW52LmNocm9tZSYmIWEuaXNFbXB0eSgpfHxDS0VESVRPUi5lbnYuZ2Vja28mJihhLmdldERhdGEoXCJ0ZXh0L2h0bWxcIil8fGEuZ2V0RmlsZXNDb3VudCgpKXx8Q0tFRElUT1IuZW52LnNhZmFyaSYmXG42MDM8PUNLRURJVE9SLmVudi52ZXJzaW9uJiYhQ0tFRElUT1IuZW52LmlPU3x8Q0tFRElUT1IuZW52LmVkZ2UmJjE2PD1DS0VESVRPUi5lbnYudmVyc2lvbj8hMDohMX0sZ2V0RHJvcFRhcmdldDpmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRhYmxlKCk7cmV0dXJuIENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbnx8Yi5pc0lubGluZSgpP2I6YS5kb2N1bWVudH0sZml4U3BsaXROb2Rlc0FmdGVyRHJvcDpmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBnKGEsYyxkKXt2YXIgZj1hO2YudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZj1hLmdldFBhcmVudCgpKTtpZihmLmVxdWFscyhjKSYmZCE9Yy5nZXRDaGlsZENvdW50KCkpcmV0dXJuIGE9Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0LTEpLGM9Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0KSxhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmYyYmYy50eXBlPT1cbkNLRURJVE9SLk5PREVfVEVYVCYmKGQ9YS5nZXRMZW5ndGgoKSxhLnNldFRleHQoYS5nZXRUZXh0KCkrYy5nZXRUZXh0KCkpLGMucmVtb3ZlKCksYi5zZXRTdGFydChhLGQpLGIuY29sbGFwc2UoITApKSwhMH12YXIgZT1iLnN0YXJ0Q29udGFpbmVyO1wibnVtYmVyXCI9PXR5cGVvZiBkJiZcIm51bWJlclwiPT10eXBlb2YgYyYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihnKGEuc3RhcnRDb250YWluZXIsZSxjKXx8ZyhhLmVuZENvbnRhaW5lcixlLGQpKX0saXNEcm9wUmFuZ2VBZmZlY3RlZEJ5RHJhZ1JhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zdGFydENvbnRhaW5lcixkPWIuZW5kT2Zmc2V0O3JldHVybiBhLmVuZENvbnRhaW5lci5lcXVhbHMoYykmJmEuZW5kT2Zmc2V0PD1kfHxhLnN0YXJ0Q29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhjKSYmYS5zdGFydENvbnRhaW5lci5nZXRJbmRleCgpPGR8fGEuZW5kQ29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhjKSYmXG5hLmVuZENvbnRhaW5lci5nZXRJbmRleCgpPGQ/ITA6ITF9LGludGVybmFsRHJvcDpmdW5jdGlvbihiLGMsZCxnKXt2YXIgZT1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZCxoPWcuZWRpdGFibGUoKSxrLGw7Zy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2cuZmlyZShcImxvY2tTbmFwc2hvdFwiLHtkb250VXBkYXRlOjF9KTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiZ0aGlzLmZpeFNwbGl0Tm9kZXNBZnRlckRyb3AoYixjLGUuZHJhZ1N0YXJ0Q29udGFpbmVyQ2hpbGRDb3VudCxlLmRyYWdFbmRDb250YWluZXJDaGlsZENvdW50KTsobD10aGlzLmlzRHJvcFJhbmdlQWZmZWN0ZWRCeURyYWdSYW5nZShiLGMpKXx8KGs9Yi5jcmVhdGVCb29rbWFyayghMSkpO2U9Yy5jbG9uZSgpLmNyZWF0ZUJvb2ttYXJrKCExKTtsJiYoaz1iLmNyZWF0ZUJvb2ttYXJrKCExKSk7Yj1rLnN0YXJ0Tm9kZTtjPWsuZW5kTm9kZTtsPWUuc3RhcnROb2RlO2MmJmIuZ2V0UG9zaXRpb24obCkmXG5DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmMuZ2V0UG9zaXRpb24obCkmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiZsLmluc2VydEJlZm9yZShiKTtiPWcuY3JlYXRlUmFuZ2UoKTtiLm1vdmVUb0Jvb2ttYXJrKGspO2guZXh0cmFjdEh0bWxGcm9tUmFuZ2UoYiwxKTtjPWcuY3JlYXRlUmFuZ2UoKTtjLm1vdmVUb0Jvb2ttYXJrKGUpO2EoZyx7ZGF0YVRyYW5zZmVyOmQsbWV0aG9kOlwiZHJvcFwiLHJhbmdlOmN9LDEpO2cuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfSxnZXRSYW5nZUF0RHJvcFBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5kYXRhLiQsZD1jLmNsaWVudFgsZz1jLmNsaWVudFksZT1iLmdldFNlbGVjdGlvbighMCkuZ2V0UmFuZ2VzKClbMF0saD1iLmNyZWF0ZVJhbmdlKCk7aWYoYS5kYXRhLnRlc3RSYW5nZSlyZXR1cm4gYS5kYXRhLnRlc3RSYW5nZTtpZihkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50JiZiLmRvY3VtZW50LiQuY2FyZXRSYW5nZUZyb21Qb2ludChkLFxuZykpYz1iLmRvY3VtZW50LiQuY2FyZXRSYW5nZUZyb21Qb2ludChkLGcpLGguc2V0U3RhcnQoQ0tFRElUT1IuZG9tLm5vZGUoYy5zdGFydENvbnRhaW5lciksYy5zdGFydE9mZnNldCksaC5jb2xsYXBzZSghMCk7ZWxzZSBpZihjLnJhbmdlUGFyZW50KWguc2V0U3RhcnQoQ0tFRElUT1IuZG9tLm5vZGUoYy5yYW5nZVBhcmVudCksYy5yYW5nZU9mZnNldCksaC5jb2xsYXBzZSghMCk7ZWxzZXtpZihDS0VESVRPUi5lbnYuaWUmJjg8Q0tFRElUT1IuZW52LnZlcnNpb24mJmUmJmIuZWRpdGFibGUoKS5oYXNGb2N1cylyZXR1cm4gZTtpZihkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSl7Yi5mb2N1cygpO2M9Yi5kb2N1bWVudC5nZXRCb2R5KCkuJC5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7Zm9yKHZhciBrPSExLGw9MDsyMD5sJiYhaztsKyspe2lmKCFrKXRyeXtjLm1vdmVUb1BvaW50KGQsZy1sKSxrPSEwfWNhdGNoKG0pe31pZighayl0cnl7Yy5tb3ZlVG9Qb2ludChkLGcrbCksaz0hMH1jYXRjaCh6KXt9fWlmKGspe3ZhciB3PVxuXCJja2UtdGVtcC1cIisobmV3IERhdGUpLmdldFRpbWUoKTtjLnBhc3RlSFRNTCgnXFx4M2NzcGFuIGlkXFx4M2RcIicrdysnXCJcXHgzZeKAi1xceDNjL3NwYW5cXHgzZScpO3ZhciBDPWIuZG9jdW1lbnQuZ2V0QnlJZCh3KTtoLm1vdmVUb1Bvc2l0aW9uKEMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtDLnJlbW92ZSgpfWVsc2V7dmFyIHk9Yi5kb2N1bWVudC4kLmVsZW1lbnRGcm9tUG9pbnQoZCxnKSxCPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh5KSxHO2lmKEIuZXF1YWxzKGIuZWRpdGFibGUoKSl8fFwiaHRtbFwiPT1CLmdldE5hbWUoKSlyZXR1cm4gZSYmZS5zdGFydENvbnRhaW5lciYmIWUuc3RhcnRDb250YWluZXIuZXF1YWxzKGIuZWRpdGFibGUoKSk/ZTpudWxsO0c9Qi5nZXRDbGllbnRSZWN0KCk7ZDxHLmxlZnQ/aC5zZXRTdGFydEF0KEIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpOmguc2V0U3RhcnRBdChCLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2guY29sbGFwc2UoITApfX1jYXRjaChFKXtyZXR1cm4gbnVsbH19ZWxzZSByZXR1cm4gbnVsbH1yZXR1cm4gaH0sXG5pbml0RHJhZ0RhdGFUcmFuc2ZlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZGF0YS4kP2EuZGF0YS4kLmRhdGFUcmFuc2ZlcjpudWxsLGQ9bmV3IHRoaXMuZGF0YVRyYW5zZmVyKGMsYik7XCJkcmFnc3RhcnRcIj09PWEubmFtZSYmZC5zdG9yZUlkKCk7Yz90aGlzLmRyYWdEYXRhJiZkLmlkPT10aGlzLmRyYWdEYXRhLmlkP2Q9dGhpcy5kcmFnRGF0YTp0aGlzLmRyYWdEYXRhPWQ6dGhpcy5kcmFnRGF0YT9kPXRoaXMuZHJhZ0RhdGE6dGhpcy5kcmFnRGF0YT1kO2EuZGF0YS5kYXRhVHJhbnNmZXI9ZH0scmVzZXREcmFnRGF0YVRyYW5zZmVyOmZ1bmN0aW9uKCl7dGhpcy5kcmFnRGF0YT1udWxsfSxpbml0UGFzdGVEYXRhVHJhbnNmZXI6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmlzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZCl7aWYoYSYmYS5kYXRhJiZhLmRhdGEuJCl7dmFyIGM9YS5kYXRhLiQuY2xpcGJvYXJkRGF0YSxkPW5ldyB0aGlzLmRhdGFUcmFuc2ZlcihjLGIpO1wiY29weVwiIT09YS5uYW1lJiZcblwiY3V0XCIhPT1hLm5hbWV8fGQuc3RvcmVJZCgpO3RoaXMuY29weUN1dERhdGEmJmQuaWQ9PXRoaXMuY29weUN1dERhdGEuaWQ/KGQ9dGhpcy5jb3B5Q3V0RGF0YSxkLiQ9Yyk6dGhpcy5jb3B5Q3V0RGF0YT1kO3JldHVybiBkfXJldHVybiBuZXcgdGhpcy5kYXRhVHJhbnNmZXIobnVsbCxiKX1yZXR1cm4gbmV3IHRoaXMuZGF0YVRyYW5zZmVyKENLRURJVE9SLmVudi5lZGdlJiZhJiZhLmRhdGEuJCYmYS5kYXRhLiQuY2xpcGJvYXJkRGF0YXx8bnVsbCxiKX0scHJldmVudERlZmF1bHREcm9wT25FbGVtZW50OmZ1bmN0aW9uKGEpe2EmJmEub24oXCJkcmFnb3ZlclwiLGcpfX07bT1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZD9cImNrZS9pZFwiOlwiVGV4dFwiO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmRhdGFUcmFuc2Zlcj1mdW5jdGlvbihhLGIpe2EmJih0aGlzLiQ9YSk7dGhpcy5fPXttZXRhUmVnRXhwOi9ePG1ldGEuKj8+L2ksYm9keVJlZ0V4cDovPGJvZHkoPzpbXFxzXFxTXSo/KT4oW1xcc1xcU10qKTxcXC9ib2R5Pi9pLFxuZnJhZ21lbnRSZWdFeHA6L1xceDNjIS0tKD86U3RhcnR8RW5kKUZyYWdtZW50LS1cXHgzZS9nLGRhdGE6e30sZmlsZXM6W10sbmF0aXZlSHRtbENhY2hlOlwiXCIsbm9ybWFsaXplVHlwZTpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTtyZXR1cm5cInRleHRcIj09YXx8XCJ0ZXh0L3BsYWluXCI9PWE/XCJUZXh0XCI6XCJ1cmxcIj09YT9cIlVSTFwiOmF9fTt0aGlzLl8uZmFsbGJhY2tEYXRhVHJhbnNmZXI9bmV3IENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyKHRoaXMpO3RoaXMuaWQ9dGhpcy5nZXREYXRhKG0pO3RoaXMuaWR8fCh0aGlzLmlkPVwiVGV4dFwiPT1tP1wiXCI6XCJja2UtXCIrQ0tFRElUT1IudG9vbHMuZ2V0VW5pcXVlSWQoKSk7YiYmKHRoaXMuc291cmNlRWRpdG9yPWIsdGhpcy5zZXREYXRhKFwidGV4dC9odG1sXCIsYi5nZXRTZWxlY3RlZEh0bWwoMSkpLFwiVGV4dFwiPT1tfHx0aGlzLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpfHx0aGlzLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsXG5iLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkVGV4dCgpKSl9O0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw9MTtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0NST1NTX0VESVRPUlM9MjtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0VYVEVSTkFMPTM7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZGF0YVRyYW5zZmVyLnByb3RvdHlwZT17Z2V0RGF0YTpmdW5jdGlvbihhLGIpe2E9dGhpcy5fLm5vcm1hbGl6ZVR5cGUoYSk7dmFyIGM9XCJ0ZXh0L2h0bWxcIj09YSYmYj90aGlzLl8ubmF0aXZlSHRtbENhY2hlOnRoaXMuXy5kYXRhW2FdO2lmKHZvaWQgMD09PWN8fG51bGw9PT1jfHxcIlwiPT09Yyl7aWYodGhpcy5fLmZhbGxiYWNrRGF0YVRyYW5zZmVyLmlzUmVxdWlyZWQoKSljPXRoaXMuXy5mYWxsYmFja0RhdGFUcmFuc2Zlci5nZXREYXRhKGEsYik7ZWxzZSB0cnl7Yz10aGlzLiQuZ2V0RGF0YShhKXx8XCJcIn1jYXRjaChkKXtjPVwiXCJ9XCJ0ZXh0L2h0bWxcIiE9YXx8Ynx8KGM9dGhpcy5fc3RyaXBIdG1sKGMpKX1cIlRleHRcIj09XG5hJiZDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuZ2V0RmlsZXNDb3VudCgpJiZcImZpbGU6Ly9cIj09Yy5zdWJzdHJpbmcoMCw3KSYmKGM9XCJcIik7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjKXZhciBnPWMuaW5kZXhPZihcIlxceDNjL2h0bWxcXHgzZVwiKSxjPS0xIT09Zz9jLnN1YnN0cmluZygwLGcrNyk6YztyZXR1cm4gY30sc2V0RGF0YTpmdW5jdGlvbihhLGIpe2E9dGhpcy5fLm5vcm1hbGl6ZVR5cGUoYSk7XCJ0ZXh0L2h0bWxcIj09YT8odGhpcy5fLmRhdGFbYV09dGhpcy5fc3RyaXBIdG1sKGIpLHRoaXMuXy5uYXRpdmVIdG1sQ2FjaGU9Yik6dGhpcy5fLmRhdGFbYV09YjtpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZHx8XCJVUkxcIj09YXx8XCJUZXh0XCI9PWEpaWYoXCJUZXh0XCI9PW0mJlwiVGV4dFwiPT1hJiYodGhpcy5pZD1iKSx0aGlzLl8uZmFsbGJhY2tEYXRhVHJhbnNmZXIuaXNSZXF1aXJlZCgpKXRoaXMuXy5mYWxsYmFja0RhdGFUcmFuc2Zlci5zZXREYXRhKGEsXG5iKTtlbHNlIHRyeXt0aGlzLiQuc2V0RGF0YShhLGIpfWNhdGNoKGMpe319LHN0b3JlSWQ6ZnVuY3Rpb24oKXtcIlRleHRcIiE9PW0mJnRoaXMuc2V0RGF0YShtLHRoaXMuaWQpfSxnZXRUcmFuc2ZlclR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc291cmNlRWRpdG9yP3RoaXMuc291cmNlRWRpdG9yPT1hP0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw6Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTOkNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUx9LGNhY2hlRGF0YTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyl7Yz1iLl8ubm9ybWFsaXplVHlwZShjKTt2YXIgZD1iLmdldERhdGEoYyk7XCJ0ZXh0L2h0bWxcIj09YyYmKGIuXy5uYXRpdmVIdG1sQ2FjaGU9Yi5nZXREYXRhKGMsITApLGQ9Yi5fc3RyaXBIdG1sKGQpKTtkJiYoYi5fLmRhdGFbY109ZCl9aWYodGhpcy4kKXt2YXIgYj10aGlzLGMsZDtpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZCl7aWYodGhpcy4kLnR5cGVzKWZvcihjPVxuMDtjPHRoaXMuJC50eXBlcy5sZW5ndGg7YysrKWEodGhpcy4kLnR5cGVzW2NdKX1lbHNlIGEoXCJUZXh0XCIpLGEoXCJVUkxcIik7ZD10aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKTtpZih0aGlzLiQmJnRoaXMuJC5maWxlc3x8ZCl7dGhpcy5fLmZpbGVzPVtdO2lmKHRoaXMuJC5maWxlcyYmdGhpcy4kLmZpbGVzLmxlbmd0aClmb3IoYz0wO2M8dGhpcy4kLmZpbGVzLmxlbmd0aDtjKyspdGhpcy5fLmZpbGVzLnB1c2godGhpcy4kLmZpbGVzW2NdKTswPT09dGhpcy5fLmZpbGVzLmxlbmd0aCYmZCYmdGhpcy5fLmZpbGVzLnB1c2goZCl9fX0sZ2V0RmlsZXNDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZmlsZXMubGVuZ3RoP3RoaXMuXy5maWxlcy5sZW5ndGg6dGhpcy4kJiZ0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGg/dGhpcy4kLmZpbGVzLmxlbmd0aDp0aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKT8xOjB9LGdldEZpbGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5maWxlcy5sZW5ndGg/XG50aGlzLl8uZmlsZXNbYV06dGhpcy4kJiZ0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGg/dGhpcy4kLmZpbGVzW2FdOjA9PT1hP3RoaXMuX2dldEltYWdlRnJvbUNsaXBib2FyZCgpOnZvaWQgMH0saXNFbXB0eTpmdW5jdGlvbigpe3ZhciBhPXt9LGI7aWYodGhpcy5nZXRGaWxlc0NvdW50KCkpcmV0dXJuITE7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChDS0VESVRPUi50b29scy5vYmplY3RLZXlzKHRoaXMuXy5kYXRhKSxmdW5jdGlvbihiKXthW2JdPTF9KTtpZih0aGlzLiQpaWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQpe2lmKHRoaXMuJC50eXBlcylmb3IodmFyIGM9MDtjPHRoaXMuJC50eXBlcy5sZW5ndGg7YysrKWFbdGhpcy4kLnR5cGVzW2NdXT0xfWVsc2UgYS5UZXh0PTEsYS5VUkw9MTtcIlRleHRcIiE9bSYmKGFbbV09MCk7Zm9yKGIgaW4gYSlpZihhW2JdJiZcIlwiIT09dGhpcy5nZXREYXRhKGIpKXJldHVybiExO1xucmV0dXJuITB9LF9nZXRJbWFnZUZyb21DbGlwYm9hcmQ6ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLiQmJnRoaXMuJC5pdGVtcyYmdGhpcy4kLml0ZW1zWzBdKXRyeXtpZigoYT10aGlzLiQuaXRlbXNbMF0uZ2V0QXNGaWxlKCkpJiZhLnR5cGUpcmV0dXJuIGF9Y2F0Y2goYil7fX0sX3N0cmlwSHRtbDpmdW5jdGlvbihhKXtpZihhJiZhLmxlbmd0aCl7YT1hLnJlcGxhY2UodGhpcy5fLm1ldGFSZWdFeHAsXCJcIik7dmFyIGI9dGhpcy5fLmJvZHlSZWdFeHAuZXhlYyhhKTtiJiZiLmxlbmd0aCYmKGE9YlsxXSxhPWEucmVwbGFjZSh0aGlzLl8uZnJhZ21lbnRSZWdFeHAsXCJcIikpfXJldHVybiBhfX07Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXI9ZnVuY3Rpb24oYSl7dGhpcy5fZGF0YVRyYW5zZmVyPWE7dGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZT1cInRleHQvaHRtbFwifTtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5mYWxsYmFja0RhdGFUcmFuc2Zlci5faXNDdXN0b21NaW1lVHlwZVN1cHBvcnRlZD1cbm51bGw7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXIuX2N1c3RvbVR5cGVzPVtdO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyLnByb3RvdHlwZT17aXNSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyLGI9dGhpcy5fZGF0YVRyYW5zZmVyLiQ7aWYobnVsbD09PWEuX2lzQ3VzdG9tTWltZVR5cGVTdXBwb3J0ZWQpaWYoYil7YS5faXNDdXN0b21NaW1lVHlwZVN1cHBvcnRlZD0hMTt0cnl7Yi5zZXREYXRhKFwiY2tlL21pbWV0eXBldGVzdFwiLFwiY2tlIHRlc3QgdmFsdWVcIiksYS5faXNDdXN0b21NaW1lVHlwZVN1cHBvcnRlZD1cImNrZSB0ZXN0IHZhbHVlXCI9PT1iLmdldERhdGEoXCJja2UvbWltZXR5cGV0ZXN0XCIpLGIuY2xlYXJEYXRhKFwiY2tlL21pbWV0eXBldGVzdFwiKX1jYXRjaChjKXt9fWVsc2UgcmV0dXJuITE7cmV0dXJuIWEuX2lzQ3VzdG9tTWltZVR5cGVTdXBwb3J0ZWR9LFxuZ2V0RGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2dldERhdGEodGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZSwhMCk7aWYoYilyZXR1cm4gYzt2YXIgYz10aGlzLl9leHRyYWN0RGF0YUNvbW1lbnQoYyksZD1udWxsLGQ9YT09PXRoaXMuX2N1c3RvbURhdGFGYWxsYmFja1R5cGU/Yy5jb250ZW50OmMuZGF0YSYmYy5kYXRhW2FdP2MuZGF0YVthXTp0aGlzLl9nZXREYXRhKGEsITApO3JldHVybiBudWxsIT09ZD9kOlwiXCJ9LHNldERhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hPT09dGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZTtjJiYoYj10aGlzLl9hcHBseURhdGFDb21tZW50KGIsdGhpcy5fZ2V0RmFsbGJhY2tUeXBlRGF0YSgpKSk7dmFyIGQ9YixnPXRoaXMuX2RhdGFUcmFuc2Zlci4kO3RyeXtnLnNldERhdGEoYSxkKSxjJiYodGhpcy5fZGF0YVRyYW5zZmVyLl8ubmF0aXZlSHRtbENhY2hlPWQpfWNhdGNoKGUpe2lmKHRoaXMuX2lzVW5zdXBwb3J0ZWRNaW1lVHlwZUVycm9yKGUpKXtjPVxuQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXI7LTE9PT1DS0VESVRPUi50b29scy5pbmRleE9mKGMuX2N1c3RvbVR5cGVzLGEpJiZjLl9jdXN0b21UeXBlcy5wdXNoKGEpO3ZhciBjPXRoaXMuX2dldEZhbGxiYWNrVHlwZUNvbnRlbnQoKSxoPXRoaXMuX2dldEZhbGxiYWNrVHlwZURhdGEoKTtoW2FdPWQ7dHJ5e2Q9dGhpcy5fYXBwbHlEYXRhQ29tbWVudChjLGgpLGcuc2V0RGF0YSh0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlLGQpLHRoaXMuX2RhdGFUcmFuc2Zlci5fLm5hdGl2ZUh0bWxDYWNoZT1kfWNhdGNoKGspe2Q9XCJcIn19fXJldHVybiBkfSxfZ2V0RGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2RhdGFUcmFuc2Zlci5fLmRhdGE7aWYoIWImJmNbYV0pcmV0dXJuIGNbYV07dHJ5e3JldHVybiB0aGlzLl9kYXRhVHJhbnNmZXIuJC5nZXREYXRhKGEpfWNhdGNoKGQpe3JldHVybiBudWxsfX0sX2dldEZhbGxiYWNrVHlwZUNvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuX2RhdGFUcmFuc2Zlci5fLmRhdGFbdGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZV07YXx8KGE9dGhpcy5fZXh0cmFjdERhdGFDb21tZW50KHRoaXMuX2dldERhdGEodGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZSwhMCkpLmNvbnRlbnQpO3JldHVybiBhfSxfZ2V0RmFsbGJhY2tUeXBlRGF0YTpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyLl9jdXN0b21UeXBlcyxiPXRoaXMuX2V4dHJhY3REYXRhQ29tbWVudCh0aGlzLl9nZXREYXRhKHRoaXMuX2N1c3RvbURhdGFGYWxsYmFja1R5cGUsITApKS5kYXRhfHx7fSxjPXRoaXMuX2RhdGFUcmFuc2Zlci5fLmRhdGE7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChhLGZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWNbYV0/YlthXT1jW2FdOnZvaWQgMCE9PWJbYV0mJihiW2FdPWJbYV0pfSx0aGlzKTtyZXR1cm4gYn0sX2lzVW5zdXBwb3J0ZWRNaW1lVHlwZUVycm9yOmZ1bmN0aW9uKGEpe3JldHVybiBhLm1lc3NhZ2UmJlxuLTEhPT1hLm1lc3NhZ2Uuc2VhcmNoKC9lbGVtZW50IG5vdCBmb3VuZC9naSl9LF9leHRyYWN0RGF0YUNvbW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9e2RhdGE6bnVsbCxjb250ZW50OmF8fFwiXCJ9O2lmKGEmJjE2PGEubGVuZ3RoKXt2YXIgYzsoYz0vXFx4M2MhLS1ja2UtZGF0YTooLio/KS0tXFx4M2UvZy5leGVjKGEpKSYmY1sxXSYmKGIuZGF0YT1KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChjWzFdKSksYi5jb250ZW50PWEucmVwbGFjZShjWzBdLFwiXCIpKX1yZXR1cm4gYn0sX2FwcGx5RGF0YUNvbW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1cIlwiO2ImJkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoYikubGVuZ3RoJiYoYz1cIlxceDNjIS0tY2tlLWRhdGE6XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGIpKStcIi0tXFx4M2VcIik7cmV0dXJuIGMrKGEmJmEubGVuZ3RoP2E6XCJcIil9fX0oKSxDS0VESVRPUi5jb25maWcuY2xpcGJvYXJkX25vdGlmaWNhdGlvbkR1cmF0aW9uPVxuMUU0LGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYW5lbFwiLHtiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9QQU5FTCxDS0VESVRPUi51aS5wYW5lbC5oYW5kbGVyKX19KTtDS0VESVRPUi5VSV9QQU5FTD1cInBhbmVsXCI7Q0tFRElUT1IudWkucGFuZWw9ZnVuY3Rpb24oYSxiKXtiJiZDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyx7Y2xhc3NOYW1lOlwiXCIsY3NzOltdfSk7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLmRvY3VtZW50PWE7dGhpcy5pc0ZyYW1lZD10aGlzLmZvcmNlSUZyYW1lfHx0aGlzLmNzcy5sZW5ndGg7dGhpcy5fPXtibG9ja3M6e319fTtDS0VESVRPUi51aS5wYW5lbC5oYW5kbGVyPXtjcmVhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5wYW5lbChhKX19O3ZhciBhPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWxcIixcbidcXHgzY2RpdiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiBpZFxceDNkXCJ7aWR9XCIgZGlyXFx4M2R7ZGlyfSBjbGFzc1xceDNkXCJja2UgY2tlX3Jlc2V0X2FsbCB7ZWRpdG9ySWR9IGNrZV9wYW5lbCBja2VfcGFuZWwge2Nsc30gY2tlX3tkaXJ9XCIgc3R5bGVcXHgzZFwiei1pbmRleDp7ei1pbmRleH1cIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2V7ZnJhbWV9XFx4M2MvZGl2XFx4M2UnKSxlPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtZnJhbWVcIiwnXFx4M2NpZnJhbWUgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9mcmFtZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgZnJhbWVib3JkZXJcXHgzZFwiMFwiIHNyY1xceDNkXCJ7c3JjfVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpLGI9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1mcmFtZS1pbm5lclwiLCdcXHgzYyFET0NUWVBFIGh0bWxcXHgzZVxceDNjaHRtbCBjbGFzc1xceDNkXCJja2VfcGFuZWxfY29udGFpbmVyIHtlbnZ9XCIgZGlyXFx4M2RcIntkaXJ9XCIgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCJcXHgzZVxceDNjaGVhZFxceDNle2Nzc31cXHgzYy9oZWFkXFx4M2VcXHgzY2JvZHkgY2xhc3NcXHgzZFwiY2tlX3tkaXJ9XCIgc3R5bGVcXHgzZFwibWFyZ2luOjA7cGFkZGluZzowXCIgb25sb2FkXFx4M2RcIntvbmxvYWR9XCJcXHgzZVxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZScpO1xuQ0tFRElUT1IudWkucGFuZWwucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYyxkKXt0aGlzLmdldEhvbGRlckVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaG9sZGVyO2lmKCFhKXtpZih0aGlzLmlzRnJhbWVkKXt2YXIgYT10aGlzLmRvY3VtZW50LmdldEJ5SWQodGhpcy5pZCtcIl9mcmFtZVwiKSxjPWEuZ2V0UGFyZW50KCksYT1hLmdldEZyYW1lRG9jdW1lbnQoKTtDS0VESVRPUi5lbnYuaU9TJiZjLnNldFN0eWxlcyh7b3ZlcmZsb3c6XCJzY3JvbGxcIixcIi13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nXCI6XCJ0b3VjaFwifSk7Yz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihDS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5pc0xvYWRlZD0hMDtpZih0aGlzLm9uTG9hZCl0aGlzLm9uTG9hZCgpfSx0aGlzKSk7YS53cml0ZShiLm91dHB1dChDS0VESVRPUi50b29scy5leHRlbmQoe2NzczpDS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbCh0aGlzLmNzcyksb25sb2FkOlwid2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIrXG5jK1wiKTtcIn0sbCkpKTthLmdldFdpbmRvdygpLiQuQ0tFRElUT1I9Q0tFRElUT1I7YS5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCksYz10aGlzLmRvY3VtZW50LmdldEJ5SWQodGhpcy5pZCkuZ2V0QXR0cmlidXRlKFwiZGlyXCIpO3RoaXMuXy5vbktleURvd24mJiExPT09dGhpcy5fLm9uS2V5RG93bihiKT9hLmRhdGEucHJldmVudERlZmF1bHQoKTooMjc9PWJ8fGI9PShcInJ0bFwiPT1jPzM5OjM3KSkmJnRoaXMub25Fc2NhcGUmJiExPT09dGhpcy5vbkVzY2FwZShiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO2E9YS5nZXRCb2R5KCk7YS51bnNlbGVjdGFibGUoKTtDS0VESVRPUi5lbnYuYWlyJiZDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oYyl9ZWxzZSBhPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkKTt0aGlzLl8uaG9sZGVyPWF9cmV0dXJuIGF9O3ZhciBsPXtlZGl0b3JJZDpjLmlkLGlkOnRoaXMuaWQsbGFuZ0NvZGU6Yy5sYW5nQ29kZSxcbmRpcjpjLmxhbmcuZGlyLGNsczp0aGlzLmNsYXNzTmFtZSxmcmFtZTpcIlwiLGVudjpDS0VESVRPUi5lbnYuY3NzQ2xhc3MsXCJ6LWluZGV4XCI6Yy5jb25maWcuYmFzZUZsb2F0WkluZGV4KzF9O2lmKHRoaXMuaXNGcmFtZWQpe3ZhciBrPUNLRURJVE9SLmVudi5haXI/XCJqYXZhc2NyaXB0OnZvaWQoMClcIjpDS0VESVRPUi5lbnYuaWU/XCJqYXZhc2NyaXB0OnZvaWQoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC5jbG9zZSgpO1wiKStcIn0oKSlcIjpcIlwiO2wuZnJhbWU9ZS5vdXRwdXQoe2lkOnRoaXMuaWQrXCJfZnJhbWVcIixzcmM6a30pfWs9YS5vdXRwdXQobCk7ZCYmZC5wdXNoKGspO3JldHVybiBrfSxhZGRCbG9jazpmdW5jdGlvbihhLGIpe2I9dGhpcy5fLmJsb2Nrc1thXT1iIGluc3RhbmNlb2YgQ0tFRElUT1IudWkucGFuZWwuYmxvY2s/YjpuZXcgQ0tFRElUT1IudWkucGFuZWwuYmxvY2sodGhpcy5nZXRIb2xkZXJFbGVtZW50KCksXG5iKTt0aGlzLl8uY3VycmVudEJsb2NrfHx0aGlzLnNob3dCbG9jayhhKTtyZXR1cm4gYn0sZ2V0QmxvY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5ibG9ja3NbYV19LHNob3dCbG9jazpmdW5jdGlvbihhKXthPXRoaXMuXy5ibG9ja3NbYV07dmFyIGI9dGhpcy5fLmN1cnJlbnRCbG9jayxlPSF0aGlzLmZvcmNlSUZyYW1lfHxDS0VESVRPUi5lbnYuaWU/dGhpcy5fLmhvbGRlcjp0aGlzLmRvY3VtZW50LmdldEJ5SWQodGhpcy5pZCtcIl9mcmFtZVwiKTtiJiZiLmhpZGUoKTt0aGlzLl8uY3VycmVudEJsb2NrPWE7Q0tFRElUT1IuZmlyZShcImFyaWFXaWRnZXRcIixlKTthLl8uZm9jdXNJbmRleD0tMTt0aGlzLl8ub25LZXlEb3duPWEub25LZXlEb3duJiZDS0VESVRPUi50b29scy5iaW5kKGEub25LZXlEb3duLGEpO2Euc2hvdygpO3JldHVybiBhfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQucmVtb3ZlKCl9fTtDS0VESVRPUi51aS5wYW5lbC5ibG9jaz1cbkNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsYil7dGhpcy5lbGVtZW50PWEuYXBwZW5kKGEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2F0dHJpYnV0ZXM6e3RhYmluZGV4Oi0xLFwiY2xhc3NcIjpcImNrZV9wYW5lbF9ibG9ja1wifSxzdHlsZXM6e2Rpc3BsYXk6XCJub25lXCJ9fSkpO2ImJkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGVzKHtyb2xlOnRoaXMuYXR0cmlidXRlcy5yb2xlfHxcInByZXNlbnRhdGlvblwiLFwiYXJpYS1sYWJlbFwiOnRoaXMuYXR0cmlidXRlc1tcImFyaWEtbGFiZWxcIl0sdGl0bGU6dGhpcy5hdHRyaWJ1dGVzLnRpdGxlfHx0aGlzLmF0dHJpYnV0ZXNbXCJhcmlhLWxhYmVsXCJdfSk7dGhpcy5rZXlzPXt9O3RoaXMuXy5mb2N1c0luZGV4PS0xO3RoaXMuZWxlbWVudC5kaXNhYmxlQ29udGV4dE1lbnUoKX0sXzp7bWFya0l0ZW06ZnVuY3Rpb24oYSl7LTEhPWEmJihhPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKS5nZXRJdGVtKHRoaXMuXy5mb2N1c0luZGV4PVxuYSksQ0tFRElUT1IuZW52LndlYmtpdCYmYS5nZXREb2N1bWVudCgpLmdldFdpbmRvdygpLmZvY3VzKCksYS5mb2N1cygpLHRoaXMub25NYXJrJiZ0aGlzLm9uTWFyayhhKSl9LG1hcmtGaXJzdERpc3BsYXllZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcIm5vbmVcIj09YS5nZXRTdHlsZShcImRpc3BsYXlcIil9LGU9dGhpcy5fLmdldEl0ZW1zKCksayxnLGg9ZS5jb3VudCgpLTE7MDw9aDtoLS0paWYoaz1lLmdldEl0ZW0oaCksay5nZXRBc2NlbmRhbnQoYil8fChnPWssdGhpcy5fLmZvY3VzSW5kZXg9aCksXCJ0cnVlXCI9PWsuZ2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKSl7Zz1rO3RoaXMuXy5mb2N1c0luZGV4PWg7YnJlYWt9ZyYmKGEmJmEoKSxDS0VESVRPUi5lbnYud2Via2l0JiZnLmdldERvY3VtZW50KCkuZ2V0V2luZG93KCkuZm9jdXMoKSxnLmZvY3VzKCksdGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGcpKX0sXG5nZXRJdGVtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImFcIil9fSxwcm90bzp7c2hvdzpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKX0saGlkZTpmdW5jdGlvbigpe3RoaXMub25IaWRlJiYhMD09PXRoaXMub25IaWRlLmNhbGwodGhpcyl8fHRoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LG9uS2V5RG93bjpmdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMua2V5c1thXTtzd2l0Y2goZSl7Y2FzZSBcIm5leHRcIjpmb3IodmFyIGs9dGhpcy5fLmZvY3VzSW5kZXgsZT10aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImFcIiksZztnPWUuZ2V0SXRlbSgrK2spOylpZihnLmdldEF0dHJpYnV0ZShcIl9ja2VfZm9jdXNcIikmJmcuJC5vZmZzZXRXaWR0aCl7dGhpcy5fLmZvY3VzSW5kZXg9aztnLmZvY3VzKCk7YnJlYWt9cmV0dXJuIGd8fGI/ITE6KHRoaXMuXy5mb2N1c0luZGV4PS0xLHRoaXMub25LZXlEb3duKGEsXG4xKSk7Y2FzZSBcInByZXZcIjprPXRoaXMuXy5mb2N1c0luZGV4O2ZvcihlPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKTswPGsmJihnPWUuZ2V0SXRlbSgtLWspKTspe2lmKGcuZ2V0QXR0cmlidXRlKFwiX2NrZV9mb2N1c1wiKSYmZy4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1rO2cuZm9jdXMoKTticmVha31nPW51bGx9cmV0dXJuIGd8fGI/ITE6KHRoaXMuXy5mb2N1c0luZGV4PWUuY291bnQoKSx0aGlzLm9uS2V5RG93bihhLDEpKTtjYXNlIFwiY2xpY2tcIjpjYXNlIFwibW91c2V1cFwiOnJldHVybiBrPXRoaXMuXy5mb2N1c0luZGV4LChnPTA8PWsmJnRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKS5nZXRJdGVtKGspKSYmKGcuJFtlXT9nLiRbZV0oKTpnLiRbXCJvblwiK2VdKCkpLCExfXJldHVybiEwfX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImZsb2F0cGFuZWxcIix7cmVxdWlyZXM6XCJwYW5lbFwifSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsXG5jLGQsbCxrKXtrPUNLRURJVE9SLnRvb2xzLmdlbktleShjLmdldFVuaXF1ZUlkKCksZC5nZXRVbmlxdWVJZCgpLGEubGFuZy5kaXIsYS51aUNvbG9yfHxcIlwiLGwuY3NzfHxcIlwiLGt8fFwiXCIpO3ZhciBnPWVba107Z3x8KGc9ZVtrXT1uZXcgQ0tFRElUT1IudWkucGFuZWwoYyxsKSxnLmVsZW1lbnQ9ZC5hcHBlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZy5yZW5kZXIoYSksYykpLGcuZWxlbWVudC5zZXRTdHlsZXMoe2Rpc3BsYXk6XCJub25lXCIscG9zaXRpb246XCJhYnNvbHV0ZVwifSkpO3JldHVybiBnfXZhciBlPXt9O0NLRURJVE9SLnVpLmZsb2F0UGFuZWw9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYixjLGQsZSl7ZnVuY3Rpb24gaygpe2YuaGlkZSgpfWQuZm9yY2VJRnJhbWU9MTtkLnRvb2xiYXJSZWxhdGVkJiZiLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FJiYoYz1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK1xuYi5uYW1lKSk7dmFyIGc9Yy5nZXREb2N1bWVudCgpO2U9YShiLGcsYyxkLGV8fDApO3ZhciBoPWUuZWxlbWVudCxtPWguZ2V0Rmlyc3QoKSxmPXRoaXM7aC5kaXNhYmxlQ29udGV4dE1lbnUoKTt0aGlzLmVsZW1lbnQ9aDt0aGlzLl89e2VkaXRvcjpiLHBhbmVsOmUscGFyZW50RWxlbWVudDpjLGRlZmluaXRpb246ZCxkb2N1bWVudDpnLGlmcmFtZTptLGNoaWxkcmVuOltdLGRpcjpiLmxhbmcuZGlyLHNob3dCbG9ja1BhcmFtczpudWxsfTtiLm9uKFwibW9kZVwiLGspO2Iub24oXCJyZXNpemVcIixrKTtnLmdldFdpbmRvdygpLm9uKFwicmVzaXplXCIsZnVuY3Rpb24oKXt0aGlzLnJlcG9zaXRpb24oKX0sdGhpcyl9LHByb3RvOnthZGRCbG9jazpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLl8ucGFuZWwuYWRkQmxvY2soYSxjKX0sYWRkTGlzdEJsb2NrOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuXy5wYW5lbC5hZGRMaXN0QmxvY2soYSxjKX0sZ2V0QmxvY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5wYW5lbC5nZXRCbG9jayhhKX0sXG5zaG93QmxvY2s6ZnVuY3Rpb24oYSxjLGQsZSxrLGcpe3ZhciBoPXRoaXMuXy5wYW5lbCxtPWguc2hvd0Jsb2NrKGEpO3RoaXMuXy5zaG93QmxvY2tQYXJhbXM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO3RoaXMuYWxsb3dCbHVyKCExKTt2YXIgZj10aGlzLl8uZWRpdG9yLmVkaXRhYmxlKCk7dGhpcy5fLnJldHVybkZvY3VzPWYuaGFzRm9jdXM/ZjpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoQ0tFRElUT1IuZG9jdW1lbnQuJC5hY3RpdmVFbGVtZW50KTt0aGlzLl8uaGlkZVRpbWVvdXQ9MDt2YXIgbj10aGlzLmVsZW1lbnQsZj10aGlzLl8uaWZyYW1lLGY9Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2U/ZjpuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyhmLiQuY29udGVudFdpbmRvdykscD1uLmdldERvY3VtZW50KCkscj10aGlzLl8ucGFyZW50RWxlbWVudC5nZXRQb3NpdGlvbmVkQW5jZXN0b3IoKSx2PWMuZ2V0RG9jdW1lbnRQb3NpdGlvbihwKSxwPXI/ci5nZXREb2N1bWVudFBvc2l0aW9uKHApOlxue3g6MCx5OjB9LHg9XCJydGxcIj09dGhpcy5fLmRpcixxPXYueCsoZXx8MCktcC54LHQ9di55KyhrfHwwKS1wLnk7IXh8fDEhPWQmJjQhPWQ/eHx8MiE9ZCYmMyE9ZHx8KHErPWMuJC5vZmZzZXRXaWR0aC0xKTpxKz1jLiQub2Zmc2V0V2lkdGg7aWYoMz09ZHx8ND09ZCl0Kz1jLiQub2Zmc2V0SGVpZ2h0LTE7dGhpcy5fLnBhbmVsLl8ub2Zmc2V0UGFyZW50SWQ9Yy5nZXRJZCgpO24uc2V0U3R5bGVzKHt0b3A6dCtcInB4XCIsbGVmdDowLGRpc3BsYXk6XCJcIn0pO24uc2V0T3BhY2l0eSgwKTtuLmdldEZpcnN0KCkucmVtb3ZlU3R5bGUoXCJ3aWR0aFwiKTt0aGlzLl8uZWRpdG9yLmZvY3VzTWFuYWdlci5hZGQoZik7dGhpcy5fLmJsdXJTZXR8fChDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPSEwLGYub24oXCJibHVyXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2RlbGV0ZSB0aGlzLl8ucmV0dXJuRm9jdXM7dGhpcy5oaWRlKCl9dGhpcy5hbGxvd0JsdXIoKSYmYS5kYXRhLmdldFBoYXNlKCk9PUNLRURJVE9SLkVWRU5UX1BIQVNFX0FUX1RBUkdFVCYmXG50aGlzLnZpc2libGUmJiF0aGlzLl8uYWN0aXZlQ2hpbGQmJihDS0VESVRPUi5lbnYuaU9TP3RoaXMuXy5oaWRlVGltZW91dHx8KHRoaXMuXy5oaWRlVGltZW91dD1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGIsMCx0aGlzKSk6Yi5jYWxsKHRoaXMpKX0sdGhpcyksZi5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXt0aGlzLl8uZm9jdXNlZD0hMDt0aGlzLmhpZGVDaGlsZCgpO3RoaXMuYWxsb3dCbHVyKCEwKX0sdGhpcyksQ0tFRElUT1IuZW52LmlPUyYmKGYub24oXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fLmhpZGVUaW1lb3V0KX0sdGhpcyksZi5vbihcInRvdWNoZW5kXCIsZnVuY3Rpb24oKXt0aGlzLl8uaGlkZVRpbWVvdXQ9MDt0aGlzLmZvY3VzKCl9LHRoaXMpKSxDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPSExLHRoaXMuXy5ibHVyU2V0PTEpO2gub25Fc2NhcGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbihhKXtpZih0aGlzLm9uRXNjYXBlJiZcbiExPT09dGhpcy5vbkVzY2FwZShhKSlyZXR1cm4hMX0sdGhpcyk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt2YXIgYT1uO2EucmVtb3ZlU3R5bGUoXCJ3aWR0aFwiKTtpZihtLmF1dG9TaXplKXt2YXIgYj1tLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxiPShDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZWRnZT9tLmVsZW1lbnQ6Yi5nZXRCb2R5KCkpLiQuc2Nyb2xsV2lkdGg7Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiYwPGImJihiKz0oYS4kLm9mZnNldFdpZHRofHwwKS0oYS4kLmNsaWVudFdpZHRofHwwKSszKTthLnNldFN0eWxlKFwid2lkdGhcIixiKzEwK1wicHhcIik7Yj1tLmVsZW1lbnQuJC5zY3JvbGxIZWlnaHQ7Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiYwPGImJihiKz0oYS4kLm9mZnNldEhlaWdodHx8MCktKGEuJC5jbGllbnRIZWlnaHR8fFxuMCkrMyk7YS5zZXRTdHlsZShcImhlaWdodFwiLGIrXCJweFwiKTtoLl8uY3VycmVudEJsb2NrLmVsZW1lbnQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpLnJlbW92ZVN0eWxlKFwiZGlzcGxheVwiKX1lbHNlIGEucmVtb3ZlU3R5bGUoXCJoZWlnaHRcIik7eCYmKHEtPW4uJC5vZmZzZXRXaWR0aCk7bi5zZXRTdHlsZShcImxlZnRcIixxK1wicHhcIik7dmFyIGI9aC5lbGVtZW50LmdldFdpbmRvdygpLGE9bi4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGI9Yi5nZXRWaWV3UGFuZVNpemUoKSxjPWEud2lkdGh8fGEucmlnaHQtYS5sZWZ0LGQ9YS5oZWlnaHR8fGEuYm90dG9tLWEudG9wLGY9eD9hLnJpZ2h0OmIud2lkdGgtYS5sZWZ0LGU9eD9iLndpZHRoLWEucmlnaHQ6YS5sZWZ0O3g/ZjxjJiYocT1lPmM/cStjOmIud2lkdGg+Yz9xLWEubGVmdDpxLWEucmlnaHQrYi53aWR0aCk6ZjxjJiYocT1lPmM/cS1jOmIud2lkdGg+Yz9xLWEucmlnaHQrYi53aWR0aDpxLWEubGVmdCk7Yz1hLnRvcDtiLmhlaWdodC1cbmEudG9wPGQmJih0PWM+ZD90LWQ6Yi5oZWlnaHQ+ZD90LWEuYm90dG9tK2IuaGVpZ2h0OnQtYS50b3ApO0NLRURJVE9SLmVudi5pZSYmKGI9YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobi4kLm9mZnNldFBhcmVudCksXCJodG1sXCI9PWIuZ2V0TmFtZSgpJiYoYj1iLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpKSxcInJ0bFwiPT1iLmdldENvbXB1dGVkU3R5bGUoXCJkaXJlY3Rpb25cIikmJihxPUNLRURJVE9SLmVudi5pZThDb21wYXQ/cS0yKm4uZ2V0RG9jdW1lbnQoKS5nZXREb2N1bWVudEVsZW1lbnQoKS4kLnNjcm9sbExlZnQ6cS0oYS4kLnNjcm9sbFdpZHRoLWEuJC5jbGllbnRXaWR0aCkpKTt2YXIgYT1uLmdldEZpcnN0KCksazsoaz1hLmdldEN1c3RvbURhdGEoXCJhY3RpdmVQYW5lbFwiKSkmJmsub25IaWRlJiZrLm9uSGlkZS5jYWxsKHRoaXMsMSk7YS5zZXRDdXN0b21EYXRhKFwiYWN0aXZlUGFuZWxcIix0aGlzKTtuLnNldFN0eWxlcyh7dG9wOnQrXCJweFwiLGxlZnQ6cStcInB4XCJ9KTtuLnNldE9wYWNpdHkoMSk7XG5nJiZnKCl9LHRoaXMpO2guaXNMb2FkZWQ/YSgpOmgub25Mb2FkPWE7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmVudi53ZWJraXQmJkNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFNjcm9sbFBvc2l0aW9uKCkueTt0aGlzLmZvY3VzKCk7bS5lbGVtZW50LmZvY3VzKCk7Q0tFRElUT1IuZW52LndlYmtpdCYmKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS4kLnNjcm9sbFRvcD1hKTt0aGlzLmFsbG93Qmx1cighMCk7Q0tFRElUT1IuZW52LmllP0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXttLm1hcmtGaXJzdERpc3BsYXllZD9tLm1hcmtGaXJzdERpc3BsYXllZCgpOm0uXy5tYXJrRmlyc3REaXNwbGF5ZWQoKX0sMCk6bS5tYXJrRmlyc3REaXNwbGF5ZWQ/bS5tYXJrRmlyc3REaXNwbGF5ZWQoKTptLl8ubWFya0ZpcnN0RGlzcGxheWVkKCk7dGhpcy5fLmVkaXRvci5maXJlKFwicGFuZWxTaG93XCIsdGhpcyl9LFxuMCx0aGlzKX0sQ0tFRElUT1IuZW52LmFpcj8yMDA6MCx0aGlzKTt0aGlzLnZpc2libGU9MTt0aGlzLm9uU2hvdyYmdGhpcy5vblNob3cuY2FsbCh0aGlzKX0scmVwb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5zaG93QmxvY2tQYXJhbXM7dGhpcy52aXNpYmxlJiZ0aGlzLl8uc2hvd0Jsb2NrUGFyYW1zJiYodGhpcy5oaWRlKCksdGhpcy5zaG93QmxvY2suYXBwbHkodGhpcyxhKSl9LGZvY3VzOmZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCk7YSYmIWEuZXF1YWxzKHRoaXMuXy5pZnJhbWUpJiZhLiQuYmx1cigpfSh0aGlzLl8ubGFzdEZvY3VzZWR8fHRoaXMuXy5pZnJhbWUuZ2V0RnJhbWVEb2N1bWVudCgpLmdldFdpbmRvdygpKS5mb2N1cygpfSxibHVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmlmcmFtZS5nZXRGcmFtZURvY3VtZW50KCkuZ2V0QWN0aXZlKCk7YSYmYS5pcyhcImFcIikmJih0aGlzLl8ubGFzdEZvY3VzZWQ9XG5hKX0saGlkZTpmdW5jdGlvbihhKXtpZih0aGlzLnZpc2libGUmJighdGhpcy5vbkhpZGV8fCEwIT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKSkpe3RoaXMuaGlkZUNoaWxkKCk7Q0tFRElUT1IuZW52LmdlY2tvJiZ0aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS4kLmFjdGl2ZUVsZW1lbnQuYmx1cigpO3RoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7dGhpcy52aXNpYmxlPTA7dGhpcy5lbGVtZW50LmdldEZpcnN0KCkucmVtb3ZlQ3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIpO2lmKGE9YSYmdGhpcy5fLnJldHVybkZvY3VzKUNLRURJVE9SLmVudi53ZWJraXQmJmEudHlwZSYmYS5nZXRXaW5kb3coKS4kLmZvY3VzKCksYS5mb2N1cygpO2RlbGV0ZSB0aGlzLl8ubGFzdEZvY3VzZWQ7dGhpcy5fLnNob3dCbG9ja1BhcmFtcz1udWxsO3RoaXMuXy5lZGl0b3IuZmlyZShcInBhbmVsSGlkZVwiLHRoaXMpfX0sYWxsb3dCbHVyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuXy5wYW5lbDtcbnZvaWQgMCE9PWEmJihjLmFsbG93Qmx1cj1hKTtyZXR1cm4gYy5hbGxvd0JsdXJ9LHNob3dBc0NoaWxkOmZ1bmN0aW9uKGEsYyxkLGUsayxnKXtpZih0aGlzLl8uYWN0aXZlQ2hpbGQhPWF8fGEuXy5wYW5lbC5fLm9mZnNldFBhcmVudElkIT1kLmdldElkKCkpdGhpcy5oaWRlQ2hpbGQoKSxhLm9uSGlkZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkfHx0aGlzLmhpZGUoKX0sMCx0aGlzKX0sdGhpcyksdGhpcy5fLmFjdGl2ZUNoaWxkPWEsdGhpcy5fLmZvY3VzZWQ9ITEsYS5zaG93QmxvY2soYyxkLGUsayxnKSx0aGlzLmJsdXIoKSwoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LmllNkNvbXBhdCkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmVsZW1lbnQuZ2V0Q2hpbGQoMCkuJC5zdHlsZS5jc3NUZXh0Kz1cIlwifSwxMDApfSxoaWRlQ2hpbGQ6ZnVuY3Rpb24oYSl7dmFyIGM9XG50aGlzLl8uYWN0aXZlQ2hpbGQ7YyYmKGRlbGV0ZSBjLm9uSGlkZSxkZWxldGUgdGhpcy5fLmFjdGl2ZUNoaWxkLGMuaGlkZSgpLGEmJnRoaXMuZm9jdXMoKSl9fX0pO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoQ0tFRElUT1IuaW5zdGFuY2VzKSxjO2ZvcihjIGluIGUpe3ZhciBkPWVbY107YT9kLmRlc3Ryb3koKTpkLmVsZW1lbnQuaGlkZSgpfWEmJihlPXt9KX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibWVudVwiLHtyZXF1aXJlczpcImZsb2F0cGFuZWxcIixiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgZT1hLmNvbmZpZy5tZW51X2dyb3Vwcy5zcGxpdChcIixcIiksYj1hLl8ubWVudUdyb3Vwcz17fSxjPWEuXy5tZW51SXRlbXM9e30sZD0wO2Q8ZS5sZW5ndGg7ZCsrKWJbZVtkXV09ZCsxO2EuYWRkTWVudUdyb3VwPWZ1bmN0aW9uKGEsYyl7YlthXT1jfHwxMDB9O2EuYWRkTWVudUl0ZW09ZnVuY3Rpb24oYSxcbmQpe2JbZC5ncm91cF0mJihjW2FdPW5ldyBDS0VESVRPUi5tZW51SXRlbSh0aGlzLGEsZCkpfTthLmFkZE1lbnVJdGVtcz1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzLmFkZE1lbnVJdGVtKGIsYVtiXSl9O2EuZ2V0TWVudUl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV19O2EucmVtb3ZlTWVudUl0ZW09ZnVuY3Rpb24oYSl7ZGVsZXRlIGNbYV19fX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ncm91cDxiLmdyb3VwPy0xOmEuZ3JvdXA+Yi5ncm91cD8xOmEub3JkZXI8Yi5vcmRlcj8tMTphLm9yZGVyPmIub3JkZXI/MTowfSl9dmFyIGU9J1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbWVudWl0ZW1cIlxceDNlXFx4M2NhIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfbWVudWJ1dHRvbiBja2VfbWVudWJ1dHRvbl9fe25hbWV9IGNrZV9tZW51YnV0dG9uX3tzdGF0ZX0ge2Nsc31cIiBocmVmXFx4M2RcIntocmVmfVwiIHRpdGxlXFx4M2RcInt0aXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiIF9ja2VfZm9jdXNcXHgzZDEgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcIntyb2xlfVwiIGFyaWEtbGFiZWxcXHgzZFwie2xhYmVsfVwiIGFyaWEtZGVzY3JpYmVkYnlcXHgzZFwie2lkfV9kZXNjcmlwdGlvblwiIGFyaWEtaGFzcG9wdXBcXHgzZFwie2hhc1BvcHVwfVwiIGFyaWEtZGlzYWJsZWRcXHgzZFwie2Rpc2FibGVkfVwiIHthcmlhQ2hlY2tlZH0gZHJhZ2dhYmxlXFx4M2RcImZhbHNlXCInO1xuQ0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjJiYoZSs9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGUrPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCIgb25kcmFnc3RhcnRcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7dmFyIGU9ZSsoJyBvbm1vdXNlb3ZlclxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2hvdmVyRm59LHtpbmRleH0pO1wiIG9ubW91c2VvdXRcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHttb3ZlT3V0Rm59LHtpbmRleH0pO1wiICcrKENLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIikrJ1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHtpbmRleH0pOyByZXR1cm4gZmFsc2U7XCJcXHgzZScpLGI9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJtZW51SXRlbVwiLFxuZSsnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uX2lubmVyXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbWVudWJ1dHRvbl9pY29uXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2ljb24gY2tlX2J1dHRvbl9fe2ljb25OYW1lfV9pY29uXCIgc3R5bGVcXHgzZFwie2ljb25TdHlsZX1cIlxceDNlXFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uX2xhYmVsXCJcXHgzZXtsYWJlbH1cXHgzYy9zcGFuXFx4M2V7c2hvcnRjdXRIdG1sfXthcnJvd0h0bWx9XFx4M2Mvc3BhblxceDNlXFx4M2MvYVxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1fZGVzY3JpcHRpb25cIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIiBhcmlhLWhpZGRlblxceDNkXCJmYWxzZVwiXFx4M2V7YXJpYVNob3J0Y3V0fVxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZScpLGM9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJtZW51QXJyb3dcIiwnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YXJyb3dcIlxceDNlXFx4M2NzcGFuXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyksXG5kPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwibWVudVNob3J0Y3V0XCIsJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbWVudWJ1dHRvbl9sYWJlbCBja2VfbWVudWJ1dHRvbl9zaG9ydGN1dFwiXFx4M2V7c2hvcnRjdXR9XFx4M2Mvc3BhblxceDNlJyk7Q0tFRElUT1IubWVudT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGIpe2I9dGhpcy5fLmRlZmluaXRpb249Ynx8e307dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLmVkaXRvcj1hO3RoaXMuaXRlbXM9W107dGhpcy5fLmxpc3RlbmVycz1bXTt0aGlzLl8ubGV2ZWw9Yi5sZXZlbHx8MTt2YXIgYz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYi5wYW5lbCx7Y3NzOltDS0VESVRPUi5za2luLmdldFBhdGgoXCJlZGl0b3JcIildLGxldmVsOnRoaXMuXy5sZXZlbC0xLGJsb2NrOnt9fSksZD1jLmJsb2NrLmF0dHJpYnV0ZXM9Yy5hdHRyaWJ1dGVzfHx7fTshZC5yb2xlJiYoZC5yb2xlPVwibWVudVwiKTt0aGlzLl8ucGFuZWxEZWZpbml0aW9uPVxuY30sXzp7b25TaG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCksYj1hJiZhLmdldFN0YXJ0RWxlbWVudCgpLGM9dGhpcy5lZGl0b3IuZWxlbWVudFBhdGgoKSxkPXRoaXMuXy5saXN0ZW5lcnM7dGhpcy5yZW1vdmVBbGwoKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXShiLGEsYyk7aWYoZilmb3IodmFyIG4gaW4gZil7dmFyIHA9dGhpcy5lZGl0b3IuZ2V0TWVudUl0ZW0obik7IXB8fHAuY29tbWFuZCYmIXRoaXMuZWRpdG9yLmdldENvbW1hbmQocC5jb21tYW5kKS5zdGF0ZXx8KHAuc3RhdGU9ZltuXSx0aGlzLmFkZChwKSl9fX0sb25DbGljazpmdW5jdGlvbihhKXt0aGlzLmhpZGUoKTtpZihhLm9uQ2xpY2spYS5vbkNsaWNrKCk7ZWxzZSBhLmNvbW1hbmQmJnRoaXMuZWRpdG9yLmV4ZWNDb21tYW5kKGEuY29tbWFuZCl9LG9uRXNjYXBlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGFyZW50O2I/Yi5fLnBhbmVsLmhpZGVDaGlsZCgxKTpcbjI3PT1hJiZ0aGlzLmhpZGUoMSk7cmV0dXJuITF9LG9uSGlkZTpmdW5jdGlvbigpe3RoaXMub25IaWRlJiZ0aGlzLm9uSGlkZSgpfSxzaG93U3ViTWVudTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uc3ViTWVudSxjPXRoaXMuaXRlbXNbYV07aWYoYz1jLmdldEl0ZW1zJiZjLmdldEl0ZW1zKCkpe2I/Yi5yZW1vdmVBbGwoKTooYj10aGlzLl8uc3ViTWVudT1uZXcgQ0tFRElUT1IubWVudSh0aGlzLmVkaXRvcixDS0VESVRPUi50b29scy5leHRlbmQoe30sdGhpcy5fLmRlZmluaXRpb24se2xldmVsOnRoaXMuXy5sZXZlbCsxfSwhMCkpLGIucGFyZW50PXRoaXMsYi5fLm9uQ2xpY2s9Q0tFRElUT1IudG9vbHMuYmluZCh0aGlzLl8ub25DbGljayx0aGlzKSk7Zm9yKHZhciBkIGluIGMpe3ZhciBlPXRoaXMuZWRpdG9yLmdldE1lbnVJdGVtKGQpO2UmJihlLnN0YXRlPWNbZF0sYi5hZGQoZSkpfXZhciBmPXRoaXMuXy5wYW5lbC5nZXRCbG9jayh0aGlzLmlkKS5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLmlkK1xuU3RyaW5nKGEpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zaG93KGYsMil9LDApfWVsc2UgdGhpcy5fLnBhbmVsLmhpZGVDaGlsZCgxKX19LHByb3RvOnthZGQ6ZnVuY3Rpb24oYSl7YS5vcmRlcnx8KGEub3JkZXI9dGhpcy5pdGVtcy5sZW5ndGgpO3RoaXMuaXRlbXMucHVzaChhKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dGhpcy5pdGVtcz1bXX0sc2hvdzpmdW5jdGlvbihiLGMsZCxlKXtpZighdGhpcy5wYXJlbnQmJih0aGlzLl8ub25TaG93KCksIXRoaXMuaXRlbXMubGVuZ3RoKSlyZXR1cm47Yz1jfHwoXCJydGxcIj09dGhpcy5lZGl0b3IubGFuZy5kaXI/MjoxKTt2YXIgbT10aGlzLml0ZW1zLGY9dGhpcy5lZGl0b3Isbj10aGlzLl8ucGFuZWwscD10aGlzLl8uZWxlbWVudDtpZighbil7bj10aGlzLl8ucGFuZWw9bmV3IENLRURJVE9SLnVpLmZsb2F0UGFuZWwodGhpcy5lZGl0b3IsQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLHRoaXMuXy5wYW5lbERlZmluaXRpb24sdGhpcy5fLmxldmVsKTtcbm4ub25Fc2NhcGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbihhKXtpZighMT09PXRoaXMuXy5vbkVzY2FwZShhKSlyZXR1cm4hMX0sdGhpcyk7bi5vblNob3c9ZnVuY3Rpb24oKXtuLl8ucGFuZWwuZ2V0SG9sZGVyRWxlbWVudCgpLmdldFBhcmVudCgpLmFkZENsYXNzKFwiY2tlXCIpLmFkZENsYXNzKFwiY2tlX3Jlc2V0X2FsbFwiKX07bi5vbkhpZGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3RoaXMuXy5vbkhpZGUmJnRoaXMuXy5vbkhpZGUoKX0sdGhpcyk7cD1uLmFkZEJsb2NrKHRoaXMuaWQsdGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayk7cC5hdXRvU2l6ZT0hMDt2YXIgcj1wLmtleXM7cls0MF09XCJuZXh0XCI7cls5XT1cIm5leHRcIjtyWzM4XT1cInByZXZcIjtyW0NLRURJVE9SLlNISUZUKzldPVwicHJldlwiO3JbXCJydGxcIj09Zi5sYW5nLmRpcj8zNzozOV09Q0tFRElUT1IuZW52LmllP1wibW91c2V1cFwiOlwiY2xpY2tcIjtyWzMyXT1DS0VESVRPUi5lbnYuaWU/XCJtb3VzZXVwXCI6XG5cImNsaWNrXCI7Q0tFRElUT1IuZW52LmllJiYoclsxM109XCJtb3VzZXVwXCIpO3A9dGhpcy5fLmVsZW1lbnQ9cC5lbGVtZW50O3I9cC5nZXREb2N1bWVudCgpO3IuZ2V0Qm9keSgpLnNldFN0eWxlKFwib3ZlcmZsb3dcIixcImhpZGRlblwiKTtyLmdldEVsZW1lbnRzQnlUYWcoXCJodG1sXCIpLmdldEl0ZW0oMCkuc2V0U3R5bGUoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpO3RoaXMuXy5pdGVtT3ZlckZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dCh0aGlzLl8uc2hvd1N1YlRpbWVvdXQpO3RoaXMuXy5zaG93U3ViVGltZW91dD1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KHRoaXMuXy5zaG93U3ViTWVudSxmLmNvbmZpZy5tZW51X3N1Yk1lbnVEZWxheXx8NDAwLHRoaXMsW2FdKX0sdGhpcyk7dGhpcy5fLml0ZW1PdXRGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uc2hvd1N1YlRpbWVvdXQpfSx0aGlzKTtcbnRoaXMuXy5pdGVtQ2xpY2tGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYj10aGlzLml0ZW1zW2FdO2lmKGIuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKXRoaXMuaGlkZSgxKTtlbHNlIGlmKGIuZ2V0SXRlbXMpdGhpcy5fLnNob3dTdWJNZW51KGEpO2Vsc2UgdGhpcy5fLm9uQ2xpY2soYil9LHRoaXMpfWEobSk7Zm9yKHZhciByPWYuZWxlbWVudFBhdGgoKSxyPVsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX21lbnUnKyhyJiZyLmRpcmVjdGlvbigpIT1mLmxhbmcuZGlyP1wiIGNrZV9taXhlZF9kaXJfY29udGVudFwiOlwiXCIpKydcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnXSx2PW0ubGVuZ3RoLHg9diYmbVswXS5ncm91cCxxPTA7cTx2O3ErKyl7dmFyIHQ9bVtxXTt4IT10Lmdyb3VwJiYoci5wdXNoKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfbWVudXNlcGFyYXRvclwiIHJvbGVcXHgzZFwic2VwYXJhdG9yXCJcXHgzZVxceDNjL2RpdlxceDNlJyksXG54PXQuZ3JvdXApO3QucmVuZGVyKHRoaXMscSxyKX1yLnB1c2goXCJcXHgzYy9kaXZcXHgzZVwiKTtwLnNldEh0bWwoci5qb2luKFwiXCIpKTtDS0VESVRPUi51aS5maXJlKFwicmVhZHlcIix0aGlzKTt0aGlzLnBhcmVudD90aGlzLnBhcmVudC5fLnBhbmVsLnNob3dBc0NoaWxkKG4sdGhpcy5pZCxiLGMsZCxlKTpuLnNob3dCbG9jayh0aGlzLmlkLGIsYyxkLGUpO2YuZmlyZShcIm1lbnVTaG93XCIsW25dKX0sYWRkTGlzdGVuZXI6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3RlbmVycy5wdXNoKGEpfSxoaWRlOmZ1bmN0aW9uKGEpe3RoaXMuXy5vbkhpZGUmJnRoaXMuXy5vbkhpZGUoKTt0aGlzLl8ucGFuZWwmJnRoaXMuXy5wYW5lbC5oaWRlKGEpfSxmaW5kSXRlbUJ5Q29tbWFuZE5hbWU6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IudG9vbHMuYXJyYXkuZmlsdGVyKHRoaXMuaXRlbXMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmNvbW1hbmR9KTtyZXR1cm4gYi5sZW5ndGg/KGI9YlswXSx7aXRlbTpiLFxuZWxlbWVudDp0aGlzLl8uZWxlbWVudC5maW5kT25lKFwiLlwiK2IuY2xhc3NOYW1lKX0pOm51bGx9fX0pO0NLRURJVE9SLm1lbnVJdGVtPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsYixjKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxjLHtvcmRlcjowLGNsYXNzTmFtZTpcImNrZV9tZW51YnV0dG9uX19cIitifSk7dGhpcy5ncm91cD1hLl8ubWVudUdyb3Vwc1t0aGlzLmdyb3VwXTt0aGlzLmVkaXRvcj1hO3RoaXMubmFtZT1ifSxwcm90bzp7cmVuZGVyOmZ1bmN0aW9uKGEsZSxnKXt2YXIgaD1hLmlkK1N0cmluZyhlKSxtPVwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnN0YXRlP0NLRURJVE9SLlRSSVNUQVRFX09GRjp0aGlzLnN0YXRlLGY9XCJcIixuPXRoaXMuZWRpdG9yLHAscix2PW09PUNLRURJVE9SLlRSSVNUQVRFX09OP1wib25cIjptPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9cImRpc2FibGVkXCI6XCJvZmZcIjt0aGlzLnJvbGUgaW57bWVudWl0ZW1jaGVja2JveDoxLFxubWVudWl0ZW1yYWRpbzoxfSYmKGY9JyBhcmlhLWNoZWNrZWRcXHgzZFwiJysobT09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJ0cnVlXCI6XCJmYWxzZVwiKSsnXCInKTt2YXIgeD10aGlzLmdldEl0ZW1zLHE9XCJcXHgyNiNcIisoXCJydGxcIj09dGhpcy5lZGl0b3IubGFuZy5kaXI/XCI5NjY4XCI6XCI5NjU4XCIpK1wiO1wiLHQ9dGhpcy5uYW1lO3RoaXMuaWNvbiYmIS9cXC4vLnRlc3QodGhpcy5pY29uKSYmKHQ9dGhpcy5pY29uKTt0aGlzLmNvbW1hbmQmJihwPW4uZ2V0Q29tbWFuZCh0aGlzLmNvbW1hbmQpLChwPW4uZ2V0Q29tbWFuZEtleXN0cm9rZShwKSkmJihyPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKG4ubGFuZy5jb21tb24ua2V5Ym9hcmQscCkpKTthPXtpZDpoLG5hbWU6dGhpcy5uYW1lLGljb25OYW1lOnQsbGFiZWw6dGhpcy5sYWJlbCxjbHM6dGhpcy5jbGFzc05hbWV8fFwiXCIsc3RhdGU6dixoYXNQb3B1cDp4P1widHJ1ZVwiOlwiZmFsc2VcIixkaXNhYmxlZDptPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxcbnRpdGxlOnRoaXMubGFiZWwrKHI/XCIgKFwiK3IuZGlzcGxheStcIilcIjpcIlwiKSxhcmlhU2hvcnRjdXQ6cj9uLmxhbmcuY29tbW9uLmtleWJvYXJkU2hvcnRjdXQrXCIgXCIrci5hcmlhOlwiXCIsaHJlZjpcImphdmFzY3JpcHQ6dm9pZCgnXCIrKHRoaXMubGFiZWx8fFwiXCIpLnJlcGxhY2UoXCInXCIpK1wiJylcIixob3ZlckZuOmEuXy5pdGVtT3ZlckZuLG1vdmVPdXRGbjphLl8uaXRlbU91dEZuLGNsaWNrRm46YS5fLml0ZW1DbGlja0ZuLGluZGV4OmUsaWNvblN0eWxlOkNLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKHQsXCJydGxcIj09dGhpcy5lZGl0b3IubGFuZy5kaXIsdD09dGhpcy5pY29uP251bGw6dGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCksc2hvcnRjdXRIdG1sOnI/ZC5vdXRwdXQoe3Nob3J0Y3V0OnIuZGlzcGxheX0pOlwiXCIsYXJyb3dIdG1sOng/Yy5vdXRwdXQoe2xhYmVsOnF9KTpcIlwiLHJvbGU6dGhpcy5yb2xlP3RoaXMucm9sZTpcIm1lbnVpdGVtXCIsYXJpYUNoZWNrZWQ6Zn07Yi5vdXRwdXQoYSxnKX19fSl9KCksXG5DS0VESVRPUi5jb25maWcubWVudV9ncm91cHM9XCJjbGlwYm9hcmQsZm9ybSx0YWJsZWNlbGwsdGFibGVjZWxscHJvcGVydGllcyx0YWJsZXJvdyx0YWJsZWNvbHVtbix0YWJsZSxhbmNob3IsbGluayxpbWFnZSxmbGFzaCxjaGVja2JveCxyYWRpbyx0ZXh0ZmllbGQsaGlkZGVuZmllbGQsaW1hZ2VidXR0b24sYnV0dG9uLHNlbGVjdCx0ZXh0YXJlYSxkaXZcIixDS0VESVRPUi5wbHVnaW5zLmFkZChcImNvbnRleHRtZW51XCIse3JlcXVpcmVzOlwibWVudVwiLG9uTG9hZDpmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuY29udGV4dE1lbnU9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IubWVudSwkOmZ1bmN0aW9uKGEpe3RoaXMuYmFzZS5jYWxsKHRoaXMsYSx7cGFuZWw6e2NsYXNzTmFtZTpcImNrZV9tZW51X3BhbmVsXCIsYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6YS5sYW5nLmNvbnRleHRtZW51Lm9wdGlvbnN9fX0pfSxwcm90bzp7YWRkVGFyZ2V0OmZ1bmN0aW9uKGEsXG5lKXthLm9uKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYz1DS0VESVRPUi5lbnYud2Via2l0P2I6Q0tFRElUT1IuZW52Lm1hYz9hLiQubWV0YUtleTphLiQuY3RybEtleTtpZighZXx8IWMpe2EucHJldmVudERlZmF1bHQoKTtpZihDS0VESVRPUi5lbnYubWFjJiZDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgYz10aGlzLmVkaXRvcixrPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0VGFyZ2V0KCksYy5lZGl0YWJsZSgpKSkuY29udGFpbnMoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfSwhMCk7ayYmXCJmYWxzZVwiPT1rLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmYy5nZXRTZWxlY3Rpb24oKS5mYWtlKGspfXZhciBrPWEuZ2V0VGFyZ2V0KCkuZ2V0RG9jdW1lbnQoKSxnPWEuZ2V0VGFyZ2V0KCkuZ2V0RG9jdW1lbnQoKS5nZXREb2N1bWVudEVsZW1lbnQoKSxjPSFrLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCksXG5rPWsuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKSxoPWM/YS4kLmNsaWVudFg6YS4kLnBhZ2VYfHxrLngrYS4kLmNsaWVudFgsbT1jP2EuJC5jbGllbnRZOmEuJC5wYWdlWXx8ay55K2EuJC5jbGllbnRZO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLm9wZW4oZyxudWxsLGgsbSl9LENLRURJVE9SLmVudi5pZT8yMDA6MCx0aGlzKX19LHRoaXMpO2lmKENLRURJVE9SLmVudi53ZWJraXQpe3ZhciBiLGM9ZnVuY3Rpb24oKXtiPTB9O2Eub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7Yj1DS0VESVRPUi5lbnYubWFjP2EuZGF0YS4kLm1ldGFLZXk6YS5kYXRhLiQuY3RybEtleX0pO2Eub24oXCJrZXl1cFwiLGMpO2Eub24oXCJjb250ZXh0bWVudVwiLGMpfX0sb3BlbjpmdW5jdGlvbihhLGUsYixjKXshMSE9PXRoaXMuZWRpdG9yLmNvbmZpZy5lbmFibGVDb250ZXh0TWVudSYmKHRoaXMuZWRpdG9yLmZvY3VzKCksYT1hfHxDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKSxcbnRoaXMuZWRpdG9yLnNlbGVjdGlvbkNoYW5nZSgxKSx0aGlzLnNob3coYSxlLGIsYykpfX19KX0sYmVmb3JlSW5pdDpmdW5jdGlvbihhKXt2YXIgZT1hLmNvbnRleHRNZW51PW5ldyBDS0VESVRPUi5wbHVnaW5zLmNvbnRleHRNZW51KGEpO2Eub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtlLmFkZFRhcmdldChhLmVkaXRhYmxlKCksITEhPT1hLmNvbmZpZy5icm93c2VyQ29udGV4dE1lbnVPbkN0cmwpfSk7YS5hZGRDb21tYW5kKFwiY29udGV4dE1lbnVcIix7ZXhlYzpmdW5jdGlvbigpe2EuY29udGV4dE1lbnUub3BlbihhLmRvY3VtZW50LmdldEJvZHkoKSl9fSk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuU0hJRlQrMTIxLFwiY29udGV4dE1lbnVcIik7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCsxMjEsXCJjb250ZXh0TWVudVwiKX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmdW5jdGlvbiBrKGIpe2I9Zi5saXN0W2JdO3ZhciBjO2IuZXF1YWxzKGEuZWRpdGFibGUoKSl8fFxuXCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpPyhjPWEuY3JlYXRlUmFuZ2UoKSxjLnNlbGVjdE5vZGVDb250ZW50cyhiKSxjPWMuc2VsZWN0KCkpOihjPWEuZ2V0U2VsZWN0aW9uKCksYy5zZWxlY3RFbGVtZW50KGIpKTtDS0VESVRPUi5lbnYuaWUmJmEuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLHtzZWxlY3Rpb246YyxwYXRoOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYil9KTthLmZvY3VzKCl9ZnVuY3Rpb24gZygpe20mJm0uc2V0SHRtbCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9wYXRoX2VtcHR5XCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2UnKTtkZWxldGUgZi5saXN0fXZhciBoPWEudWkuc3BhY2VJZChcInBhdGhcIiksbSxmPWEuXy5lbGVtZW50c1BhdGgsbj1mLmlkQmFzZTtiLmh0bWwrPSdcXHgzY3NwYW4gaWRcXHgzZFwiJytoKydfbGFiZWxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJythLmxhbmcuZWxlbWVudHNwYXRoLmVsZUxhYmVsK1xuJ1xceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCInK2grJ1wiIGNsYXNzXFx4M2RcImNrZV9wYXRoXCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInK2grJ19sYWJlbFwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3BhdGhfZW1wdHlcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZSc7YS5vbihcInVpUmVhZHlcIixmdW5jdGlvbigpe3ZhciBiPWEudWkuc3BhY2UoXCJwYXRoXCIpO2ImJmEuZm9jdXNNYW5hZ2VyLmFkZChiLDEpfSk7Zi5vbkNsaWNrPWs7dmFyIHA9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oaykscj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihiLGMpe3ZhciBlPWYuaWRCYXNlLGc7Yz1uZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGMpO2c9XCJydGxcIj09YS5sYW5nLmRpcjtzd2l0Y2goYy5nZXRLZXlzdHJva2UoKSl7Y2FzZSBnPzM5OjM3OmNhc2UgOTpyZXR1cm4oZz1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGUrXG4oYisxKSkpfHwoZz1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGUrXCIwXCIpKSxnLmZvY3VzKCksITE7Y2FzZSBnPzM3OjM5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpyZXR1cm4oZz1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGUrKGItMSkpKXx8KGc9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChlKyhmLmxpc3QubGVuZ3RoLTEpKSksZy5mb2N1cygpLCExO2Nhc2UgMjc6cmV0dXJuIGEuZm9jdXMoKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGsoYiksITF9cmV0dXJuITB9KTthLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYil7Zm9yKHZhciBlPVtdLGc9Zi5saXN0PVtdLGs9W10sbD1mLmZpbHRlcnMsQT0hMCx6PWIuZGF0YS5wYXRoLmVsZW1lbnRzLHc9ei5sZW5ndGg7dy0tOyl7dmFyIEM9elt3XSx5PTA7Yj1DLmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIpP0MuZGF0YShcImNrZS1kaXNwbGF5LW5hbWVcIik6Qy5kYXRhKFwiY2tlLXJlYWwtZWxlbWVudC10eXBlXCIpP0MuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKTpcbkMuZ2V0TmFtZSgpOyhBPUMuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP1widHJ1ZVwiPT1DLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKTpBKXx8Qy5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil8fCh5PTEpO2Zvcih2YXIgQj0wO0I8bC5sZW5ndGg7QisrKXt2YXIgRz1sW0JdKEMsYik7aWYoITE9PT1HKXt5PTE7YnJlYWt9Yj1HfHxifXl8fChnLnVuc2hpZnQoQyksay51bnNoaWZ0KGIpKX1nPWcubGVuZ3RoO2ZvcihsPTA7bDxnO2wrKyliPWtbbF0sQT1hLmxhbmcuZWxlbWVudHNwYXRoLmVsZVRpdGxlLnJlcGxhY2UoLyUxLyxiKSxiPWMub3V0cHV0KHtpZDpuK2wsbGFiZWw6QSx0ZXh0OmIsanNUaXRsZTpcImphdmFzY3JpcHQ6dm9pZCgnXCIrYitcIicpXCIsaW5kZXg6bCxrZXlEb3duRm46cixjbGlja0ZuOnB9KSxlLnVuc2hpZnQoYik7bXx8KG09Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChoKSk7az1tO2suc2V0SHRtbChlLmpvaW4oXCJcIikrJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfcGF0aF9lbXB0eVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJyk7XG5hLmZpcmUoXCJlbGVtZW50c1BhdGhVcGRhdGVcIix7c3BhY2U6a30pfSk7YS5vbihcInJlYWRPbmx5XCIsZyk7YS5vbihcImNvbnRlbnREb21VbmxvYWRcIixnKTthLmFkZENvbW1hbmQoXCJlbGVtZW50c1BhdGhGb2N1c1wiLGUudG9vbGJhckZvY3VzKTthLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrMTIyLFwiZWxlbWVudHNQYXRoRm9jdXNcIil9dmFyIGU9e3Rvb2xiYXJGb2N1czp7ZWRpdG9yRm9jdXM6ITEscmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpeyhhPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoYS5fLmVsZW1lbnRzUGF0aC5pZEJhc2UrXCIwXCIpKSYmYS5mb2N1cyhDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5haXIpfX19LGI9XCJcIjtDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihiKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoYis9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO1xudmFyIGM9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYXRoSXRlbVwiLCdcXHgzY2EgaWRcXHgzZFwie2lkfVwiIGhyZWZcXHgzZFwie2pzVGl0bGV9XCIgdGFiaW5kZXhcXHgzZFwiLTFcIiBjbGFzc1xceDNkXCJja2VfcGF0aF9pdGVtXCIgdGl0bGVcXHgzZFwie2xhYmVsfVwiJytiKycgaGlkZWZvY3VzXFx4M2RcInRydWVcIiAgb25rZXlkb3duXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2tleURvd25Gbn0se2luZGV4fSwgZXZlbnQgKTtcIiBvbmNsaWNrXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0se2luZGV4fSk7IHJldHVybiBmYWxzZTtcIiByb2xlXFx4M2RcImJ1dHRvblwiIGFyaWEtbGFiZWxcXHgzZFwie2xhYmVsfVwiXFx4M2V7dGV4dH1cXHgzYy9hXFx4M2UnKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImVsZW1lbnRzcGF0aFwiLHtpbml0OmZ1bmN0aW9uKGIpe2IuXy5lbGVtZW50c1BhdGg9e2lkQmFzZTpcImNrZV9lbGVtZW50c3BhdGhfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpK1xuXCJfXCIsZmlsdGVyczpbXX07Yi5vbihcInVpU3BhY2VcIixmdW5jdGlvbihjKXtcImJvdHRvbVwiPT1jLmRhdGEuc3BhY2UmJmEoYixjLmRhdGEpfSl9fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7dmFyIGwsaztkLm9uKFwicmVmcmVzaFwiLGZ1bmN0aW9uKGEpe3ZhciBjPVtlXSxkO2ZvcihkIGluIGEuZGF0YS5zdGF0ZXMpYy5wdXNoKGEuZGF0YS5zdGF0ZXNbZF0pO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IudG9vbHMuc2VhcmNoKGMsYik/YjplKX0sZCxudWxsLDEwMCk7ZC5vbihcImV4ZWNcIixmdW5jdGlvbihiKXtsPWEuZ2V0U2VsZWN0aW9uKCk7az1sLmNyZWF0ZUJvb2ttYXJrcygxKTtiLmRhdGF8fChiLmRhdGE9e30pO2IuZGF0YS5kb25lPSExfSxkLG51bGwsMCk7ZC5vbihcImV4ZWNcIixmdW5jdGlvbigpe2EuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKTtsLnNlbGVjdEJvb2ttYXJrcyhrKX0sZCxudWxsLDEwMCl9dmFyIGU9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsYj1DS0VESVRPUi5UUklTVEFURV9PRkY7XG5DS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudFwiLHtpbml0OmZ1bmN0aW9uKGIpe3ZhciBkPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50LmdlbmVyaWNEZWZpbml0aW9uO2EoYixiLmFkZENvbW1hbmQoXCJpbmRlbnRcIixuZXcgZCghMCkpKTthKGIsYi5hZGRDb21tYW5kKFwib3V0ZGVudFwiLG5ldyBkKSk7Yi51aS5hZGRCdXR0b24mJihiLnVpLmFkZEJ1dHRvbihcIkluZGVudFwiLHtsYWJlbDpiLmxhbmcuaW5kZW50LmluZGVudCxjb21tYW5kOlwiaW5kZW50XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImluZGVudCwyMFwifSksYi51aS5hZGRCdXR0b24oXCJPdXRkZW50XCIse2xhYmVsOmIubGFuZy5pbmRlbnQub3V0ZGVudCxjb21tYW5kOlwib3V0ZGVudFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJpbmRlbnQsMTBcIn0pKTtiLm9uKFwiZGlyQ2hhbmdlZFwiLGZ1bmN0aW9uKGEpe3ZhciBkPWIuY3JlYXRlUmFuZ2UoKSxlPWEuZGF0YS5ub2RlO2Quc2V0U3RhcnRCZWZvcmUoZSk7ZC5zZXRFbmRBZnRlcihlKTtcbmZvcih2YXIgaD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKSxtO209aC5uZXh0KCk7KWlmKG0udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKCFtLmVxdWFscyhlKSYmbS5nZXREaXJlY3Rpb24oKSlkLnNldFN0YXJ0QWZ0ZXIobSksaD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtlbHNle3ZhciBmPWIuY29uZmlnLmluZGVudENsYXNzZXM7aWYoZilmb3IodmFyIG49XCJsdHJcIj09YS5kYXRhLmRpcj9bXCJfcnRsXCIsXCJcIl06W1wiXCIsXCJfcnRsXCJdLHA9MDtwPGYubGVuZ3RoO3ArKyltLmhhc0NsYXNzKGZbcF0rblswXSkmJihtLnJlbW92ZUNsYXNzKGZbcF0rblswXSksbS5hZGRDbGFzcyhmW3BdK25bMV0pKTtmPW0uZ2V0U3R5bGUoXCJtYXJnaW4tcmlnaHRcIik7bj1tLmdldFN0eWxlKFwibWFyZ2luLWxlZnRcIik7Zj9tLnNldFN0eWxlKFwibWFyZ2luLWxlZnRcIixmKTptLnJlbW92ZVN0eWxlKFwibWFyZ2luLWxlZnRcIik7bj9tLnNldFN0eWxlKFwibWFyZ2luLXJpZ2h0XCIsbik6bS5yZW1vdmVTdHlsZShcIm1hcmdpbi1yaWdodFwiKX19KX19KTtcbkNLRURJVE9SLnBsdWdpbnMuaW5kZW50PXtnZW5lcmljRGVmaW5pdGlvbjpmdW5jdGlvbihhKXt0aGlzLmlzSW5kZW50PSEhYTt0aGlzLnN0YXJ0RGlzYWJsZWQ9IXRoaXMuaXNJbmRlbnR9LHNwZWNpZmljRGVmaW5pdGlvbjpmdW5jdGlvbihhLGIsZSl7dGhpcy5uYW1lPWI7dGhpcy5lZGl0b3I9YTt0aGlzLmpvYnM9e307dGhpcy5lbnRlckJyPWEuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI7dGhpcy5pc0luZGVudD0hIWU7dGhpcy5yZWxhdGVkR2xvYmFsPWU/XCJpbmRlbnRcIjpcIm91dGRlbnRcIjt0aGlzLmluZGVudEtleT1lPzk6Q0tFRElUT1IuU0hJRlQrOTt0aGlzLmRhdGFiYXNlPXt9fSxyZWdpc3RlckNvbW1hbmRzOmZ1bmN0aW9uKGEsYil7YS5vbihcInBsdWdpbnNMb2FkZWRcIixmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBiKShmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0Q29tbWFuZChiLnJlbGF0ZWRHbG9iYWwpLGQ7Zm9yKGQgaW4gYi5qb2JzKWMub24oXCJleGVjXCIsXG5mdW5jdGlvbihjKXtjLmRhdGEuZG9uZXx8KGEuZmlyZShcImxvY2tTbmFwc2hvdFwiKSxiLmV4ZWNKb2IoYSxkKSYmKGMuZGF0YS5kb25lPSEwKSxhLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSxDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoYi5kYXRhYmFzZSkpfSx0aGlzLG51bGwsZCksYy5vbihcInJlZnJlc2hcIixmdW5jdGlvbihjKXtjLmRhdGEuc3RhdGVzfHwoYy5kYXRhLnN0YXRlcz17fSk7Yy5kYXRhLnN0YXRlc1tiLm5hbWUrXCJAXCIrZF09Yi5yZWZyZXNoSm9iKGEsZCxjLmRhdGEucGF0aCl9LHRoaXMsbnVsbCxkKTthLmFkZEZlYXR1cmUoYil9KSh0aGlzLGJbYV0pfSl9fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudC5nZW5lcmljRGVmaW5pdGlvbi5wcm90b3R5cGU9e2NvbnRleHQ6XCJwXCIsZXhlYzpmdW5jdGlvbigpe319O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50LnNwZWNpZmljRGVmaW5pdGlvbi5wcm90b3R5cGU9e2V4ZWNKb2I6ZnVuY3Rpb24oYSxiKXt2YXIgbD1cbnRoaXMuam9ic1tiXTtpZihsLnN0YXRlIT1lKXJldHVybiBsLmV4ZWMuY2FsbCh0aGlzLGEpfSxyZWZyZXNoSm9iOmZ1bmN0aW9uKGEsYixsKXtiPXRoaXMuam9ic1tiXTthLmFjdGl2ZUZpbHRlci5jaGVja0ZlYXR1cmUodGhpcyk/Yi5zdGF0ZT1iLnJlZnJlc2guY2FsbCh0aGlzLGEsbCk6Yi5zdGF0ZT1lO3JldHVybiBiLnN0YXRlfSxnZXRDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRhaW5zKHRoaXMuY29udGV4dCl9fX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYyhlKXtmb3IodmFyIGg9bC5zdGFydENvbnRhaW5lcix1PWwuZW5kQ29udGFpbmVyO2gmJiFoLmdldFBhcmVudCgpLmVxdWFscyhlKTspaD1oLmdldFBhcmVudCgpO2Zvcig7dSYmIXUuZ2V0UGFyZW50KCkuZXF1YWxzKGUpOyl1PXUuZ2V0UGFyZW50KCk7aWYoIWh8fCF1KXJldHVybiExO2Zvcih2YXIgQT1bXSx2PSExOyF2OyloLmVxdWFscyh1KSYmKHY9ITApLEEucHVzaChoKSxoPVxuaC5nZXROZXh0KCk7aWYoMT5BLmxlbmd0aClyZXR1cm4hMTtoPWUuZ2V0UGFyZW50cyghMCk7Zm9yKHU9MDt1PGgubGVuZ3RoO3UrKylpZihoW3VdLmdldE5hbWUmJmtbaFt1XS5nZXROYW1lKCldKXtlPWhbdV07YnJlYWt9Zm9yKHZhciBoPWQuaXNJbmRlbnQ/MTotMSx1PUFbMF0sQT1BW0EubGVuZ3RoLTFdLHY9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGUsZiksdz12W0EuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKV0uaW5kZW50LHU9dS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpO3U8PUEuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKTt1KyspaWYodlt1XS5pbmRlbnQrPWgsMDxoKXtmb3IodmFyIHg9dlt1XS5wYXJlbnQseT11LTE7MDw9eTt5LS0paWYodlt5XS5pbmRlbnQ9PT1oKXt4PXZbeV0ucGFyZW50O2JyZWFrfXZbdV0ucGFyZW50PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh4LmdldE5hbWUoKSx4LmdldERvY3VtZW50KCkpfWZvcih1PVxuQS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpKzE7dTx2Lmxlbmd0aCYmdlt1XS5pbmRlbnQ+dzt1Kyspdlt1XS5pbmRlbnQrPWg7aD1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QodixmLG51bGwsYS5jb25maWcuZW50ZXJNb2RlLGUuZ2V0RGlyZWN0aW9uKCkpO2lmKCFkLmlzSW5kZW50KXt2YXIgQjtpZigoQj1lLmdldFBhcmVudCgpKSYmQi5pcyhcImxpXCIpKWZvcih2YXIgQT1oLmxpc3ROb2RlLmdldENoaWxkcmVuKCkscj1bXSxFLHU9QS5jb3VudCgpLTE7MDw9dTt1LS0pKEU9QS5nZXRJdGVtKHUpKSYmRS5pcyYmRS5pcyhcImxpXCIpJiZyLnB1c2goRSl9aCYmaC5saXN0Tm9kZS5yZXBsYWNlKGUpO2lmKHImJnIubGVuZ3RoKWZvcih1PTA7dTxyLmxlbmd0aDt1Kyspe2ZvcihFPWU9clt1XTsoRT1FLmdldE5leHQoKSkmJkUuaXMmJkUuZ2V0TmFtZSgpaW4gazspQ0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlciYmIWUuZ2V0Rmlyc3QoYikmJmUuYXBwZW5kKGwuZG9jdW1lbnQuY3JlYXRlVGV4dChcIsKgXCIpKSxcbmUuYXBwZW5kKEUpO2UuaW5zZXJ0QWZ0ZXIoQil9aCYmYS5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpO3JldHVybiEwfWZvcih2YXIgZD10aGlzLGY9dGhpcy5kYXRhYmFzZSxrPXRoaXMuY29udGV4dCxsLHI9YS5nZXRTZWxlY3Rpb24oKSxyPShyJiZyLmdldFJhbmdlcygpKS5jcmVhdGVJdGVyYXRvcigpO2w9ci5nZXROZXh0UmFuZ2UoKTspe2Zvcih2YXIgdj1sLmdldENvbW1vbkFuY2VzdG9yKCk7diYmKHYudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwha1t2LmdldE5hbWUoKV0pOyl7aWYoYS5lZGl0YWJsZSgpLmVxdWFscyh2KSl7dj0hMTticmVha312PXYuZ2V0UGFyZW50KCl9dnx8KHY9bC5zdGFydFBhdGgoKS5jb250YWlucyhrKSkmJmwuc2V0RW5kQXQodixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtpZighdil7dmFyIHg9bC5nZXRFbmNsb3NlZE5vZGUoKTt4JiZ4LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmeC5nZXROYW1lKClpbiBrJiYobC5zZXRTdGFydEF0KHgsXG5DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksbC5zZXRFbmRBdCh4LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLHY9eCl9diYmbC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gayYmKHg9bmV3IENLRURJVE9SLmRvbS53YWxrZXIobCkseC5ldmFsdWF0b3I9ZSxsLnN0YXJ0Q29udGFpbmVyPXgubmV4dCgpKTt2JiZsLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIGsmJih4PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpLHguZXZhbHVhdG9yPWUsbC5lbmRDb250YWluZXI9eC5wcmV2aW91cygpKTtpZih2KXJldHVybiBjKHYpfXJldHVybiAwfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKFwibGlcIil9ZnVuY3Rpb24gYihhKXtyZXR1cm4gYyhhKSYmZChhKX1cbnZhciBjPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCksbD1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxrPUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudGxpc3RcIix7cmVxdWlyZXM6XCJpbmRlbnRcIixpbml0OmZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYil7ZC5zcGVjaWZpY0RlZmluaXRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucmVxdWlyZWRDb250ZW50PVtcInVsXCIsXCJvbFwiXTtiLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7dmFyIGM9Yi5lbGVtZW50UGF0aCgpO2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUmJmEuZGF0YS5rZXlDb2RlPT10aGlzLmluZGVudEtleSYmYyl7dmFyIGQ9dGhpcy5nZXRDb250ZXh0KGMpOyFkfHx0aGlzLmlzSW5kZW50JiZDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoKHRoaXMuY29udGV4dCxjLGQpfHxcbihiLmV4ZWNDb21tYW5kKHRoaXMucmVsYXRlZEdsb2JhbCksYS5jYW5jZWwoKSl9fSx0aGlzKTt0aGlzLmpvYnNbdGhpcy5pc0luZGVudD8xMDozMF09e3JlZnJlc2g6dGhpcy5pc0luZGVudD9mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29udGV4dChiKSxkPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGgodGhpcy5jb250ZXh0LGIsYyk7cmV0dXJuIGMmJnRoaXMuaXNJbmRlbnQmJiFkP2s6bH06ZnVuY3Rpb24oYSxiKXtyZXR1cm4hdGhpcy5nZXRDb250ZXh0KGIpfHx0aGlzLmlzSW5kZW50P2w6a30sZXhlYzpDS0VESVRPUi50b29scy5iaW5kKGEsdGhpcyl9fXZhciBkPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50O2QucmVnaXN0ZXJDb21tYW5kcyhiLHtpbmRlbnRsaXN0Om5ldyBjKGIsXCJpbmRlbnRsaXN0XCIsITApLG91dGRlbnRsaXN0Om5ldyBjKGIsXCJvdXRkZW50bGlzdFwiKX0pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChjLnByb3RvdHlwZSxkLnNwZWNpZmljRGVmaW5pdGlvbi5wcm90b3R5cGUsXG57Y29udGV4dDp7b2w6MSx1bDoxfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdD17fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLmNvbnRhaW5zKGUpO2N8fChjPWIuY29udGFpbnMoYSkpO3JldHVybiBjJiZkJiZkLmVxdWFscyhjLmdldEZpcnN0KGUpKX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtmdW5jdGlvbiBkKGMpe2lmKCEoIShsPWtbYz9cImdldEZpcnN0XCI6XCJnZXRMYXN0XCJdKCkpfHxsLmlzJiZsLmlzQmxvY2tCb3VuZGFyeSgpfHwhKG09Yi5yb290W2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSghMCkpKXx8bS5pcyYmbS5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KSkpYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIilbYz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0obCl9Zm9yKHZhciBmPUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShiLnJvb3QsXG5jKSxlPVtdLGc9MDtnPGIuY29udGVudHMubGVuZ3RoO2crKyl7dmFyIGg9Yi5jb250ZW50c1tnXTsoaD1oLmdldEFzY2VuZGFudChcImxpXCIsITApKSYmIWguZ2V0Q3VzdG9tRGF0YShcImxpc3RfaXRlbV9wcm9jZXNzZWRcIikmJihlLnB1c2goaCksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGMsaCxcImxpc3RfaXRlbV9wcm9jZXNzZWRcIiwhMCkpfWg9bnVsbDtmb3IoZz0wO2c8ZS5sZW5ndGg7ZysrKWg9ZVtnXS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpLGZbaF0uaW5kZW50PS0xO2ZvcihnPWgrMTtnPGYubGVuZ3RoO2crKylpZihmW2ddLmluZGVudD5mW2ctMV0uaW5kZW50KzEpe2U9ZltnLTFdLmluZGVudCsxLWZbZ10uaW5kZW50O2ZvcihoPWZbZ10uaW5kZW50O2ZbZ10mJmZbZ10uaW5kZW50Pj1oOylmW2ddLmluZGVudCs9ZSxnKys7Zy0tfXZhciBrPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChmLGMsbnVsbCxhLmNvbmZpZy5lbnRlck1vZGUsXG5iLnJvb3QuZ2V0QXR0cmlidXRlKFwiZGlyXCIpKS5saXN0Tm9kZSxsLG07ZCghMCk7ZCgpO2sucmVwbGFjZShiLnJvb3QpO2EuZmlyZShcImNvbnRlbnREb21JbnZhbGlkYXRlZFwiKX1mdW5jdGlvbiBlKGEsYil7dGhpcy5uYW1lPWE7dGhpcy5jb250ZXh0PXRoaXMudHlwZT1iO3RoaXMuYWxsb3dlZENvbnRlbnQ9YitcIiBsaVwiO3RoaXMucmVxdWlyZWRDb250ZW50PWJ9ZnVuY3Rpb24gYihhLGIsYyxkKXtmb3IodmFyIGYsZTtmPWFbZD9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKHIpOykoZT1mLmdldERpcmVjdGlvbigxKSkhPT1iLmdldERpcmVjdGlvbigxKSYmZi5zZXRBdHRyaWJ1dGUoXCJkaXJcIixlKSxmLnJlbW92ZSgpLGM/ZltkP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShjKTpiLmFwcGVuZChmLGQpfWZ1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYyhkKXt2YXIgZT1hW2Q/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShmKTtlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5pcyhhLmdldE5hbWUoKSkmJlxuKGIoYSxlLG51bGwsIWQpLGEucmVtb3ZlKCksYT1lKX1jKCk7YygxKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRibG9ja3x8YS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmQ0tFRElUT1IuZHRkW2EuZ2V0TmFtZSgpXVtcIiNcIl19ZnVuY3Rpb24gbChhLGQsZSl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2UuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUyk7dmFyIGc9ZS5leHRyYWN0Q29udGVudHMoKTtkLnRyaW0oITEsITApO3ZhciBoPWQuY3JlYXRlQm9va21hcmsoKSxsPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5zdGFydENvbnRhaW5lciksbT1sLmJsb2NrLGw9bC5sYXN0RWxlbWVudC5nZXRBc2NlbmRhbnQoXCJsaVwiLDEpfHxtLHc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChlLnN0YXJ0Q29udGFpbmVyKSxwPVxudy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSx3PXcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTttPyhtPW0uZ2V0Qm9ndXMoKSkmJm0ucmVtb3ZlKCk6dyYmKG09dy5nZXRQcmV2aW91cyhmKSkmJm4obSkmJm0ucmVtb3ZlKCk7KG09Zy5nZXRMYXN0KCkpJiZtLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbS5pcyhcImJyXCIpJiZtLnJlbW92ZSgpOyhtPWQuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoZC5zdGFydE9mZnNldCkpP2cuaW5zZXJ0QmVmb3JlKG0pOmQuc3RhcnRDb250YWluZXIuYXBwZW5kKGcpO3AmJihnPWsocCkpJiYobC5jb250YWlucyhwKT8oYihnLHAuZ2V0UGFyZW50KCkscCksZy5yZW1vdmUoKSk6bC5hcHBlbmQoZykpO2Zvcig7ZS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZlLmNoZWNrRW5kT2ZCbG9jaygpOyl7dz1lLnN0YXJ0UGF0aCgpO2c9dy5ibG9jaztpZighZylicmVhaztnLmlzKFwibGlcIikmJihsPWcuZ2V0UGFyZW50KCksZy5lcXVhbHMobC5nZXRMYXN0KGYpKSYmXG5nLmVxdWFscyhsLmdldEZpcnN0KGYpKSYmKGc9bCkpO2UubW92ZVRvUG9zaXRpb24oZyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2cucmVtb3ZlKCl9ZT1lLmNsb25lKCk7Zz1hLmVkaXRhYmxlKCk7ZS5zZXRFbmRBdChnLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7ZS5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSkmJiFuKGEpfTsoZT1lLm5leHQoKSkmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdCYmYyhlKTtkLm1vdmVUb0Jvb2ttYXJrKGgpO2Quc2VsZWN0KCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuKGE9YS5nZXRMYXN0KGYpKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0TmFtZSgpaW4gZz9hOm51bGx9dmFyIGc9e29sOjEsdWw6MX0saD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksXG5tPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxmPWZ1bmN0aW9uKGEpe3JldHVybiEoaChhKXx8bShhKSl9LG49Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO0NLRURJVE9SLnBsdWdpbnMubGlzdD17bGlzdFRvQXJyYXk6ZnVuY3Rpb24oYSxiLGMsZCxmKXtpZighZ1thLmdldE5hbWUoKV0pcmV0dXJuW107ZHx8KGQ9MCk7Y3x8KGM9W10pO2Zvcih2YXIgZT0wLGg9YS5nZXRDaGlsZENvdW50KCk7ZTxoO2UrKyl7dmFyIGs9YS5nZXRDaGlsZChlKTtrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmay5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3QmJkNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShrLGIsYyxkKzEpO2lmKFwibGlcIj09ay4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBsPXtwYXJlbnQ6YSxpbmRlbnQ6ZCxlbGVtZW50OmssY29udGVudHM6W119O2Y/bC5ncmFuZHBhcmVudD1mOihsLmdyYW5kcGFyZW50PWEuZ2V0UGFyZW50KCksXG5sLmdyYW5kcGFyZW50JiZcImxpXCI9PWwuZ3JhbmRwYXJlbnQuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYobC5ncmFuZHBhcmVudD1sLmdyYW5kcGFyZW50LmdldFBhcmVudCgpKSk7YiYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGIsayxcImxpc3RhcnJheV9pbmRleFwiLGMubGVuZ3RoKTtjLnB1c2gobCk7Zm9yKHZhciBtPTAsbj1rLmdldENoaWxkQ291bnQoKSxwO208bjttKyspcD1rLmdldENoaWxkKG0pLHAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnW3AuZ2V0TmFtZSgpXT9DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkocCxiLGMsZCsxLGwuZ3JhbmRwYXJlbnQpOmwuY29udGVudHMucHVzaChwKX19cmV0dXJuIGN9LGFycmF5VG9MaXN0OmZ1bmN0aW9uKGEsYixjLGQsZSl7Y3x8KGM9MCk7aWYoIWF8fGEubGVuZ3RoPGMrMSlyZXR1cm4gbnVsbDtmb3IodmFyIGgsaz1hW2NdLnBhcmVudC5nZXREb2N1bWVudCgpLGw9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGspLFxubj1udWxsLHk9YyxwPU1hdGgubWF4KGFbY10uaW5kZW50LDApLHI9bnVsbCxFLEYsST1kPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCI7Oyl7dmFyIEg9YVt5XTtoPUguZ3JhbmRwYXJlbnQ7RT1ILmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpO2lmKEguaW5kZW50PT1wKXtuJiZhW3ldLnBhcmVudC5nZXROYW1lKCk9PW4uZ2V0TmFtZSgpfHwobj1hW3ldLnBhcmVudC5jbG9uZSghMSwxKSxlJiZuLnNldEF0dHJpYnV0ZShcImRpclwiLGUpLGwuYXBwZW5kKG4pKTtyPW4uYXBwZW5kKEguZWxlbWVudC5jbG9uZSgwLDEpKTtFIT1uLmdldERpcmVjdGlvbigxKSYmci5zZXRBdHRyaWJ1dGUoXCJkaXJcIixFKTtmb3IoaD0wO2g8SC5jb250ZW50cy5sZW5ndGg7aCsrKXIuYXBwZW5kKEguY29udGVudHNbaF0uY2xvbmUoMSwxKSk7eSsrfWVsc2UgaWYoSC5pbmRlbnQ9PU1hdGgubWF4KHAsMCkrMSlIPWFbeS0xXS5lbGVtZW50LmdldERpcmVjdGlvbigxKSx5PUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChhLFxubnVsbCx5LGQsSCE9RT9FOm51bGwpLCFyLmdldENoaWxkQ291bnQoKSYmQ0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlciYmNz49ay4kLmRvY3VtZW50TW9kZSYmci5hcHBlbmQoay5jcmVhdGVUZXh0KFwiwqBcIikpLHIuYXBwZW5kKHkubGlzdE5vZGUpLHk9eS5uZXh0SW5kZXg7ZWxzZSBpZigtMT09SC5pbmRlbnQmJiFjJiZoKXtnW2guZ2V0TmFtZSgpXT8ocj1ILmVsZW1lbnQuY2xvbmUoITEsITApLEUhPWguZ2V0RGlyZWN0aW9uKDEpJiZyLnNldEF0dHJpYnV0ZShcImRpclwiLEUpKTpyPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChrKTt2YXIgbj1oLmdldERpcmVjdGlvbigxKSE9RSxLPUguZWxlbWVudCxKPUsuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIiksRD1LLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpLFI9ci50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiYoZCE9Q0tFRElUT1IuRU5URVJfQlJ8fG58fER8fEopLE4sUz1ILmNvbnRlbnRzLmxlbmd0aCxMO1xuZm9yKGg9MDtoPFM7aCsrKWlmKE49SC5jb250ZW50c1toXSxtKE4pJiYxPFMpUj9MPU4uY2xvbmUoMSwxKTpyLmFwcGVuZChOLmNsb25lKDEsMSkpO2Vsc2UgaWYoTi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJk4uaXNCbG9ja0JvdW5kYXJ5KCkpe24mJiFOLmdldERpcmVjdGlvbigpJiZOLnNldEF0dHJpYnV0ZShcImRpclwiLEUpO0Y9Tjt2YXIgVj1LLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO1YmJkYuc2V0QXR0cmlidXRlKFwic3R5bGVcIixWLnJlcGxhY2UoLyhbXjtdKSQvLFwiJDE7XCIpKyhGLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKSk7SiYmTi5hZGRDbGFzcyhKKTtGPW51bGw7TCYmKHIuYXBwZW5kKEwpLEw9bnVsbCk7ci5hcHBlbmQoTi5jbG9uZSgxLDEpKX1lbHNlIFI/KEZ8fChGPWsuY3JlYXRlRWxlbWVudChJKSxyLmFwcGVuZChGKSxuJiZGLnNldEF0dHJpYnV0ZShcImRpclwiLEUpKSxEJiZGLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsRCksSiYmRi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFxuSiksTCYmKEYuYXBwZW5kKEwpLEw9bnVsbCksRi5hcHBlbmQoTi5jbG9uZSgxLDEpKSk6ci5hcHBlbmQoTi5jbG9uZSgxLDEpKTtMJiYoKEZ8fHIpLmFwcGVuZChMKSxMPW51bGwpO3IudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCYmeSE9YS5sZW5ndGgtMSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiYoRT1yLmdldExhc3QoKSkmJkUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZFLmlzKFwiYnJcIikmJkUucmVtb3ZlKCksKEU9ci5nZXRMYXN0KGYpKSYmRS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkUuaXMoQ0tFRElUT1IuZHRkLiRibG9jayl8fHIuYXBwZW5kKGsuY3JlYXRlRWxlbWVudChcImJyXCIpKSk7RT1yLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImRpdlwiIT1FJiZcInBcIiE9RXx8ci5hcHBlbmRCb2d1cygpO2wuYXBwZW5kKHIpO249bnVsbDt5Kyt9ZWxzZSByZXR1cm4gbnVsbDtGPW51bGw7aWYoYS5sZW5ndGg8PXl8fE1hdGgubWF4KGFbeV0uaW5kZW50LFxuMCk8cClicmVha31pZihiKWZvcihhPWwuZ2V0Rmlyc3QoKTthOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhck1hcmtlcnMoYixhKSxhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0mJihjPWEsaz1lPWQ9dm9pZCAwLGQ9Yy5nZXREaXJlY3Rpb24oKSkpKXtmb3IoZT1jLmdldFBhcmVudCgpO2UmJiEoaz1lLmdldERpcmVjdGlvbigpKTspZT1lLmdldFBhcmVudCgpO2Q9PWsmJmMucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpfWE9YS5nZXROZXh0U291cmNlTm9kZSgpfXJldHVybntsaXN0Tm9kZTpsLG5leHRJbmRleDp5fX19O3ZhciBwPS9eaFsxLTZdJC8scj1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfRUxFTUVOVCk7ZS5wcm90b3R5cGU9e2V4ZWM6ZnVuY3Rpb24oYil7dGhpcy5yZWZyZXNoKGIsYi5lbGVtZW50UGF0aCgpKTt2YXIgZD1iLmNvbmZpZyxlPWIuZ2V0U2VsZWN0aW9uKCksXG5oPWUmJmUuZ2V0UmFuZ2VzKCk7aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXt2YXIgaz1iLmVkaXRhYmxlKCk7aWYoay5nZXRGaXJzdChmKSl7dmFyIGw9MT09aC5sZW5ndGgmJmhbMF07KGQ9bCYmbC5nZXRFbmNsb3NlZE5vZGUoKSkmJmQuaXMmJnRoaXMudHlwZT09ZC5nZXROYW1lKCkmJnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pfWVsc2UgZC5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP2suYXBwZW5kQm9ndXMoKTpoWzBdLmZpeEJsb2NrKDEsZC5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIiksZS5zZWxlY3RSYW5nZXMoaCl9Zm9yKHZhciBkPWUuY3JlYXRlQm9va21hcmtzKCEwKSxrPVtdLG09e30saD1oLmNyZWF0ZUl0ZXJhdG9yKCksbj0wOyhsPWguZ2V0TmV4dFJhbmdlKCkpJiYrK247KXt2YXIgcj1sLmdldEJvdW5kYXJ5Tm9kZXMoKSx5PXIuc3RhcnROb2RlLEI9ci5lbmROb2RlO3kudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcblwidGRcIj09eS5nZXROYW1lKCkmJmwuc2V0U3RhcnRBdChyLnN0YXJ0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Qi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidGRcIj09Qi5nZXROYW1lKCkmJmwuc2V0RW5kQXQoci5lbmROb2RlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2w9bC5jcmVhdGVJdGVyYXRvcigpO2ZvcihsLmZvcmNlQnJCcmVhaz10aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY7cj1sLmdldE5leHRQYXJhZ3JhcGgoKTspaWYoIXIuZ2V0Q3VzdG9tRGF0YShcImxpc3RfYmxvY2tcIikpe0NLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihtLHIsXCJsaXN0X2Jsb2NrXCIsMSk7Zm9yKHZhciBHPWIuZWxlbWVudFBhdGgocikseT1HLmVsZW1lbnRzLEI9MCxHPUcuYmxvY2tMaW1pdCxFLEY9eS5sZW5ndGgtMTswPD1GJiYoRT15W0ZdKTtGLS0paWYoZ1tFLmdldE5hbWUoKV0mJkcuY29udGFpbnMoRSkpe0cucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK1xubik7KHk9RS5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RcIikpP3kuY29udGVudHMucHVzaChyKTooeT17cm9vdDpFLGNvbnRlbnRzOltyXX0say5wdXNoKHkpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihtLEUsXCJsaXN0X2dyb3VwX29iamVjdFwiLHkpKTtCPTE7YnJlYWt9Qnx8KEI9RyxCLmdldEN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIituKT9CLmdldEN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIituKS5jb250ZW50cy5wdXNoKHIpOih5PXtyb290OkIsY29udGVudHM6W3JdfSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIobSxCLFwibGlzdF9ncm91cF9vYmplY3RfXCIrbix5KSxrLnB1c2goeSkpKX19Zm9yKEU9W107MDxrLmxlbmd0aDspaWYoeT1rLnNoaWZ0KCksdGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKWlmKGdbeS5yb290LmdldE5hbWUoKV0pe2g9YjtuPXk7eT1tO2w9RTtCPUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShuLnJvb3QsXG55KTtHPVtdO2ZvcihyPTA7cjxuLmNvbnRlbnRzLmxlbmd0aDtyKyspRj1uLmNvbnRlbnRzW3JdLChGPUYuZ2V0QXNjZW5kYW50KFwibGlcIiwhMCkpJiYhRi5nZXRDdXN0b21EYXRhKFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiKSYmKEcucHVzaChGKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoeSxGLFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiLCEwKSk7Zm9yKHZhciBGPW4ucm9vdC5nZXREb2N1bWVudCgpLEk9dm9pZCAwLEg9dm9pZCAwLHI9MDtyPEcubGVuZ3RoO3IrKyl7dmFyIEs9R1tyXS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpLEk9QltLXS5wYXJlbnQ7SS5pcyh0aGlzLnR5cGUpfHwoSD1GLmNyZWF0ZUVsZW1lbnQodGhpcy50eXBlKSxJLmNvcHlBdHRyaWJ1dGVzKEgse3N0YXJ0OjEsdHlwZToxfSksSC5yZW1vdmVTdHlsZShcImxpc3Qtc3R5bGUtdHlwZVwiKSxCW0tdLnBhcmVudD1IKX15PUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChCLHksbnVsbCxcbmguY29uZmlnLmVudGVyTW9kZSk7Qj12b2lkIDA7Rz15Lmxpc3ROb2RlLmdldENoaWxkQ291bnQoKTtmb3Iocj0wO3I8RyYmKEI9eS5saXN0Tm9kZS5nZXRDaGlsZChyKSk7cisrKUIuZ2V0TmFtZSgpPT10aGlzLnR5cGUmJmwucHVzaChCKTt5Lmxpc3ROb2RlLnJlcGxhY2Uobi5yb290KTtoLmZpcmUoXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIil9ZWxzZXtCPWI7bD15O3I9RTtHPWwuY29udGVudHM7aD1sLnJvb3QuZ2V0RG9jdW1lbnQoKTtuPVtdOzE9PUcubGVuZ3RoJiZHWzBdLmVxdWFscyhsLnJvb3QpJiYoeT1oLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksR1swXS5tb3ZlQ2hpbGRyZW4mJkdbMF0ubW92ZUNoaWxkcmVuKHkpLEdbMF0uYXBwZW5kKHkpLEdbMF09eSk7bD1sLmNvbnRlbnRzWzBdLmdldFBhcmVudCgpO2ZvcihGPTA7RjxHLmxlbmd0aDtGKyspbD1sLmdldENvbW1vbkFuY2VzdG9yKEdbRl0uZ2V0UGFyZW50KCkpO0k9Qi5jb25maWcudXNlQ29tcHV0ZWRTdGF0ZTtCPXk9dm9pZCAwO1xuST12b2lkIDA9PT1JfHxJO2ZvcihGPTA7RjxHLmxlbmd0aDtGKyspZm9yKEg9R1tGXTtLPUguZ2V0UGFyZW50KCk7KXtpZihLLmVxdWFscyhsKSl7bi5wdXNoKEgpOyFCJiZILmdldERpcmVjdGlvbigpJiYoQj0xKTtIPUguZ2V0RGlyZWN0aW9uKEkpO251bGwhPT15JiYoeT15JiZ5IT1IP251bGw6SCk7YnJlYWt9SD1LfWlmKCEoMT5uLmxlbmd0aCkpe0c9bltuLmxlbmd0aC0xXS5nZXROZXh0KCk7Rj1oLmNyZWF0ZUVsZW1lbnQodGhpcy50eXBlKTtyLnB1c2goRik7Zm9yKEk9cj12b2lkIDA7bi5sZW5ndGg7KXI9bi5zaGlmdCgpLEk9aC5jcmVhdGVFbGVtZW50KFwibGlcIiksSD1yLEguaXMoXCJwcmVcIil8fHAudGVzdChILmdldE5hbWUoKSl8fFwiZmFsc2VcIj09SC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/ci5hcHBlbmRUbyhJKTooci5jb3B5QXR0cmlidXRlcyhJKSx5JiZyLmdldERpcmVjdGlvbigpJiYoSS5yZW1vdmVTdHlsZShcImRpcmVjdGlvblwiKSxJLnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKSksXG5yLm1vdmVDaGlsZHJlbihJKSxyLnJlbW92ZSgpKSxJLmFwcGVuZFRvKEYpO3kmJkImJkYuc2V0QXR0cmlidXRlKFwiZGlyXCIseSk7Rz9GLmluc2VydEJlZm9yZShHKTpGLmFwcGVuZFRvKGwpfX1lbHNlIHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZnW3kucm9vdC5nZXROYW1lKCldJiZhLmNhbGwodGhpcyxiLHksbSk7Zm9yKEY9MDtGPEUubGVuZ3RoO0YrKyljKEVbRl0pO0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhtKTtlLnNlbGVjdEJvb2ttYXJrcyhkKTtiLmZvY3VzKCl9LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNvbnRhaW5zKGcsMSksZD1iLmJsb2NrTGltaXR8fGIucm9vdDtjJiZkLmNvbnRhaW5zKGMpP3RoaXMuc2V0U3RhdGUoYy5pcyh0aGlzLnR5cGUpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRik6dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaXN0XCIsXG57cmVxdWlyZXM6XCJpbmRlbnRsaXN0XCIsaW5pdDpmdW5jdGlvbihhKXthLmJsb2NrbGVzc3x8KGEuYWRkQ29tbWFuZChcIm51bWJlcmVkbGlzdFwiLG5ldyBlKFwibnVtYmVyZWRsaXN0XCIsXCJvbFwiKSksYS5hZGRDb21tYW5kKFwiYnVsbGV0ZWRsaXN0XCIsbmV3IGUoXCJidWxsZXRlZGxpc3RcIixcInVsXCIpKSxhLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKFwiTnVtYmVyZWRMaXN0XCIse2xhYmVsOmEubGFuZy5saXN0Lm51bWJlcmVkbGlzdCxjb21tYW5kOlwibnVtYmVyZWRsaXN0XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImxpc3QsMTBcIn0pLGEudWkuYWRkQnV0dG9uKFwiQnVsbGV0ZWRMaXN0XCIse2xhYmVsOmEubGFuZy5saXN0LmJ1bGxldGVkbGlzdCxjb21tYW5kOlwiYnVsbGV0ZWRsaXN0XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImxpc3QsMjBcIn0pKSxhLm9uKFwia2V5XCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpLGU7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSYmXG5jIGluezg6MSw0NjoxfSl7dmFyIGg9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxtPWgmJmguc3RhcnRQYXRoKCk7aWYoaCYmaC5jb2xsYXBzZWQpe3ZhciBwPTg9PWMsdz1hLmVkaXRhYmxlKCkscj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihoLmNsb25lKCkpO3IuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBmKGEpJiYhbihhKX07ci5ndWFyZD1mdW5jdGlvbihhLGIpe3JldHVybiEoYiYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoXCJ0YWJsZVwiKSl9O2M9aC5jbG9uZSgpO2lmKHApe3ZhciB5Oyh5PW0uY29udGFpbnMoZykpJiZoLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoeSxDS0VESVRPUi5TVEFSVCkmJih5PXkuZ2V0UGFyZW50KCkpJiZ5LmlzKFwibGlcIikmJih5PWsoeSkpPyhlPXkseT15LmdldFByZXZpb3VzKGYpLGMubW92ZVRvUG9zaXRpb24oeSYmbih5KT95OmUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk6KHIucmFuZ2Uuc2V0U3RhcnRBdCh3LFxuQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLHIucmFuZ2Uuc2V0RW5kKGguc3RhcnRDb250YWluZXIsaC5zdGFydE9mZnNldCksKHk9ci5wcmV2aW91cygpKSYmeS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJih5LmdldE5hbWUoKWluIGd8fHkuaXMoXCJsaVwiKSkmJih5LmlzKFwibGlcIil8fChyLnJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyh5KSxyLnJlc2V0KCksci5ldmFsdWF0b3I9ZCx5PXIucHJldmlvdXMoKSksZT15LGMubW92ZVRvRWxlbWVudEVkaXRFbmQoZSksYy5tb3ZlVG9Qb3NpdGlvbihjLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSkpO2lmKGUpbChhLGMsaCksYi5jYW5jZWwoKTtlbHNle3ZhciBCPW0uY29udGFpbnMoZyk7QiYmaC5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KEIsQ0tFRElUT1IuU1RBUlQpJiYoZT1CLmdldEZpcnN0KGYpLGguY2hlY2tCb3VuZGFyeU9mRWxlbWVudChlLENLRURJVE9SLlNUQVJUKSYmKHk9Qi5nZXRQcmV2aW91cyhmKSxcbmsoZSk/eSYmKGgubW92ZVRvRWxlbWVudEVkaXRFbmQoeSksaC5zZWxlY3QoKSk6YS5leGVjQ29tbWFuZChcIm91dGRlbnRcIiksYi5jYW5jZWwoKSkpfX1lbHNlIGlmKGU9bS5jb250YWlucyhcImxpXCIpKXtpZihyLnJhbmdlLnNldEVuZEF0KHcsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkscD0odz1lLmdldExhc3QoZikpJiZkKHcpP3c6ZSxtPTAsKHk9ci5uZXh0KCkpJiZ5LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmeS5nZXROYW1lKClpbiBnJiZ5LmVxdWFscyh3KT8obT0xLHk9ci5uZXh0KCkpOmguY2hlY2tCb3VuZGFyeU9mRWxlbWVudChwLENLRURJVE9SLkVORCkmJihtPTIpLG0mJnkpe2g9aC5jbG9uZSgpO2gubW92ZVRvRWxlbWVudEVkaXRTdGFydCh5KTtpZigxPT1tJiYoYy5vcHRpbWl6ZSgpLCFjLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhlKSkpe2ZvcihlPWMuc3RhcnRDb250YWluZXI7ZS5pcyhDS0VESVRPUi5kdGQuJGlubGluZSk7KUI9ZSxlPWUuZ2V0UGFyZW50KCk7XG5CJiZjLm1vdmVUb1Bvc2l0aW9uKEIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKX0yPT1tJiYoYy5tb3ZlVG9Qb3NpdGlvbihjLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxoLmVuZFBhdGgoKS5ibG9jayYmaC5tb3ZlVG9Qb3NpdGlvbihoLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpO2woYSxjLGgpO2IuY2FuY2VsKCl9fWVsc2Ugci5yYW5nZS5zZXRFbmRBdCh3LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLCh5PXIubmV4dCgpKSYmeS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnkuaXMoZykmJih5PXkuZ2V0Rmlyc3QoZiksbS5ibG9jayYmaC5jaGVja1N0YXJ0T2ZCbG9jaygpJiZoLmNoZWNrRW5kT2ZCbG9jaygpPyhtLmJsb2NrLnJlbW92ZSgpLGgubW92ZVRvRWxlbWVudEVkaXRTdGFydCh5KSxoLnNlbGVjdCgpKTprKHkpPyhoLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoeSksaC5zZWxlY3QoKSk6XG4oaD1oLmNsb25lKCksaC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHkpLGwoYSxjLGgpKSxiLmNhbmNlbCgpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5zZWxlY3Rpb25DaGFuZ2UoMSl9KX19fSkpfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7Yz1hLmNvbmZpZy5mb3JjZUVudGVyTW9kZXx8YztpZihcInd5c2l3eWdcIj09YS5tb2RlKXtifHwoYj1hLmFjdGl2ZUVudGVyTW9kZSk7dmFyIGQ9YS5lbGVtZW50UGF0aCgpO2QmJiFkLmlzQ29udGV4dEZvcihcInBcIikmJihiPUNLRURJVE9SLkVOVEVSX0JSLGM9MSk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2I9PUNLRURJVE9SLkVOVEVSX0JSP2soYSxiLG51bGwsYyk6ZyhhLGIsbnVsbCxjKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9fWZ1bmN0aW9uIGUoYSl7YT1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcyghMCk7Zm9yKHZhciBiPWEubGVuZ3RoLTE7MDxiO2ItLSlhW2JdLmRlbGV0ZUNvbnRlbnRzKCk7cmV0dXJuIGFbMF19XG5mdW5jdGlvbiBiKGEpe3ZhciBiPWEuc3RhcnRDb250YWluZXIuZ2V0QXNjZW5kYW50KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfSwhMCk7aWYoYS5yb290LmVxdWFscyhiKSlyZXR1cm4gYTtiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYik7Yi5tb3ZlVG9SYW5nZShhKTtyZXR1cm4gYn1DS0VESVRPUi5wbHVnaW5zLmFkZChcImVudGVya2V5XCIse2luaXQ6ZnVuY3Rpb24oYil7Yi5hZGRDb21tYW5kKFwiZW50ZXJcIix7bW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6ITEsZXhlYzpmdW5jdGlvbihiKXthKGIpfX0pO2IuYWRkQ29tbWFuZChcInNoaWZ0RW50ZXJcIix7bW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6ITEsZXhlYzpmdW5jdGlvbihiKXthKGIsYi5hY3RpdmVTaGlmdEVudGVyTW9kZSwxKX19KTtiLnNldEtleXN0cm9rZShbWzEzLFwiZW50ZXJcIl0sW0NLRURJVE9SLlNISUZUK1xuMTMsXCJzaGlmdEVudGVyXCJdXSl9fSk7dmFyIGM9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpO0NLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXk9e2VudGVyQmxvY2s6ZnVuY3Rpb24oYSxmLGcsbCl7aWYoZz1nfHxlKGEpKXtnPWIoZyk7dmFyIHI9Zy5kb2N1bWVudCx2PWcuY2hlY2tTdGFydE9mQmxvY2soKSx4PWcuY2hlY2tFbmRPZkJsb2NrKCkscT1hLmVsZW1lbnRQYXRoKGcuc3RhcnRDb250YWluZXIpLHQ9cS5ibG9jayx1PWY9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiLEE7aWYodiYmeCl7aWYodCYmKHQuaXMoXCJsaVwiKXx8dC5nZXRQYXJlbnQoKS5pcyhcImxpXCIpKSl7dC5pcyhcImxpXCIpfHwodD10LmdldFBhcmVudCgpKTtnPXQuZ2V0UGFyZW50KCk7QT1nLmdldFBhcmVudCgpO2w9IXQuaGFzUHJldmlvdXMoKTt2YXIgej0hdC5oYXNOZXh0KCksdT1hLmdldFNlbGVjdGlvbigpLHc9dS5jcmVhdGVCb29rbWFya3MoKSxcbnY9dC5nZXREaXJlY3Rpb24oMSkseD10LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLEM9dC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSx5PUEuZ2V0RGlyZWN0aW9uKDEpIT12O2E9YS5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSfHx5fHxDfHx4O2lmKEEuaXMoXCJsaVwiKSlsfHx6PyhsJiZ6JiZnLnJlbW92ZSgpLHRbej9cImluc2VydEFmdGVyXCI6XCJpbnNlcnRCZWZvcmVcIl0oQSkpOnQuYnJlYWtQYXJlbnQoQSk7ZWxzZXtpZihhKWlmKHEuYmxvY2suaXMoXCJsaVwiKT8oQT1yLmNyZWF0ZUVsZW1lbnQoZj09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSx5JiZBLnNldEF0dHJpYnV0ZShcImRpclwiLHYpLEMmJkEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixDKSx4JiZBLnNldEF0dHJpYnV0ZShcImNsYXNzXCIseCksdC5tb3ZlQ2hpbGRyZW4oQSkpOkE9cS5ibG9jayxsfHx6KUFbbD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oZyk7ZWxzZSB0LmJyZWFrUGFyZW50KGcpLEEuaW5zZXJ0QWZ0ZXIoZyk7XG5lbHNlIGlmKHQuYXBwZW5kQm9ndXMoITApLGx8fHopZm9yKDtyPXRbbD9cImdldEZpcnN0XCI6XCJnZXRMYXN0XCJdKCk7KXJbbD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oZyk7ZWxzZSBmb3IodC5icmVha1BhcmVudChnKTtyPXQuZ2V0TGFzdCgpOylyLmluc2VydEFmdGVyKGcpO3QucmVtb3ZlKCl9dS5zZWxlY3RCb29rbWFya3Modyk7cmV0dXJufWlmKHQmJnQuZ2V0UGFyZW50KCkuaXMoXCJibG9ja3F1b3RlXCIpKXt0LmJyZWFrUGFyZW50KHQuZ2V0UGFyZW50KCkpO3QuZ2V0UHJldmlvdXMoKS5nZXRGaXJzdChDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSl8fHQuZ2V0UHJldmlvdXMoKS5yZW1vdmUoKTt0LmdldE5leHQoKS5nZXRGaXJzdChDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSl8fHQuZ2V0TmV4dCgpLnJlbW92ZSgpO2cubW92ZVRvRWxlbWVudEVkaXRTdGFydCh0KTtnLnNlbGVjdCgpO3JldHVybn19ZWxzZSBpZih0JiZ0LmlzKFwicHJlXCIpJiZcbiF4KXtrKGEsZixnLGwpO3JldHVybn1pZih2PWcuc3BsaXRCbG9jayh1KSl7Zj12LnByZXZpb3VzQmxvY2s7dD12Lm5leHRCbG9jaztxPXYud2FzU3RhcnRPZkJsb2NrO2E9di53YXNFbmRPZkJsb2NrO3Q/KHc9dC5nZXRQYXJlbnQoKSx3LmlzKFwibGlcIikmJih0LmJyZWFrUGFyZW50KHcpLHQubW92ZSh0LmdldE5leHQoKSwxKSkpOmYmJih3PWYuZ2V0UGFyZW50KCkpJiZ3LmlzKFwibGlcIikmJihmLmJyZWFrUGFyZW50KHcpLHc9Zi5nZXROZXh0KCksZy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHcpLGYubW92ZShmLmdldFByZXZpb3VzKCkpKTtpZihxfHxhKXtpZihmKXtpZihmLmlzKFwibGlcIil8fCFoLnRlc3QoZi5nZXROYW1lKCkpJiYhZi5pcyhcInByZVwiKSlBPWYuY2xvbmUoKX1lbHNlIHQmJihBPXQuY2xvbmUoKSk7QT9sJiYhQS5pcyhcImxpXCIpJiZBLnJlbmFtZU5vZGUodSk6dyYmdy5pcyhcImxpXCIpP0E9dzooQT1yLmNyZWF0ZUVsZW1lbnQodSksZiYmKHo9Zi5nZXREaXJlY3Rpb24oKSkmJlxuQS5zZXRBdHRyaWJ1dGUoXCJkaXJcIix6KSk7aWYocj12LmVsZW1lbnRQYXRoKWZvcihsPTAsdT1yLmVsZW1lbnRzLmxlbmd0aDtsPHU7bCsrKXt3PXIuZWxlbWVudHNbbF07aWYody5lcXVhbHMoci5ibG9jayl8fHcuZXF1YWxzKHIuYmxvY2tMaW1pdCkpYnJlYWs7Q0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt3LmdldE5hbWUoKV0mJih3PXcuY2xvbmUoKSxBLm1vdmVDaGlsZHJlbih3KSxBLmFwcGVuZCh3KSl9QS5hcHBlbmRCb2d1cygpO0EuZ2V0UGFyZW50KCl8fGcuaW5zZXJ0Tm9kZShBKTtBLmlzKFwibGlcIikmJkEucmVtb3ZlQXR0cmlidXRlKFwidmFsdWVcIik7IUNLRURJVE9SLmVudi5pZXx8IXF8fGEmJmYuZ2V0Q2hpbGRDb3VudCgpfHwoZy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGE/ZjpBKSxnLnNlbGVjdCgpKTtnLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQocSYmIWE/dDpBKX1lbHNlIHQuaXMoXCJsaVwiKSYmKEE9Zy5jbG9uZSgpLEEuc2VsZWN0Tm9kZUNvbnRlbnRzKHQpLEE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoQSksXG5BLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4hKGQoYSl8fGMoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kaW5saW5lJiYhKGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRlbXB0eSkpfSwodz1BLm5leHQoKSkmJncudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ3LmlzKFwidWxcIixcIm9sXCIpJiYoQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/ci5jcmVhdGVFbGVtZW50KFwiYnJcIik6ci5jcmVhdGVUZXh0KFwiwqBcIikpLmluc2VydEJlZm9yZSh3KSksdCYmZy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHQpO2cuc2VsZWN0KCk7Zy5zY3JvbGxJbnRvVmlldygpfX19LGVudGVyQnI6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYz1jfHxlKGEpKXt2YXIgaz1jLmRvY3VtZW50LGw9Yy5jaGVja0VuZE9mQmxvY2soKSx4PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYS5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKSksXG5xPXguYmxvY2ssdD1xJiZ4LmJsb2NrLmdldE5hbWUoKTtkfHxcImxpXCIhPXQ/KCFkJiZsJiZoLnRlc3QodCk/KGw9cS5nZXREaXJlY3Rpb24oKSk/KGs9ay5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGsuc2V0QXR0cmlidXRlKFwiZGlyXCIsbCksay5pbnNlcnRBZnRlcihxKSxjLnNldFN0YXJ0KGssMCkpOihrLmNyZWF0ZUVsZW1lbnQoXCJiclwiKS5pbnNlcnRBZnRlcihxKSxDS0VESVRPUi5lbnYuZ2Vja28mJmsuY3JlYXRlVGV4dChcIlwiKS5pbnNlcnRBZnRlcihxKSxjLnNldFN0YXJ0QXQocS5nZXROZXh0KCksQ0tFRElUT1IuZW52LmllP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpOihhPVwicHJlXCI9PXQmJkNLRURJVE9SLmVudi5pZSYmOD5DS0VESVRPUi5lbnYudmVyc2lvbj9rLmNyZWF0ZVRleHQoXCJcXHJcIik6ay5jcmVhdGVFbGVtZW50KFwiYnJcIiksYy5kZWxldGVDb250ZW50cygpLGMuaW5zZXJ0Tm9kZShhKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9cbihrLmNyZWF0ZVRleHQoXCLvu79cIikuaW5zZXJ0QWZ0ZXIoYSksbCYmKHF8fHguYmxvY2tMaW1pdCkuYXBwZW5kQm9ndXMoKSxhLmdldE5leHQoKS4kLm5vZGVWYWx1ZT1cIlwiLGMuc2V0U3RhcnRBdChhLmdldE5leHQoKSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpOmMuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpLGMuY29sbGFwc2UoITApLGMuc2VsZWN0KCksYy5zY3JvbGxJbnRvVmlldygpKTpnKGEsYixjLGQpfX19O3ZhciBsPUNLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXksaz1sLmVudGVyQnIsZz1sLmVudGVyQmxvY2ssaD0vXmhbMS02XSQvfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBjPXt9LGQ9W10sbD17bmJzcDpcIsKgXCIsc2h5Olwiwq1cIixndDpcIlxceDNlXCIsbHQ6XCJcXHgzY1wiLGFtcDpcIlxceDI2XCIsYXBvczpcIidcIixxdW90OidcIid9O2E9YS5yZXBsYWNlKC9cXGIobmJzcHxzaHl8Z3R8bHR8YW1wfGFwb3N8cXVvdCkoPzosfCQpL2csZnVuY3Rpb24oYSxcbmYpe3ZhciBlPWI/XCJcXHgyNlwiK2YrXCI7XCI6bFtmXTtjW2VdPWI/bFtmXTpcIlxceDI2XCIrZitcIjtcIjtkLnB1c2goZSk7cmV0dXJuXCJcIn0pO2lmKCFiJiZhKXthPWEuc3BsaXQoXCIsXCIpO3ZhciBrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZztrLmlubmVySFRNTD1cIlxceDI2XCIrYS5qb2luKFwiO1xceDI2XCIpK1wiO1wiO2c9ay5pbm5lckhUTUw7az1udWxsO2ZvcihrPTA7azxnLmxlbmd0aDtrKyspe3ZhciBoPWcuY2hhckF0KGspO2NbaF09XCJcXHgyNlwiK2Fba10rXCI7XCI7ZC5wdXNoKGgpfX1jLnJlZ2V4PWQuam9pbihiP1wifFwiOlwiXCIpO3JldHVybiBjfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZW50aXRpZXNcIix7YWZ0ZXJJbml0OmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGhbYV19ZnVuY3Rpb24gYyhhKXtyZXR1cm5cImZvcmNlXCIhPWQuZW50aXRpZXNfcHJvY2Vzc051bWVyaWNhbCYma1thXT9rW2FdOlwiXFx4MjYjXCIrYS5jaGFyQ29kZUF0KDApK1wiO1wifXZhciBkPWUuY29uZmlnO2lmKGU9XG4oZT1lLmRhdGFQcm9jZXNzb3IpJiZlLmh0bWxGaWx0ZXIpe3ZhciBsPVtdOyExIT09ZC5iYXNpY0VudGl0aWVzJiZsLnB1c2goXCJuYnNwLGd0LGx0LGFtcFwiKTtkLmVudGl0aWVzJiYobC5sZW5ndGgmJmwucHVzaChcInF1b3QsaWV4Y2wsY2VudCxwb3VuZCxjdXJyZW4seWVuLGJydmJhcixzZWN0LHVtbCxjb3B5LG9yZGYsbGFxdW8sbm90LHNoeSxyZWcsbWFjcixkZWcscGx1c21uLHN1cDIsc3VwMyxhY3V0ZSxtaWNybyxwYXJhLG1pZGRvdCxjZWRpbCxzdXAxLG9yZG0scmFxdW8sZnJhYzE0LGZyYWMxMixmcmFjMzQsaXF1ZXN0LHRpbWVzLGRpdmlkZSxmbm9mLGJ1bGwsaGVsbGlwLHByaW1lLFByaW1lLG9saW5lLGZyYXNsLHdlaWVycCxpbWFnZSxyZWFsLHRyYWRlLGFsZWZzeW0sbGFycix1YXJyLHJhcnIsZGFycixoYXJyLGNyYXJyLGxBcnIsdUFycixyQXJyLGRBcnIsaEFycixmb3JhbGwscGFydCxleGlzdCxlbXB0eSxuYWJsYSxpc2luLG5vdGluLG5pLHByb2Qsc3VtLG1pbnVzLGxvd2FzdCxyYWRpYyxwcm9wLGluZmluLGFuZyxhbmQsb3IsY2FwLGN1cCxpbnQsdGhlcmU0LHNpbSxjb25nLGFzeW1wLG5lLGVxdWl2LGxlLGdlLHN1YixzdXAsbnN1YixzdWJlLHN1cGUsb3BsdXMsb3RpbWVzLHBlcnAsc2RvdCxsY2VpbCxyY2VpbCxsZmxvb3IscmZsb29yLGxhbmcscmFuZyxsb3osc3BhZGVzLGNsdWJzLGhlYXJ0cyxkaWFtcyxjaXJjLHRpbGRlLGVuc3AsZW1zcCx0aGluc3Asenduaix6d2osbHJtLHJsbSxuZGFzaCxtZGFzaCxsc3F1byxyc3F1byxzYnF1byxsZHF1byxyZHF1byxiZHF1byxkYWdnZXIsRGFnZ2VyLHBlcm1pbCxsc2FxdW8scnNhcXVvLGV1cm9cIiksXG5kLmVudGl0aWVzX2xhdGluJiZsLnB1c2goXCJBZ3JhdmUsQWFjdXRlLEFjaXJjLEF0aWxkZSxBdW1sLEFyaW5nLEFFbGlnLENjZWRpbCxFZ3JhdmUsRWFjdXRlLEVjaXJjLEV1bWwsSWdyYXZlLElhY3V0ZSxJY2lyYyxJdW1sLEVUSCxOdGlsZGUsT2dyYXZlLE9hY3V0ZSxPY2lyYyxPdGlsZGUsT3VtbCxPc2xhc2gsVWdyYXZlLFVhY3V0ZSxVY2lyYyxVdW1sLFlhY3V0ZSxUSE9STixzemxpZyxhZ3JhdmUsYWFjdXRlLGFjaXJjLGF0aWxkZSxhdW1sLGFyaW5nLGFlbGlnLGNjZWRpbCxlZ3JhdmUsZWFjdXRlLGVjaXJjLGV1bWwsaWdyYXZlLGlhY3V0ZSxpY2lyYyxpdW1sLGV0aCxudGlsZGUsb2dyYXZlLG9hY3V0ZSxvY2lyYyxvdGlsZGUsb3VtbCxvc2xhc2gsdWdyYXZlLHVhY3V0ZSx1Y2lyYyx1dW1sLHlhY3V0ZSx0aG9ybix5dW1sLE9FbGlnLG9lbGlnLFNjYXJvbixzY2Fyb24sWXVtbFwiKSxkLmVudGl0aWVzX2dyZWVrJiZsLnB1c2goXCJBbHBoYSxCZXRhLEdhbW1hLERlbHRhLEVwc2lsb24sWmV0YSxFdGEsVGhldGEsSW90YSxLYXBwYSxMYW1iZGEsTXUsTnUsWGksT21pY3JvbixQaSxSaG8sU2lnbWEsVGF1LFVwc2lsb24sUGhpLENoaSxQc2ksT21lZ2EsYWxwaGEsYmV0YSxnYW1tYSxkZWx0YSxlcHNpbG9uLHpldGEsZXRhLHRoZXRhLGlvdGEsa2FwcGEsbGFtYmRhLG11LG51LHhpLG9taWNyb24scGkscmhvLHNpZ21hZixzaWdtYSx0YXUsdXBzaWxvbixwaGksY2hpLHBzaSxvbWVnYSx0aGV0YXN5bSx1cHNpaCxwaXZcIiksXG5kLmVudGl0aWVzX2FkZGl0aW9uYWwmJmwucHVzaChkLmVudGl0aWVzX2FkZGl0aW9uYWwpKTt2YXIgaz1hKGwuam9pbihcIixcIikpLGc9ay5yZWdleD9cIltcIitrLnJlZ2V4K1wiXVwiOlwiYV5cIjtkZWxldGUgay5yZWdleDtkLmVudGl0aWVzJiZkLmVudGl0aWVzX3Byb2Nlc3NOdW1lcmljYWwmJihnPVwiW14gLX5dfFwiK2cpO3ZhciBnPW5ldyBSZWdFeHAoZyxcImdcIiksaD1hKFwibmJzcCxndCxsdCxhbXAsc2h5XCIsITApLG09bmV3IFJlZ0V4cChoLnJlZ2V4LFwiZ1wiKTtlLmFkZFJ1bGVzKHt0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UobSxiKS5yZXBsYWNlKGcsYyl9fSx7YXBwbHlUb0FsbDohMCxleGNsdWRlTmVzdGVkRWRpdGFibGU6ITB9KX19fSl9KCksQ0tFRElUT1IuY29uZmlnLmJhc2ljRW50aXRpZXM9ITAsQ0tFRElUT1IuY29uZmlnLmVudGl0aWVzPSEwLENLRURJVE9SLmNvbmZpZy5lbnRpdGllc19sYXRpbj0hMCxDS0VESVRPUi5jb25maWcuZW50aXRpZXNfZ3JlZWs9ITAsXG5DS0VESVRPUi5jb25maWcuZW50aXRpZXNfYWRkaXRpb25hbD1cIiMzOVwiLENLRURJVE9SLnBsdWdpbnMuYWRkKFwicG9wdXBcIiksQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse3BvcHVwOmZ1bmN0aW9uKGEsZSxiLGMpe2U9ZXx8XCI4MCVcIjtiPWJ8fFwiNzAlXCI7XCJzdHJpbmdcIj09dHlwZW9mIGUmJjE8ZS5sZW5ndGgmJlwiJVwiPT1lLnN1YnN0cihlLmxlbmd0aC0xLDEpJiYoZT1wYXJzZUludCh3aW5kb3cuc2NyZWVuLndpZHRoKnBhcnNlSW50KGUsMTApLzEwMCwxMCkpO1wic3RyaW5nXCI9PXR5cGVvZiBiJiYxPGIubGVuZ3RoJiZcIiVcIj09Yi5zdWJzdHIoYi5sZW5ndGgtMSwxKSYmKGI9cGFyc2VJbnQod2luZG93LnNjcmVlbi5oZWlnaHQqcGFyc2VJbnQoYiwxMCkvMTAwLDEwKSk7NjQwPmUmJihlPTY0MCk7NDIwPmImJihiPTQyMCk7dmFyIGQ9cGFyc2VJbnQoKHdpbmRvdy5zY3JlZW4uaGVpZ2h0LWIpLzIsMTApLGw9cGFyc2VJbnQoKHdpbmRvdy5zY3JlZW4ud2lkdGgtXG5lKS8yLDEwKTtjPShjfHxcImxvY2F0aW9uXFx4M2RubyxtZW51YmFyXFx4M2Rubyx0b29sYmFyXFx4M2RubyxkZXBlbmRlbnRcXHgzZHllcyxtaW5pbWl6YWJsZVxceDNkbm8sbW9kYWxcXHgzZHllcyxhbHdheXNSYWlzZWRcXHgzZHllcyxyZXNpemFibGVcXHgzZHllcyxzY3JvbGxiYXJzXFx4M2R5ZXNcIikrXCIsd2lkdGhcXHgzZFwiK2UrXCIsaGVpZ2h0XFx4M2RcIitiK1wiLHRvcFxceDNkXCIrZCtcIixsZWZ0XFx4M2RcIitsO3ZhciBrPXdpbmRvdy5vcGVuKFwiXCIsbnVsbCxjLCEwKTtpZighaylyZXR1cm4hMTt0cnl7LTE9PW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiIGNocm9tZS9cIikmJihrLm1vdmVUbyhsLGQpLGsucmVzaXplVG8oZSxiKSksay5mb2N1cygpLGsubG9jYXRpb24uaHJlZj1hfWNhdGNoKGcpe3dpbmRvdy5vcGVuKGEsbnVsbCxjLCEwKX1yZXR1cm4hMH19KSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5lZGl0b3I9YTt0aGlzLmxvYWRlcnM9XG5bXX1mdW5jdGlvbiBlKGEsYyxlKXt2YXIgZz1hLmNvbmZpZy5maWxlVG9vbHNfZGVmYXVsdEZpbGVOYW1lO3RoaXMuZWRpdG9yPWE7dGhpcy5sYW5nPWEubGFuZztcInN0cmluZ1wiPT09dHlwZW9mIGM/KHRoaXMuZGF0YT1jLHRoaXMuZmlsZT1iKHRoaXMuZGF0YSksdGhpcy5sb2FkZWQ9dGhpcy50b3RhbD10aGlzLmZpbGUuc2l6ZSk6KHRoaXMuZGF0YT1udWxsLHRoaXMuZmlsZT1jLHRoaXMudG90YWw9dGhpcy5maWxlLnNpemUsdGhpcy5sb2FkZWQ9MCk7ZT90aGlzLmZpbGVOYW1lPWU6dGhpcy5maWxlLm5hbWU/dGhpcy5maWxlTmFtZT10aGlzLmZpbGUubmFtZTooYT10aGlzLmZpbGUudHlwZS5zcGxpdChcIi9cIiksZyYmKGFbMF09ZyksdGhpcy5maWxlTmFtZT1hLmpvaW4oXCIuXCIpKTt0aGlzLnVwbG9hZGVkPTA7dGhpcy5yZXNwb25zZURhdGE9dGhpcy51cGxvYWRUb3RhbD1udWxsO3RoaXMuc3RhdHVzPVwiY3JlYXRlZFwiO3RoaXMuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZVN0YXR1cyhcImFib3J0XCIpfX1cbmZ1bmN0aW9uIGIoYSl7dmFyIGI9YS5tYXRjaChjKVsxXTthPWEucmVwbGFjZShjLFwiXCIpO2E9YXRvYihhKTt2YXIgZT1bXSxnLGgsbSxmO2ZvcihnPTA7ZzxhLmxlbmd0aDtnKz01MTIpe2g9YS5zbGljZShnLGcrNTEyKTttPUFycmF5KGgubGVuZ3RoKTtmb3IoZj0wO2Y8aC5sZW5ndGg7ZisrKW1bZl09aC5jaGFyQ29kZUF0KGYpO2g9bmV3IFVpbnQ4QXJyYXkobSk7ZS5wdXNoKGgpfXJldHVybiBuZXcgQmxvYihlLHt0eXBlOmJ9KX1DS0VESVRPUi5wbHVnaW5zLmFkZChcImZpbGV0b29sc1wiLHtiZWZvcmVJbml0OmZ1bmN0aW9uKGIpe2IudXBsb2FkUmVwb3NpdG9yeT1uZXcgYShiKTtiLm9uKFwiZmlsZVVwbG9hZFJlcXVlc3RcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZmlsZUxvYWRlcjtiLnhoci5vcGVuKFwiUE9TVFwiLGIudXBsb2FkVXJsLCEwKTthLmRhdGEucmVxdWVzdERhdGEudXBsb2FkPXtmaWxlOmIuZmlsZSxuYW1lOmIuZmlsZU5hbWV9fSxudWxsLG51bGwsNSk7Yi5vbihcImZpbGVVcGxvYWRSZXF1ZXN0XCIsXG5mdW5jdGlvbihhKXt2YXIgYz1hLmRhdGEuZmlsZUxvYWRlcixlPW5ldyBGb3JtRGF0YTthPWEuZGF0YS5yZXF1ZXN0RGF0YTt2YXIgaD1iLmNvbmZpZy5maWxlVG9vbHNfcmVxdWVzdEhlYWRlcnMsbSxmO2ZvcihmIGluIGEpe3ZhciBuPWFbZl07XCJvYmplY3RcIj09PXR5cGVvZiBuJiZuLmZpbGU/ZS5hcHBlbmQoZixuLmZpbGUsbi5uYW1lKTplLmFwcGVuZChmLG4pfWUuYXBwZW5kKFwiY2tDc3JmVG9rZW5cIixDS0VESVRPUi50b29scy5nZXRDc3JmVG9rZW4oKSk7aWYoaClmb3IobSBpbiBoKWMueGhyLnNldFJlcXVlc3RIZWFkZXIobSxoW21dKTtjLnhoci5zZW5kKGUpfSxudWxsLG51bGwsOTk5KTtiLm9uKFwiZmlsZVVwbG9hZFJlc3BvbnNlXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmZpbGVMb2FkZXIsYz1iLnhocixkPWEuZGF0YTt0cnl7dmFyIGU9SlNPTi5wYXJzZShjLnJlc3BvbnNlVGV4dCk7ZS5lcnJvciYmZS5lcnJvci5tZXNzYWdlJiYoZC5tZXNzYWdlPWUuZXJyb3IubWVzc2FnZSk7XG5pZihlLnVwbG9hZGVkKWZvcih2YXIgZiBpbiBlKWRbZl09ZVtmXTtlbHNlIGEuY2FuY2VsKCl9Y2F0Y2gobil7ZC5tZXNzYWdlPWIubGFuZy5maWxldG9vbHMucmVzcG9uc2VFcnJvcixDS0VESVRPUi53YXJuKFwiZmlsZXRvb2xzLXJlc3BvbnNlLWVycm9yXCIse3Jlc3BvbnNlVGV4dDpjLnJlc3BvbnNlVGV4dH0pLGEuY2FuY2VsKCl9fSxudWxsLG51bGwsOTk5KX19KTthLnByb3RvdHlwZT17Y3JlYXRlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fGU7dmFyIGc9dGhpcy5sb2FkZXJzLmxlbmd0aDthPW5ldyBjKHRoaXMuZWRpdG9yLGEsYik7YS5pZD1nO3RoaXMubG9hZGVyc1tnXT1hO3RoaXMuZmlyZShcImluc3RhbmNlQ3JlYXRlZFwiLGEpO3JldHVybiBhfSxpc0ZpbmlzaGVkOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmxvYWRlcnMubGVuZ3RoOysrYSlpZighdGhpcy5sb2FkZXJzW2FdLmlzRmluaXNoZWQoKSlyZXR1cm4hMTtyZXR1cm4hMH19O2UucHJvdG90eXBlPXtsb2FkQW5kVXBsb2FkOmZ1bmN0aW9uKGEsXG5iKXt2YXIgYz10aGlzO3RoaXMub25jZShcImxvYWRlZFwiLGZ1bmN0aW9uKGUpe2UuY2FuY2VsKCk7Yy5vbmNlKFwidXBkYXRlXCIsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0sbnVsbCxudWxsLDApO2MudXBsb2FkKGEsYil9LG51bGwsbnVsbCwwKTt0aGlzLmxvYWQoKX0sbG9hZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLnJlYWRlcj1uZXcgRmlsZVJlYWRlcjthLmNoYW5nZVN0YXR1cyhcImxvYWRpbmdcIik7dGhpcy5hYm9ydD1mdW5jdGlvbigpe2EucmVhZGVyLmFib3J0KCl9O2Iub25hYm9ydD1mdW5jdGlvbigpe2EuY2hhbmdlU3RhdHVzKFwiYWJvcnRcIil9O2Iub25lcnJvcj1mdW5jdGlvbigpe2EubWVzc2FnZT1hLmxhbmcuZmlsZXRvb2xzLmxvYWRFcnJvcjthLmNoYW5nZVN0YXR1cyhcImVycm9yXCIpfTtiLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oYil7YS5sb2FkZWQ9Yi5sb2FkZWQ7YS51cGRhdGUoKX07Yi5vbmxvYWQ9ZnVuY3Rpb24oKXthLmxvYWRlZD1hLnRvdGFsO2EuZGF0YT1iLnJlc3VsdDtcbmEuY2hhbmdlU3RhdHVzKFwibG9hZGVkXCIpfTtiLnJlYWRBc0RhdGFVUkwodGhpcy5maWxlKX0sdXBsb2FkOmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8e307YT8odGhpcy51cGxvYWRVcmw9YSx0aGlzLnhocj1uZXcgWE1MSHR0cFJlcXVlc3QsdGhpcy5hdHRhY2hSZXF1ZXN0TGlzdGVuZXJzKCksdGhpcy5lZGl0b3IuZmlyZShcImZpbGVVcGxvYWRSZXF1ZXN0XCIse2ZpbGVMb2FkZXI6dGhpcyxyZXF1ZXN0RGF0YTpjfSkmJnRoaXMuY2hhbmdlU3RhdHVzKFwidXBsb2FkaW5nXCIpKToodGhpcy5tZXNzYWdlPXRoaXMubGFuZy5maWxldG9vbHMubm9VcmxFcnJvcix0aGlzLmNoYW5nZVN0YXR1cyhcImVycm9yXCIpKX0sYXR0YWNoUmVxdWVzdExpc3RlbmVyczpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtcImVycm9yXCIhPWMuc3RhdHVzJiYoYy5tZXNzYWdlPWMubGFuZy5maWxldG9vbHMubmV0d29ya0Vycm9yLGMuY2hhbmdlU3RhdHVzKFwiZXJyb3JcIikpfWZ1bmN0aW9uIGIoKXtcImFib3J0XCIhPWMuc3RhdHVzJiZcbmMuY2hhbmdlU3RhdHVzKFwiYWJvcnRcIil9dmFyIGM9dGhpcyxlPXRoaXMueGhyO2MuYWJvcnQ9ZnVuY3Rpb24oKXtlLmFib3J0KCk7YigpfTtlLm9uZXJyb3I9YTtlLm9uYWJvcnQ9YjtlLnVwbG9hZD8oZS51cGxvYWQub25wcm9ncmVzcz1mdW5jdGlvbihhKXthLmxlbmd0aENvbXB1dGFibGUmJihjLnVwbG9hZFRvdGFsfHwoYy51cGxvYWRUb3RhbD1hLnRvdGFsKSxjLnVwbG9hZGVkPWEubG9hZGVkLGMudXBkYXRlKCkpfSxlLnVwbG9hZC5vbmVycm9yPWEsZS51cGxvYWQub25hYm9ydD1iKTooYy51cGxvYWRUb3RhbD1jLnRvdGFsLGMudXBkYXRlKCkpO2Uub25sb2FkPWZ1bmN0aW9uKCl7Yy51cGRhdGUoKTtpZihcImFib3J0XCIhPWMuc3RhdHVzKWlmKGMudXBsb2FkZWQ9Yy51cGxvYWRUb3RhbCwyMDA+ZS5zdGF0dXN8fDI5OTxlLnN0YXR1cyljLm1lc3NhZ2U9Yy5sYW5nLmZpbGV0b29sc1tcImh0dHBFcnJvclwiK2Uuc3RhdHVzXSxjLm1lc3NhZ2V8fChjLm1lc3NhZ2U9Yy5sYW5nLmZpbGV0b29scy5odHRwRXJyb3IucmVwbGFjZShcIiUxXCIsXG5lLnN0YXR1cykpLGMuY2hhbmdlU3RhdHVzKFwiZXJyb3JcIik7ZWxzZXtmb3IodmFyIGE9e2ZpbGVMb2FkZXI6Y30sYj1bXCJtZXNzYWdlXCIsXCJmaWxlTmFtZVwiLFwidXJsXCJdLGQ9Yy5lZGl0b3IuZmlyZShcImZpbGVVcGxvYWRSZXNwb25zZVwiLGEpLGw9MDtsPGIubGVuZ3RoO2wrKyl7dmFyIHA9YltsXTtcInN0cmluZ1wiPT09dHlwZW9mIGFbcF0mJihjW3BdPWFbcF0pfWMucmVzcG9uc2VEYXRhPWE7ZGVsZXRlIGMucmVzcG9uc2VEYXRhLmZpbGVMb2FkZXI7ITE9PT1kP2MuY2hhbmdlU3RhdHVzKFwiZXJyb3JcIik6Yy5jaGFuZ2VTdGF0dXMoXCJ1cGxvYWRlZFwiKX19fSxjaGFuZ2VTdGF0dXM6ZnVuY3Rpb24oYSl7dGhpcy5zdGF0dXM9YTtpZihcImVycm9yXCI9PWF8fFwiYWJvcnRcIj09YXx8XCJsb2FkZWRcIj09YXx8XCJ1cGxvYWRlZFwiPT1hKXRoaXMuYWJvcnQ9ZnVuY3Rpb24oKXt9O3RoaXMuZmlyZShhKTt0aGlzLnVwZGF0ZSgpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJ1cGRhdGVcIil9LGlzRmluaXNoZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuc3RhdHVzLm1hdGNoKC9eKD86bG9hZGVkfHVwbG9hZGVkfGVycm9yfGFib3J0KSQvKX19O1xuQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oYS5wcm90b3R5cGUpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGUucHJvdG90eXBlKTt2YXIgYz0vXmRhdGE6KFxcUyo/KTtiYXNlNjQsLztDS0VESVRPUi5maWxlVG9vbHN8fChDS0VESVRPUi5maWxlVG9vbHM9e30pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5maWxlVG9vbHMse3VwbG9hZFJlcG9zaXRvcnk6YSxmaWxlTG9hZGVyOmUsZ2V0VXBsb2FkVXJsOmZ1bmN0aW9uKGEsYil7dmFyIGM9Q0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZTtyZXR1cm4gYiYmYVtiK1wiVXBsb2FkVXJsXCJdP2FbYitcIlVwbG9hZFVybFwiXTphLnVwbG9hZFVybD9hLnVwbG9hZFVybDpiJiZhW1wiZmlsZWJyb3dzZXJcIitjKGIsMSkrXCJVcGxvYWRVcmxcIl0/YVtcImZpbGVicm93c2VyXCIrYyhiLDEpK1wiVXBsb2FkVXJsXCJdK1wiXFx4MjZyZXNwb25zZVR5cGVcXHgzZGpzb25cIjphLmZpbGVicm93c2VyVXBsb2FkVXJsP2EuZmlsZWJyb3dzZXJVcGxvYWRVcmwrXG5cIlxceDI2cmVzcG9uc2VUeXBlXFx4M2Rqc29uXCI6bnVsbH0saXNUeXBlU3VwcG9ydGVkOmZ1bmN0aW9uKGEsYil7cmV0dXJuISFhLnR5cGUubWF0Y2goYil9LGlzRmlsZVVwbG9hZFN1cHBvcnRlZDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgRmlsZVJlYWRlciYmXCJmdW5jdGlvblwiPT09dHlwZW9mKG5ldyBGaWxlUmVhZGVyKS5yZWFkQXNEYXRhVVJMJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgRm9ybURhdGEmJlwiZnVuY3Rpb25cIj09PXR5cGVvZihuZXcgRm9ybURhdGEpLmFwcGVuZCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgQmxvYn0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBjPVtdO2lmKGIpZm9yKHZhciBkIGluIGIpYy5wdXNoKGQrXCJcXHgzZFwiK2VuY29kZVVSSUNvbXBvbmVudChiW2RdKSk7ZWxzZSByZXR1cm4gYTtyZXR1cm4gYSsoLTEhPWEuaW5kZXhPZihcIj9cIik/XCJcXHgyNlwiOlwiP1wiKStjLmpvaW4oXCJcXHgyNlwiKX1mdW5jdGlvbiBlKGIpe3JldHVybiFiLm1hdGNoKC9jb21tYW5kPVF1aWNrVXBsb2FkLyl8fFxuYi5tYXRjaCgvKFxcP3wmKXJlc3BvbnNlVHlwZT1qc29uLyk/YjphKGIse3Jlc3BvbnNlVHlwZTpcImpzb25cIn0pfWZ1bmN0aW9uIGIoYSl7YSs9XCJcIjtyZXR1cm4gYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKX1mdW5jdGlvbiBjKCl7dmFyIGM9dGhpcy5nZXREaWFsb2coKSxkPWMuZ2V0UGFyZW50RWRpdG9yKCk7ZC5fLmZpbGVicm93c2VyU2U9dGhpczt2YXIgZT1kLmNvbmZpZ1tcImZpbGVicm93c2VyXCIrYihjLmdldE5hbWUoKSkrXCJXaW5kb3dXaWR0aFwiXXx8ZC5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dXaWR0aHx8XCI4MCVcIixjPWQuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitiKGMuZ2V0TmFtZSgpKStcIldpbmRvd0hlaWdodFwiXXx8ZC5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dIZWlnaHR8fFwiNzAlXCIsZj10aGlzLmZpbGVicm93c2VyLnBhcmFtc3x8e307Zi5DS0VkaXRvcj1kLm5hbWU7Zi5DS0VkaXRvckZ1bmNOdW09ZC5fLmZpbGVicm93c2VyRm47Zi5sYW5nQ29kZXx8XG4oZi5sYW5nQ29kZT1kLmxhbmdDb2RlKTtmPWEodGhpcy5maWxlYnJvd3Nlci51cmwsZik7ZC5wb3B1cChmLGUsYyxkLmNvbmZpZy5maWxlYnJvd3NlcldpbmRvd0ZlYXR1cmVzfHxkLmNvbmZpZy5maWxlQnJvd3NlcldpbmRvd0ZlYXR1cmVzKX1mdW5jdGlvbiBkKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLiQuZm9ybSk7YiYmKChhPWIuJC5lbGVtZW50cy5ja0NzcmZUb2tlbik/YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6KGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiaW5wdXRcIiksYS5zZXRBdHRyaWJ1dGVzKHtuYW1lOlwiY2tDc3JmVG9rZW5cIix0eXBlOlwiaGlkZGVuXCJ9KSxiLmFwcGVuZChhKSksYS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLENLRURJVE9SLnRvb2xzLmdldENzcmZUb2tlbigpKSl9ZnVuY3Rpb24gbCgpe3ZhciBhPXRoaXMuZ2V0RGlhbG9nKCk7YS5nZXRQYXJlbnRFZGl0b3IoKS5fLmZpbGVicm93c2VyU2U9dGhpcztyZXR1cm4gYS5nZXRDb250ZW50RWxlbWVudCh0aGlzW1wiZm9yXCJdWzBdLFxudGhpc1tcImZvclwiXVsxXSkuZ2V0SW5wdXRFbGVtZW50KCkuJC52YWx1ZSYmYS5nZXRDb250ZW50RWxlbWVudCh0aGlzW1wiZm9yXCJdWzBdLHRoaXNbXCJmb3JcIl1bMV0pLmdldEFjdGlvbigpPyEwOiExfWZ1bmN0aW9uIGsoYixjLGQpe3ZhciBlPWQucGFyYW1zfHx7fTtlLkNLRWRpdG9yPWIubmFtZTtlLkNLRWRpdG9yRnVuY051bT1iLl8uZmlsZWJyb3dzZXJGbjtlLmxhbmdDb2RlfHwoZS5sYW5nQ29kZT1iLmxhbmdDb2RlKTtjLmFjdGlvbj1hKGQudXJsLGUpO2MuZmlsZWJyb3dzZXI9ZH1mdW5jdGlvbiBnKGEsbSxyLHYpe2lmKHYmJnYubGVuZ3RoKWZvcih2YXIgeCxxPXYubGVuZ3RoO3EtLTspaWYoeD12W3FdLFwiaGJveFwiIT14LnR5cGUmJlwidmJveFwiIT14LnR5cGUmJlwiZmllbGRzZXRcIiE9eC50eXBlfHxnKGEsbSxyLHguY2hpbGRyZW4pLHguZmlsZWJyb3dzZXIpaWYoXCJzdHJpbmdcIj09dHlwZW9mIHguZmlsZWJyb3dzZXImJih4LmZpbGVicm93c2VyPXthY3Rpb246XCJmaWxlQnV0dG9uXCI9PVxueC50eXBlP1wiUXVpY2tVcGxvYWRcIjpcIkJyb3dzZVwiLHRhcmdldDp4LmZpbGVicm93c2VyfSksXCJCcm93c2VcIj09eC5maWxlYnJvd3Nlci5hY3Rpb24pe3ZhciB0PXguZmlsZWJyb3dzZXIudXJsO3ZvaWQgMD09PXQmJih0PWEuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitiKG0pK1wiQnJvd3NlVXJsXCJdLHZvaWQgMD09PXQmJih0PWEuY29uZmlnLmZpbGVicm93c2VyQnJvd3NlVXJsKSk7dCYmKHgub25DbGljaz1jLHguZmlsZWJyb3dzZXIudXJsPXQseC5oaWRkZW49ITEpfWVsc2UgaWYoXCJRdWlja1VwbG9hZFwiPT14LmZpbGVicm93c2VyLmFjdGlvbiYmeFtcImZvclwiXSYmKHQ9eC5maWxlYnJvd3Nlci51cmwsdm9pZCAwPT09dCYmKHQ9YS5jb25maWdbXCJmaWxlYnJvd3NlclwiK2IobSkrXCJVcGxvYWRVcmxcIl0sdm9pZCAwPT09dCYmKHQ9YS5jb25maWcuZmlsZWJyb3dzZXJVcGxvYWRVcmwpKSx0KSl7dmFyIHU9eC5vbkNsaWNrO3gub25DbGljaz1mdW5jdGlvbihiKXt2YXIgYz1iLnNlbmRlcixnPWMuZ2V0RGlhbG9nKCkuZ2V0Q29udGVudEVsZW1lbnQodGhpc1tcImZvclwiXVswXSxcbnRoaXNbXCJmb3JcIl1bMV0pLmdldElucHV0RWxlbWVudCgpLGs9Q0tFRElUT1IuZmlsZVRvb2xzJiZDS0VESVRPUi5maWxlVG9vbHMuaXNGaWxlVXBsb2FkU3VwcG9ydGVkO2lmKHUmJiExPT09dS5jYWxsKGMsYikpcmV0dXJuITE7aWYobC5jYWxsKGMsYikpe2lmKFwiZm9ybVwiIT09YS5jb25maWcuZmlsZWJyb3dzZXJVcGxvYWRNZXRob2QmJmspcmV0dXJuIGI9YS51cGxvYWRSZXBvc2l0b3J5LmNyZWF0ZShnLiQuZmlsZXNbMF0pLGIub24oXCJ1cGxvYWRlZFwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuc2VuZGVyLnJlc3BvbnNlRGF0YTtmLmNhbGwoYS5zZW5kZXIuZWRpdG9yLGIudXJsLGIubWVzc2FnZSl9KSxiLm9uKFwiZXJyb3JcIixoLmJpbmQodGhpcykpLGIub24oXCJhYm9ydFwiLGguYmluZCh0aGlzKSksYi5sb2FkQW5kVXBsb2FkKGUodCkpLFwieGhyXCI7ZChnKTtyZXR1cm4hMH1yZXR1cm4hMX07eC5maWxlYnJvd3Nlci51cmw9dDt4LmhpZGRlbj0hMTtrKGEsci5nZXRDb250ZW50cyh4W1wiZm9yXCJdWzBdKS5nZXQoeFtcImZvclwiXVsxXSksXG54LmZpbGVicm93c2VyKX19ZnVuY3Rpb24gaChhKXt2YXIgYj17fTt0cnl7Yj1KU09OLnBhcnNlKGEuc2VuZGVyLnhoci5yZXNwb25zZSl8fHt9fWNhdGNoKGMpe310aGlzLmVuYWJsZSgpO2FsZXJ0KGIuZXJyb3I/Yi5lcnJvci5tZXNzYWdlOmEuc2VuZGVyLm1lc3NhZ2UpfWZ1bmN0aW9uIG0oYSxiLGMpe2lmKC0xIT09Yy5pbmRleE9mKFwiO1wiKSl7Yz1jLnNwbGl0KFwiO1wiKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKylpZihtKGEsYixjW2RdKSlyZXR1cm4hMDtyZXR1cm4hMX1yZXR1cm4oYT1hLmdldENvbnRlbnRzKGIpLmdldChjKS5maWxlYnJvd3NlcikmJmEudXJsfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz10aGlzLl8uZmlsZWJyb3dzZXJTZS5nZXREaWFsb2coKSxkPXRoaXMuXy5maWxlYnJvd3NlclNlW1wiZm9yXCJdLGU9dGhpcy5fLmZpbGVicm93c2VyU2UuZmlsZWJyb3dzZXIub25TZWxlY3Q7ZCYmYy5nZXRDb250ZW50RWxlbWVudChkWzBdLGRbMV0pLnJlc2V0KCk7aWYoXCJmdW5jdGlvblwiIT1cbnR5cGVvZiBifHwhMSE9PWIuY2FsbCh0aGlzLl8uZmlsZWJyb3dzZXJTZSkpaWYoIWV8fCExIT09ZS5jYWxsKHRoaXMuXy5maWxlYnJvd3NlclNlLGEsYikpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGImJmImJmFsZXJ0KGIpLGEmJihkPXRoaXMuXy5maWxlYnJvd3NlclNlLGM9ZC5nZXREaWFsb2coKSxkPWQuZmlsZWJyb3dzZXIudGFyZ2V0fHxudWxsKSlpZihkPWQuc3BsaXQoXCI6XCIpLGU9Yy5nZXRDb250ZW50RWxlbWVudChkWzBdLGRbMV0pKWUuc2V0VmFsdWUoYSksYy5zZWxlY3RQYWdlKGRbMF0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmlsZWJyb3dzZXJcIix7cmVxdWlyZXM6XCJwb3B1cCxmaWxldG9vbHNcIixpbml0OmZ1bmN0aW9uKGEpe2EuXy5maWxlYnJvd3NlckZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGYsYSk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHRoaXMuXy5maWxlYnJvd3NlckZuKX0pfX0pO0NLRURJVE9SLm9uKFwiZGlhbG9nRGVmaW5pdGlvblwiLFxuZnVuY3Rpb24oYSl7aWYoYS5lZGl0b3IucGx1Z2lucy5maWxlYnJvd3Nlcilmb3IodmFyIGI9YS5kYXRhLmRlZmluaXRpb24sYyxkPTA7ZDxiLmNvbnRlbnRzLmxlbmd0aDsrK2QpaWYoYz1iLmNvbnRlbnRzW2RdKWcoYS5lZGl0b3IsYS5kYXRhLm5hbWUsYixjLmVsZW1lbnRzKSxjLmhpZGRlbiYmYy5maWxlYnJvd3NlciYmKGMuaGlkZGVuPSFtKGIsYy5pZCxjLmZpbGVicm93c2VyKSl9KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGQ9YS5jb25maWcsbD1hLmZpcmUoXCJ1aVNwYWNlXCIse3NwYWNlOlwidG9wXCIsaHRtbDpcIlwifSkuaHRtbCxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihhLGMsZCl7aC5zZXRTdHlsZShjLGIoZCkpO2guc2V0U3R5bGUoXCJwb3NpdGlvblwiLGEpfWZ1bmN0aW9uIGcoYSl7dmFyIGI9bS5nZXREb2N1bWVudFBvc2l0aW9uKCk7c3dpdGNoKGEpe2Nhc2UgXCJ0b3BcIjpmKFwiYWJzb2x1dGVcIixcInRvcFwiLGIueS11LXcpO2JyZWFrO2Nhc2UgXCJwaW5cIjpmKFwiZml4ZWRcIixcblwidG9wXCIseSk7YnJlYWs7Y2FzZSBcImJvdHRvbVwiOmYoXCJhYnNvbHV0ZVwiLFwidG9wXCIsYi55KyhxLmhlaWdodHx8cS5ib3R0b20tcS50b3ApK3cpfWw9YX12YXIgbCxtLHgscSx0LHUsQSx6PWQuZmxvYXRTcGFjZURvY2tlZE9mZnNldFh8fDAsdz1kLmZsb2F0U3BhY2VEb2NrZWRPZmZzZXRZfHwwLEM9ZC5mbG9hdFNwYWNlUGlubmVkT2Zmc2V0WHx8MCx5PWQuZmxvYXRTcGFjZVBpbm5lZE9mZnNldFl8fDA7cmV0dXJuIGZ1bmN0aW9uKGYpe2lmKG09YS5lZGl0YWJsZSgpKXt2YXIgbj1mJiZcImZvY3VzXCI9PWYubmFtZTtuJiZoLnNob3coKTthLmZpcmUoXCJmbG9hdGluZ1NwYWNlTGF5b3V0XCIse3Nob3c6bn0pO2gucmVtb3ZlU3R5bGUoXCJsZWZ0XCIpO2gucmVtb3ZlU3R5bGUoXCJyaWdodFwiKTt4PWguZ2V0Q2xpZW50UmVjdCgpO3E9bS5nZXRDbGllbnRSZWN0KCk7dD1lLmdldFZpZXdQYW5lU2l6ZSgpO3U9eC5oZWlnaHQ7QT1cInBhZ2VYT2Zmc2V0XCJpbiBlLiQ/ZS4kLnBhZ2VYT2Zmc2V0OkNLRURJVE9SLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG5sPyh1K3c8PXEudG9wP2coXCJ0b3BcIik6dSt3PnQuaGVpZ2h0LXEuYm90dG9tP2coXCJwaW5cIik6ZyhcImJvdHRvbVwiKSxmPXQud2lkdGgvMixmPWQuZmxvYXRTcGFjZVByZWZlclJpZ2h0P1wicmlnaHRcIjowPHEubGVmdCYmcS5yaWdodDx0LndpZHRoJiZxLndpZHRoPngud2lkdGg/XCJydGxcIj09ZC5jb250ZW50c0xhbmdEaXJlY3Rpb24/XCJyaWdodFwiOlwibGVmdFwiOmYtcS5sZWZ0PnEucmlnaHQtZj9cImxlZnRcIjpcInJpZ2h0XCIseC53aWR0aD50LndpZHRoPyhmPVwibGVmdFwiLG49MCk6KG49XCJsZWZ0XCI9PWY/MDxxLmxlZnQ/cS5sZWZ0OjA6cS5yaWdodDx0LndpZHRoP3Qud2lkdGgtcS5yaWdodDowLG4reC53aWR0aD50LndpZHRoJiYoZj1cImxlZnRcIj09Zj9cInJpZ2h0XCI6XCJsZWZ0XCIsbj0wKSksaC5zZXRTdHlsZShmLGIoKFwicGluXCI9PWw/Qzp6KStuKyhcInBpblwiPT1sPzA6XCJsZWZ0XCI9PWY/QTotQSkpKSk6KGw9XCJwaW5cIixnKFwicGluXCIpLGsoZikpfX19KCk7aWYobCl7dmFyIGc9bmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY2RpdiBpZFxceDNkXCJja2Vfe25hbWV9XCIgY2xhc3NcXHgzZFwiY2tlIHtpZH0gY2tlX3Jlc2V0X2FsbCBja2VfY2hyb21lIGNrZV9lZGl0b3Jfe25hbWV9IGNrZV9mbG9hdCBja2Vfe2xhbmdEaXJ9ICcrXG5DS0VESVRPUi5lbnYuY3NzQ2xhc3MrJ1wiIGRpclxceDNkXCJ7bGFuZ0Rpcn1cIiB0aXRsZVxceDNkXCInKyhDS0VESVRPUi5lbnYuZ2Vja28/XCIgXCI6XCJcIikrJ1wiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIHJvbGVcXHgzZFwiYXBwbGljYXRpb25cIiBzdHlsZVxceDNkXCJ7c3R5bGV9XCInKyhhLnRpdGxlPycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiJzpcIiBcIikrXCJcXHgzZVwiKyhhLnRpdGxlPydcXHgzY3NwYW4gaWRcXHgzZFwiY2tlX3tuYW1lfV9hcmlhbGJsXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZXt2b2ljZUxhYmVsfVxceDNjL3NwYW5cXHgzZSc6XCIgXCIpKydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfaW5uZXJcIlxceDNlXFx4M2NkaXYgaWRcXHgzZFwie3RvcElkfVwiIGNsYXNzXFx4M2RcImNrZV90b3BcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2V7Y29udGVudH1cXHgzYy9kaXZcXHgzZVxceDNjL2RpdlxceDNlXFx4M2MvZGl2XFx4M2UnKSxoPUNLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZy5vdXRwdXQoe2NvbnRlbnQ6bCxcbmlkOmEuaWQsbGFuZ0RpcjphLmxhbmcuZGlyLGxhbmdDb2RlOmEubGFuZ0NvZGUsbmFtZTphLm5hbWUsc3R5bGU6XCJkaXNwbGF5Om5vbmU7ei1pbmRleDpcIisoZC5iYXNlRmxvYXRaSW5kZXgtMSksdG9wSWQ6YS51aS5zcGFjZUlkKFwidG9wXCIpLHZvaWNlTGFiZWw6YS50aXRsZX0pKSksbT1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoNTAwLGspLGY9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDEwMCxrKTtoLnVuc2VsZWN0YWJsZSgpO2gub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthPWEuZGF0YTthLmdldFRhcmdldCgpLmhhc0FzY2VuZGFudChcImFcIiwxKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImZvY3VzXCIsZnVuY3Rpb24oYil7ayhiKTthLm9uKFwiY2hhbmdlXCIsbS5pbnB1dCk7ZS5vbihcInNjcm9sbFwiLGYuaW5wdXQpO2Uub24oXCJyZXNpemVcIixmLmlucHV0KX0pO2Eub24oXCJibHVyXCIsZnVuY3Rpb24oKXtoLmhpZGUoKTthLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsXG5tLmlucHV0KTtlLnJlbW92ZUxpc3RlbmVyKFwic2Nyb2xsXCIsZi5pbnB1dCk7ZS5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLGYuaW5wdXQpfSk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2UucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIixmLmlucHV0KTtlLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsZi5pbnB1dCk7aC5jbGVhckN1c3RvbURhdGEoKTtoLnJlbW92ZSgpfSk7YS5mb2N1c01hbmFnZXIuaGFzRm9jdXMmJmguc2hvdygpO2EuZm9jdXNNYW5hZ2VyLmFkZChoLDEpfX12YXIgZT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxiPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aDtDS0VESVRPUi5wbHVnaW5zLmFkZChcImZsb2F0aW5nc3BhY2VcIix7aW5pdDpmdW5jdGlvbihiKXtiLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXthKHRoaXMpfSxudWxsLG51bGwsMjApfX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlzdGJsb2NrXCIse3JlcXVpcmVzOlwicGFuZWxcIixvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT1cbkNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtbGlzdFwiLCdcXHgzY3VsIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2xpc3RcIlxceDNle2l0ZW1zfVxceDNjL3VsXFx4M2UnKSxlPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtbGlzdC1pdGVtXCIsJ1xceDNjbGkgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9saXN0SXRlbVwiIHJvbGVcXHgzZHByZXNlbnRhdGlvblxceDNlXFx4M2NhIGlkXFx4M2RcIntpZH1fb3B0aW9uXCIgX2NrZV9mb2N1c1xceDNkMSBoaWRlZm9jdXNcXHgzZHRydWUgdGl0bGVcXHgzZFwie3RpdGxlfVwiIGhyZWZcXHgzZFwiamF2YXNjcmlwdDp2b2lkKFxcJ3t2YWx9XFwnKVwiICB7b25jbGlja31cXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSxcXCd7dmFsfVxcJyk7IHJldHVybiBmYWxzZTtcIiByb2xlXFx4M2RcIm9wdGlvblwiXFx4M2V7dGV4dH1cXHgzYy9hXFx4M2VcXHgzYy9saVxceDNlJyksYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3QtZ3JvdXBcIixcbidcXHgzY2gxIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfZ3JvdXB0aXRsZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgXFx4M2V7bGFiZWx9XFx4M2MvaDFcXHgzZScpLGM9L1xcJy9nO0NLRURJVE9SLnVpLnBhbmVsLnByb3RvdHlwZS5hZGRMaXN0QmxvY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hZGRCbG9jayhhLG5ldyBDS0VESVRPUi51aS5saXN0QmxvY2sodGhpcy5nZXRIb2xkZXJFbGVtZW50KCksYikpfTtDS0VESVRPUi51aS5saXN0QmxvY2s9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IudWkucGFuZWwuYmxvY2ssJDpmdW5jdGlvbihhLGIpe2I9Ynx8e307dmFyIGM9Yi5hdHRyaWJ1dGVzfHwoYi5hdHRyaWJ1dGVzPXt9KTsodGhpcy5tdWx0aVNlbGVjdD0hIWIubXVsdGlTZWxlY3QpJiYoY1tcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCJdPSEwKTshYy5yb2xlJiYoYy5yb2xlPVwibGlzdGJveFwiKTt0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xudGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIixjLnJvbGUpO2M9dGhpcy5rZXlzO2NbNDBdPVwibmV4dFwiO2NbOV09XCJuZXh0XCI7Y1szOF09XCJwcmV2XCI7Y1tDS0VESVRPUi5TSElGVCs5XT1cInByZXZcIjtjWzMyXT1DS0VESVRPUi5lbnYuaWU/XCJtb3VzZXVwXCI6XCJjbGlja1wiO0NLRURJVE9SLmVudi5pZSYmKGNbMTNdPVwibW91c2V1cFwiKTt0aGlzLl8ucGVuZGluZ0h0bWw9W107dGhpcy5fLnBlbmRpbmdMaXN0PVtdO3RoaXMuXy5pdGVtcz17fTt0aGlzLl8uZ3JvdXBzPXt9fSxfOntjbG9zZTpmdW5jdGlvbigpe2lmKHRoaXMuXy5zdGFydGVkKXt2YXIgYj1hLm91dHB1dCh7aXRlbXM6dGhpcy5fLnBlbmRpbmdMaXN0LmpvaW4oXCJcIil9KTt0aGlzLl8ucGVuZGluZ0xpc3Q9W107dGhpcy5fLnBlbmRpbmdIdG1sLnB1c2goYik7ZGVsZXRlIHRoaXMuXy5zdGFydGVkfX0sZ2V0Q2xpY2s6ZnVuY3Rpb24oKXt0aGlzLl8uY2xpY2t8fCh0aGlzLl8uY2xpY2s9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7dmFyIGI9XG50aGlzLnRvZ2dsZShhKTtpZih0aGlzLm9uQ2xpY2spdGhpcy5vbkNsaWNrKGEsYil9LHRoaXMpKTtyZXR1cm4gdGhpcy5fLmNsaWNrfX0scHJvdG86e2FkZDpmdW5jdGlvbihhLGIsayl7dmFyIGc9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5fLnN0YXJ0ZWR8fCh0aGlzLl8uc3RhcnRlZD0xLHRoaXMuXy5zaXplPXRoaXMuXy5zaXplfHwwKTt0aGlzLl8uaXRlbXNbYV09Zzt2YXIgaDtoPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGEpLnJlcGxhY2UoYyxcIlxcXFwnXCIpO2E9e2lkOmcsdmFsOmgsb25jbGljazpDS0VESVRPUi5lbnYuaWU/J29uY2xpY2tcXHgzZFwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIsY2xpY2tGbjp0aGlzLl8uZ2V0Q2xpY2soKSx0aXRsZTpDS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihrfHxhKSx0ZXh0OmJ8fGF9O3RoaXMuXy5wZW5kaW5nTGlzdC5wdXNoKGUub3V0cHV0KGEpKX0sc3RhcnRHcm91cDpmdW5jdGlvbihhKXt0aGlzLl8uY2xvc2UoKTtcbnZhciBjPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuXy5ncm91cHNbYV09Yzt0aGlzLl8ucGVuZGluZ0h0bWwucHVzaChiLm91dHB1dCh7aWQ6YyxsYWJlbDphfSkpfSxjb21taXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY2xvc2UoKTt0aGlzLmVsZW1lbnQuYXBwZW5kSHRtbCh0aGlzLl8ucGVuZGluZ0h0bWwuam9pbihcIlwiKSk7ZGVsZXRlIHRoaXMuXy5zaXplO3RoaXMuXy5wZW5kaW5nSHRtbD1bXX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXNNYXJrZWQoYSk7Yj90aGlzLnVubWFyayhhKTp0aGlzLm1hcmsoYSk7cmV0dXJuIWJ9LGhpZGVHcm91cDpmdW5jdGlvbihhKXt2YXIgYj0oYT10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5ncm91cHNbYV0pKSYmYS5nZXROZXh0KCk7YSYmKGEuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpLGImJlwidWxcIj09Yi5nZXROYW1lKCkmJmIuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpKX0saGlkZUl0ZW06ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLnNldFN0eWxlKFwiZGlzcGxheVwiLFxuXCJub25lXCIpfSxzaG93QWxsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLml0ZW1zLGI9dGhpcy5fLmdyb3VwcyxjPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLGU7Zm9yKGUgaW4gYSljLmdldEJ5SWQoYVtlXSkuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJcIik7Zm9yKHZhciBoIGluIGIpYT1jLmdldEJ5SWQoYltoXSksZT1hLmdldE5leHQoKSxhLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpLGUmJlwidWxcIj09ZS5nZXROYW1lKCkmJmUuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJcIil9LG1hcms6ZnVuY3Rpb24oYSl7dGhpcy5tdWx0aVNlbGVjdHx8dGhpcy51bm1hcmtBbGwoKTthPXRoaXMuXy5pdGVtc1thXTt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKGEpO2IuYWRkQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZChhK1wiX29wdGlvblwiKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsITApO3RoaXMub25NYXJrJiZ0aGlzLm9uTWFyayhiKX0sXG5tYXJrRmlyc3REaXNwbGF5ZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuXy5tYXJrRmlyc3REaXNwbGF5ZWQoZnVuY3Rpb24oKXthLm11bHRpU2VsZWN0fHxhLnVubWFya0FsbCgpfSl9LHVubWFyazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKTthPXRoaXMuXy5pdGVtc1thXTt2YXIgYz1iLmdldEJ5SWQoYSk7Yy5yZW1vdmVDbGFzcyhcImNrZV9zZWxlY3RlZFwiKTtiLmdldEJ5SWQoYStcIl9vcHRpb25cIikucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKTt0aGlzLm9uVW5tYXJrJiZ0aGlzLm9uVW5tYXJrKGMpfSx1bm1hcmtBbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaXRlbXMsYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxjO2ZvcihjIGluIGEpe3ZhciBlPWFbY107Yi5nZXRCeUlkKGUpLnJlbW92ZUNsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO2IuZ2V0QnlJZChlK1wiX29wdGlvblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpfXRoaXMub25Vbm1hcmsmJlxudGhpcy5vblVubWFyaygpfSxpc01hcmtlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLmhhc0NsYXNzKFwiY2tlX3NlbGVjdGVkXCIpfSxmb2N1czpmdW5jdGlvbihhKXt0aGlzLl8uZm9jdXNJbmRleD0tMTt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImFcIiksYyxlPS0xO2lmKGEpZm9yKGM9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLmdldEZpcnN0KCk7YT1iLmdldEl0ZW0oKytlKTspe2lmKGEuZXF1YWxzKGMpKXt0aGlzLl8uZm9jdXNJbmRleD1lO2JyZWFrfX1lbHNlIHRoaXMuZWxlbWVudC5mb2N1cygpO2MmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZvY3VzKCl9LDApfX19KX19KSxDS0VESVRPUi5wbHVnaW5zLmFkZChcInJpY2hjb21ib1wiLHtyZXF1aXJlczpcImZsb2F0cGFuZWwsbGlzdGJsb2NrLGJ1dHRvblwiLGJlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX1JJQ0hDT01CTyxcbkNLRURJVE9SLnVpLnJpY2hDb21iby5oYW5kbGVyKX19KSxmdW5jdGlvbigpe3ZhciBhPSdcXHgzY3NwYW4gaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9jb21ibyBja2VfY29tYm9fX3tuYW1lfSB7Y2xzfVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2xhYmVsXCJcXHgzZXtsYWJlbH1cXHgzYy9zcGFuXFx4M2VcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2J1dHRvblwiIHRpdGxlXFx4M2RcInt0aXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiJysoQ0tFRElUT1IuZW52LmdlY2tvJiYhQ0tFRElUT1IuZW52LmhjP1wiXCI6XCIgaHJlZlxceDNkXFxcImphdmFzY3JpcHQ6dm9pZCgne3RpdGxlSnN9JylcXFwiXCIpKycgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcImJ1dHRvblwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCJ7aWR9X2xhYmVsXCIgYXJpYS1oYXNwb3B1cFxceDNkXCJ0cnVlXCInO0NLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYyYmXG4oYSs9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGErPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgYT1hKygnIG9ua2V5ZG93blxceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlkb3duRm59LGV2ZW50LHRoaXMpO1wiIG9uZm9jdXNcXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Zm9jdXNGbn0sZXZlbnQpO1wiICcrKENLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIikrJ1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHRoaXMpO3JldHVybiBmYWxzZTtcIlxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1fdGV4dFwiIGNsYXNzXFx4M2RcImNrZV9jb21ib190ZXh0IGNrZV9jb21ib19pbmxpbmVsYWJlbFwiXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9jb21ib19vcGVuXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfY29tYm9fYXJyb3dcIlxceDNlJytcbihDS0VESVRPUi5lbnYuaGM/XCJcXHgyNiM5NjYwO1wiOkNLRURJVE9SLmVudi5haXI/XCJcXHgyNm5ic3A7XCI6XCJcIikrXCJcXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2VcXHgzYy9zcGFuXFx4M2VcIiksZT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImNvbWJvXCIsYSk7Q0tFRElUT1IuVUlfUklDSENPTUJPPVwicmljaGNvbWJvXCI7Q0tFRElUT1IudWkucmljaENvbWJvPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGEse2Nhbkdyb3VwOiExLHRpdGxlOmEubGFiZWwsbW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6MX0pO2E9dGhpcy5wYW5lbHx8e307ZGVsZXRlIHRoaXMucGFuZWw7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7dGhpcy5kb2N1bWVudD1hLnBhcmVudCYmYS5wYXJlbnQuZ2V0RG9jdW1lbnQoKXx8Q0tFRElUT1IuZG9jdW1lbnQ7YS5jbGFzc05hbWU9XCJja2VfY29tYm9wYW5lbFwiO1xuYS5ibG9jaz17bXVsdGlTZWxlY3Q6YS5tdWx0aVNlbGVjdCxhdHRyaWJ1dGVzOmEuYXR0cmlidXRlc307YS50b29sYmFyUmVsYXRlZD0hMDt0aGlzLl89e3BhbmVsRGVmaW5pdGlvbjphLGl0ZW1zOnt9fX0scHJvdG86e3JlbmRlckh0bWw6ZnVuY3Rpb24oYSl7dmFyIGM9W107dGhpcy5yZW5kZXIoYSxjKTtyZXR1cm4gYy5qb2luKFwiXCIpfSxyZW5kZXI6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKCl7aWYodGhpcy5nZXRTdGF0ZSgpIT1DS0VESVRPUi5UUklTVEFURV9PTil7dmFyIGM9dGhpcy5tb2Rlc1thLm1vZGVdP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDthLnJlYWRPbmx5JiYhdGhpcy5yZWFkT25seSYmKGM9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO3RoaXMuc2V0U3RhdGUoYyk7dGhpcy5zZXRWYWx1ZShcIlwiKTtjIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmdGhpcy5yZWZyZXNoJiZ0aGlzLnJlZnJlc2goKX19dmFyIGw9XG5DS0VESVRPUi5lbnYsaz1cImNrZV9cIit0aGlzLmlkLGc9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYyl7cCYmKGEudW5sb2NrU2VsZWN0aW9uKDEpLHA9MCk7bS5leGVjdXRlKGMpfSx0aGlzKSxoPXRoaXMsbT17aWQ6ayxjb21ibzp0aGlzLGZvY3VzOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChrKS5nZXRDaGlsZCgxKS5mb2N1cygpfSxleGVjdXRlOmZ1bmN0aW9uKGMpe3ZhciBkPWguXztpZihkLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRClpZihoLmNyZWF0ZVBhbmVsKGEpLGQub24pZC5wYW5lbC5oaWRlKCk7ZWxzZXtoLmNvbW1pdCgpO3ZhciBlPWguZ2V0VmFsdWUoKTtlP2QubGlzdC5tYXJrKGUpOmQubGlzdC51bm1hcmtBbGwoKTtkLnBhbmVsLnNob3dCbG9jayhoLmlkLG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKSw0KX19LGNsaWNrRm46Z307YS5vbihcImFjdGl2ZUZpbHRlckNoYW5nZVwiLGQsdGhpcyk7YS5vbihcIm1vZGVcIixcbmQsdGhpcyk7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGQsdGhpcyk7IXRoaXMucmVhZE9ubHkmJmEub24oXCJyZWFkT25seVwiLGQsdGhpcyk7dmFyIGY9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSxiKXthPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSk7dmFyIGM9YS5nZXRLZXlzdHJva2UoKTtzd2l0Y2goYyl7Y2FzZSAxMzpjYXNlIDMyOmNhc2UgNDA6Q0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKGcsYik7YnJlYWs7ZGVmYXVsdDptLm9ua2V5KG0sYyl9YS5wcmV2ZW50RGVmYXVsdCgpfSksbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe20ub25mb2N1cyYmbS5vbmZvY3VzKCl9KSxwPTA7bS5rZXlEb3duRm49ZjtsPXtpZDprLG5hbWU6dGhpcy5uYW1lfHx0aGlzLmNvbW1hbmQsbGFiZWw6dGhpcy5sYWJlbCx0aXRsZTp0aGlzLnRpdGxlLGNsczp0aGlzLmNsYXNzTmFtZXx8XCJcIix0aXRsZUpzOmwuZ2Vja28mJiFsLmhjP1wiXCI6KHRoaXMudGl0bGV8fFxuXCJcIikucmVwbGFjZShcIidcIixcIlwiKSxrZXlkb3duRm46Zixmb2N1c0ZuOm4sY2xpY2tGbjpnfTtlLm91dHB1dChsLGMpO2lmKHRoaXMub25SZW5kZXIpdGhpcy5vblJlbmRlcigpO3JldHVybiBtfSxjcmVhdGVQYW5lbDpmdW5jdGlvbihhKXtpZighdGhpcy5fLnBhbmVsKXt2YXIgYz10aGlzLl8ucGFuZWxEZWZpbml0aW9uLGQ9dGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayxlPWMucGFyZW50fHxDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksaz1cImNrZV9jb21ib3BhbmVsX19cIit0aGlzLm5hbWUsZz1uZXcgQ0tFRElUT1IudWkuZmxvYXRQYW5lbChhLGUsYyksYz1nLmFkZExpc3RCbG9jayh0aGlzLmlkLGQpLGg9dGhpcztnLm9uU2hvdz1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyhrKTtoLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTtoLl8ub249MTtoLmVkaXRvckZvY3VzJiYhYS5mb2N1c01hbmFnZXIuaGFzRm9jdXMmJmEuZm9jdXMoKTtpZihoLm9uT3BlbiloLm9uT3BlbigpfTtcbmcub25IaWRlPWZ1bmN0aW9uKGMpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhrKTtoLnNldFN0YXRlKGgubW9kZXMmJmgubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2guXy5vbj0wO2lmKCFjJiZoLm9uQ2xvc2UpaC5vbkNsb3NlKCl9O2cub25Fc2NhcGU9ZnVuY3Rpb24oKXtnLmhpZGUoMSl9O2Mub25DbGljaz1mdW5jdGlvbihhLGIpe2gub25DbGljayYmaC5vbkNsaWNrLmNhbGwoaCxhLGIpO2cuaGlkZSgpfTt0aGlzLl8ucGFuZWw9Zzt0aGlzLl8ubGlzdD1jO2cuZ2V0QmxvY2sodGhpcy5pZCkub25IaWRlPWZ1bmN0aW9uKCl7aC5fLm9uPTA7aC5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfTt0aGlzLmluaXQmJnRoaXMuaW5pdCgpfX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxjKXt0aGlzLl8udmFsdWU9YTt2YXIgZD10aGlzLmRvY3VtZW50LmdldEJ5SWQoXCJja2VfXCIrdGhpcy5pZCtcIl90ZXh0XCIpO2QmJlxuKGF8fGM/ZC5yZW1vdmVDbGFzcyhcImNrZV9jb21ib19pbmxpbmVsYWJlbFwiKTooYz10aGlzLmxhYmVsLGQuYWRkQ2xhc3MoXCJja2VfY29tYm9faW5saW5lbGFiZWxcIikpLGQuc2V0VGV4dChcInVuZGVmaW5lZFwiIT10eXBlb2YgYz9jOmEpKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnZhbHVlfHxcIlwifSx1bm1hcmtBbGw6ZnVuY3Rpb24oKXt0aGlzLl8ubGlzdC51bm1hcmtBbGwoKX0sbWFyazpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5tYXJrKGEpfSxoaWRlSXRlbTpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5oaWRlSXRlbShhKX0saGlkZUdyb3VwOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LmhpZGVHcm91cChhKX0sc2hvd0FsbDpmdW5jdGlvbigpe3RoaXMuXy5saXN0LnNob3dBbGwoKX0sYWRkOmZ1bmN0aW9uKGEsYyxkKXt0aGlzLl8uaXRlbXNbYV09ZHx8YTt0aGlzLl8ubGlzdC5hZGQoYSxjLGQpfSxzdGFydEdyb3VwOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LnN0YXJ0R3JvdXAoYSl9LFxuY29tbWl0OmZ1bmN0aW9uKCl7dGhpcy5fLmNvbW1pdHRlZHx8KHRoaXMuXy5saXN0LmNvbW1pdCgpLHRoaXMuXy5jb21taXR0ZWQ9MSxDS0VESVRPUi51aS5maXJlKFwicmVhZHlcIix0aGlzKSk7dGhpcy5fLmNvbW1pdHRlZD0xfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3RhdGUhPWEpe3ZhciBjPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIit0aGlzLmlkKTtjLnNldFN0YXRlKGEsXCJja2VfY29tYm9cIik7YT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/Yy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApOmMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKTt0aGlzLl8uc3RhdGU9YX19LGdldFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zdGF0ZX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmdGhpcy5zZXRTdGF0ZSh0aGlzLl8ubGFzdFN0YXRlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5zdGF0ZSE9XG5DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKHRoaXMuXy5sYXN0U3RhdGU9dGhpcy5fLnN0YXRlLHRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpKX19LHN0YXRpY3M6e2hhbmRsZXI6e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnJpY2hDb21ibyhhKX19fX0pO0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRSaWNoQ29tYm89ZnVuY3Rpb24oYSxjKXt0aGlzLmFkZChhLENLRURJVE9SLlVJX1JJQ0hDT01CTyxjKX19KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJmb3JtYXRcIix7cmVxdWlyZXM6XCJyaWNoY29tYm9cIixpbml0OmZ1bmN0aW9uKGEpe2lmKCFhLmJsb2NrbGVzcyl7Zm9yKHZhciBlPWEuY29uZmlnLGI9YS5sYW5nLmZvcm1hdCxjPWUuZm9ybWF0X3RhZ3Muc3BsaXQoXCI7XCIpLGQ9e30sbD0wLGs9W10sZz0wO2c8Yy5sZW5ndGg7ZysrKXt2YXIgaD1jW2ddLG09bmV3IENLRURJVE9SLnN0eWxlKGVbXCJmb3JtYXRfXCIraF0pO1xuaWYoIWEuZmlsdGVyLmN1c3RvbUNvbmZpZ3x8YS5maWx0ZXIuY2hlY2sobSkpbCsrLGRbaF09bSxkW2hdLl8uZW50ZXJNb2RlPWEuY29uZmlnLmVudGVyTW9kZSxrLnB1c2gobSl9MCE9PWwmJmEudWkuYWRkUmljaENvbWJvKFwiRm9ybWF0XCIse2xhYmVsOmIubGFiZWwsdGl0bGU6Yi5wYW5lbFRpdGxlLHRvb2xiYXI6XCJzdHlsZXMsMjBcIixhbGxvd2VkQ29udGVudDprLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0uY29uY2F0KGUuY29udGVudHNDc3MpLG11bHRpU2VsZWN0OiExLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmIucGFuZWxUaXRsZX19LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0R3JvdXAoYi5wYW5lbFRpdGxlKTtmb3IodmFyIGEgaW4gZCl7dmFyIGM9YltcInRhZ19cIithXTt0aGlzLmFkZChhLGRbYV0uYnVpbGRQcmV2aWV3KGMpLGMpfX0sb25DbGljazpmdW5jdGlvbihiKXthLmZvY3VzKCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2I9XG5kW2JdO3ZhciBjPWEuZWxlbWVudFBhdGgoKTtiLmNoZWNrQWN0aXZlKGMsYSl8fGEuYXBwbHlTdHlsZShiKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSwwKX0sb25SZW5kZXI6ZnVuY3Rpb24oKXthLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5nZXRWYWx1ZSgpO2I9Yi5kYXRhLnBhdGg7dGhpcy5yZWZyZXNoKCk7Zm9yKHZhciBlIGluIGQpaWYoZFtlXS5jaGVja0FjdGl2ZShiLGEpKXtlIT1jJiZ0aGlzLnNldFZhbHVlKGUsYS5sYW5nLmZvcm1hdFtcInRhZ19cIitlXSk7cmV0dXJufXRoaXMuc2V0VmFsdWUoXCJcIil9LHRoaXMpfSxvbk9wZW46ZnVuY3Rpb24oKXt0aGlzLnNob3dBbGwoKTtmb3IodmFyIGIgaW4gZClhLmFjdGl2ZUZpbHRlci5jaGVjayhkW2JdKXx8dGhpcy5oaWRlSXRlbShiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPWEuZWxlbWVudFBhdGgoKTtpZihiKXtpZihiLmlzQ29udGV4dEZvcihcInBcIikpZm9yKHZhciBjIGluIGQpaWYoYS5hY3RpdmVGaWx0ZXIuY2hlY2soZFtjXSkpcmV0dXJuO1xudGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9fX0pfX19KSxDS0VESVRPUi5jb25maWcuZm9ybWF0X3RhZ3M9XCJwO2gxO2gyO2gzO2g0O2g1O2g2O3ByZTthZGRyZXNzO2RpdlwiLENLRURJVE9SLmNvbmZpZy5mb3JtYXRfcD17ZWxlbWVudDpcInBcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9kaXY9e2VsZW1lbnQ6XCJkaXZcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9wcmU9e2VsZW1lbnQ6XCJwcmVcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9hZGRyZXNzPXtlbGVtZW50OlwiYWRkcmVzc1wifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2gxPXtlbGVtZW50OlwiaDFcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oMj17ZWxlbWVudDpcImgyXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDM9e2VsZW1lbnQ6XCJoM1wifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2g0PXtlbGVtZW50OlwiaDRcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oNT17ZWxlbWVudDpcImg1XCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDY9XG57ZWxlbWVudDpcImg2XCJ9LGZ1bmN0aW9uKCl7dmFyIGE9e2NhblVuZG86ITEsZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoclwiKTthLmluc2VydEVsZW1lbnQoYil9LGFsbG93ZWRDb250ZW50OlwiaHJcIixyZXF1aXJlZENvbnRlbnQ6XCJoclwifTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImhvcml6b250YWxydWxlXCIse2luaXQ6ZnVuY3Rpb24oZSl7ZS5ibG9ja2xlc3N8fChlLmFkZENvbW1hbmQoXCJob3Jpem9udGFscnVsZVwiLGEpLGUudWkuYWRkQnV0dG9uJiZlLnVpLmFkZEJ1dHRvbihcIkhvcml6b250YWxSdWxlXCIse2xhYmVsOmUubGFuZy5ob3Jpem9udGFscnVsZS50b29sYmFyLGNvbW1hbmQ6XCJob3Jpem9udGFscnVsZVwiLHRvb2xiYXI6XCJpbnNlcnQsNDBcIn0pKX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImh0bWx3cml0ZXJcIix7aW5pdDpmdW5jdGlvbihhKXt2YXIgZT1uZXcgQ0tFRElUT1IuaHRtbFdyaXRlcjtlLmZvcmNlU2ltcGxlQW1wZXJzYW5kPVxuYS5jb25maWcuZm9yY2VTaW1wbGVBbXBlcnNhbmQ7ZS5pbmRlbnRhdGlvbkNoYXJzPWEuY29uZmlnLmRhdGFJbmRlbnRhdGlvbkNoYXJzfHxcIlxcdFwiO2EuZGF0YVByb2Nlc3Nvci53cml0ZXI9ZX19KSxDS0VESVRPUi5odG1sV3JpdGVyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXIsJDpmdW5jdGlvbigpe3RoaXMuYmFzZSgpO3RoaXMuaW5kZW50YXRpb25DaGFycz1cIlxcdFwiO3RoaXMuc2VsZkNsb3NpbmdFbmQ9XCIgL1xceDNlXCI7dGhpcy5saW5lQnJlYWtDaGFycz1cIlxcblwiO3RoaXMuc29ydEF0dHJpYnV0ZXM9MTt0aGlzLl8uaW5kZW50PTA7dGhpcy5fLmluZGVudGF0aW9uPVwiXCI7dGhpcy5fLmluUHJlPTA7dGhpcy5fLnJ1bGVzPXt9O3ZhciBhPUNLRURJVE9SLmR0ZCxlO2ZvcihlIGluIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLiRub25Cb2R5Q29udGVudCxhLiRibG9jayxhLiRsaXN0SXRlbSxhLiR0YWJsZUNvbnRlbnQpKXRoaXMuc2V0UnVsZXMoZSxcbntpbmRlbnQ6IWFbZV1bXCIjXCJdLGJyZWFrQmVmb3JlT3BlbjoxLGJyZWFrQmVmb3JlQ2xvc2U6IWFbZV1bXCIjXCJdLGJyZWFrQWZ0ZXJDbG9zZToxLG5lZWRzU3BhY2U6ZSBpbiBhLiRibG9jayYmIShlIGlue2xpOjEsZHQ6MSxkZDoxfSl9KTt0aGlzLnNldFJ1bGVzKFwiYnJcIix7YnJlYWtBZnRlck9wZW46MX0pO3RoaXMuc2V0UnVsZXMoXCJ0aXRsZVwiLHtpbmRlbnQ6MCxicmVha0FmdGVyT3BlbjowfSk7dGhpcy5zZXRSdWxlcyhcInN0eWxlXCIse2luZGVudDowLGJyZWFrQmVmb3JlQ2xvc2U6MX0pO3RoaXMuc2V0UnVsZXMoXCJwcmVcIix7YnJlYWtBZnRlck9wZW46MSxpbmRlbnQ6MH0pfSxwcm90bzp7b3BlblRhZzpmdW5jdGlvbihhKXt2YXIgZT10aGlzLl8ucnVsZXNbYV07dGhpcy5fLmFmdGVyQ2xvc2VyJiZlJiZlLm5lZWRzU3BhY2UmJnRoaXMuXy5uZWVkc1NwYWNlJiZ0aGlzLl8ub3V0cHV0LnB1c2goXCJcXG5cIik7dGhpcy5fLmluZGVudD90aGlzLmluZGVudGF0aW9uKCk6ZSYmZS5icmVha0JlZm9yZU9wZW4mJlxuKHRoaXMubGluZUJyZWFrKCksdGhpcy5pbmRlbnRhdGlvbigpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzY1wiLGEpO3RoaXMuXy5hZnRlckNsb3Nlcj0wfSxvcGVuVGFnQ2xvc2U6ZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLl8ucnVsZXNbYV07ZT8odGhpcy5fLm91dHB1dC5wdXNoKHRoaXMuc2VsZkNsb3NpbmdFbmQpLGImJmIuYnJlYWtBZnRlckNsb3NlJiYodGhpcy5fLm5lZWRzU3BhY2U9Yi5uZWVkc1NwYWNlKSk6KHRoaXMuXy5vdXRwdXQucHVzaChcIlxceDNlXCIpLGImJmIuaW5kZW50JiYodGhpcy5fLmluZGVudGF0aW9uKz10aGlzLmluZGVudGF0aW9uQ2hhcnMpKTtiJiZiLmJyZWFrQWZ0ZXJPcGVuJiZ0aGlzLmxpbmVCcmVhaygpO1wicHJlXCI9PWEmJih0aGlzLl8uaW5QcmU9MSl9LGF0dHJpYnV0ZTpmdW5jdGlvbihhLGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYodGhpcy5mb3JjZVNpbXBsZUFtcGVyc2FuZCYmKGU9ZS5yZXBsYWNlKC8mYW1wOy9nLFwiXFx4MjZcIikpLGU9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoZSkpO1xudGhpcy5fLm91dHB1dC5wdXNoKFwiIFwiLGEsJ1xceDNkXCInLGUsJ1wiJyl9LGNsb3NlVGFnOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuXy5ydWxlc1thXTtlJiZlLmluZGVudCYmKHRoaXMuXy5pbmRlbnRhdGlvbj10aGlzLl8uaW5kZW50YXRpb24uc3Vic3RyKHRoaXMuaW5kZW50YXRpb25DaGFycy5sZW5ndGgpKTt0aGlzLl8uaW5kZW50P3RoaXMuaW5kZW50YXRpb24oKTplJiZlLmJyZWFrQmVmb3JlQ2xvc2UmJih0aGlzLmxpbmVCcmVhaygpLHRoaXMuaW5kZW50YXRpb24oKSk7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MvXCIsYSxcIlxceDNlXCIpO1wicHJlXCI9PWEmJih0aGlzLl8uaW5QcmU9MCk7ZSYmZS5icmVha0FmdGVyQ2xvc2UmJih0aGlzLmxpbmVCcmVhaygpLHRoaXMuXy5uZWVkc1NwYWNlPWUubmVlZHNTcGFjZSk7dGhpcy5fLmFmdGVyQ2xvc2VyPTF9LHRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5fLmluZGVudCYmKHRoaXMuaW5kZW50YXRpb24oKSwhdGhpcy5fLmluUHJlJiYoYT1DS0VESVRPUi50b29scy5sdHJpbShhKSkpO1xudGhpcy5fLm91dHB1dC5wdXNoKGEpfSxjb21tZW50OmZ1bmN0aW9uKGEpe3RoaXMuXy5pbmRlbnQmJnRoaXMuaW5kZW50YXRpb24oKTt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYyEtLVwiLGEsXCItLVxceDNlXCIpfSxsaW5lQnJlYWs6ZnVuY3Rpb24oKXshdGhpcy5fLmluUHJlJiYwPHRoaXMuXy5vdXRwdXQubGVuZ3RoJiZ0aGlzLl8ub3V0cHV0LnB1c2godGhpcy5saW5lQnJlYWtDaGFycyk7dGhpcy5fLmluZGVudD0xfSxpbmRlbnRhdGlvbjpmdW5jdGlvbigpeyF0aGlzLl8uaW5QcmUmJnRoaXMuXy5pbmRlbnRhdGlvbiYmdGhpcy5fLm91dHB1dC5wdXNoKHRoaXMuXy5pbmRlbnRhdGlvbik7dGhpcy5fLmluZGVudD0wfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuXy5vdXRwdXQ9W107dGhpcy5fLmluZGVudD0wO3RoaXMuXy5pbmRlbnRhdGlvbj1cIlwiO3RoaXMuXy5hZnRlckNsb3Nlcj0wO3RoaXMuXy5pblByZT0wO3RoaXMuXy5uZWVkc1NwYWNlPTB9LHNldFJ1bGVzOmZ1bmN0aW9uKGEsZSl7dmFyIGI9XG50aGlzLl8ucnVsZXNbYV07Yj9DS0VESVRPUi50b29scy5leHRlbmQoYixlLCEwKTp0aGlzLl8ucnVsZXNbYV09ZX19fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyl7Y3x8KGM9YS5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZEVsZW1lbnQoKSk7aWYoYyYmYy5pcyhcImltZ1wiKSYmIWMuZGF0YShcImNrZS1yZWFsZWxlbWVudFwiKSYmIWMuaXNSZWFkT25seSgpKXJldHVybiBjfWZ1bmN0aW9uIGUoYSl7dmFyIGM9YS5nZXRTdHlsZShcImZsb2F0XCIpO2lmKFwiaW5oZXJpdFwiPT1jfHxcIm5vbmVcIj09YyljPTA7Y3x8KGM9YS5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKSk7cmV0dXJuIGN9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbWFnZVwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYil7aWYoIWIucGx1Z2lucy5pbWFnZTIpe0NLRURJVE9SLmRpYWxvZy5hZGQoXCJpbWFnZVwiLHRoaXMucGF0aCtcImRpYWxvZ3MvaW1hZ2UuanNcIik7dmFyIGM9XCJpbWdbYWx0LCFzcmNde2JvcmRlci1zdHlsZSxib3JkZXItd2lkdGgsZmxvYXQsaGVpZ2h0LG1hcmdpbixtYXJnaW4tYm90dG9tLG1hcmdpbi1sZWZ0LG1hcmdpbi1yaWdodCxtYXJnaW4tdG9wLHdpZHRofVwiO1xuQ0tFRElUT1IuZGlhbG9nLmlzVGFiRW5hYmxlZChiLFwiaW1hZ2VcIixcImFkdmFuY2VkXCIpJiYoYz1cImltZ1thbHQsZGlyLGlkLGxhbmcsbG9uZ2Rlc2MsIXNyYyx0aXRsZV17Kn0oKilcIik7Yi5hZGRDb21tYW5kKFwiaW1hZ2VcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImltYWdlXCIse2FsbG93ZWRDb250ZW50OmMscmVxdWlyZWRDb250ZW50OlwiaW1nW2FsdCxzcmNdXCIsY29udGVudFRyYW5zZm9ybWF0aW9uczpbW1wiaW1ne3dpZHRofTogc2l6ZVRvU3R5bGVcIixcImltZ1t3aWR0aF06IHNpemVUb0F0dHJpYnV0ZVwiXSxbXCJpbWd7ZmxvYXR9OiBhbGlnbm1lbnRUb1N0eWxlXCIsXCJpbWdbYWxpZ25dOiBhbGlnbm1lbnRUb0F0dHJpYnV0ZVwiXV19KSk7Yi51aS5hZGRCdXR0b24mJmIudWkuYWRkQnV0dG9uKFwiSW1hZ2VcIix7bGFiZWw6Yi5sYW5nLmNvbW1vbi5pbWFnZSxjb21tYW5kOlwiaW1hZ2VcIix0b29sYmFyOlwiaW5zZXJ0LDEwXCJ9KTtiLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihhKXt2YXIgYj1cbmEuZGF0YS5lbGVtZW50OyFiLmlzKFwiaW1nXCIpfHxiLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIil8fGIuaXNSZWFkT25seSgpfHwoYS5kYXRhLmRpYWxvZz1cImltYWdlXCIpfSk7Yi5hZGRNZW51SXRlbXMmJmIuYWRkTWVudUl0ZW1zKHtpbWFnZTp7bGFiZWw6Yi5sYW5nLmltYWdlLm1lbnUsY29tbWFuZDpcImltYWdlXCIsZ3JvdXA6XCJpbWFnZVwifX0pO2IuY29udGV4dE1lbnUmJmIuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYyl7aWYoYShiLGMpKXJldHVybntpbWFnZTpDS0VESVRPUi5UUklTVEFURV9PRkZ9fSl9fSxhZnRlckluaXQ6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhjKXt2YXIgbD1iLmdldENvbW1hbmQoXCJqdXN0aWZ5XCIrYyk7aWYobCl7aWYoXCJsZWZ0XCI9PWN8fFwicmlnaHRcIj09YylsLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGspe3ZhciBnPWEoYiksaDtnJiYoaD1lKGcpLGg9PWM/KGcucmVtb3ZlU3R5bGUoXCJmbG9hdFwiKSxjPT1lKGcpJiZnLnJlbW92ZUF0dHJpYnV0ZShcImFsaWduXCIpKTpcbmcuc2V0U3R5bGUoXCJmbG9hdFwiLGMpLGsuY2FuY2VsKCkpfSk7bC5vbihcInJlZnJlc2hcIixmdW5jdGlvbihrKXt2YXIgZz1hKGIpO2cmJihnPWUoZyksdGhpcy5zZXRTdGF0ZShnPT1jP0NLRURJVE9SLlRSSVNUQVRFX09OOlwicmlnaHRcIj09Y3x8XCJsZWZ0XCI9PWM/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKSxrLmNhbmNlbCgpKX0pfX1iLnBsdWdpbnMuaW1hZ2UyfHwoYyhcImxlZnRcIiksYyhcInJpZ2h0XCIpLGMoXCJjZW50ZXJcIiksYyhcImJsb2NrXCIpKX19KX0oKSxDS0VESVRPUi5jb25maWcuaW1hZ2VfcmVtb3ZlTGlua0J5RW1wdHlVUkw9ITAsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGQ9Yy5leGVjKGEpLGU9Yy5leGVjKGIpO2lmKGQpe2lmKCFkWzJdJiZcInB4XCI9PWVbMl0pcmV0dXJuIGVbMV07aWYoXCJweFwiPT1kWzJdJiYhZVsyXSlyZXR1cm4gZVsxXStcInB4XCJ9cmV0dXJuIGJ9dmFyIGU9Q0tFRElUT1IuaHRtbFBhcnNlci5jc3NTdHlsZSxcbmI9Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoLGM9L14oKD86XFxkKig/OlxcLlxcZCspKXwoPzpcXGQrKSkoLiopPyQvaSxkPXtlbGVtZW50czp7JDpmdW5jdGlvbihiKXt2YXIgYz1iLmF0dHJpYnV0ZXM7aWYoKGM9KGM9KGM9YyYmY1tcImRhdGEtY2tlLXJlYWxlbGVtZW50XCJdKSYmbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoZGVjb2RlVVJJQ29tcG9uZW50KGMpKSkmJmMuY2hpbGRyZW5bMF0pJiZiLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1yZXNpemFibGVcIl0pe3ZhciBkPShuZXcgZShiKSkucnVsZXM7Yj1jLmF0dHJpYnV0ZXM7dmFyIGg9ZC53aWR0aCxkPWQuaGVpZ2h0O2gmJihiLndpZHRoPWEoYi53aWR0aCxoKSk7ZCYmKGIuaGVpZ2h0PWEoYi5oZWlnaHQsZCkpfXJldHVybiBjfX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmFrZW9iamVjdHNcIix7aW5pdDpmdW5jdGlvbihhKXthLmZpbHRlci5hbGxvdyhcImltZ1shZGF0YS1ja2UtcmVhbGVsZW1lbnQsc3JjLGFsdCx0aXRsZV0oKil7Kn1cIixcblwiZmFrZW9iamVjdHNcIil9LGFmdGVySW5pdDpmdW5jdGlvbihhKXsoYT0oYT1hLmRhdGFQcm9jZXNzb3IpJiZhLmh0bWxGaWx0ZXIpJiZhLmFkZFJ1bGVzKGQse2FwcGx5VG9BbGw6ITB9KX19KTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmNyZWF0ZUZha2VFbGVtZW50PWZ1bmN0aW9uKGEsYyxkLGgpe3ZhciBtPXRoaXMubGFuZy5mYWtlb2JqZWN0cyxtPW1bZF18fG0udW5rbm93bjtjPXtcImNsYXNzXCI6YyxcImRhdGEtY2tlLXJlYWxlbGVtZW50XCI6ZW5jb2RlVVJJQ29tcG9uZW50KGEuZ2V0T3V0ZXJIdG1sKCkpLFwiZGF0YS1ja2UtcmVhbC1ub2RlLXR5cGVcIjphLnR5cGUsYWx0Om0sdGl0bGU6bSxhbGlnbjphLmdldEF0dHJpYnV0ZShcImFsaWduXCIpfHxcIlwifTtDS0VESVRPUi5lbnYuaGN8fChjLnNyYz1DS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSk7ZCYmKGNbXCJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiXT1kKTtoJiYoY1tcImRhdGEtY2tlLXJlc2l6YWJsZVwiXT1cbmgsZD1uZXcgZSxoPWEuZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksYT1hLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSxoJiYoZC5ydWxlcy53aWR0aD1iKGgpKSxhJiYoZC5ydWxlcy5oZWlnaHQ9YihhKSksZC5wb3B1bGF0ZShjKSk7cmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiLHthdHRyaWJ1dGVzOmN9KX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jcmVhdGVGYWtlUGFyc2VyRWxlbWVudD1mdW5jdGlvbihhLGMsZCxoKXt2YXIgbT10aGlzLmxhbmcuZmFrZW9iamVjdHMsbT1tW2RdfHxtLnVua25vd24sZjtmPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2Eud3JpdGVIdG1sKGYpO2Y9Zi5nZXRIdG1sKCk7Yz17XCJjbGFzc1wiOmMsXCJkYXRhLWNrZS1yZWFsZWxlbWVudFwiOmVuY29kZVVSSUNvbXBvbmVudChmKSxcImRhdGEtY2tlLXJlYWwtbm9kZS10eXBlXCI6YS50eXBlLGFsdDptLHRpdGxlOm0sYWxpZ246YS5hdHRyaWJ1dGVzLmFsaWdufHxcIlwifTtcbkNLRURJVE9SLmVudi5oY3x8KGMuc3JjPUNLRURJVE9SLnRvb2xzLnRyYW5zcGFyZW50SW1hZ2VEYXRhKTtkJiYoY1tcImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlXCJdPWQpO2gmJihjW1wiZGF0YS1ja2UtcmVzaXphYmxlXCJdPWgsaD1hLmF0dHJpYnV0ZXMsYT1uZXcgZSxkPWgud2lkdGgsaD1oLmhlaWdodCx2b2lkIDAhPT1kJiYoYS5ydWxlcy53aWR0aD1iKGQpKSx2b2lkIDAhPT1oJiYoYS5ydWxlcy5oZWlnaHQ9YihoKSksYS5wb3B1bGF0ZShjKSk7cmV0dXJuIG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJpbWdcIixjKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5yZXN0b3JlUmVhbEVsZW1lbnQ9ZnVuY3Rpb24oYil7aWYoYi5kYXRhKFwiY2tlLXJlYWwtbm9kZS10eXBlXCIpIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIG51bGw7dmFyIGM9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZGVjb2RlVVJJQ29tcG9uZW50KGIuZGF0YShcImNrZS1yZWFsZWxlbWVudFwiKSksXG50aGlzLmRvY3VtZW50KTtpZihiLmRhdGEoXCJja2UtcmVzaXphYmxlXCIpKXt2YXIgZD1iLmdldFN0eWxlKFwid2lkdGhcIik7Yj1iLmdldFN0eWxlKFwiaGVpZ2h0XCIpO2QmJmMuc2V0QXR0cmlidXRlKFwid2lkdGhcIixhKGMuZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksZCkpO2ImJmMuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYShjLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSxiKSl9cmV0dXJuIGN9fSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5yZXBsYWNlKC8nL2csXCJcXFxcJFxceDI2XCIpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiLGM9YS5sZW5ndGgsZD1bXSxlPTA7ZTxjO2UrKyliPWEuY2hhckNvZGVBdChlKSxkLnB1c2goYik7cmV0dXJuXCJTdHJpbmcuZnJvbUNoYXJDb2RlKFwiK2Quam9pbihcIixcIikrXCIpXCJ9ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWIucGx1Z2lucy5saW5rLGU9ZC5jb21waWxlZFByb3RlY3Rpb25GdW5jdGlvbi5wYXJhbXMsZixnO2c9W2QuY29tcGlsZWRQcm90ZWN0aW9uRnVuY3Rpb24ubmFtZSxcblwiKFwiXTtmb3IodmFyIGg9MDtoPGUubGVuZ3RoO2grKylkPWVbaF0udG9Mb3dlckNhc2UoKSxmPWNbZF0sMDxoJiZnLnB1c2goXCIsXCIpLGcucHVzaChcIidcIixmP2EoZW5jb2RlVVJJQ29tcG9uZW50KGNbZF0pKTpcIlwiLFwiJ1wiKTtnLnB1c2goXCIpXCIpO3JldHVybiBnLmpvaW4oXCJcIil9ZnVuY3Rpb24gYyhhKXthPWEuY29uZmlnLmVtYWlsUHJvdGVjdGlvbnx8XCJcIjt2YXIgYjthJiZcImVuY29kZVwiIT1hJiYoYj17fSxhLnJlcGxhY2UoL14oW14oXSspXFwoKFteKV0rKVxcKSQvLGZ1bmN0aW9uKGEsYyxkKXtiLm5hbWU9YztiLnBhcmFtcz1bXTtkLnJlcGxhY2UoL1teLFxcc10rL2csZnVuY3Rpb24oYSl7Yi5wYXJhbXMucHVzaChhKX0pfSkpO3JldHVybiBifUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlua1wiLHtyZXF1aXJlczpcImRpYWxvZyxmYWtlb2JqZWN0c1wiLG9uTG9hZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGMucmVwbGFjZSgvJTEvZyxcInJ0bFwiPT1iP1wicmlnaHRcIjpcImxlZnRcIikucmVwbGFjZSgvJTIvZyxcblwiY2tlX2NvbnRlbnRzX1wiK2IpfXZhciBiPVwiYmFja2dyb3VuZDp1cmwoXCIrQ0tFRElUT1IuZ2V0VXJsKHRoaXMucGF0aCtcImltYWdlc1wiKyhDS0VESVRPUi5lbnYuaGlkcGk/XCIvaGlkcGlcIjpcIlwiKStcIi9hbmNob3IucG5nXCIpK1wiKSBuby1yZXBlYXQgJTEgY2VudGVyO2JvcmRlcjoxcHggZG90dGVkICMwMGY7YmFja2dyb3VuZC1zaXplOjE2cHg7XCIsYz1cIi4lMiBhLmNrZV9hbmNob3IsLiUyIGEuY2tlX2FuY2hvcl9lbXB0eSwuY2tlX2VkaXRhYmxlLiUyIGFbbmFtZV0sLmNrZV9lZGl0YWJsZS4lMiBhW2RhdGEtY2tlLXNhdmVkLW5hbWVde1wiK2IrXCJwYWRkaW5nLSUxOjE4cHg7Y3Vyc29yOmF1dG87fS4lMiBpbWcuY2tlX2FuY2hvcntcIitiK1wid2lkdGg6MTZweDttaW4taGVpZ2h0OjE1cHg7aGVpZ2h0OjEuMTVlbTt2ZXJ0aWNhbC1hbGlnbjp0ZXh0LWJvdHRvbTt9XCI7Q0tFRElUT1IuYWRkQ3NzKGEoXCJsdHJcIikrYShcInJ0bFwiKSl9LGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9XCJhWyFocmVmXVwiO1xuQ0tFRElUT1IuZGlhbG9nLmlzVGFiRW5hYmxlZChhLFwibGlua1wiLFwiYWR2YW5jZWRcIikmJihiPWIucmVwbGFjZShcIl1cIixcIixhY2Nlc3NrZXksY2hhcnNldCxkaXIsaWQsbGFuZyxuYW1lLHJlbCx0YWJpbmRleCx0aXRsZSx0eXBlLGRvd25sb2FkXXsqfSgqKVwiKSk7Q0tFRElUT1IuZGlhbG9nLmlzVGFiRW5hYmxlZChhLFwibGlua1wiLFwidGFyZ2V0XCIpJiYoYj1iLnJlcGxhY2UoXCJdXCIsXCIsdGFyZ2V0LG9uY2xpY2tdXCIpKTthLmFkZENvbW1hbmQoXCJsaW5rXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJsaW5rXCIse2FsbG93ZWRDb250ZW50OmIscmVxdWlyZWRDb250ZW50OlwiYVtocmVmXVwifSkpO2EuYWRkQ29tbWFuZChcImFuY2hvclwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiYW5jaG9yXCIse2FsbG93ZWRDb250ZW50OlwiYVshbmFtZSxpZF1cIixyZXF1aXJlZENvbnRlbnQ6XCJhW25hbWVdXCJ9KSk7YS5hZGRDb21tYW5kKFwidW5saW5rXCIsbmV3IENLRURJVE9SLnVubGlua0NvbW1hbmQpO1xuYS5hZGRDb21tYW5kKFwicmVtb3ZlQW5jaG9yXCIsbmV3IENLRURJVE9SLnJlbW92ZUFuY2hvckNvbW1hbmQpO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkNUUkwrNzYsXCJsaW5rXCIpO2EudWkuYWRkQnV0dG9uJiYoYS51aS5hZGRCdXR0b24oXCJMaW5rXCIse2xhYmVsOmEubGFuZy5saW5rLnRvb2xiYXIsY29tbWFuZDpcImxpbmtcIix0b29sYmFyOlwibGlua3MsMTBcIn0pLGEudWkuYWRkQnV0dG9uKFwiVW5saW5rXCIse2xhYmVsOmEubGFuZy5saW5rLnVubGluayxjb21tYW5kOlwidW5saW5rXCIsdG9vbGJhcjpcImxpbmtzLDIwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIkFuY2hvclwiLHtsYWJlbDphLmxhbmcubGluay5hbmNob3IudG9vbGJhcixjb21tYW5kOlwiYW5jaG9yXCIsdG9vbGJhcjpcImxpbmtzLDMwXCJ9KSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImxpbmtcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2xpbmsuanNcIik7Q0tFRElUT1IuZGlhbG9nLmFkZChcImFuY2hvclwiLHRoaXMucGF0aCtcImRpYWxvZ3MvYW5jaG9yLmpzXCIpO1xuYS5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmVsZW1lbnQuZ2V0QXNjZW5kYW50KHthOjEsaW1nOjF9LCEwKTtjJiYhYy5pc1JlYWRPbmx5KCkmJihjLmlzKFwiYVwiKT8oYi5kYXRhLmRpYWxvZz0hYy5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpfHxjLmdldEF0dHJpYnV0ZShcImhyZWZcIikmJmMuZ2V0Q2hpbGRDb3VudCgpP1wibGlua1wiOlwiYW5jaG9yXCIsYi5kYXRhLmxpbms9Yyk6Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsYykmJihiLmRhdGEuZGlhbG9nPVwiYW5jaG9yXCIpKX0sbnVsbCxudWxsLDApO2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGIpe2IuZGF0YS5kaWFsb2cgaW57bGluazoxLGFuY2hvcjoxfSYmYi5kYXRhLmxpbmsmJmEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChiLmRhdGEubGluayl9LG51bGwsbnVsbCwyMCk7YS5hZGRNZW51SXRlbXMmJmEuYWRkTWVudUl0ZW1zKHthbmNob3I6e2xhYmVsOmEubGFuZy5saW5rLmFuY2hvci5tZW51LFxuY29tbWFuZDpcImFuY2hvclwiLGdyb3VwOlwiYW5jaG9yXCIsb3JkZXI6MX0scmVtb3ZlQW5jaG9yOntsYWJlbDphLmxhbmcubGluay5hbmNob3IucmVtb3ZlLGNvbW1hbmQ6XCJyZW1vdmVBbmNob3JcIixncm91cDpcImFuY2hvclwiLG9yZGVyOjV9LGxpbms6e2xhYmVsOmEubGFuZy5saW5rLm1lbnUsY29tbWFuZDpcImxpbmtcIixncm91cDpcImxpbmtcIixvcmRlcjoxfSx1bmxpbms6e2xhYmVsOmEubGFuZy5saW5rLnVubGluayxjb21tYW5kOlwidW5saW5rXCIsZ3JvdXA6XCJsaW5rXCIsb3JkZXI6NX19KTthLmNvbnRleHRNZW51JiZhLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGIpe2lmKCFifHxiLmlzUmVhZE9ubHkoKSlyZXR1cm4gbnVsbDtiPUNLRURJVE9SLnBsdWdpbnMubGluay50cnlSZXN0b3JlRmFrZUFuY2hvcihhLGIpO2lmKCFiJiYhKGI9Q0tFRElUT1IucGx1Z2lucy5saW5rLmdldFNlbGVjdGVkTGluayhhKSkpcmV0dXJuIG51bGw7dmFyIGM9e307Yi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpJiZcbmIuZ2V0Q2hpbGRDb3VudCgpJiYoYz17bGluazpDS0VESVRPUi5UUklTVEFURV9PRkYsdW5saW5rOkNLRURJVE9SLlRSSVNUQVRFX09GRn0pO2ImJmIuaGFzQXR0cmlidXRlKFwibmFtZVwiKSYmKGMuYW5jaG9yPWMucmVtb3ZlQW5jaG9yPUNLRURJVE9SLlRSSVNUQVRFX09GRik7cmV0dXJuIGN9KTt0aGlzLmNvbXBpbGVkUHJvdGVjdGlvbkZ1bmN0aW9uPWMoYSl9LGFmdGVySW5pdDpmdW5jdGlvbihhKXthLmRhdGFQcm9jZXNzb3IuZGF0YUZpbHRlci5hZGRSdWxlcyh7ZWxlbWVudHM6e2E6ZnVuY3Rpb24oYil7cmV0dXJuIGIuYXR0cmlidXRlcy5uYW1lP2IuY2hpbGRyZW4ubGVuZ3RoP251bGw6YS5jcmVhdGVGYWtlUGFyc2VyRWxlbWVudChiLFwiY2tlX2FuY2hvclwiLFwiYW5jaG9yXCIpOm51bGx9fX0pO3ZhciBiPWEuXy5lbGVtZW50c1BhdGgmJmEuXy5lbGVtZW50c1BhdGguZmlsdGVycztiJiZiLnB1c2goZnVuY3Rpb24oYixjKXtpZihcImFcIj09YyYmKENLRURJVE9SLnBsdWdpbnMubGluay50cnlSZXN0b3JlRmFrZUFuY2hvcihhLFxuYil8fGIuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSYmKCFiLmdldEF0dHJpYnV0ZShcImhyZWZcIil8fCFiLmdldENoaWxkQ291bnQoKSkpKXJldHVyblwiYW5jaG9yXCJ9KX19KTt2YXIgZD0vXmphdmFzY3JpcHQ6LyxsPS9ebWFpbHRvOihbXj9dKykoPzpcXD8oLispKT8kLyxrPS9zdWJqZWN0PShbXjs/OkAmPSQsXFwvXSopL2ksZz0vYm9keT0oW147PzpAJj0kLFxcL10qKS9pLGg9L14jKC4qKSQvLG09L14oKD86aHR0cHxodHRwc3xmdHB8bmV3cyk6XFwvXFwvKT8oLiopJC8sZj0vXihfKD86c2VsZnx0b3B8cGFyZW50fGJsYW5rKSkkLyxuPS9eamF2YXNjcmlwdDp2b2lkXFwobG9jYXRpb25cXC5ocmVmPSdtYWlsdG86J1xcK1N0cmluZ1xcLmZyb21DaGFyQ29kZVxcKChbXildKylcXCkoPzpcXCsnKC4qKScpP1xcKSQvLHA9L15qYXZhc2NyaXB0OihbXihdKylcXCgoW14pXSspXFwpJC8scj0vXFxzKndpbmRvdy5vcGVuXFwoXFxzKnRoaXNcXC5ocmVmXFxzKixcXHMqKD86JyhbXiddKiknfG51bGwpXFxzKixcXHMqJyhbXiddKiknXFxzKlxcKVxccyo7XFxzKnJldHVyblxccypmYWxzZTsqXFxzKi8sXG52PS8oPzpefCwpKFtePV0rKT0oXFxkK3x5ZXN8bm8pL2dpLHg9e2lkOlwiYWR2SWRcIixkaXI6XCJhZHZMYW5nRGlyXCIsYWNjZXNzS2V5OlwiYWR2QWNjZXNzS2V5XCIsbmFtZTpcImFkdk5hbWVcIixsYW5nOlwiYWR2TGFuZ0NvZGVcIix0YWJpbmRleDpcImFkdlRhYkluZGV4XCIsdGl0bGU6XCJhZHZUaXRsZVwiLHR5cGU6XCJhZHZDb250ZW50VHlwZVwiLFwiY2xhc3NcIjpcImFkdkNTU0NsYXNzZXNcIixjaGFyc2V0OlwiYWR2Q2hhcnNldFwiLHN0eWxlOlwiYWR2U3R5bGVzXCIscmVsOlwiYWR2UmVsXCJ9O0NLRURJVE9SLnBsdWdpbnMubGluaz17Z2V0U2VsZWN0ZWRMaW5rOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRTZWxlY3Rpb24oKSxkPWMuZ2V0U2VsZWN0ZWRFbGVtZW50KCksZT1jLmdldFJhbmdlcygpLGY9W10sZztpZighYiYmZCYmZC5pcyhcImFcIikpcmV0dXJuIGQ7Zm9yKGQ9MDtkPGUubGVuZ3RoO2QrKylpZihnPWMuZ2V0UmFuZ2VzKClbZF0sZy5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITAse3NraXBCb2d1czohMH0pLFxuKGc9YS5lbGVtZW50UGF0aChnLmdldENvbW1vbkFuY2VzdG9yKCkpLmNvbnRhaW5zKFwiYVwiLDEpKSYmYilmLnB1c2goZyk7ZWxzZSBpZihnKXJldHVybiBnO3JldHVybiBiP2Y6bnVsbH0sZ2V0RWRpdG9yQW5jaG9yczpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5lZGl0YWJsZSgpLGM9Yi5pc0lubGluZSgpJiYhYS5wbHVnaW5zLmRpdmFyZWE/YS5kb2N1bWVudDpiLGI9Yy5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxjPWMuZ2V0RWxlbWVudHNCeVRhZyhcImltZ1wiKSxkPVtdLGU9MCxmO2Y9Yi5nZXRJdGVtKGUrKyk7KShmLmRhdGEoXCJja2Utc2F2ZWQtbmFtZVwiKXx8Zi5oYXNBdHRyaWJ1dGUoXCJuYW1lXCIpKSYmZC5wdXNoKHtuYW1lOmYuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxmLmdldEF0dHJpYnV0ZShcIm5hbWVcIiksaWQ6Zi5nZXRBdHRyaWJ1dGUoXCJpZFwiKX0pO2ZvcihlPTA7Zj1jLmdldEl0ZW0oZSsrKTspKGY9dGhpcy50cnlSZXN0b3JlRmFrZUFuY2hvcihhLGYpKSYmZC5wdXNoKHtuYW1lOmYuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxcbmlkOmYuZ2V0QXR0cmlidXRlKFwiaWRcIil9KTtyZXR1cm4gZH0sZmFrZUFuY2hvcjohMCx0cnlSZXN0b3JlRmFrZUFuY2hvcjpmdW5jdGlvbihhLGIpe2lmKGImJmIuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKSYmXCJhbmNob3JcIj09Yi5kYXRhKFwiY2tlLXJlYWwtZWxlbWVudC10eXBlXCIpKXt2YXIgYz1hLnJlc3RvcmVSZWFsRWxlbWVudChiKTtpZihjLmRhdGEoXCJja2Utc2F2ZWQtbmFtZVwiKSlyZXR1cm4gY319LHBhcnNlTGlua0F0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iJiYoYi5kYXRhKFwiY2tlLXNhdmVkLWhyZWZcIil8fGIuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSl8fFwiXCIsZT1hLnBsdWdpbnMubGluay5jb21waWxlZFByb3RlY3Rpb25GdW5jdGlvbix6PWEuY29uZmlnLmVtYWlsUHJvdGVjdGlvbix3LEM9e307Yy5tYXRjaChkKSYmKFwiZW5jb2RlXCI9PXo/Yz1jLnJlcGxhY2UobixmdW5jdGlvbihhLGIsYyl7Yz1jfHxcIlwiO3JldHVyblwibWFpbHRvOlwiK1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLFxuYi5zcGxpdChcIixcIikpK2MucmVwbGFjZSgvXFxcXCcvZyxcIidcIil9KTp6JiZjLnJlcGxhY2UocCxmdW5jdGlvbihhLGIsYyl7aWYoYj09ZS5uYW1lKXtDLnR5cGU9XCJlbWFpbFwiO2E9Qy5lbWFpbD17fTtiPS8oXicpfCgnJCkvZztjPWMubWF0Y2goL1teLFxcc10rL2cpO2Zvcih2YXIgZD1jLmxlbmd0aCxmLGcsaD0wO2g8ZDtoKyspZj1kZWNvZGVVUklDb21wb25lbnQsZz1jW2hdLnJlcGxhY2UoYixcIlwiKS5yZXBsYWNlKC9cXFxcJy9nLFwiJ1wiKSxnPWYoZyksZj1lLnBhcmFtc1toXS50b0xvd2VyQ2FzZSgpLGFbZl09ZzthLmFkZHJlc3M9W2EubmFtZSxhLmRvbWFpbl0uam9pbihcIkBcIil9fSkpO2lmKCFDLnR5cGUpaWYoej1jLm1hdGNoKGgpKUMudHlwZT1cImFuY2hvclwiLEMuYW5jaG9yPXt9LEMuYW5jaG9yLm5hbWU9Qy5hbmNob3IuaWQ9elsxXTtlbHNlIGlmKHo9Yy5tYXRjaChsKSl7dz1jLm1hdGNoKGspO2M9Yy5tYXRjaChnKTtDLnR5cGU9XCJlbWFpbFwiO3ZhciB5PUMuZW1haWw9e307eS5hZGRyZXNzPVxuelsxXTt3JiYoeS5zdWJqZWN0PWRlY29kZVVSSUNvbXBvbmVudCh3WzFdKSk7YyYmKHkuYm9keT1kZWNvZGVVUklDb21wb25lbnQoY1sxXSkpfWVsc2UgYyYmKHc9Yy5tYXRjaChtKSkmJihDLnR5cGU9XCJ1cmxcIixDLnVybD17fSxDLnVybC5wcm90b2NvbD13WzFdLEMudXJsLnVybD13WzJdKTtpZihiKXtpZihjPWIuZ2V0QXR0cmlidXRlKFwidGFyZ2V0XCIpKUMudGFyZ2V0PXt0eXBlOmMubWF0Y2goZik/YzpcImZyYW1lXCIsbmFtZTpjfTtlbHNlIGlmKGM9KGM9Yi5kYXRhKFwiY2tlLXBhLW9uY2xpY2tcIil8fGIuZ2V0QXR0cmlidXRlKFwib25jbGlja1wiKSkmJmMubWF0Y2gocikpZm9yKEMudGFyZ2V0PXt0eXBlOlwicG9wdXBcIixuYW1lOmNbMV19O3o9di5leGVjKGNbMl0pOylcInllc1wiIT16WzJdJiZcIjFcIiE9elsyXXx8elsxXWlue2hlaWdodDoxLHdpZHRoOjEsdG9wOjEsbGVmdDoxfT9pc0Zpbml0ZSh6WzJdKSYmKEMudGFyZ2V0W3pbMV1dPXpbMl0pOkMudGFyZ2V0W3pbMV1dPSEwO251bGwhPT1cbmIuZ2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIikmJihDLmRvd25sb2FkPSEwKTt2YXIgYz17fSxCO2ZvcihCIGluIHgpKHo9Yi5nZXRBdHRyaWJ1dGUoQikpJiYoY1t4W0JdXT16KTtpZihCPWIuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxjLmFkdk5hbWUpYy5hZHZOYW1lPUI7Q0tFRElUT1IudG9vbHMuaXNFbXB0eShjKXx8KEMuYWR2YW5jZWQ9Yyl9cmV0dXJuIEN9LGdldExpbmtBdHRyaWJ1dGVzOmZ1bmN0aW9uKGMsZCl7dmFyIGY9Yy5jb25maWcuZW1haWxQcm90ZWN0aW9ufHxcIlwiLGc9e307c3dpdGNoKGQudHlwZSl7Y2FzZSBcInVybFwiOnZhciBmPWQudXJsJiZ2b2lkIDAhPT1kLnVybC5wcm90b2NvbD9kLnVybC5wcm90b2NvbDpcImh0dHA6Ly9cIixoPWQudXJsJiZDS0VESVRPUi50b29scy50cmltKGQudXJsLnVybCl8fFwiXCI7Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09MD09PWguaW5kZXhPZihcIi9cIik/aDpmK2g7YnJlYWs7Y2FzZSBcImFuY2hvclwiOmY9ZC5hbmNob3ImJmQuYW5jaG9yLmlkO1xuZ1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09XCIjXCIrKGQuYW5jaG9yJiZkLmFuY2hvci5uYW1lfHxmfHxcIlwiKTticmVhaztjYXNlIFwiZW1haWxcIjp2YXIgaz1kLmVtYWlsLGg9ay5hZGRyZXNzO3N3aXRjaChmKXtjYXNlIFwiXCI6Y2FzZSBcImVuY29kZVwiOnZhciBtPWVuY29kZVVSSUNvbXBvbmVudChrLnN1YmplY3R8fFwiXCIpLGw9ZW5jb2RlVVJJQ29tcG9uZW50KGsuYm9keXx8XCJcIiksaz1bXTttJiZrLnB1c2goXCJzdWJqZWN0XFx4M2RcIittKTtsJiZrLnB1c2goXCJib2R5XFx4M2RcIitsKTtrPWsubGVuZ3RoP1wiP1wiK2suam9pbihcIlxceDI2XCIpOlwiXCI7XCJlbmNvZGVcIj09Zj8oZj1bXCJqYXZhc2NyaXB0OnZvaWQobG9jYXRpb24uaHJlZlxceDNkJ21haWx0bzonK1wiLGUoaCldLGsmJmYucHVzaChcIisnXCIsYShrKSxcIidcIiksZi5wdXNoKFwiKVwiKSk6Zj1bXCJtYWlsdG86XCIsaCxrXTticmVhaztkZWZhdWx0OmY9aC5zcGxpdChcIkBcIiwyKSxrLm5hbWU9ZlswXSxrLmRvbWFpbj1mWzFdLGY9W1wiamF2YXNjcmlwdDpcIixiKGMsXG5rKV19Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09Zi5qb2luKFwiXCIpfWlmKGQudGFyZ2V0KWlmKFwicG9wdXBcIj09ZC50YXJnZXQudHlwZSl7Zm9yKHZhciBmPVtcIndpbmRvdy5vcGVuKHRoaXMuaHJlZiwgJ1wiLGQudGFyZ2V0Lm5hbWV8fFwiXCIsXCInLCAnXCJdLG49XCJyZXNpemFibGUgc3RhdHVzIGxvY2F0aW9uIHRvb2xiYXIgbWVudWJhciBmdWxsc2NyZWVuIHNjcm9sbGJhcnMgZGVwZW5kZW50XCIuc3BsaXQoXCIgXCIpLGg9bi5sZW5ndGgsbT1mdW5jdGlvbihhKXtkLnRhcmdldFthXSYmbi5wdXNoKGErXCJcXHgzZFwiK2QudGFyZ2V0W2FdKX0saz0wO2s8aDtrKyspbltrXSs9ZC50YXJnZXRbbltrXV0/XCJcXHgzZHllc1wiOlwiXFx4M2Rub1wiO20oXCJ3aWR0aFwiKTttKFwibGVmdFwiKTttKFwiaGVpZ2h0XCIpO20oXCJ0b3BcIik7Zi5wdXNoKG4uam9pbihcIixcIiksXCInKTsgcmV0dXJuIGZhbHNlO1wiKTtnW1wiZGF0YS1ja2UtcGEtb25jbGlja1wiXT1mLmpvaW4oXCJcIil9ZWxzZVwibm90U2V0XCIhPWQudGFyZ2V0LnR5cGUmJmQudGFyZ2V0Lm5hbWUmJlxuKGcudGFyZ2V0PWQudGFyZ2V0Lm5hbWUpO2QuZG93bmxvYWQmJihnLmRvd25sb2FkPVwiXCIpO2lmKGQuYWR2YW5jZWQpe2Zvcih2YXIgcCBpbiB4KShmPWQuYWR2YW5jZWRbeFtwXV0pJiYoZ1twXT1mKTtnLm5hbWUmJihnW1wiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXT1nLm5hbWUpfWdbXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCJdJiYoZy5ocmVmPWdbXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCJdKTtwPXt0YXJnZXQ6MSxvbmNsaWNrOjEsXCJkYXRhLWNrZS1wYS1vbmNsaWNrXCI6MSxcImRhdGEtY2tlLXNhdmVkLW5hbWVcIjoxLGRvd25sb2FkOjF9O2QuYWR2YW5jZWQmJkNLRURJVE9SLnRvb2xzLmV4dGVuZChwLHgpO2Zvcih2YXIgciBpbiBnKWRlbGV0ZSBwW3JdO3JldHVybntzZXQ6ZyxyZW1vdmVkOkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMocCl9fSxzaG93RGlzcGxheVRleHRGb3JFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9e2ltZzoxLHRhYmxlOjEsdGJvZHk6MSx0aGVhZDoxLHRmb290OjEsXG5pbnB1dDoxLHNlbGVjdDoxLHRleHRhcmVhOjF9LGQ9Yi5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gYi53aWRnZXRzJiZiLndpZGdldHMuZm9jdXNlZHx8ZCYmMTxkLmdldFJhbmdlcygpLmxlbmd0aD8hMTohYXx8IWEuZ2V0TmFtZXx8IWEuaXMoYyl9fTtDS0VESVRPUi51bmxpbmtDb21tYW5kPWZ1bmN0aW9uKCl7fTtDS0VESVRPUi51bmxpbmtDb21tYW5kLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihhKXtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0sYz1iLmdldFByZXZpb3VzRWRpdGFibGVOb2RlKCkmJmIuZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGUoKS5nZXRBc2NlbmRhbnQoXCJhXCIsITApfHxiLmdldE5leHRFZGl0YWJsZU5vZGUoKSYmYi5nZXROZXh0RWRpdGFibGVOb2RlKCkuZ2V0QXNjZW5kYW50KFwiYVwiLCEwKSxkO2IuY29sbGFwc2VkJiZjJiYoZD1iLmNyZWF0ZUJvb2ttYXJrKCksYi5zZWxlY3ROb2RlQ29udGVudHMoYyksXG5iLnNlbGVjdCgpKX1jPW5ldyBDS0VESVRPUi5zdHlsZSh7ZWxlbWVudDpcImFcIix0eXBlOkNLRURJVE9SLlNUWUxFX0lOTElORSxhbHdheXNSZW1vdmVFbGVtZW50OjF9KTthLnJlbW92ZVN0eWxlKGMpO2QmJihiLm1vdmVUb0Jvb2ttYXJrKGQpLGIuc2VsZWN0KCkpfSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5sYXN0RWxlbWVudCYmYi5sYXN0RWxlbWVudC5nZXRBc2NlbmRhbnQoXCJhXCIsITApO2MmJlwiYVwiPT1jLmdldE5hbWUoKSYmYy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpJiZjLmdldENoaWxkQ291bnQoKT90aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRik6dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9LGNvbnRleHRTZW5zaXRpdmU6MSxzdGFydERpc2FibGVkOjEscmVxdWlyZWRDb250ZW50OlwiYVtocmVmXVwiLGVkaXRvckZvY3VzOjF9O0NLRURJVE9SLnJlbW92ZUFuY2hvckNvbW1hbmQ9ZnVuY3Rpb24oKXt9O0NLRURJVE9SLnJlbW92ZUFuY2hvckNvbW1hbmQucHJvdG90eXBlPVxue2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRTZWxlY3Rpb24oKSxjPWIuY3JlYXRlQm9va21hcmtzKCksZDtpZihiJiYoZD1iLmdldFNlbGVjdGVkRWxlbWVudCgpKSYmKGQuZ2V0Q2hpbGRDb3VudCgpP2QuaXMoXCJhXCIpOkNLRURJVE9SLnBsdWdpbnMubGluay50cnlSZXN0b3JlRmFrZUFuY2hvcihhLGQpKSlkLnJlbW92ZSgxKTtlbHNlIGlmKGQ9Q0tFRElUT1IucGx1Z2lucy5saW5rLmdldFNlbGVjdGVkTGluayhhKSlkLmhhc0F0dHJpYnV0ZShcImhyZWZcIik/KGQucmVtb3ZlQXR0cmlidXRlcyh7bmFtZToxLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiOjF9KSxkLnJlbW92ZUNsYXNzKFwiY2tlX2FuY2hvclwiKSk6ZC5yZW1vdmUoMSk7Yi5zZWxlY3RCb29rbWFya3MoYyl9LHJlcXVpcmVkQ29udGVudDpcImFbbmFtZV1cIn07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmNvbmZpZyx7bGlua1Nob3dBZHZhbmNlZFRhYjohMCxsaW5rU2hvd1RhcmdldFRhYjohMH0pfSgpLFwidXNlIHN0cmljdFwiLFxuZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtyZXR1cm4gbihiKSYmbihjKSYmYy5lcXVhbHMoYi5nZXROZXh0KGZ1bmN0aW9uKGEpe3JldHVybiEoYWEoYSl8fGJhKGEpfHxwKGEpKX0pKX1mdW5jdGlvbiBlKGEpe3RoaXMudXBwZXI9YVswXTt0aGlzLmxvd2VyPWFbMV07dGhpcy5zZXQuYXBwbHkodGhpcyxhLnNsaWNlKDIpKX1mdW5jdGlvbiBiKGEpe3ZhciBiPWEuZWxlbWVudDtpZihiJiZuKGIpJiYoYj1iLmdldEFzY2VuZGFudChhLnRyaWdnZXJzLCEwKSkmJmEuZWRpdGFibGUuY29udGFpbnMoYikpe3ZhciBjPWsoYik7aWYoXCJ0cnVlXCI9PWMuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiO2lmKGMuaXMoYS50cmlnZ2VycykpcmV0dXJuIGN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYyhhLGIsYyl7eihhLGIpO3ooYSxjKTthPWIuc2l6ZS5ib3R0b207Yz1jLnNpemUudG9wO3JldHVybiBhJiZjPzB8KGErYykvMjphfHxjfWZ1bmN0aW9uIGQoYSxiLGMpe3JldHVybiBiPVxuYltjP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZnVuY3Rpb24oYil7cmV0dXJuIGImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhYWEoYil8fG4oYikmJiFwKGIpJiYhZihhLGIpfSl9ZnVuY3Rpb24gbChhLGIsYyl7cmV0dXJuIGE+YiYmYTxjfWZ1bmN0aW9uIGsoYSxiKXtpZihhLmRhdGEoXCJja2UtZWRpdGFibGVcIikpcmV0dXJuIG51bGw7Zm9yKGJ8fChhPWEuZ2V0UGFyZW50KCkpO2EmJiFhLmRhdGEoXCJja2UtZWRpdGFibGVcIik7KXtpZihhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYTthPWEuZ2V0UGFyZW50KCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZyhhKXt2YXIgYj1hLmRvYyxjPUUoJ1xceDNjc3BhbiBjb250ZW50ZWRpdGFibGVcXHgzZFwiZmFsc2VcIiBkYXRhLWNrZS1tYWdpYy1saW5lXFx4M2RcIjFcIiBzdHlsZVxceDNkXCInK1UrXCJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItdG9wOjFweCBkYXNoZWQgXCIrYS5ib3hDb2xvcisnXCJcXHgzZVxceDNjL3NwYW5cXHgzZScsXG5iKSxkPUNLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJpbWFnZXMvXCIrKEYuaGlkcGk/XCJoaWRwaS9cIjpcIlwiKStcImljb25cIisoYS5ydGw/XCItcnRsXCI6XCJcIikrXCIucG5nXCIpO0IoYyx7YXR0YWNoOmZ1bmN0aW9uKCl7dGhpcy53cmFwLmdldFBhcmVudCgpfHx0aGlzLndyYXAuYXBwZW5kVG8oYS5lZGl0YWJsZSwhMCk7cmV0dXJuIHRoaXN9LGxpbmVDaGlsZHJlbjpbQihFKCdcXHgzY3NwYW4gdGl0bGVcXHgzZFwiJythLmVkaXRvci5sYW5nLm1hZ2ljbGluZS50aXRsZSsnXCIgY29udGVudGVkaXRhYmxlXFx4M2RcImZhbHNlXCJcXHgzZVxceDI2Izg2Mjk7XFx4M2Mvc3BhblxceDNlJyxiKSx7YmFzZTpVK1wiaGVpZ2h0OjE3cHg7d2lkdGg6MTdweDtcIisoYS5ydGw/XCJsZWZ0XCI6XCJyaWdodFwiKStcIjoxN3B4O2JhY2tncm91bmQ6dXJsKFwiK2QrXCIpIGNlbnRlciBuby1yZXBlYXQgXCIrYS5ib3hDb2xvcitcIjtjdXJzb3I6cG9pbnRlcjtcIisoRi5oYz9cImZvbnQtc2l6ZTogMTVweDtsaW5lLWhlaWdodDoxNHB4O2JvcmRlcjoxcHggc29saWQgI2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjtcIjpcblwiXCIpKyhGLmhpZHBpP1wiYmFja2dyb3VuZC1zaXplOiA5cHggMTBweDtcIjpcIlwiKSxsb29rczpbXCJ0b3A6LThweDsgYm9yZGVyLXJhZGl1czogMnB4O1wiLFwidG9wOi0xN3B4OyBib3JkZXItcmFkaXVzOiAycHggMnB4IDBweCAwcHg7XCIsXCJ0b3A6LTFweDsgYm9yZGVyLXJhZGl1czogMHB4IDBweCAycHggMnB4O1wiXX0pLEIoRShPLGIpLHtiYXNlOlQrXCJsZWZ0OjBweDtib3JkZXItbGVmdC1jb2xvcjpcIithLmJveENvbG9yK1wiO1wiLGxvb2tzOltcImJvcmRlci13aWR0aDo4cHggMCA4cHggOHB4O3RvcDotOHB4XCIsXCJib3JkZXItd2lkdGg6OHB4IDAgMCA4cHg7dG9wOi04cHhcIixcImJvcmRlci13aWR0aDowIDAgOHB4IDhweDt0b3A6MHB4XCJdfSksQihFKE8sYikse2Jhc2U6VCtcInJpZ2h0OjBweDtib3JkZXItcmlnaHQtY29sb3I6XCIrYS5ib3hDb2xvcitcIjtcIixsb29rczpbXCJib3JkZXItd2lkdGg6OHB4IDhweCA4cHggMDt0b3A6LThweFwiLFwiYm9yZGVyLXdpZHRoOjhweCA4cHggMCAwO3RvcDotOHB4XCIsXG5cImJvcmRlci13aWR0aDowIDhweCA4cHggMDt0b3A6MHB4XCJdfSldLGRldGFjaDpmdW5jdGlvbigpe3RoaXMud3JhcC5nZXRQYXJlbnQoKSYmdGhpcy53cmFwLnJlbW92ZSgpO3JldHVybiB0aGlzfSxtb3VzZU5lYXI6ZnVuY3Rpb24oKXt6KGEsdGhpcyk7dmFyIGI9YS5ob2xkRGlzdGFuY2UsYz10aGlzLnNpemU7cmV0dXJuIGMmJmwoYS5tb3VzZS55LGMudG9wLWIsYy5ib3R0b20rYikmJmwoYS5tb3VzZS54LGMubGVmdC1iLGMucmlnaHQrYik/ITA6ITF9LHBsYWNlOmZ1bmN0aW9uKCl7dmFyIGI9YS52aWV3LGM9YS5lZGl0YWJsZSxkPWEudHJpZ2dlcixlPWQudXBwZXIsZj1kLmxvd2VyLGc9ZXx8ZixoPWcuZ2V0UGFyZW50KCksaz17fTt0aGlzLnRyaWdnZXI9ZDtlJiZ6KGEsZSwhMCk7ZiYmeihhLGYsITApO3ooYSxoLCEwKTthLmluSW5saW5lTW9kZSYmdyhhLCEwKTtoLmVxdWFscyhjKT8oay5sZWZ0PWIuc2Nyb2xsLngsay5yaWdodD0tYi5zY3JvbGwueCxrLndpZHRoPVwiXCIpOihrLmxlZnQ9XG5nLnNpemUubGVmdC1nLnNpemUubWFyZ2luLmxlZnQrYi5zY3JvbGwueC0oYS5pbklubGluZU1vZGU/Yi5lZGl0YWJsZS5sZWZ0K2IuZWRpdGFibGUuYm9yZGVyLmxlZnQ6MCksay53aWR0aD1nLnNpemUub3V0ZXJXaWR0aCtnLnNpemUubWFyZ2luLmxlZnQrZy5zaXplLm1hcmdpbi5yaWdodCtiLnNjcm9sbC54LGsucmlnaHQ9XCJcIik7ZSYmZj9rLnRvcD1lLnNpemUubWFyZ2luLmJvdHRvbT09PWYuc2l6ZS5tYXJnaW4udG9wPzB8ZS5zaXplLmJvdHRvbStlLnNpemUubWFyZ2luLmJvdHRvbS8yOmUuc2l6ZS5tYXJnaW4uYm90dG9tPGYuc2l6ZS5tYXJnaW4udG9wP2Uuc2l6ZS5ib3R0b20rZS5zaXplLm1hcmdpbi5ib3R0b206ZS5zaXplLmJvdHRvbStlLnNpemUubWFyZ2luLmJvdHRvbS1mLnNpemUubWFyZ2luLnRvcDplP2Z8fChrLnRvcD1lLnNpemUuYm90dG9tK2Uuc2l6ZS5tYXJnaW4uYm90dG9tKTprLnRvcD1mLnNpemUudG9wLWYuc2l6ZS5tYXJnaW4udG9wO2QuaXMoUyl8fGwoay50b3AsXG5iLnNjcm9sbC55LTE1LGIuc2Nyb2xsLnkrNSk/KGsudG9wPWEuaW5JbmxpbmVNb2RlPzA6Yi5zY3JvbGwueSx0aGlzLmxvb2soUykpOmQuaXMoTCl8fGwoay50b3AsYi5wYW5lLmJvdHRvbS01LGIucGFuZS5ib3R0b20rMTUpPyhrLnRvcD1hLmluSW5saW5lTW9kZT9iLmVkaXRhYmxlLmhlaWdodCtiLmVkaXRhYmxlLnBhZGRpbmcudG9wK2IuZWRpdGFibGUucGFkZGluZy5ib3R0b206Yi5wYW5lLmJvdHRvbS0xLHRoaXMubG9vayhMKSk6KGEuaW5JbmxpbmVNb2RlJiYoay50b3AtPWIuZWRpdGFibGUudG9wK2IuZWRpdGFibGUuYm9yZGVyLnRvcCksdGhpcy5sb29rKFYpKTthLmluSW5saW5lTW9kZSYmKGsudG9wLS0say50b3ArPWIuZWRpdGFibGUuc2Nyb2xsLnRvcCxrLmxlZnQrPWIuZWRpdGFibGUuc2Nyb2xsLmxlZnQpO2Zvcih2YXIgbSBpbiBrKWtbbV09Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGtbbV0pO3RoaXMuc2V0U3R5bGVzKGspfSxsb29rOmZ1bmN0aW9uKGEpe2lmKHRoaXMub2xkTG9vayE9XG5hKXtmb3IodmFyIGI9dGhpcy5saW5lQ2hpbGRyZW4ubGVuZ3RoLGM7Yi0tOykoYz10aGlzLmxpbmVDaGlsZHJlbltiXSkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixjLmJhc2UrYy5sb29rc1swfGEvMl0pO3RoaXMub2xkTG9vaz1hfX0sd3JhcDpuZXcgRyhcInNwYW5cIixhLmRvYyl9KTtmb3IoYj1jLmxpbmVDaGlsZHJlbi5sZW5ndGg7Yi0tOyljLmxpbmVDaGlsZHJlbltiXS5hcHBlbmRUbyhjKTtjLmxvb2soVik7Yy5hcHBlbmRUbyhjLndyYXApO2MudW5zZWxlY3RhYmxlKCk7Yy5saW5lQ2hpbGRyZW5bMF0ub24oXCJtb3VzZXVwXCIsZnVuY3Rpb24oYil7Yy5kZXRhY2goKTtoKGEsZnVuY3Rpb24oYil7dmFyIGM9YS5saW5lLnRyaWdnZXI7YltjLmlzKEopP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShjLmlzKEopP2MubG93ZXI6Yy51cHBlcil9LCEwKTthLmVkaXRvci5mb2N1cygpO0YuaWV8fGEuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUnx8YS5ob3ROb2RlLnNjcm9sbEludG9WaWV3KCk7XG5iLmRhdGEucHJldmVudERlZmF1bHQoITApfSk7Yy5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCl9KTthLmxpbmU9Y31mdW5jdGlvbiBoKGEsYixjKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEuZG9jKSxlPWEuZWRpdG9yLGY7Ri5pZSYmYS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP2Y9YS5kb2MuY3JlYXRlVGV4dChaKTooZj0oZj1rKGEuZWxlbWVudCwhMCkpJiZmLmRhdGEoXCJja2UtZW50ZXItbW9kZVwiKXx8YS5lbnRlck1vZGUsZj1uZXcgRyhLW2ZdLGEuZG9jKSxmLmlzKFwiYnJcIil8fGEuZG9jLmNyZWF0ZVRleHQoWikuYXBwZW5kVG8oZikpO2MmJmUuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiKGYpO2QubW92ZVRvUG9zaXRpb24oZixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKTthLmhvdE5vZGU9ZjtjJiZlLmZpcmUoXCJzYXZlU25hcHNob3RcIil9XG5mdW5jdGlvbiBtKGEsYyl7cmV0dXJue2NhblVuZG86ITAsbW9kZXM6e3d5c2l3eWc6MX0sZXhlYzpmdW5jdGlvbigpe2Z1bmN0aW9uIGUoYil7dmFyIGQ9Ri5pZSYmOT5GLnZlcnNpb24/XCIgXCI6WixmPWEuaG90Tm9kZSYmYS5ob3ROb2RlLmdldFRleHQoKT09ZCYmYS5lbGVtZW50LmVxdWFscyhhLmhvdE5vZGUpJiZhLmxhc3RDbWREaXJlY3Rpb249PT0hIWM7aChhLGZ1bmN0aW9uKGQpe2YmJmEuaG90Tm9kZSYmYS5ob3ROb2RlLnJlbW92ZSgpO2RbYz9cImluc2VydEFmdGVyXCI6XCJpbnNlcnRCZWZvcmVcIl0oYik7ZC5zZXRBdHRyaWJ1dGVzKHtcImRhdGEtY2tlLW1hZ2ljbGluZS1ob3RcIjoxLFwiZGF0YS1ja2UtbWFnaWNsaW5lLWRpclwiOiEhY30pO2EubGFzdENtZERpcmVjdGlvbj0hIWN9KTtGLmllfHxhLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlJ8fGEuaG90Tm9kZS5zY3JvbGxJbnRvVmlldygpO2EubGluZS5kZXRhY2goKX1yZXR1cm4gZnVuY3Rpb24oZil7Zj1mLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpO1xudmFyIGc7Zj1mLmdldEFzY2VuZGFudChRLDEpO2lmKCF4KGEsZikmJmYmJiFmLmVxdWFscyhhLmVkaXRhYmxlKSYmIWYuY29udGFpbnMoYS5lZGl0YWJsZSkpeyhnPWsoZikpJiZcImZhbHNlXCI9PWcuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoZj1nKTthLmVsZW1lbnQ9ZjtnPWQoYSxmLCFjKTt2YXIgaDtuKGcpJiZnLmlzKGEudHJpZ2dlcnMpJiZnLmlzKFApJiYoIWQoYSxnLCFjKXx8KGg9ZChhLGcsIWMpKSYmbihoKSYmaC5pcyhhLnRyaWdnZXJzKSk/ZShnKTooaD1iKGEsZiksbihoKSYmKGQoYSxoLCFjKT8oZj1kKGEsaCwhYykpJiZuKGYpJiZmLmlzKGEudHJpZ2dlcnMpJiZlKGgpOmUoaCkpKX19fSgpfX1mdW5jdGlvbiBmKGEsYil7aWYoIWJ8fGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYi4kKXJldHVybiExO3ZhciBjPWEubGluZTtyZXR1cm4gYy53cmFwLmVxdWFscyhiKXx8Yy53cmFwLmNvbnRhaW5zKGIpfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGEmJlxuYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuJH1mdW5jdGlvbiBwKGEpe2lmKCFuKGEpKXJldHVybiExO3ZhciBiOyhiPXIoYSkpfHwobihhKT8oYj17bGVmdDoxLHJpZ2h0OjEsY2VudGVyOjF9LGI9ISghYlthLmdldENvbXB1dGVkU3R5bGUoXCJmbG9hdFwiKV0mJiFiW2EuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIildKSk6Yj0hMSk7cmV0dXJuIGJ9ZnVuY3Rpb24gcihhKXtyZXR1cm4hIXthYnNvbHV0ZToxLGZpeGVkOjF9W2EuZ2V0Q29tcHV0ZWRTdHlsZShcInBvc2l0aW9uXCIpXX1mdW5jdGlvbiB2KGEsYil7cmV0dXJuIG4oYik/Yi5pcyhhLnRyaWdnZXJzKTpudWxsfWZ1bmN0aW9uIHgoYSxiKXtpZighYilyZXR1cm4hMTtmb3IodmFyIGM9Yi5nZXRQYXJlbnRzKDEpLGQ9Yy5sZW5ndGg7ZC0tOylmb3IodmFyIGU9YS50YWJ1TGlzdC5sZW5ndGg7ZS0tOylpZihjW2RdLmhhc0F0dHJpYnV0ZShhLnRhYnVMaXN0W2VdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBxKGEsYixjKXtiPVxuYltjP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oZnVuY3Rpb24oYil7cmV0dXJuIGEuaXNSZWxldmFudChiKSYmIWIuaXMoZGEpfSk7aWYoIWIpcmV0dXJuITE7eihhLGIpO3JldHVybiBjP2Iuc2l6ZS50b3A+YS5tb3VzZS55OmIuc2l6ZS5ib3R0b208YS5tb3VzZS55fWZ1bmN0aW9uIHQoYSl7dmFyIGI9YS5lZGl0YWJsZSxjPWEubW91c2UsZD1hLnZpZXcsZz1hLnRyaWdnZXJPZmZzZXQ7dyhhKTt2YXIgaD1jLnk+KGEuaW5JbmxpbmVNb2RlP2QuZWRpdGFibGUudG9wK2QuZWRpdGFibGUuaGVpZ2h0LzI6TWF0aC5taW4oZC5lZGl0YWJsZS5oZWlnaHQsZC5wYW5lLmhlaWdodCkvMiksYj1iW2g/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShmdW5jdGlvbihhKXtyZXR1cm4hKGFhKGEpfHxiYShhKSl9KTtpZighYilyZXR1cm4gbnVsbDtmKGEsYikmJihiPWEubGluZS53cmFwW2g/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShmdW5jdGlvbihhKXtyZXR1cm4hKGFhKGEpfHxiYShhKSl9KSk7aWYoIW4oYil8fFxucChiKXx8IXYoYSxiKSlyZXR1cm4gbnVsbDt6KGEsYik7cmV0dXJuIWgmJjA8PWIuc2l6ZS50b3AmJmwoYy55LDAsYi5zaXplLnRvcCtnKT8oYT1hLmluSW5saW5lTW9kZXx8MD09PWQuc2Nyb2xsLnk/UzpWLG5ldyBlKFtudWxsLGIsSixOLGFdKSk6aCYmYi5zaXplLmJvdHRvbTw9ZC5wYW5lLmhlaWdodCYmbChjLnksYi5zaXplLmJvdHRvbS1nLGQucGFuZS5oZWlnaHQpPyhhPWEuaW5JbmxpbmVNb2RlfHxsKGIuc2l6ZS5ib3R0b20sZC5wYW5lLmhlaWdodC1nLGQucGFuZS5oZWlnaHQpP0w6VixuZXcgZShbYixudWxsLEQsTixhXSkpOm51bGx9ZnVuY3Rpb24gdShhKXt2YXIgYz1hLm1vdXNlLGY9YS52aWV3LGc9YS50cmlnZ2VyT2Zmc2V0LGg9YihhKTtpZighaClyZXR1cm4gbnVsbDt6KGEsaCk7dmFyIGc9TWF0aC5taW4oZywwfGguc2l6ZS5vdXRlckhlaWdodC8yKSxrPVtdLG0sTztpZihsKGMueSxoLnNpemUudG9wLTEsaC5zaXplLnRvcCtnKSlPPSExO2Vsc2UgaWYobChjLnksXG5oLnNpemUuYm90dG9tLWcsaC5zaXplLmJvdHRvbSsxKSlPPSEwO2Vsc2UgcmV0dXJuIG51bGw7aWYocChoKXx8cShhLGgsTyl8fGguZ2V0UGFyZW50KCkuaXMoWCkpcmV0dXJuIG51bGw7dmFyIHk9ZChhLGgsIU8pO2lmKHkpe2lmKHkmJnkudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXJldHVybiBudWxsO2lmKG4oeSkpe2lmKHAoeSl8fCF2KGEseSl8fHkuZ2V0UGFyZW50KCkuaXMoWCkpcmV0dXJuIG51bGw7az1beSxoXVtPP1wicmV2ZXJzZVwiOlwiY29uY2F0XCJdKCkuY29uY2F0KFtSLE5dKX19ZWxzZSBoLmVxdWFscyhhLmVkaXRhYmxlW08/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShhLmlzUmVsZXZhbnQpKT8odyhhKSxPJiZsKGMueSxoLnNpemUuYm90dG9tLWcsZi5wYW5lLmhlaWdodCkmJmwoaC5zaXplLmJvdHRvbSxmLnBhbmUuaGVpZ2h0LWcsZi5wYW5lLmhlaWdodCk/bT1MOmwoYy55LDAsaC5zaXplLnRvcCtnKSYmKG09UykpOm09VixrPVtudWxsLGhdW08/XCJyZXZlcnNlXCI6XCJjb25jYXRcIl0oKS5jb25jYXQoW08/XG5EOkosTixtLGguZXF1YWxzKGEuZWRpdGFibGVbTz9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGEuaXNSZWxldmFudCkpP08/TDpTOlZdKTtyZXR1cm4gMCBpbiBrP25ldyBlKGspOm51bGx9ZnVuY3Rpb24gQShhLGIsYyxkKXtmb3IodmFyIGU9Yi5nZXREb2N1bWVudFBvc2l0aW9uKCksZj17fSxnPXt9LGg9e30saz17fSxtPWNhLmxlbmd0aDttLS07KWZbY2FbbV1dPXBhcnNlSW50KGIuZ2V0Q29tcHV0ZWRTdHlsZS5jYWxsKGIsXCJib3JkZXItXCIrY2FbbV0rXCItd2lkdGhcIiksMTApfHwwLGhbY2FbbV1dPXBhcnNlSW50KGIuZ2V0Q29tcHV0ZWRTdHlsZS5jYWxsKGIsXCJwYWRkaW5nLVwiK2NhW21dKSwxMCl8fDAsZ1tjYVttXV09cGFyc2VJbnQoYi5nZXRDb21wdXRlZFN0eWxlLmNhbGwoYixcIm1hcmdpbi1cIitjYVttXSksMTApfHwwO2MmJiFkfHxDKGEsZCk7ay50b3A9ZS55LShjPzA6YS52aWV3LnNjcm9sbC55KTtrLmxlZnQ9ZS54LShjPzA6YS52aWV3LnNjcm9sbC54KTtrLm91dGVyV2lkdGg9XG5iLiQub2Zmc2V0V2lkdGg7ay5vdXRlckhlaWdodD1iLiQub2Zmc2V0SGVpZ2h0O2suaGVpZ2h0PWsub3V0ZXJIZWlnaHQtKGgudG9wK2guYm90dG9tK2YudG9wK2YuYm90dG9tKTtrLndpZHRoPWsub3V0ZXJXaWR0aC0oaC5sZWZ0K2gucmlnaHQrZi5sZWZ0K2YucmlnaHQpO2suYm90dG9tPWsudG9wK2sub3V0ZXJIZWlnaHQ7ay5yaWdodD1rLmxlZnQray5vdXRlcldpZHRoO2EuaW5JbmxpbmVNb2RlJiYoay5zY3JvbGw9e3RvcDpiLiQuc2Nyb2xsVG9wLGxlZnQ6Yi4kLnNjcm9sbExlZnR9KTtyZXR1cm4gQih7Ym9yZGVyOmYscGFkZGluZzpoLG1hcmdpbjpnLGlnbm9yZVNjcm9sbDpjfSxrLCEwKX1mdW5jdGlvbiB6KGEsYixjKXtpZighbihiKSlyZXR1cm4gYi5zaXplPW51bGw7aWYoIWIuc2l6ZSliLnNpemU9e307ZWxzZSBpZihiLnNpemUuaWdub3JlU2Nyb2xsPT1jJiZiLnNpemUuZGF0ZT5uZXcgRGF0ZS1NKXJldHVybiBudWxsO3JldHVybiBCKGIuc2l6ZSxBKGEsYixjKSx7ZGF0ZTorbmV3IERhdGV9LFxuITApfWZ1bmN0aW9uIHcoYSxiKXthLnZpZXcuZWRpdGFibGU9QShhLGEuZWRpdGFibGUsYiwhMCl9ZnVuY3Rpb24gQyhhLGIpe2Eudmlld3x8KGEudmlldz17fSk7dmFyIGM9YS52aWV3O2lmKCEoIWImJmMmJmMuZGF0ZT5uZXcgRGF0ZS1NKSl7dmFyIGQ9YS53aW4sYz1kLmdldFNjcm9sbFBvc2l0aW9uKCksZD1kLmdldFZpZXdQYW5lU2l6ZSgpO0IoYS52aWV3LHtzY3JvbGw6e3g6Yy54LHk6Yy55LHdpZHRoOmEuZG9jLiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoLWQud2lkdGgsaGVpZ2h0OmEuZG9jLiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodC1kLmhlaWdodH0scGFuZTp7d2lkdGg6ZC53aWR0aCxoZWlnaHQ6ZC5oZWlnaHQsYm90dG9tOmQuaGVpZ2h0K2MueX0sZGF0ZTorbmV3IERhdGV9LCEwKX19ZnVuY3Rpb24geShhLGIsYyxkKXtmb3IodmFyIGY9ZCxnPWQsaD0wLGs9ITEsbT0hMSxsPWEudmlldy5wYW5lLmhlaWdodCxuPWEubW91c2U7bi55K2g8bCYmMDxuLnktXG5oOyl7a3x8KGs9YihmLGQpKTttfHwobT1iKGcsZCkpOyFrJiYwPG4ueS1oJiYoZj1jKGEse3g6bi54LHk6bi55LWh9KSk7IW0mJm4ueStoPGwmJihnPWMoYSx7eDpuLngseTpuLnkraH0pKTtpZihrJiZtKWJyZWFrO2grPTJ9cmV0dXJuIG5ldyBlKFtmLGcsbnVsbCxudWxsXSl9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJtYWdpY2xpbmVcIix7aW5pdDpmdW5jdGlvbihhKXt2YXIgYz1hLmNvbmZpZyxrPWMubWFnaWNsaW5lX3RyaWdnZXJPZmZzZXR8fDMwLGw9e2VkaXRvcjphLGVudGVyTW9kZTpjLmVudGVyTW9kZSx0cmlnZ2VyT2Zmc2V0OmssaG9sZERpc3RhbmNlOjB8ayooYy5tYWdpY2xpbmVfaG9sZERpc3RhbmNlfHwuNSksYm94Q29sb3I6Yy5tYWdpY2xpbmVfY29sb3J8fFwiI2ZmMDAwMFwiLHJ0bDpcInJ0bFwiPT1jLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbix0YWJ1TGlzdDpbXCJkYXRhLWNrZS1oaWRkZW4tc2VsXCJdLmNvbmNhdChjLm1hZ2ljbGluZV90YWJ1TGlzdHx8W10pLHRyaWdnZXJzOmMubWFnaWNsaW5lX2V2ZXJ5d2hlcmU/XG5ROnt0YWJsZToxLGhyOjEsZGl2OjEsdWw6MSxvbDoxLGRsOjEsZm9ybToxLGJsb2NrcXVvdGU6MX19LE8seSxxO2wuaXNSZWxldmFudD1mdW5jdGlvbihhKXtyZXR1cm4gbihhKSYmIWYobCxhKSYmIXAoYSl9O2Eub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXt2YXIgaz1hLmVkaXRhYmxlKCksbj1hLmRvY3VtZW50LHA9YS53aW5kb3c7QihsLHtlZGl0YWJsZTprLGluSW5saW5lTW9kZTprLmlzSW5saW5lKCksZG9jOm4sd2luOnAsaG90Tm9kZTpudWxsfSwhMCk7bC5ib3VuZGFyeT1sLmluSW5saW5lTW9kZT9sLmVkaXRhYmxlOmwuZG9jLmdldERvY3VtZW50RWxlbWVudCgpO2suaXMoSC4kaW5saW5lKXx8KGwuaW5JbmxpbmVNb2RlJiYhcihrKSYmay5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwicmVsYXRpdmVcIix0b3A6bnVsbCxsZWZ0Om51bGx9KSxnLmNhbGwodGhpcyxsKSxDKGwpLGsuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZVVuZG9JbWFnZVwiLGZ1bmN0aW9uKCl7bC5saW5lLmRldGFjaCgpfSksXG5rLmF0dGFjaExpc3RlbmVyKGEsXCJiZWZvcmVHZXREYXRhXCIsZnVuY3Rpb24oKXtsLmxpbmUud3JhcC5nZXRQYXJlbnQoKSYmKGwubGluZS5kZXRhY2goKSxhLm9uY2UoXCJnZXREYXRhXCIsZnVuY3Rpb24oKXtsLmxpbmUuYXR0YWNoKCl9LG51bGwsbnVsbCwxRTMpKX0sbnVsbCxudWxsLDApLGsuYXR0YWNoTGlzdGVuZXIobC5pbklubGluZU1vZGU/bjpuLmdldFdpbmRvdygpLmdldEZyYW1lKCksXCJtb3VzZW91dFwiLGZ1bmN0aW9uKGIpe2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUpaWYobC5pbklubGluZU1vZGUpe3ZhciBjPWIuZGF0YS4kLmNsaWVudFg7Yj1iLmRhdGEuJC5jbGllbnRZO0MobCk7dyhsLCEwKTt2YXIgZD1sLnZpZXcuZWRpdGFibGUsZT1sLnZpZXcuc2Nyb2xsO2M+ZC5sZWZ0LWUueCYmYzxkLnJpZ2h0LWUueCYmYj5kLnRvcC1lLnkmJmI8ZC5ib3R0b20tZS55fHwoY2xlYXJUaW1lb3V0KHEpLHE9bnVsbCxsLmxpbmUuZGV0YWNoKCkpfWVsc2UgY2xlYXJUaW1lb3V0KHEpLHE9bnVsbCxcbmwubGluZS5kZXRhY2goKX0pLGsuYXR0YWNoTGlzdGVuZXIoayxcImtleXVwXCIsZnVuY3Rpb24oKXtsLmhpZGRlbk1vZGU9MH0pLGsuYXR0YWNoTGlzdGVuZXIoayxcImtleWRvd25cIixmdW5jdGlvbihiKXtpZihcInd5c2l3eWdcIj09YS5tb2RlKXN3aXRjaChiLmRhdGEuZ2V0S2V5c3Ryb2tlKCkpe2Nhc2UgMjIyODI0MDpjYXNlIDE2OmwuaGlkZGVuTW9kZT0xLGwubGluZS5kZXRhY2goKX19KSxrLmF0dGFjaExpc3RlbmVyKGwuaW5JbmxpbmVNb2RlP2s6bixcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGIpe3k9ITA7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSYmIWEucmVhZE9ubHkmJiFxKXt2YXIgYz17eDpiLmRhdGEuJC5jbGllbnRYLHk6Yi5kYXRhLiQuY2xpZW50WX07cT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC5tb3VzZT1jO3E9bC50cmlnZ2VyPW51bGw7QyhsKTt5JiYhbC5oaWRkZW5Nb2RlJiZhLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmIWwubGluZS5tb3VzZU5lYXIoKSYmKGwuZWxlbWVudD1cblcobCwhMCkpJiYoKGwudHJpZ2dlcj10KGwpfHx1KGwpfHxZKGwpKSYmIXgobCxsLnRyaWdnZXIudXBwZXJ8fGwudHJpZ2dlci5sb3dlcik/bC5saW5lLmF0dGFjaCgpLnBsYWNlKCk6KGwudHJpZ2dlcj1udWxsLGwubGluZS5kZXRhY2goKSkseT0hMSl9LDMwKX19KSxrLmF0dGFjaExpc3RlbmVyKHAsXCJzY3JvbGxcIixmdW5jdGlvbigpe1wid3lzaXd5Z1wiPT1hLm1vZGUmJihsLmxpbmUuZGV0YWNoKCksRi53ZWJraXQmJihsLmhpZGRlbk1vZGU9MSxjbGVhclRpbWVvdXQoTyksTz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC5tb3VzZURvd258fChsLmhpZGRlbk1vZGU9MCl9LDUwKSkpfSksay5hdHRhY2hMaXN0ZW5lcihJP246cCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmKGwubGluZS5kZXRhY2goKSxsLmhpZGRlbk1vZGU9MSxsLm1vdXNlRG93bj0xKX0pLGsuYXR0YWNoTGlzdGVuZXIoST9uOnAsXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtsLmhpZGRlbk1vZGU9XG4wO2wubW91c2VEb3duPTB9KSxhLmFkZENvbW1hbmQoXCJhY2Nlc3NQcmV2aW91c1NwYWNlXCIsbShsKSksYS5hZGRDb21tYW5kKFwiYWNjZXNzTmV4dFNwYWNlXCIsbShsLCEwKSksYS5zZXRLZXlzdHJva2UoW1tjLm1hZ2ljbGluZV9rZXlzdHJva2VQcmV2aW91cyxcImFjY2Vzc1ByZXZpb3VzU3BhY2VcIl0sW2MubWFnaWNsaW5lX2tleXN0cm9rZU5leHQsXCJhY2Nlc3NOZXh0U3BhY2VcIl1dKSxhLm9uKFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oKXt2YXIgYixjLGQsZTtmb3IoZSBpbntwOjEsYnI6MSxkaXY6MX0pZm9yKGI9YS5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnKGUpLGQ9Yi5jb3VudCgpO2QtLTspaWYoKGM9Yi5nZXRJdGVtKGQpKS5kYXRhKFwiY2tlLW1hZ2ljbGluZS1ob3RcIikpe2wuaG90Tm9kZT1jO2wubGFzdENtZERpcmVjdGlvbj1cInRydWVcIj09PWMuZGF0YShcImNrZS1tYWdpY2xpbmUtZGlyXCIpPyEwOiExO3JldHVybn19KSx0aGlzLmJhY2tkb29yPXthY2Nlc3NGb2N1c1NwYWNlOmgsXG5ib3hUcmlnZ2VyOmUsaXNMaW5lOmYsZ2V0QXNjZW5kYW50VHJpZ2dlcjpiLGdldE5vbkVtcHR5TmVpZ2hib3VyOmQsZ2V0U2l6ZTpBLHRoYXQ6bCx0cmlnZ2VyRWRnZTp1LHRyaWdnZXJFZGl0YWJsZTp0LHRyaWdnZXJFeHBhbmQ6WX0pfSx0aGlzKX19KTt2YXIgQj1DS0VESVRPUi50b29scy5leHRlbmQsRz1DS0VESVRPUi5kb20uZWxlbWVudCxFPUcuY3JlYXRlRnJvbUh0bWwsRj1DS0VESVRPUi5lbnYsST1DS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24sSD1DS0VESVRPUi5kdGQsSz17fSxKPTEyOCxEPTY0LFI9MzIsTj0xNixTPTQsTD0yLFY9MSxaPVwiwqBcIixYPUguJGxpc3RJdGVtLGRhPUguJHRhYmxlQ29udGVudCxQPUIoe30sSC4kbm9uRWRpdGFibGUsSC4kZW1wdHkpLFE9SC4kYmxvY2ssTT0xMDAsVT1cIndpZHRoOjBweDtoZWlnaHQ6MHB4O3BhZGRpbmc6MHB4O21hcmdpbjowcHg7ZGlzcGxheTpibG9jazt6LWluZGV4Ojk5OTk7Y29sb3I6I2ZmZjtwb3NpdGlvbjphYnNvbHV0ZTtmb250LXNpemU6IDBweDtsaW5lLWhlaWdodDowcHg7XCIsXG5UPVUrXCJib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7ZGlzcGxheTpibG9jaztib3JkZXItc3R5bGU6c29saWQ7XCIsTz1cIlxceDNjc3BhblxceDNlXCIrWitcIlxceDNjL3NwYW5cXHgzZVwiO0tbQ0tFRElUT1IuRU5URVJfQlJdPVwiYnJcIjtLW0NLRURJVE9SLkVOVEVSX1BdPVwicFwiO0tbQ0tFRElUT1IuRU5URVJfRElWXT1cImRpdlwiO2UucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMucHJvcGVydGllcz1hK2IrKGN8fFYpO3JldHVybiB0aGlzfSxpczpmdW5jdGlvbihhKXtyZXR1cm4odGhpcy5wcm9wZXJ0aWVzJmEpPT1hfX07dmFyIFc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7dmFyIGQ9Yi4kLmVsZW1lbnRGcm9tUG9pbnQoYy54LGMueSk7cmV0dXJuIGQmJmQubm9kZVR5cGU/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQpOm51bGx9cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXtpZighYi5tb3VzZSlyZXR1cm4gbnVsbDt2YXIgZT1iLmRvYyxnPWIubGluZS53cmFwO2Q9ZHx8Yi5tb3VzZTtcbnZhciBoPWEoZSxkKTtjJiZmKGIsaCkmJihnLmhpZGUoKSxoPWEoZSxkKSxnLnNob3coKSk7cmV0dXJuIWh8fGgudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhaC4kfHxGLmllJiY5PkYudmVyc2lvbiYmIWIuYm91bmRhcnkuZXF1YWxzKGgpJiYhYi5ib3VuZGFyeS5jb250YWlucyhoKT9udWxsOmh9fSgpLGFhPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxiYT1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfQ09NTUVOVCksWT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoZSl7dmFyIGY9ZS5lbGVtZW50LGcsaCxrO2lmKCFuKGYpfHxmLmNvbnRhaW5zKGUuZWRpdGFibGUpfHxmLmlzUmVhZE9ubHkoKSlyZXR1cm4gbnVsbDtrPXkoZSxmdW5jdGlvbihhLGIpe3JldHVybiFiLmVxdWFscyhhKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gVyhhLCEwLGIpfSxmKTtnPWsudXBwZXI7aD1rLmxvd2VyO2lmKGEoZSxnLGgpKXJldHVybiBrLnNldChSLFxuOCk7aWYoZyYmZi5jb250YWlucyhnKSlmb3IoOyFnLmdldFBhcmVudCgpLmVxdWFscyhmKTspZz1nLmdldFBhcmVudCgpO2Vsc2UgZz1mLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBkKGUsYSl9KTtpZihoJiZmLmNvbnRhaW5zKGgpKWZvcig7IWguZ2V0UGFyZW50KCkuZXF1YWxzKGYpOyloPWguZ2V0UGFyZW50KCk7ZWxzZSBoPWYuZ2V0TGFzdChmdW5jdGlvbihhKXtyZXR1cm4gZChlLGEpfSk7aWYoIWd8fCFoKXJldHVybiBudWxsO3ooZSxnKTt6KGUsaCk7aWYoIWwoZS5tb3VzZS55LGcuc2l6ZS50b3AsaC5zaXplLmJvdHRvbSkpcmV0dXJuIG51bGw7Zm9yKHZhciBmPU51bWJlci5NQVhfVkFMVUUsbSxPLHcscTtoJiYhaC5lcXVhbHMoZykmJihPPWcuZ2V0TmV4dChlLmlzUmVsZXZhbnQpKTspbT1NYXRoLmFicyhjKGUsZyxPKS1lLm1vdXNlLnkpLG08ZiYmKGY9bSx3PWcscT1PKSxnPU8seihlLGcpO2lmKCF3fHwhcXx8IWwoZS5tb3VzZS55LHcuc2l6ZS50b3AscS5zaXplLmJvdHRvbSkpcmV0dXJuIG51bGw7XG5rLnVwcGVyPXc7ay5sb3dlcj1xO3JldHVybiBrLnNldChSLDgpfWZ1bmN0aW9uIGQoYSxiKXtyZXR1cm4hKGImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxiYShiKXx8cChiKXx8ZihhLGIpfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi4kJiZiLmlzKFwiYnJcIikpfXJldHVybiBmdW5jdGlvbihjKXt2YXIgZD1iKGMpLGU7aWYoZT1kKXtlPWQudXBwZXI7dmFyIGY9ZC5sb3dlcjtlPSFlfHwhZnx8cChmKXx8cChlKXx8Zi5lcXVhbHMoZSl8fGUuZXF1YWxzKGYpfHxmLmNvbnRhaW5zKGUpfHxlLmNvbnRhaW5zKGYpPyExOnYoYyxlKSYmdihjLGYpJiZhKGMsZSxmKT8hMDohMX1yZXR1cm4gZT9kOm51bGx9fSgpLGNhPVtcInRvcFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJvdHRvbVwiXX0oKSxDS0VESVRPUi5jb25maWcubWFnaWNsaW5lX2tleXN0cm9rZVByZXZpb3VzPUNLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrNTEsQ0tFRElUT1IuY29uZmlnLm1hZ2ljbGluZV9rZXlzdHJva2VOZXh0PVxuQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs1MixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoIWF8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxcImZvcm1cIiE9YS5nZXROYW1lKCkpcmV0dXJuW107Zm9yKHZhciBiPVtdLGM9W1wic3R5bGVcIixcImNsYXNzTmFtZVwiXSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWEuJC5lbGVtZW50cy5uYW1lZEl0ZW0oY1tkXSk7ZSYmKGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGUpLGIucHVzaChbZSxlLm5leHRTaWJsaW5nXSksZS5yZW1vdmUoKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gZShhLGIpe2lmKGEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZvcm1cIj09YS5nZXROYW1lKCkmJjA8Yi5sZW5ndGgpZm9yKHZhciBjPWIubGVuZ3RoLTE7MDw9YztjLS0pe3ZhciBkPWJbY11bMF0sZT1iW2NdWzFdO2U/ZC5pbnNlcnRCZWZvcmUoZSk6ZC5hcHBlbmRUbyhhKX19ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWEoYiksaD1cbnt9LG09Yi4kO2N8fChoW1wiY2xhc3NcIl09bS5jbGFzc05hbWV8fFwiXCIsbS5jbGFzc05hbWU9XCJcIik7aC5pbmxpbmU9bS5zdHlsZS5jc3NUZXh0fHxcIlwiO2N8fChtLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjogc3RhdGljOyBvdmVyZmxvdzogdmlzaWJsZVwiKTtlKGQpO3JldHVybiBofWZ1bmN0aW9uIGMoYixjKXt2YXIgZD1hKGIpLGg9Yi4kO1wiY2xhc3NcImluIGMmJihoLmNsYXNzTmFtZT1jW1wiY2xhc3NcIl0pO1wiaW5saW5lXCJpbiBjJiYoaC5zdHlsZS5jc3NUZXh0PWMuaW5saW5lKTtlKGQpfWZ1bmN0aW9uIGQoYSl7aWYoIWEuZWRpdGFibGUoKS5pc0lubGluZSgpKXt2YXIgYj1DS0VESVRPUi5pbnN0YW5jZXMsYztmb3IoYyBpbiBiKXt2YXIgZD1iW2NdO1wid3lzaXd5Z1wiIT1kLm1vZGV8fGQucmVhZE9ubHl8fChkPWQuZG9jdW1lbnQuZ2V0Qm9keSgpLGQuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITEpLGQuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITApKX1hLmVkaXRhYmxlKCkuaGFzRm9jdXMmJlxuKGEudG9vbGJveC5mb2N1cygpLGEuZm9jdXMoKSl9fUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibWF4aW1pemVcIix7aW5pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBlKCl7dmFyIGI9bS5nZXRWaWV3UGFuZVNpemUoKTthLnJlc2l6ZShiLndpZHRoLGIuaGVpZ2h0LG51bGwsITApfWlmKGEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBnPWEubGFuZyxoPUNLRURJVE9SLmRvY3VtZW50LG09aC5nZXRXaW5kb3coKSxmLG4scCxyPUNLRURJVE9SLlRSSVNUQVRFX09GRjthLmFkZENvbW1hbmQoXCJtYXhpbWl6ZVwiLHttb2Rlczp7d3lzaXd5ZzohQ0tFRElUT1IuZW52LmlPUyxzb3VyY2U6IUNLRURJVE9SLmVudi5pT1N9LHJlYWRPbmx5OjEsZWRpdG9yRm9jdXM6ITEsZXhlYzpmdW5jdGlvbigpe3ZhciB2PWEuY29udGFpbmVyLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNDbGFzcyhcImNrZV9pbm5lclwiKX0pLFxueD1hLnVpLnNwYWNlKFwiY29udGVudHNcIik7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSl7dmFyIHE9YS5nZXRTZWxlY3Rpb24oKTtmPXEmJnEuZ2V0UmFuZ2VzKCk7bj1tLmdldFNjcm9sbFBvc2l0aW9uKCl9ZWxzZXt2YXIgdD1hLmVkaXRhYmxlKCkuJDtmPSFDS0VESVRPUi5lbnYuaWUmJlt0LnNlbGVjdGlvblN0YXJ0LHQuc2VsZWN0aW9uRW5kXTtuPVt0LnNjcm9sbExlZnQsdC5zY3JvbGxUb3BdfWlmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7bS5vbihcInJlc2l6ZVwiLGUpO3A9bS5nZXRTY3JvbGxQb3NpdGlvbigpO2ZvcihxPWEuY29udGFpbmVyO3E9cS5nZXRQYXJlbnQoKTspcS5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsYihxKSkscS5zZXRTdHlsZShcInotaW5kZXhcIixhLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgtNSk7eC5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsYih4LCEwKSk7di5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsXG5iKHYsITApKTt4PXtvdmVyZmxvdzpDS0VESVRPUi5lbnYud2Via2l0P1wiXCI6XCJoaWRkZW5cIix3aWR0aDowLGhlaWdodDowfTtoLmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlcyh4KTshQ0tFRElUT1IuZW52LmdlY2tvJiZoLmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlKFwicG9zaXRpb25cIixcImZpeGVkXCIpO0NLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52LnF1aXJrc3x8aC5nZXRCb2R5KCkuc2V0U3R5bGVzKHgpO0NLRURJVE9SLmVudi5pZT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bS4kLnNjcm9sbFRvKDAsMCl9LDApOm0uJC5zY3JvbGxUbygwLDApO3Yuc2V0U3R5bGUoXCJwb3NpdGlvblwiLENLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52LnF1aXJrcz9cImZpeGVkXCI6XCJhYnNvbHV0ZVwiKTt2LiQub2Zmc2V0TGVmdDt2LnNldFN0eWxlcyh7XCJ6LWluZGV4XCI6YS5jb25maWcuYmFzZUZsb2F0WkluZGV4LTUsbGVmdDpcIjBweFwiLHRvcDpcIjBweFwifSk7di5hZGRDbGFzcyhcImNrZV9tYXhpbWl6ZWRcIik7XG5lKCk7eD12LmdldERvY3VtZW50UG9zaXRpb24oKTt2LnNldFN0eWxlcyh7bGVmdDotMSp4LngrXCJweFwiLHRvcDotMSp4LnkrXCJweFwifSk7Q0tFRElUT1IuZW52LmdlY2tvJiZkKGEpfWVsc2UgaWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04pe20ucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixlKTtmb3IodmFyIHE9W3gsdl0sdT0wO3U8cS5sZW5ndGg7dSsrKWMocVt1XSxxW3VdLmdldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIikpLHFbdV0ucmVtb3ZlQ3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKTtmb3IocT1hLmNvbnRhaW5lcjtxPXEuZ2V0UGFyZW50KCk7KWMocSxxLmdldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIikpLHEucmVtb3ZlQ3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKTtDS0VESVRPUi5lbnYuaWU/c2V0VGltZW91dChmdW5jdGlvbigpe20uJC5zY3JvbGxUbyhwLngscC55KX0sMCk6bS4kLnNjcm9sbFRvKHAueCxcbnAueSk7di5yZW1vdmVDbGFzcyhcImNrZV9tYXhpbWl6ZWRcIik7Q0tFRElUT1IuZW52LndlYmtpdCYmKHYuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJpbmxpbmVcIiksc2V0VGltZW91dChmdW5jdGlvbigpe3Yuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKX0sMCkpO2EuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDphLmNvbnRhaW5lci4kLm9mZnNldEhlaWdodCxjb250ZW50c0hlaWdodDp4LiQub2Zmc2V0SGVpZ2h0LG91dGVyV2lkdGg6YS5jb250YWluZXIuJC5vZmZzZXRXaWR0aH0pfXRoaXMudG9nZ2xlU3RhdGUoKTtpZihxPXRoaXMudWlJdGVtc1swXSl4PXRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj9nLm1heGltaXplLm1heGltaXplOmcubWF4aW1pemUubWluaW1pemUscT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHEuXy5pZCkscS5nZXRDaGlsZCgxKS5zZXRIdG1sKHgpLHEuc2V0QXR0cmlidXRlKFwidGl0bGVcIix4KSxxLnNldEF0dHJpYnV0ZShcImhyZWZcIiwnamF2YXNjcmlwdDp2b2lkKFwiJytcbngrJ1wiKTsnKTtcInd5c2l3eWdcIj09YS5tb2RlP2Y/KENLRURJVE9SLmVudi5nZWNrbyYmZChhKSxhLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhmKSwodD1hLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpKSYmdC5zY3JvbGxJbnRvVmlldyghMCkpOm0uJC5zY3JvbGxUbyhuLngsbi55KTooZiYmKHQuc2VsZWN0aW9uU3RhcnQ9ZlswXSx0LnNlbGVjdGlvbkVuZD1mWzFdKSx0LnNjcm9sbExlZnQ9blswXSx0LnNjcm9sbFRvcD1uWzFdKTtmPW49bnVsbDtyPXRoaXMuc3RhdGU7YS5maXJlKFwibWF4aW1pemVcIix0aGlzLnN0YXRlKX0sY2FuVW5kbzohMX0pO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIk1heGltaXplXCIse2xhYmVsOmcubWF4aW1pemUubWF4aW1pemUsY29tbWFuZDpcIm1heGltaXplXCIsdG9vbGJhcjpcInRvb2xzLDEwXCJ9KTthLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRDb21tYW5kKFwibWF4aW1pemVcIik7Yi5zZXRTdGF0ZShiLnN0YXRlPT1cbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOnIpfSxudWxsLG51bGwsMTAwKX19fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXt2YXIgZD1DS0VESVRPUi5jbGVhbldvcmQ7ZD9jKCk6KGE9Q0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLnBhc3RlRnJvbVdvcmRDbGVhbnVwRmlsZXx8YitcImZpbHRlci9kZWZhdWx0LmpzXCIpLENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGEsYyxudWxsLCEwKSk7cmV0dXJuIWR9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZWZyb213b3JkXCIse3JlcXVpcmVzOlwiY2xpcGJvYXJkXCIsaW5pdDpmdW5jdGlvbihlKXtmdW5jdGlvbiBiKGEpe3ZhciBiPUNLRURJVE9SLnBsdWdpbnMucGFzdGVmcm9td29yZCYmQ0tFRElUT1IucGx1Z2lucy5wYXN0ZWZyb213b3JkLmltYWdlcyxjLGQ9W107aWYoYiYmYS5lZGl0b3IuZmlsdGVyLmNoZWNrKFwiaW1nW3NyY11cIikmJihjPWIuZXh0cmFjdFRhZ3NGcm9tSHRtbChhLmRhdGEuZGF0YVZhbHVlKSxcbjAhPT1jLmxlbmd0aCYmKGI9Yi5leHRyYWN0RnJvbVJ0ZihhLmRhdGEuZGF0YVRyYW5zZmVyW1widGV4dC9ydGZcIl0pLDAhPT1iLmxlbmd0aCYmKENLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goYixmdW5jdGlvbihhKXtkLnB1c2goYS50eXBlP1wiZGF0YTpcIithLnR5cGUrXCI7YmFzZTY0LFwiK0NLRURJVE9SLnRvb2xzLmNvbnZlcnRCeXRlc1RvQmFzZTY0KENLRURJVE9SLnRvb2xzLmNvbnZlcnRIZXhTdHJpbmdUb0J5dGVzKGEuaGV4KSk6bnVsbCl9LHRoaXMpLGMubGVuZ3RoPT09ZC5sZW5ndGgpKSkpZm9yKGI9MDtiPGMubGVuZ3RoO2IrKykwPT09Y1tiXS5pbmRleE9mKFwiZmlsZTovL1wiKSYmZFtiXSYmKGEuZGF0YS5kYXRhVmFsdWU9YS5kYXRhLmRhdGFWYWx1ZS5yZXBsYWNlKGNbYl0sZFtiXSkpfXZhciBjPTAsZD10aGlzLnBhdGgsbD12b2lkIDA9PT1lLmNvbmZpZy5wYXN0ZUZyb21Xb3JkX2lubGluZUltYWdlcz8hMDplLmNvbmZpZy5wYXN0ZUZyb21Xb3JkX2lubGluZUltYWdlcztcbmUuYWRkQ29tbWFuZChcInBhc3RlZnJvbXdvcmRcIix7Y2FuVW5kbzohMSxhc3luYzohMCxleGVjOmZ1bmN0aW9uKGEsYil7Yz0xO2EuZXhlY0NvbW1hbmQoXCJwYXN0ZVwiLHt0eXBlOlwiaHRtbFwiLG5vdGlmaWNhdGlvbjpiJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGIubm90aWZpY2F0aW9uP2Iubm90aWZpY2F0aW9uOiEwfSl9fSk7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuYWRkUGFzdGVCdXR0b24oZSxcIlBhc3RlRnJvbVdvcmRcIix7bGFiZWw6ZS5sYW5nLnBhc3RlZnJvbXdvcmQudG9vbGJhcixjb21tYW5kOlwicGFzdGVmcm9td29yZFwiLHRvb2xiYXI6XCJjbGlwYm9hcmQsNTBcIn0pO2Uub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGIpe3ZhciBnPWIuZGF0YSxoPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkP2cuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L2h0bWxcIiwhMCk6bnVsbCxtPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkP1xuZy5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHQvcnRmXCIpOm51bGwsaD1ofHxnLmRhdGFWYWx1ZSxmPXtkYXRhVmFsdWU6aCxkYXRhVHJhbnNmZXI6e1widGV4dC9ydGZcIjptfX0sbT0vKGNsYXNzPVxcXCI/TXNvfHN0eWxlPSg/OlxcXCJ8XFwnKVteXFxcIl0qP1xcYm1zb1xcLXx3OldvcmREb2N1bWVudHw8bzpcXHcrPnw8XFwvZm9udD4pLyxtPS88bWV0YVxccypuYW1lPSg/OlxcXCJ8XFwnKT9nZW5lcmF0b3IoPzpcXFwifFxcJyk/XFxzKmNvbnRlbnQ9KD86XFxcInxcXCcpP21pY3Jvc29mdC9naS50ZXN0KGgpfHxtLnRlc3QoaCk7aWYoaCYmKGN8fG0pJiYoITEhPT1lLmZpcmUoXCJwYXN0ZUZyb21Xb3JkXCIsZil8fGMpKXtnLmRvbnRGaWx0ZXI9ITA7dmFyIGw9YShlLGQsZnVuY3Rpb24oKXtpZihsKWUuZmlyZShcInBhc3RlXCIsZyk7ZWxzZSBpZighZS5jb25maWcucGFzdGVGcm9tV29yZFByb21wdENsZWFudXB8fGN8fGNvbmZpcm0oZS5sYW5nLnBhc3RlZnJvbXdvcmQuY29uZmlybUNsZWFudXApKWYuZGF0YVZhbHVlPUNLRURJVE9SLmNsZWFuV29yZChmLmRhdGFWYWx1ZSxcbmUpLGUuZmlyZShcImFmdGVyUGFzdGVGcm9tV29yZFwiLGYpLGcuZGF0YVZhbHVlPWYuZGF0YVZhbHVlLCEwPT09ZS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0P2cudHlwZT1cInRleHRcIjpDS0VESVRPUi5lbnYuaWUmJlwiYWxsb3ctd29yZFwiPT09ZS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0JiYoZy50eXBlPVwiaHRtbFwiKTtjPTB9KTtsJiZiLmNhbmNlbCgpfX0sbnVsbCxudWxsLDMpO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkJiZsKWUub24oXCJhZnRlclBhc3RlRnJvbVdvcmRcIixiKX19KX0oKSxmdW5jdGlvbigpe3ZhciBhPXtjYW5VbmRvOiExLGFzeW5jOiEwLGV4ZWM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxhbmcsZD1DS0VESVRPUi50b29scy5rZXlzdHJva2VUb1N0cmluZyhjLmNvbW1vbi5rZXlib2FyZCxhLmdldENvbW1hbmRLZXlzdHJva2UoQ0tFRElUT1IuZW52LmllP2EuY29tbWFuZHMucGFzdGU6dGhpcykpLFxubD1iJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGIubm90aWZpY2F0aW9uP2Iubm90aWZpY2F0aW9uOiFifHwhYi5mcm9tfHxcImtleXN0cm9rZUhhbmRsZXJcIj09PWIuZnJvbSYmQ0tFRElUT1IuZW52LmllLGM9bCYmXCJzdHJpbmdcIj09PXR5cGVvZiBsP2w6Yy5wYXN0ZXRleHQucGFzdGVOb3RpZmljYXRpb24ucmVwbGFjZSgvJTEvLCdcXHgzY2tiZCBhcmlhLWxhYmVsXFx4M2RcIicrZC5hcmlhKydcIlxceDNlJytkLmRpc3BsYXkrXCJcXHgzYy9rYmRcXHgzZVwiKTthLmV4ZWNDb21tYW5kKFwicGFzdGVcIix7dHlwZTpcInRleHRcIixub3RpZmljYXRpb246bD9jOiExfSl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInBhc3RldGV4dFwiLHtyZXF1aXJlczpcImNsaXBib2FyZFwiLGluaXQ6ZnVuY3Rpb24oZSl7dmFyIGI9Q0tFRElUT1IuZW52LnNhZmFyaT9DS0VESVRPUi5DVFJMK0NLRURJVE9SLkFMVCtDS0VESVRPUi5TSElGVCs4NjpDS0VESVRPUi5DVFJMK0NLRURJVE9SLlNISUZUKzg2O2UuYWRkQ29tbWFuZChcInBhc3RldGV4dFwiLFxuYSk7ZS5zZXRLZXlzdHJva2UoYixcInBhc3RldGV4dFwiKTtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5hZGRQYXN0ZUJ1dHRvbihlLFwiUGFzdGVUZXh0XCIse2xhYmVsOmUubGFuZy5wYXN0ZXRleHQuYnV0dG9uLGNvbW1hbmQ6XCJwYXN0ZXRleHRcIix0b29sYmFyOlwiY2xpcGJvYXJkLDQwXCJ9KTtpZihlLmNvbmZpZy5mb3JjZVBhc3RlQXNQbGFpblRleHQpZS5vbihcImJlZm9yZVBhc3RlXCIsZnVuY3Rpb24oYSl7XCJodG1sXCIhPWEuZGF0YS50eXBlJiYoYS5kYXRhLnR5cGU9XCJ0ZXh0XCIpfSk7ZS5vbihcInBhc3RlU3RhdGVcIixmdW5jdGlvbihhKXtlLmdldENvbW1hbmQoXCJwYXN0ZXRleHRcIikuc2V0U3RhdGUoYS5kYXRhKX0pfX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwicmVtb3ZlZm9ybWF0XCIse2luaXQ6ZnVuY3Rpb24oYSl7YS5hZGRDb21tYW5kKFwicmVtb3ZlRm9ybWF0XCIsQ0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQuY29tbWFuZHMucmVtb3ZlZm9ybWF0KTthLnVpLmFkZEJ1dHRvbiYmXG5hLnVpLmFkZEJ1dHRvbihcIlJlbW92ZUZvcm1hdFwiLHtsYWJlbDphLmxhbmcucmVtb3ZlZm9ybWF0LnRvb2xiYXIsY29tbWFuZDpcInJlbW92ZUZvcm1hdFwiLHRvb2xiYXI6XCJjbGVhbnVwLDEwXCJ9KX19KSxDS0VESVRPUi5wbHVnaW5zLnJlbW92ZWZvcm1hdD17Y29tbWFuZHM6e3JlbW92ZWZvcm1hdDp7ZXhlYzpmdW5jdGlvbihhKXtmb3IodmFyIGU9YS5fLnJlbW92ZUZvcm1hdFJlZ2V4fHwoYS5fLnJlbW92ZUZvcm1hdFJlZ2V4PW5ldyBSZWdFeHAoXCJeKD86XCIrYS5jb25maWcucmVtb3ZlRm9ybWF0VGFncy5yZXBsYWNlKC8sL2csXCJ8XCIpK1wiKSRcIixcImlcIikpLGI9YS5fLnJlbW92ZUF0dHJpYnV0ZXN8fChhLl8ucmVtb3ZlQXR0cmlidXRlcz1hLmNvbmZpZy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzLnNwbGl0KFwiLFwiKSksYz1DS0VESVRPUi5wbHVnaW5zLnJlbW92ZWZvcm1hdC5maWx0ZXIsZD1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpLGw9ZC5jcmVhdGVJdGVyYXRvcigpLGs9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlR9LGc7Zz1sLmdldE5leHRSYW5nZSgpOyl7Zy5jb2xsYXBzZWR8fGcuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQpO3ZhciBoPWcuY3JlYXRlQm9va21hcmsoKSxtPWguc3RhcnROb2RlLGY9aC5lbmROb2RlLG49ZnVuY3Rpb24oYil7Zm9yKHZhciBkPWEuZWxlbWVudFBhdGgoYiksZj1kLmVsZW1lbnRzLGc9MSxoOyhoPWZbZ10pJiYhaC5lcXVhbHMoZC5ibG9jaykmJiFoLmVxdWFscyhkLmJsb2NrTGltaXQpO2crKyllLnRlc3QoaC5nZXROYW1lKCkpJiZjKGEsaCkmJmIuYnJlYWtQYXJlbnQoaCl9O24obSk7aWYoZilmb3IobihmKSxtPW0uZ2V0TmV4dFNvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTttJiYhbS5lcXVhbHMoZik7KWlmKG0uaXNSZWFkT25seSgpKXtpZihtLmdldFBvc2l0aW9uKGYpJkNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TKWJyZWFrO209bS5nZXROZXh0KGspfWVsc2Ugbj1tLmdldE5leHRTb3VyY2VOb2RlKCExLFxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSxcImltZ1wiPT1tLmdldE5hbWUoKSYmbS5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpfHwhYyhhLG0pfHwoZS50ZXN0KG0uZ2V0TmFtZSgpKT9tLnJlbW92ZSgxKToobS5yZW1vdmVBdHRyaWJ1dGVzKGIpLGEuZmlyZShcInJlbW92ZUZvcm1hdENsZWFudXBcIixtKSkpLG09bjtnLm1vdmVUb0Jvb2ttYXJrKGgpfWEuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKTthLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhkKX19fSxmaWx0ZXI6ZnVuY3Rpb24oYSxlKXtmb3IodmFyIGI9YS5fLnJlbW92ZUZvcm1hdEZpbHRlcnN8fFtdLGM9MDtjPGIubGVuZ3RoO2MrKylpZighMT09PWJbY10oZSkpcmV0dXJuITE7cmV0dXJuITB9fSxDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmFkZFJlbW92ZUZvcm1hdEZpbHRlcj1mdW5jdGlvbihhKXt0aGlzLl8ucmVtb3ZlRm9ybWF0RmlsdGVyc3x8KHRoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzPVtdKTt0aGlzLl8ucmVtb3ZlRm9ybWF0RmlsdGVycy5wdXNoKGEpfSxcbkNLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzPVwiYixiaWcsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGlucyxrYmQscSxzLHNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdHQsdSx2YXJcIixDS0VESVRPUi5jb25maWcucmVtb3ZlRm9ybWF0QXR0cmlidXRlcz1cImNsYXNzLHN0eWxlLGxhbmcsd2lkdGgsaGVpZ2h0LGFsaWduLGhzcGFjZSx2YWxpZ25cIixDS0VESVRPUi5wbHVnaW5zLmFkZChcInJlc2l6ZVwiLHtpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoYil7dmFyIGQ9aC53aWR0aCxlPWguaGVpZ2h0LGs9ZCsoYi5kYXRhLiQuc2NyZWVuWC1nLngpKihcInJ0bFwiPT1sPy0xOjEpO2I9ZSsoYi5kYXRhLiQuc2NyZWVuWS1nLnkpO20mJihkPU1hdGgubWF4KGMucmVzaXplX21pbldpZHRoLE1hdGgubWluKGssYy5yZXNpemVfbWF4V2lkdGgpKSk7ZiYmKGU9TWF0aC5tYXgoYy5yZXNpemVfbWluSGVpZ2h0LE1hdGgubWluKGIsYy5yZXNpemVfbWF4SGVpZ2h0KSkpO1xuYS5yZXNpemUobT9kOm51bGwsZSl9ZnVuY3Rpb24gYigpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZSk7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYik7YS5kb2N1bWVudCYmKGEuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixlKSxhLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGIpKX12YXIgYz1hLmNvbmZpZyxkPWEudWkuc3BhY2VJZChcInJlc2l6ZXJcIiksbD1hLmVsZW1lbnQ/YS5lbGVtZW50LmdldERpcmVjdGlvbigxKTpcImx0clwiOyFjLnJlc2l6ZV9kaXImJihjLnJlc2l6ZV9kaXI9XCJ2ZXJ0aWNhbFwiKTt2b2lkIDA9PT1jLnJlc2l6ZV9tYXhXaWR0aCYmKGMucmVzaXplX21heFdpZHRoPTNFMyk7dm9pZCAwPT09Yy5yZXNpemVfbWF4SGVpZ2h0JiYoYy5yZXNpemVfbWF4SGVpZ2h0PTNFMyk7dm9pZCAwPT09Yy5yZXNpemVfbWluV2lkdGgmJihjLnJlc2l6ZV9taW5XaWR0aD1cbjc1MCk7dm9pZCAwPT09Yy5yZXNpemVfbWluSGVpZ2h0JiYoYy5yZXNpemVfbWluSGVpZ2h0PTI1MCk7aWYoITEhPT1jLnJlc2l6ZV9lbmFibGVkKXt2YXIgaz1udWxsLGcsaCxtPShcImJvdGhcIj09Yy5yZXNpemVfZGlyfHxcImhvcml6b250YWxcIj09Yy5yZXNpemVfZGlyKSYmYy5yZXNpemVfbWluV2lkdGghPWMucmVzaXplX21heFdpZHRoLGY9KFwiYm90aFwiPT1jLnJlc2l6ZV9kaXJ8fFwidmVydGljYWxcIj09Yy5yZXNpemVfZGlyKSYmYy5yZXNpemVfbWluSGVpZ2h0IT1jLnJlc2l6ZV9tYXhIZWlnaHQsbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihkKXtrfHwoaz1hLmdldFJlc2l6YWJsZSgpKTtoPXt3aWR0aDprLiQub2Zmc2V0V2lkdGh8fDAsaGVpZ2h0OmsuJC5vZmZzZXRIZWlnaHR8fDB9O2c9e3g6ZC5zY3JlZW5YLHk6ZC5zY3JlZW5ZfTtjLnJlc2l6ZV9taW5XaWR0aD5oLndpZHRoJiYoYy5yZXNpemVfbWluV2lkdGg9aC53aWR0aCk7Yy5yZXNpemVfbWluSGVpZ2h0PlxuaC5oZWlnaHQmJihjLnJlc2l6ZV9taW5IZWlnaHQ9aC5oZWlnaHQpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsZSk7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsYik7YS5kb2N1bWVudCYmKGEuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixlKSxhLmRvY3VtZW50Lm9uKFwibW91c2V1cFwiLGIpKTtkLnByZXZlbnREZWZhdWx0JiZkLnByZXZlbnREZWZhdWx0KCl9KTthLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24obil9KTthLm9uKFwidWlTcGFjZVwiLGZ1bmN0aW9uKGIpe2lmKFwiYm90dG9tXCI9PWIuZGF0YS5zcGFjZSl7dmFyIGM9XCJcIjttJiYhZiYmKGM9XCIgY2tlX3Jlc2l6ZXJfaG9yaXpvbnRhbFwiKTshbSYmZiYmKGM9XCIgY2tlX3Jlc2l6ZXJfdmVydGljYWxcIik7dmFyIGU9J1xceDNjc3BhbiBpZFxceDNkXCInK2QrJ1wiIGNsYXNzXFx4M2RcImNrZV9yZXNpemVyJytjK1wiIGNrZV9yZXNpemVyX1wiK2wrJ1wiIHRpdGxlXFx4M2RcIicrXG5DS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEubGFuZy5jb21tb24ucmVzaXplKSsnXCIgb25tb3VzZWRvd25cXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrbisnLCBldmVudClcIlxceDNlJysoXCJsdHJcIj09bD9cIuKXolwiOlwi4pejXCIpK1wiXFx4M2Mvc3BhblxceDNlXCI7XCJsdHJcIj09bCYmXCJsdHJcIj09Yz9iLmRhdGEuaHRtbCs9ZTpiLmRhdGEuaHRtbD1lK2IuZGF0YS5odG1sfX0sYSxudWxsLDEwMCk7YS5vbihcIm1heGltaXplXCIsZnVuY3Rpb24oYil7YS51aS5zcGFjZShcInJlc2l6ZXJcIilbYi5kYXRhPT1DS0VESVRPUi5UUklTVEFURV9PTj9cImhpZGVcIjpcInNob3dcIl0oKX0pfX19KSxDS0VESVRPUi5wbHVnaW5zLmFkZChcIm1lbnVidXR0b25cIix7cmVxdWlyZXM6XCJidXR0b24sbWVudVwiLG9uTG9hZDpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXyxjPWIubWVudTtiLnN0YXRlIT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJihiLm9uJiZjP2MuaGlkZSgpOihiLnByZXZpb3VzU3RhdGU9XG5iLnN0YXRlLGN8fChjPWIubWVudT1uZXcgQ0tFRElUT1IubWVudShhLHtwYW5lbDp7Y2xhc3NOYW1lOlwiY2tlX21lbnVfcGFuZWxcIixhdHRyaWJ1dGVzOntcImFyaWEtbGFiZWxcIjphLmxhbmcuY29tbW9uLm9wdGlvbnN9fX0pLGMub25IaWRlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt2YXIgYz10aGlzLmNvbW1hbmQ/YS5nZXRDb21tYW5kKHRoaXMuY29tbWFuZCkubW9kZXM6dGhpcy5tb2Rlczt0aGlzLnNldFN0YXRlKCFjfHxjW2EubW9kZV0/Yi5wcmV2aW91c1N0YXRlOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTtiLm9uPTB9LHRoaXMpLHRoaXMub25NZW51JiZjLmFkZExpc3RlbmVyKHRoaXMub25NZW51KSksdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTiksYi5vbj0xLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnNob3coQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChiLmlkKSw0KX0sMCkpKX07Q0tFRElUT1IudWkubWVudUJ1dHRvbj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi51aS5idXR0b24sXG4kOmZ1bmN0aW9uKGUpe2RlbGV0ZSBlLnBhbmVsO3RoaXMuYmFzZShlKTt0aGlzLmhhc0Fycm93PSEwO3RoaXMuY2xpY2s9YX0sc3RhdGljczp7aGFuZGxlcjp7Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkubWVudUJ1dHRvbihhKX19fX0pfSxiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9NRU5VQlVUVE9OLENLRURJVE9SLnVpLm1lbnVCdXR0b24uaGFuZGxlcil9fSksQ0tFRElUT1IuVUlfTUVOVUJVVFRPTj1cIm1lbnVidXR0b25cIixcInVzZSBzdHJpY3RcIixDS0VESVRPUi5wbHVnaW5zLmFkZChcInNjYXl0XCIse3JlcXVpcmVzOlwibWVudWJ1dHRvbixkaWFsb2dcIix0YWJUb09wZW46bnVsbCxkaWFsb2dOYW1lOlwic2NheXREaWFsb2dcIixvbkxvYWQ6ZnVuY3Rpb24oYSl7Q0tFRElUT1IucGx1Z2lucy5zY2F5dC5vbkxvYWRUaW1lc3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCk7XCJtb29uby1saXNhXCI9PShDS0VESVRPUi5za2luTmFtZXx8XG5hLmNvbmZpZy5za2luKSYmQ0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldCh0aGlzLnBhdGgrXCJza2lucy9cIitDS0VESVRPUi5za2luLm5hbWUrXCIvc2NheXQuY3NzXCIpO0NLRURJVE9SLmRvY3VtZW50LmFwcGVuZFN0eWxlU2hlZXQodGhpcy5wYXRoK1wiZGlhbG9ncy9kaWFsb2cuY3NzXCIpfSxpbml0OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMsYj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0O3RoaXMuYmluZEV2ZW50cyhhKTt0aGlzLnBhcnNlQ29uZmlnKGEpO3RoaXMuYWRkUnVsZShhKTtDS0VESVRPUi5kaWFsb2cuYWRkKHRoaXMuZGlhbG9nTmFtZSxDS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoK1wiZGlhbG9ncy9vcHRpb25zLmpzXCIpKTt0aGlzLmFkZE1lbnVJdGVtcyhhKTt2YXIgYz1hLmxhbmcuc2NheXQsZD1DS0VESVRPUi5lbnY7YS51aS5hZGQoXCJTY2F5dFwiLENLRURJVE9SLlVJX01FTlVCVVRUT04se2xhYmVsOmMudGV4dF90aXRsZSx0aXRsZTphLnBsdWdpbnMud3NjP2EubGFuZy53c2MudGl0bGU6XG5jLnRleHRfdGl0bGUsbW9kZXM6e3d5c2l3eWc6IShkLmllJiYoOD5kLnZlcnNpb258fGQucXVpcmtzKSl9LHRvb2xiYXI6XCJzcGVsbGNoZWNrZXIsMjBcIixyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGM9YS51aS5pbnN0YW5jZXMuU2NheXQuZ2V0U3RhdGUoKTthLnNjYXl0JiYoYz1iLnN0YXRlLnNjYXl0W2EubmFtZV0/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTthLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsYyl9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczthLm9uKFwic2NheXRCdXR0b25TdGF0ZVwiLGZ1bmN0aW9uKGEpe3ZvaWQgMCE9PXR5cGVvZiBhLmRhdGEmJmIuc2V0U3RhdGUoYS5kYXRhKX0pfSxvbk1lbnU6ZnVuY3Rpb24oKXt2YXIgYz1hLnNjYXl0O2EuZ2V0TWVudUl0ZW0oXCJzY2F5dFRvZ2dsZVwiKS5sYWJlbD1hLmxhbmcuc2NheXRbYyYmYi5zdGF0ZS5zY2F5dFthLm5hbWVdP1wiYnRuX2Rpc2FibGVcIjpcImJ0bl9lbmFibGVcIl07dmFyIGQ9XG57c2NheXRUb2dnbGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHNjYXl0T3B0aW9uczpjP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxzY2F5dExhbmdzOmM/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHNjYXl0RGljdDpjP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxzY2F5dEFib3V0OmM/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELFdTQzphLnBsdWdpbnMud3NjP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH07YS5jb25maWcuc2NheXRfdWlUYWJzWzBdfHxkZWxldGUgZC5zY2F5dE9wdGlvbnM7YS5jb25maWcuc2NheXRfdWlUYWJzWzFdfHxkZWxldGUgZC5zY2F5dExhbmdzO2EuY29uZmlnLnNjYXl0X3VpVGFic1syXXx8ZGVsZXRlIGQuc2NheXREaWN0O2MmJiFDS0VESVRPUi5wbHVnaW5zLnNjYXl0LmlzTmV3VWRTdXBwb3J0ZWQoYykmJlxuKGRlbGV0ZSBkLnNjYXl0RGljdCxhLmNvbmZpZy5zY2F5dF91aVRhYnNbMl09MCxDS0VESVRPUi5wbHVnaW5zLnNjYXl0LmFsYXJtQ29tcGF0aWJpbGl0eU1lc3NhZ2UoKSk7cmV0dXJuIGR9fSk7YS5jb250ZXh0TWVudSYmYS5hZGRNZW51SXRlbXMmJihhLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5zY2F5dCxoLG07ZCYmKG09ZC5nZXRTZWxlY3Rpb25Ob2RlKCkpJiYoaD1lLm1lbnVHZW5lcmF0b3IoYSxtKSxkLnNob3dCYW5uZXIoXCIuXCIrYS5jb250ZXh0TWVudS5fLmRlZmluaXRpb24ucGFuZWwuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwiIC5cIikpKTtyZXR1cm4gaH0pLGEuY29udGV4dE1lbnUuXy5vbkhpZGU9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5jb250ZXh0TWVudS5fLm9uSGlkZSxmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1hLnNjYXl0O2MmJmMuaGlkZUJhbm5lcigpO3JldHVybiBiLmFwcGx5KHRoaXMpfX0pKX0sXG5hZGRNZW51SXRlbXM6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcyxiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7YS5hZGRNZW51R3JvdXAoXCJzY2F5dEJ1dHRvblwiKTtmb3IodmFyIGM9YS5jb25maWcuc2NheXRfY29udGV4dE1lbnVJdGVtc09yZGVyLnNwbGl0KFwifFwiKSxkPTA7ZDxjLmxlbmd0aDtkKyspY1tkXT1cInNjYXl0X1wiK2NbZF07aWYoKGM9W1wiZ3JheXRfZGVzY3JpcHRpb25cIixcImdyYXl0X3N1Z2dlc3RcIixcImdyYXl0X2NvbnRyb2xcIl0uY29uY2F0KGMpKSYmYy5sZW5ndGgpZm9yKGQ9MDtkPGMubGVuZ3RoO2QrKylhLmFkZE1lbnVHcm91cChjW2RdLGQtMTApO2EuYWRkQ29tbWFuZChcInNjYXl0VG9nZ2xlXCIse2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGM9YS5zY2F5dDtiLnN0YXRlLnNjYXl0W2EubmFtZV09IWIuc3RhdGUuc2NheXRbYS5uYW1lXTshMD09PWIuc3RhdGUuc2NheXRbYS5uYW1lXT9jfHxiLmNyZWF0ZVNjYXl0KGEpOmMmJmIuZGVzdHJveShhKX19KTthLmFkZENvbW1hbmQoXCJzY2F5dEFib3V0XCIsXG57ZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImFib3V0XCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGUuZGlhbG9nTmFtZSl9fSk7YS5hZGRDb21tYW5kKFwic2NheXRPcHRpb25zXCIse2V4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJvcHRpb25zXCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGUuZGlhbG9nTmFtZSl9fSk7YS5hZGRDb21tYW5kKFwic2NheXRMYW5nc1wiLHtleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwibGFuZ3NcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZS5kaWFsb2dOYW1lKX19KTthLmFkZENvbW1hbmQoXCJzY2F5dERpY3RcIix7ZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImRpY3Rpb25hcmllc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhlLmRpYWxvZ05hbWUpfX0pO2M9e3NjYXl0VG9nZ2xlOntsYWJlbDphLmxhbmcuc2NheXQuYnRuX2VuYWJsZSxcbmdyb3VwOlwic2NheXRCdXR0b25cIixjb21tYW5kOlwic2NheXRUb2dnbGVcIn0sc2NheXRBYm91dDp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9hYm91dCxncm91cDpcInNjYXl0QnV0dG9uXCIsY29tbWFuZDpcInNjYXl0QWJvdXRcIn0sc2NheXRPcHRpb25zOntsYWJlbDphLmxhbmcuc2NheXQuYnRuX29wdGlvbnMsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dE9wdGlvbnNcIn0sc2NheXRMYW5nczp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9sYW5ncyxncm91cDpcInNjYXl0QnV0dG9uXCIsY29tbWFuZDpcInNjYXl0TGFuZ3NcIn0sc2NheXREaWN0OntsYWJlbDphLmxhbmcuc2NheXQuYnRuX2RpY3Rpb25hcmllcyxncm91cDpcInNjYXl0QnV0dG9uXCIsY29tbWFuZDpcInNjYXl0RGljdFwifX07YS5wbHVnaW5zLndzYyYmKGMuV1NDPXtsYWJlbDphLmxhbmcud3NjLnRvb2xiYXIsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgYj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0LFxuYz1hLnNjYXl0LGQ9YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmNvbnRhaW5lci5nZXRUZXh0KCk6YS5kb2N1bWVudC5nZXRCb2R5KCkuZ2V0VGV4dCgpOyhkPWQucmVwbGFjZSgvXFxzL2csXCJcIikpPyhjJiZiLnN0YXRlLnNjYXl0W2EubmFtZV0mJmMuc2V0TWFya3VwUGF1c2VkJiZjLnNldE1hcmt1cFBhdXNlZCghMCksYS5sb2NrU2VsZWN0aW9uKCksYS5leGVjQ29tbWFuZChcImNoZWNrc3BlbGxcIikpOmFsZXJ0KFwiTm90aGluZyB0byBjaGVjayFcIil9fSk7YS5hZGRNZW51SXRlbXMoYyl9LGJpbmRFdmVudHM6ZnVuY3Rpb24oYSl7dmFyIGU9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxiPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUsYz1mdW5jdGlvbigpe2UuZGVzdHJveShhKX0sZD1mdW5jdGlvbigpeyFlLnN0YXRlLnNjYXl0W2EubmFtZV18fGEucmVhZE9ubHl8fGEuc2NheXR8fGUuY3JlYXRlU2NheXQoYSl9LGw9ZnVuY3Rpb24oKXt2YXIgYz1cbmEuZWRpdGFibGUoKTtjLmF0dGFjaExpc3RlbmVyKGMsXCJmb2N1c1wiLGZ1bmN0aW9uKGMpe0NLRURJVE9SLnBsdWdpbnMuc2NheXQmJiFhLnNjYXl0JiZzZXRUaW1lb3V0KGQsMCk7Yz1DS0VESVRPUi5wbHVnaW5zLnNjYXl0JiZDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN0YXRlLnNjYXl0W2EubmFtZV0mJmEuc2NheXQ7dmFyIGUsZjtpZigoYnx8YykmJmEuXy5zYXZlZFNlbGVjdGlvbil7Yz1hLl8uc2F2ZWRTZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7Yz0hYyYmYS5fLnNhdmVkU2VsZWN0aW9uLmdldFJhbmdlcygpO2Zvcih2YXIgZz0wO2c8Yy5sZW5ndGg7ZysrKWY9Y1tnXSxcInN0cmluZ1wiPT09dHlwZW9mIGYuc3RhcnRDb250YWluZXIuJC5ub2RlVmFsdWUmJihlPWYuc3RhcnRDb250YWluZXIuZ2V0VGV4dCgpLmxlbmd0aCwoZTxmLnN0YXJ0T2Zmc2V0fHxlPGYuZW5kT2Zmc2V0KSYmYS51bmxvY2tTZWxlY3Rpb24oITEpKX19LHRoaXMsbnVsbCwtMTApfSxrPWZ1bmN0aW9uKCl7Yj9cbmEuY29uZmlnLnNjYXl0X2lubGluZU1vZGVJbW1lZGlhdGVNYXJrdXA/ZCgpOihhLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChjLDApfSksYS5vbihcImZvY3VzXCIsZCksYS5mb2N1c01hbmFnZXIuaGFzRm9jdXMmJmQoKSk6ZCgpO2woKTt2YXIgZT1hLmVkaXRhYmxlKCk7ZS5hdHRhY2hMaXN0ZW5lcihlLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGEuZ2V0VGFyZ2V0KCk7dmFyIGM9YS53aWRnZXRzJiZhLndpZGdldHMuZ2V0QnlFbGVtZW50KGIpO2MmJihjLndyYXBwZXI9Yi5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIil9LCEwKSl9LHRoaXMsbnVsbCwtMTApfTthLm9uKFwiY29udGVudERvbVwiLGspO2Eub24oXCJiZWZvcmVDb21tYW5kRXhlY1wiLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2NheXQsZD0hMSxmPSExLGs9ITA7Yi5kYXRhLm5hbWUgaW4gZS5vcHRpb25zLmRpc2FibGluZ0NvbW1hbmRFeGVjJiZcblwid3lzaXd5Z1wiPT1hLm1vZGU/YyYmKGUuZGVzdHJveShhKSxhLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpKTpcImJvbGRcIiE9PWIuZGF0YS5uYW1lJiZcIml0YWxpY1wiIT09Yi5kYXRhLm5hbWUmJlwidW5kZXJsaW5lXCIhPT1iLmRhdGEubmFtZSYmXCJzdHJpa2VcIiE9PWIuZGF0YS5uYW1lJiZcInN1YnNjcmlwdFwiIT09Yi5kYXRhLm5hbWUmJlwic3VwZXJzY3JpcHRcIiE9PWIuZGF0YS5uYW1lJiZcImVudGVyXCIhPT1iLmRhdGEubmFtZSYmXCJjdXRcIiE9PWIuZGF0YS5uYW1lJiZcImxhbmd1YWdlXCIhPT1iLmRhdGEubmFtZXx8IWN8fChcImN1dFwiPT09Yi5kYXRhLm5hbWUmJihrPSExLGY9ITApLFwibGFuZ3VhZ2VcIj09PWIuZGF0YS5uYW1lJiYoZj1kPSEwKSxhLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiLHtyZW1vdmVPcHRpb25zOntyZW1vdmVJbnNpZGU6ayxmb3JjZUJvb2ttYXJrOmYsbGFuZ3VhZ2U6ZH0sdGltZW91dDowfSkpfSk7YS5vbihcImJlZm9yZVNldE1vZGVcIixcbmZ1bmN0aW9uKGIpe2lmKFwic291cmNlXCI9PWIuZGF0YSl7aWYoYj1hLnNjYXl0KWUuZGVzdHJveShhKSxhLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2EuZG9jdW1lbnQmJmEuZG9jdW1lbnQuZ2V0Qm9keSgpLnJlbW92ZUF0dHJpYnV0ZShcIl9qcXVpZFwiKX19KTthLm9uKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLGZ1bmN0aW9uKGIpe1wid3lzaXd5Z1wiIT1hLm1vZGV8fFwidW5kb1wiIT1iLmRhdGEubmFtZSYmXCJyZWRvXCIhPWIuZGF0YS5uYW1lfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5yZWxvYWRNYXJrdXAoYS5zY2F5dCl9LDI1MCl9KTthLm9uKFwicmVhZE9ubHlcIixmdW5jdGlvbihiKXt2YXIgYztiJiYoYz1hLnNjYXl0LCEwPT09Yi5lZGl0b3IucmVhZE9ubHk/YyYmYy5maXJlKFwicmVtb3ZlTWFya3VwSW5Eb2N1bWVudFwiLHt9KTpjP2UucmVsb2FkTWFya3VwKGMpOlwid3lzaXd5Z1wiPT1iLmVkaXRvci5tb2RlJiYhMD09PWUuc3RhdGUuc2NheXRbYi5lZGl0b3IubmFtZV0mJlxuKGUuY3JlYXRlU2NheXQoYSksYi5lZGl0b3IuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixDS0VESVRPUi5UUklTVEFURV9PTikpKX0pO2Eub24oXCJiZWZvcmVEZXN0cm95XCIsYyk7YS5vbihcInNldERhdGFcIixmdW5jdGlvbigpe2MoKTsoYS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORXx8YS5wbHVnaW5zLmRpdmFyZWEpJiZrKCl9LHRoaXMsbnVsbCw1MCk7YS5vbihcInJlbG9hZE1hcmt1cFNjYXl0XCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhJiZiLmRhdGEucmVtb3ZlT3B0aW9ucyxkPWIuZGF0YSYmYi5kYXRhLnRpbWVvdXQsZj1iLmRhdGEmJmIuZGF0YS5sYW5ndWFnZSxrPWEuc2NheXQ7ayYmc2V0VGltZW91dChmdW5jdGlvbigpe2YmJihjLnNlbGVjdGlvbk5vZGU9YS5wbHVnaW5zLmxhbmd1YWdlLmdldEN1cnJlbnRMYW5nRWxlbWVudChhKSxjLnNlbGVjdGlvbk5vZGU9Yy5zZWxlY3Rpb25Ob2RlJiZjLnNlbGVjdGlvbk5vZGUuJHx8bnVsbCk7ay5yZW1vdmVNYXJrdXBJblNlbGVjdGlvbk5vZGUoYyk7XG5lLnJlbG9hZE1hcmt1cChrKX0sZHx8MCl9KTthLm9uKFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKCl7YS5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIix7cmVtb3ZlT3B0aW9uczp7Zm9yY2VCb29rbWFyazohMH19KX0sdGhpcyxudWxsLDUwKTthLm9uKFwiaW5zZXJ0SHRtbFwiLGZ1bmN0aW9uKCl7YS5zY2F5dCYmYS5zY2F5dC5zZXRGb2N1c2VkJiZhLnNjYXl0LnNldEZvY3VzZWQoITApO2EuZmlyZShcInJlbG9hZE1hcmt1cFNjYXl0XCIpfSx0aGlzLG51bGwsNTApO2Eub24oXCJpbnNlcnRUZXh0XCIsZnVuY3Rpb24oKXthLnNjYXl0JiZhLnNjYXl0LnNldEZvY3VzZWQmJmEuc2NheXQuc2V0Rm9jdXNlZCghMCk7YS5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIil9LHRoaXMsbnVsbCw1MCk7YS5vbihcInNjYXl0RGlhbG9nU2hvd25cIixmdW5jdGlvbihiKXtiLmRhdGEuc2VsZWN0UGFnZShhLnNjYXl0LnRhYlRvT3Blbil9KX0scGFyc2VDb25maWc6ZnVuY3Rpb24oYSl7dmFyIGU9Q0tFRElUT1IucGx1Z2lucy5zY2F5dDtcbmUucmVwbGFjZU9sZE9wdGlvbnNOYW1lcyhhLmNvbmZpZyk7XCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfYXV0b1N0YXJ0dXAmJihhLmNvbmZpZy5zY2F5dF9hdXRvU3RhcnR1cD0hMSk7ZS5zdGF0ZS5zY2F5dFthLm5hbWVdPWEuY29uZmlnLnNjYXl0X2F1dG9TdGFydHVwO1wiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLmdyYXl0X2F1dG9TdGFydHVwJiYoYS5jb25maWcuZ3JheXRfYXV0b1N0YXJ0dXA9ITEpO1wiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lubGluZU1vZGVJbW1lZGlhdGVNYXJrdXAmJihhLmNvbmZpZy5zY2F5dF9pbmxpbmVNb2RlSW1tZWRpYXRlTWFya3VwPSExKTtlLnN0YXRlLmdyYXl0W2EubmFtZV09YS5jb25maWcuZ3JheXRfYXV0b1N0YXJ0dXA7YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzfHwoYS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzPVwiaWdub3JlYWxsfGFkZFwiKTthLmNvbmZpZy5zY2F5dF9jb250ZXh0TWVudUl0ZW1zT3JkZXJ8fFxuKGEuY29uZmlnLnNjYXl0X2NvbnRleHRNZW51SXRlbXNPcmRlcj1cInN1Z2dlc3R8bW9yZXN1Z2dlc3R8Y29udHJvbFwiKTthLmNvbmZpZy5zY2F5dF9zTGFuZ3x8KGEuY29uZmlnLnNjYXl0X3NMYW5nPVwiZW5fVVNcIik7aWYodm9pZCAwPT09YS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnN8fFwibnVtYmVyXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9tYXhTdWdnZXN0aW9uc3x8MD5hLmNvbmZpZy5zY2F5dF9tYXhTdWdnZXN0aW9ucylhLmNvbmZpZy5zY2F5dF9tYXhTdWdnZXN0aW9ucz0zO2lmKHZvaWQgMD09PWEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGh8fFwibnVtYmVyXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RofHwxPmEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGgpYS5jb25maWcuc2NheXRfbWluV29yZExlbmd0aD0zO2lmKHZvaWQgMD09PWEuY29uZmlnLnNjYXl0X2N1c3RvbURpY3Rpb25hcnlJZHN8fFwic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfY3VzdG9tRGljdGlvbmFyeUlkcylhLmNvbmZpZy5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzPVxuXCJcIjtpZih2b2lkIDA9PT1hLmNvbmZpZy5zY2F5dF91c2VyRGljdGlvbmFyeU5hbWV8fFwic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfdXNlckRpY3Rpb25hcnlOYW1lKWEuY29uZmlnLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZT1udWxsO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfdWlUYWJzJiYzPT09YS5jb25maWcuc2NheXRfdWlUYWJzLnNwbGl0KFwiLFwiKS5sZW5ndGgpe3ZhciBiPVtdLGM9W107YS5jb25maWcuc2NheXRfdWlUYWJzPWEuY29uZmlnLnNjYXl0X3VpVGFicy5zcGxpdChcIixcIik7Q0tFRElUT1IudG9vbHMuc2VhcmNoKGEuY29uZmlnLnNjYXl0X3VpVGFicyxmdW5jdGlvbihhKXsxPT09TnVtYmVyKGEpfHwwPT09TnVtYmVyKGEpPyhjLnB1c2goITApLGIucHVzaChOdW1iZXIoYSkpKTpjLnB1c2goITEpfSk7bnVsbD09PUNLRURJVE9SLnRvb2xzLnNlYXJjaChjLCExKT9hLmNvbmZpZy5zY2F5dF91aVRhYnM9YjphLmNvbmZpZy5zY2F5dF91aVRhYnM9XG5bMSwxLDFdfWVsc2UgYS5jb25maWcuc2NheXRfdWlUYWJzPVsxLDEsMV07XCJzdHJpbmdcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbCYmKGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbD1udWxsKTtcInN0cmluZ1wiIT10eXBlb2YgYS5jb25maWcuc2NheXRfc2VydmljZUhvc3QmJihhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlSG9zdD1udWxsKTtcInN0cmluZ1wiIT10eXBlb2YgYS5jb25maWcuc2NheXRfc2VydmljZVBvcnQmJihhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUG9ydD1udWxsKTtcInN0cmluZ1wiIT10eXBlb2YgYS5jb25maWcuc2NheXRfc2VydmljZVBhdGgmJihhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUGF0aD1udWxsKTthLmNvbmZpZy5zY2F5dF9tb3JlU3VnZ2VzdGlvbnN8fChhLmNvbmZpZy5zY2F5dF9tb3JlU3VnZ2VzdGlvbnM9XCJvblwiKTtcInN0cmluZ1wiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2N1c3RvbWVySWQmJihhLmNvbmZpZy5zY2F5dF9jdXN0b21lcklkPVxuXCIxOld2RjBENC1VdFBxTjEtNDNua0Q0LU5LdlVtMi1kYVFxazMtTG1OaUktejdZc2I0LW13cnkyNC1UOFlyUzMtUTJ0cHEyXCIpO1wic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfY3VzdG9tUHVuY3R1YXRpb24mJihhLmNvbmZpZy5zY2F5dF9jdXN0b21QdW5jdHVhdGlvbj1cIi1cIik7XCJzdHJpbmdcIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zcmNVcmwmJihlPWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sLGU9LTEhPWUuc2VhcmNoKC9odHRwcz86Lyk/ZTpcImh0dHA6XCIsYS5jb25maWcuc2NheXRfc3JjVXJsPWUrXCIvL3N2Yy53ZWJzcGVsbGNoZWNrZXIubmV0L3NwZWxsY2hlY2szMS9sZi9zY2F5dDMvY2tzY2F5dC9ja3NjYXl0LmpzXCIpO1wiYm9vbGVhblwiIT09dHlwZW9mIENLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVDaGVja0RpcnR5JiYoQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZUNoZWNrRGlydHk9ITApO1wiYm9vbGVhblwiIT09dHlwZW9mIENLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbyYmXG4oQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvPSEwKTtDS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlVW5kb1JlZG89Q0tFRElUT1IucGx1Z2lucy51bmRvP0NLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbzohMTtcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9tdWx0aUxhbmd1YWdlTW9kZSYmKGEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VNb2RlPSExKTtcIm9iamVjdFwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VTdHlsZXMmJihhLmNvbmZpZy5zY2F5dF9tdWx0aUxhbmd1YWdlU3R5bGVzPXt9KTthLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMmJlwiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3JkcyYmKGEuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3Jkcz0hMSk7YS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXMmJlwiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZURvbWFpbk5hbWVzJiZcbihhLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcz0hMSk7YS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcyYmXCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcyYmKGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE1peGVkQ2FzZXM9ITEpO2EuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE51bWJlcnMmJlwiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE51bWJlcnMmJihhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzPSExKTtpZihhLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2Upe3ZhciBlPUNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlKT9hLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2U6XCJzdHJpbmdcIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2U/XG5bYS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlXTp2b2lkIDAsZD1cImFsbCBvcHRpb25zIGxhbmcgaWdub3JlLWFsbC1jYXBzLXdvcmRzIGlnbm9yZS1kb21haW4tbmFtZXMgaWdub3JlLXdvcmRzLXdpdGgtbWl4ZWQtY2FzZXMgaWdub3JlLXdvcmRzLXdpdGgtbnVtYmVyc1wiLnNwbGl0KFwiIFwiKSxsPVtcImxhbmdcIixcImlnbm9yZS1hbGwtY2Fwcy13b3Jkc1wiLFwiaWdub3JlLWRvbWFpbi1uYW1lc1wiLFwiaWdub3JlLXdvcmRzLXdpdGgtbWl4ZWQtY2FzZXNcIixcImlnbm9yZS13b3Jkcy13aXRoLW51bWJlcnNcIl0saz1DS0VESVRPUi50b29scy5zZWFyY2gsZz1DS0VESVRPUi50b29scy5pbmRleE9mO2EuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZT1hW2NdLHA9ISFrKGEsXCJvcHRpb25zXCIpO2lmKCFrKGQsZSl8fHAmJmsobCxmdW5jdGlvbihhKXtpZihcImxhbmdcIj09PWEpcmV0dXJuITF9KSlyZXR1cm47XG5rKGwsZSkmJmwuc3BsaWNlKGcobCxlKSwxKTtpZihcImFsbFwiPT09ZXx8cCYmayhhLFwibGFuZ1wiKSlyZXR1cm5bXTtcIm9wdGlvbnNcIj09PWUmJihsPVtcImxhbmdcIl0pfXJldHVybiBiPWIuY29uY2F0KGwpfShlKX19LGFkZFJ1bGU6ZnVuY3Rpb24oYSl7dmFyIGU9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxiPWEuZGF0YVByb2Nlc3NvcixjPWImJmIuaHRtbEZpbHRlcixkPWEuXy5lbGVtZW50c1BhdGgmJmEuXy5lbGVtZW50c1BhdGguZmlsdGVycyxiPWImJmIuZGF0YUZpbHRlcixsPWEuYWRkUmVtb3ZlRm9ybWF0RmlsdGVyLGs9ZnVuY3Rpb24oYil7aWYoYS5zY2F5dCYmKGIuaGFzQXR0cmlidXRlKGUub3B0aW9ucy5kYXRhX2F0dHJpYnV0ZV9uYW1lKXx8Yi5oYXNBdHRyaWJ1dGUoZS5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZSkpKXJldHVybiExfSxnPWZ1bmN0aW9uKGIpe3ZhciBjPSEwO2Euc2NheXQmJihiLmhhc0F0dHJpYnV0ZShlLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZSl8fFxuYi5oYXNBdHRyaWJ1dGUoZS5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZSkpJiYoYz0hMSk7cmV0dXJuIGN9O2QmJmQucHVzaChrKTtiJiZiLmFkZFJ1bGVzKHtlbGVtZW50czp7c3BhbjpmdW5jdGlvbihhKXt2YXIgYj1hLmhhc0NsYXNzKGUub3B0aW9ucy5taXNzcGVsbGVkX3dvcmRfY2xhc3MpJiZhLmF0dHJpYnV0ZXNbZS5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWVdLGM9YS5oYXNDbGFzcyhlLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2NsYXNzKSYmYS5hdHRyaWJ1dGVzW2Uub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGVdO2UmJihifHxjKSYmZGVsZXRlIGEubmFtZTtyZXR1cm4gYX19fSk7YyYmYy5hZGRSdWxlcyh7ZWxlbWVudHM6e3NwYW46ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYXNDbGFzcyhlLm9wdGlvbnMubWlzc3BlbGxlZF93b3JkX2NsYXNzKSYmYS5hdHRyaWJ1dGVzW2Uub3B0aW9ucy5kYXRhX2F0dHJpYnV0ZV9uYW1lXSxcbmM9YS5oYXNDbGFzcyhlLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2NsYXNzKSYmYS5hdHRyaWJ1dGVzW2Uub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGVdO2UmJihifHxjKSYmZGVsZXRlIGEubmFtZTtyZXR1cm4gYX19fSk7bCYmbC5jYWxsKGEsZyl9LHNjYXl0TWVudURlZmluaXRpb246ZnVuY3Rpb24oYSl7dmFyIGU9dGhpczthPWEuc2NheXQ7cmV0dXJue3NjYXl0OntzY2F5dF9pZ25vcmU6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5faWdub3JlXCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjEsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0Lmlnbm9yZVdvcmQoKX19LHNjYXl0X2lnbm9yZWFsbDp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9pZ25vcmVBbGxcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6MixleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQuaWdub3JlQWxsV29yZHMoKX19LHNjYXl0X2FkZDp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9hZGRXb3JkXCIpLFxuZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6MyxleGVjOmZ1bmN0aW9uKGEpe3ZhciBjPWEuc2NheXQ7c2V0VGltZW91dChmdW5jdGlvbigpe2MuYWRkV29yZFRvVXNlckRpY3Rpb25hcnkoKX0sMTApfX0sc2NheXRfb3B0aW9uOntsYWJlbDphLmdldExvY2FsKFwiYnRuX29wdGlvbnNcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6NCxleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwib3B0aW9uc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhlLmRpYWxvZ05hbWUpfSx2ZXJpZmljYXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PWEuY29uZmlnLnNjYXl0X3VpVGFic1swXT8hMDohMX19LHNjYXl0X2xhbmd1YWdlOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2xhbmdzXCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjUsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImxhbmdzXCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGUuZGlhbG9nTmFtZSl9LFxudmVyaWZpY2F0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiAxPT1hLmNvbmZpZy5zY2F5dF91aVRhYnNbMV0/ITA6ITF9fSxzY2F5dF9kaWN0aW9uYXJ5OntsYWJlbDphLmdldExvY2FsKFwiYnRuX2RpY3Rpb25hcmllc1wiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjo2LGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJkaWN0aW9uYXJpZXNcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZS5kaWFsb2dOYW1lKX0sdmVyaWZpY2F0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiAxPT1hLmNvbmZpZy5zY2F5dF91aVRhYnNbMl0/ITA6ITF9fSxzY2F5dF9hYm91dDp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9hYm91dFwiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjo3LGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJhYm91dFwiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhlLmRpYWxvZ05hbWUpfX19LGdyYXl0OntncmF5dF9wcm9ibGVtZGVzY3JpcHRpb246e2xhYmVsOlwiR3JhbW1hciBwcm9ibGVtIGRlc2NyaXB0aW9uXCIsXG5ncm91cDpcImdyYXl0X2Rlc2NyaXB0aW9uXCIsb3JkZXI6MSxzdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxleGVjOmZ1bmN0aW9uKGEpe319LGdyYXl0X2lnbm9yZTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9pZ25vcmVcIiksZ3JvdXA6XCJncmF5dF9jb250cm9sXCIsb3JkZXI6MixleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQuaWdub3JlUGhyYXNlKCl9fSxncmF5dF9pZ25vcmVhbGw6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5faWdub3JlQWxsXCIpLGdyb3VwOlwiZ3JheXRfY29udHJvbFwiLG9yZGVyOjMsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0Lmlnbm9yZUFsbFBocmFzZXMoKX19fX19LGJ1aWxkU3VnZ2VzdGlvbk1lbnVJdGVtczpmdW5jdGlvbihhLGUsYil7dmFyIGM9e30sZD17fSxsPWI/XCJ3b3JkXCI6XCJwaHJhc2VcIixrPWI/XCJzdGFydEdyYW1tYXJDaGVja1wiOlwic3RhcnRTcGVsbENoZWNrXCIsZz1hLnNjYXl0O2lmKDA8ZS5sZW5ndGgmJlwibm9fYW55X3N1Z2dlc3Rpb25zXCIhPT1lWzBdKWlmKGIpZm9yKGI9XG4wO2I8ZS5sZW5ndGg7YisrKXt2YXIgaD1cInNjYXl0X3N1Z2dlc3RfXCIrQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9uc1tiXS5yZXBsYWNlKFwiIFwiLFwiX1wiKTthLmFkZENvbW1hbmQoaCx0aGlzLmNyZWF0ZUNvbW1hbmQoQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9uc1tiXSxsLGspKTtiPGEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zPyhhLmFkZE1lbnVJdGVtKGgse2xhYmVsOmVbYl0sY29tbWFuZDpoLGdyb3VwOlwic2NheXRfc3VnZ2VzdFwiLG9yZGVyOmIrMX0pLGNbaF09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTooYS5hZGRNZW51SXRlbShoLHtsYWJlbDplW2JdLGNvbW1hbmQ6aCxncm91cDpcInNjYXl0X21vcmVzdWdnZXN0XCIsb3JkZXI6YisxfSksZFtoXT1DS0VESVRPUi5UUklTVEFURV9PRkYsXCJvblwiPT09YS5jb25maWcuc2NheXRfbW9yZVN1Z2dlc3Rpb25zJiYoYS5hZGRNZW51SXRlbShcInNjYXl0X21vcmVzdWdnZXN0XCIse2xhYmVsOmcuZ2V0TG9jYWwoXCJidG5fbW9yZVN1Z2dlc3Rpb25zXCIpLFxuZ3JvdXA6XCJzY2F5dF9tb3Jlc3VnZ2VzdFwiLG9yZGVyOjEwLGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIGR9fSksYy5zY2F5dF9tb3Jlc3VnZ2VzdD1DS0VESVRPUi5UUklTVEFURV9PRkYpKX1lbHNlIGZvcihiPTA7YjxlLmxlbmd0aDtiKyspaD1cImdyYXl0X3N1Z2dlc3RfXCIrQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9uc1tiXS5yZXBsYWNlKFwiIFwiLFwiX1wiKSxhLmFkZENvbW1hbmQoaCx0aGlzLmNyZWF0ZUNvbW1hbmQoQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9uc1tiXSxsLGspKSxhLmFkZE1lbnVJdGVtKGgse2xhYmVsOmVbYl0sY29tbWFuZDpoLGdyb3VwOlwiZ3JheXRfc3VnZ2VzdFwiLG9yZGVyOmIrMX0pLGNbaF09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2Vsc2UgYy5ub19zY2F5dF9zdWdnZXN0PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGEuYWRkQ29tbWFuZChcIm5vX3NjYXl0X3N1Z2dlc3RcIix7ZXhlYzpmdW5jdGlvbigpe319KSxhLmFkZE1lbnVJdGVtKFwibm9fc2NheXRfc3VnZ2VzdFwiLFxue2xhYmVsOmcuZ2V0TG9jYWwoXCJidG5fbm9TdWdnZXN0aW9uc1wiKXx8XCJub19zY2F5dF9zdWdnZXN0XCIsY29tbWFuZDpcIm5vX3NjYXl0X3N1Z2dlc3RcIixncm91cDpcInNjYXl0X3N1Z2dlc3RcIixvcmRlcjowfSk7cmV0dXJuIGN9LG1lbnVHZW5lcmF0b3I6ZnVuY3Rpb24oYSxlKXt2YXIgYj1hLnNjYXl0LGM9dGhpcy5zY2F5dE1lbnVEZWZpbml0aW9uKGEpLGQ9e30sbD1hLmNvbmZpZy5zY2F5dF9jb250ZXh0Q29tbWFuZHMuc3BsaXQoXCJ8XCIpLGs9ZS5nZXRBdHRyaWJ1dGUoYi5nZXRMYW5nQXR0cmlidXRlKCkpfHxiLmdldExhbmcoKSxnLGgsbTtnPWIuaXNTY2F5dE5vZGUoZSk7aD1iLmlzR3JheXROb2RlKGUpO2c/KGM9Yy5zY2F5dCxkPWUuZ2V0QXR0cmlidXRlKGIuZ2V0U2NheXROb2RlQXR0cmlidXRlTmFtZSgpKSxiLmZpcmUoXCJnZXRTdWdnZXN0aW9uc0xpc3RcIix7bGFuZzprLHdvcmQ6ZH0pLGQ9dGhpcy5idWlsZFN1Z2dlc3Rpb25NZW51SXRlbXMoYSxDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zLFxuZykpOmgmJihjPWMuZ3JheXQsZD1lLmdldEF0dHJpYnV0ZShiLmdldEdyYXl0Tm9kZUF0dHJpYnV0ZU5hbWUoKSksbT1iLmdldFByb2JsZW1EZXNjcmlwdGlvblRleHQoZCxrKSxjLmdyYXl0X3Byb2JsZW1kZXNjcmlwdGlvbiYmbSYmKGMuZ3JheXRfcHJvYmxlbWRlc2NyaXB0aW9uLmxhYmVsPW0pLGIuZmlyZShcImdldEdyYW1tYXJTdWdnZXN0aW9uc0xpc3RcIix7bGFuZzprLHBocmFzZTpkfSksZD10aGlzLmJ1aWxkU3VnZ2VzdGlvbk1lbnVJdGVtcyhhLENLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnMsZykpO2lmKGcmJlwib2ZmXCI9PWEuY29uZmlnLnNjYXl0X2NvbnRleHRDb21tYW5kcylyZXR1cm4gZDtmb3IodmFyIGYgaW4gYylnJiYtMT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihsLGYucmVwbGFjZShcInNjYXl0X1wiLFwiXCIpKSYmXCJhbGxcIiE9YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzfHxoJiZcImdyYXl0X3Byb2JsZW1kZXNjcmlwdGlvblwiIT09ZiYmLTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobCxcbmYucmVwbGFjZShcImdyYXl0X1wiLFwiXCIpKSYmXCJhbGxcIiE9YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzfHwoZFtmXT1cInVuZGVmaW5lZFwiIT10eXBlb2YgY1tmXS5zdGF0ZT9jW2ZdLnN0YXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRixcImZ1bmN0aW9uXCIhPT10eXBlb2YgY1tmXS52ZXJpZmljYXRpb258fGNbZl0udmVyaWZpY2F0aW9uKGEpfHxkZWxldGUgZFtmXSxhLmFkZENvbW1hbmQoZix7ZXhlYzpjW2ZdLmV4ZWN9KSxhLmFkZE1lbnVJdGVtKGYse2xhYmVsOmEubGFuZy5zY2F5dFtjW2ZdLmxhYmVsXXx8Y1tmXS5sYWJlbCxjb21tYW5kOmYsZ3JvdXA6Y1tmXS5ncm91cCxvcmRlcjpjW2ZdLm9yZGVyfSkpO3JldHVybiBkfSxjcmVhdGVDb21tYW5kOmZ1bmN0aW9uKGEsZSxiKXtyZXR1cm57ZXhlYzpmdW5jdGlvbihjKXtjPWMuc2NheXQ7dmFyIGQ9e307ZFtlXT1hO2MucmVwbGFjZVNlbGVjdGlvbk5vZGUoZCk7XCJzdGFydEdyYW1tYXJDaGVja1wiPT09YiYmYy5yZW1vdmVNYXJrdXBJblNlbGVjdGlvbk5vZGUoe2dyYW1tYXJPbmx5OiEwfSk7XG5jLmZpcmUoYil9fX19KSxDS0VESVRPUi5wbHVnaW5zLnNjYXl0PXtjaGFyc1RvT2JzZXJ2ZTpbe2NoYXJOYW1lOlwiY2tlLWZpbGxpbmdDaGFyXCIsY2hhckNvZGU6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi52ZXJzaW9uLm1hdGNoKC9eXFxkKFxcLlxcZCopKi8pLGE9YSYmYVswXSxlO2lmKGEpe2U9XCI0LjUuN1wiO3ZhciBiLGE9YS5yZXBsYWNlKC9cXC4vZyxcIlwiKTtlPWUucmVwbGFjZSgvXFwuL2csXCJcIik7Yj1hLmxlbmd0aC1lLmxlbmd0aDtiPTA8PWI/YjowO2U9cGFyc2VJbnQoYSk+PXBhcnNlSW50KGUpKk1hdGgucG93KDEwLGIpfXJldHVybiBlP0FycmF5KDcpLmpvaW4oU3RyaW5nLmZyb21DaGFyQ29kZSg4MjAzKSk6U3RyaW5nLmZyb21DaGFyQ29kZSg4MjAzKX0oKX1dLG9uTG9hZFRpbWVzdGFtcDpcIlwiLHN0YXRlOntzY2F5dDp7fSxncmF5dDp7fX0sd2FybmluZ0NvdW50ZXI6MCxzdWdnZXN0aW9uczpbXSxvcHRpb25zOntkaXNhYmxpbmdDb21tYW5kRXhlYzp7c291cmNlOiEwLG5ld3BhZ2U6ITAsXG50ZW1wbGF0ZXM6ITB9LGRhdGFfYXR0cmlidXRlX25hbWU6XCJkYXRhLXNjYXl0LXdvcmRcIixtaXNzcGVsbGVkX3dvcmRfY2xhc3M6XCJzY2F5dC1taXNzcGVsbC13b3JkXCIscHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlOlwiZGF0YS1ncmF5dC1waHJhc2VcIixwcm9ibGVtX2dyYW1tYXJfY2xhc3M6XCJncmFtbS1wcm9ibGVtXCJ9LGJhY2tDb21wYXRpYmlsaXR5TWFwOntzY2F5dF9zZXJ2aWNlX3Byb3RvY29sOlwic2NheXRfc2VydmljZVByb3RvY29sXCIsc2NheXRfc2VydmljZV9ob3N0Olwic2NheXRfc2VydmljZUhvc3RcIixzY2F5dF9zZXJ2aWNlX3BvcnQ6XCJzY2F5dF9zZXJ2aWNlUG9ydFwiLHNjYXl0X3NlcnZpY2VfcGF0aDpcInNjYXl0X3NlcnZpY2VQYXRoXCIsc2NheXRfY3VzdG9tZXJpZDpcInNjYXl0X2N1c3RvbWVySWRcIn0sYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZTpmdW5jdGlvbigpezU+dGhpcy53YXJuaW5nQ291bnRlciYmKGNvbnNvbGUud2FybihcIllvdSBhcmUgdXNpbmcgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIFNDQVlUIHBsdWdpbiBmb3IgQ0tFZGl0b3Igd2l0aCB0aGUgb2xkIGFwcGxpY2F0aW9uIHZlcnNpb24uIEluIG9yZGVyIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBuZXdlc3QgZmVhdHVyZXMsIGl0IGlzIHJlY29tbWVuZGVkIHRvIHVwZ3JhZGUgdGhlIGFwcGxpY2F0aW9uIHZlcnNpb24gdG8gbGF0ZXN0IG9uZSBhcyB3ZWxsLiBDb250YWN0IHVzIGZvciBtb3JlIGRldGFpbHMgYXQgc3VwcG9ydEB3ZWJzcGVsbGNoZWNrZXIubmV0LlwiKSxcbnRoaXMud2FybmluZ0NvdW50ZXIrPTEpfSxpc05ld1VkU3VwcG9ydGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFVzZXJEaWN0aW9uYXJ5PyEwOiExfSxyZWxvYWRNYXJrdXA6ZnVuY3Rpb24oYSl7dmFyIGU7YSYmKGU9YS5nZXRTY2F5dExhbmdMaXN0KCksYS5yZWxvYWRNYXJrdXA/YS5yZWxvYWRNYXJrdXAoKToodGhpcy5hbGFybUNvbXBhdGliaWxpdHlNZXNzYWdlKCksZSYmZS5sdHImJmUucnRsJiZhLmZpcmUoXCJzdGFydFNwZWxsQ2hlY2ssIHN0YXJ0R3JhbW1hckNoZWNrXCIpKSl9LHJlcGxhY2VPbGRPcHRpb25zTmFtZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBlIGluIGEpZSBpbiB0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwJiYoYVt0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwW2VdXT1hW2VdLGRlbGV0ZSBhW2VdKX0sY3JlYXRlU2NheXQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcyxiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7dGhpcy5sb2FkU2NheXRMaWJyYXJ5KGEsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gbmV3IFNDQVlULkNLU0NBWVQoYSxcbmZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe30pfXZhciBsPWEud2luZG93JiZhLndpbmRvdy5nZXRGcmFtZSgpfHxhLmVkaXRhYmxlKCk7aWYobCl7bD17bGFuZzphLmNvbmZpZy5zY2F5dF9zTGFuZyxjb250YWluZXI6bC4kLGN1c3RvbURpY3Rpb25hcnk6YS5jb25maWcuc2NheXRfY3VzdG9tRGljdGlvbmFyeUlkcyx1c2VyRGljdGlvbmFyeU5hbWU6YS5jb25maWcuc2NheXRfdXNlckRpY3Rpb25hcnlOYW1lLGxvY2FsaXphdGlvbjphLmxhbmdDb2RlLGN1c3RvbWVyX2lkOmEuY29uZmlnLnNjYXl0X2N1c3RvbWVySWQsY3VzdG9tUHVuY3R1YXRpb246YS5jb25maWcuc2NheXRfY3VzdG9tUHVuY3R1YXRpb24sZGVidWc6YS5jb25maWcuc2NheXRfZGVidWcsZGF0YV9hdHRyaWJ1dGVfbmFtZTplLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZSxtaXNzcGVsbGVkX3dvcmRfY2xhc3M6ZS5vcHRpb25zLm1pc3NwZWxsZWRfd29yZF9jbGFzcyxwcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGU6ZS5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZSxcbnByb2JsZW1fZ3JhbW1hcl9jbGFzczplLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2NsYXNzLFwib3B0aW9ucy10by1yZXN0b3JlXCI6YS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlLGZvY3VzZWQ6YS5lZGl0YWJsZSgpLmhhc0ZvY3VzLGlnbm9yZUVsZW1lbnRzUmVnZXg6YS5jb25maWcuc2NheXRfZWxlbWVudHNUb0lnbm9yZSxpZ25vcmVHcmF5dEVsZW1lbnRzUmVnZXg6YS5jb25maWcuZ3JheXRfZWxlbWVudHNUb0lnbm9yZSxtaW5Xb3JkTGVuZ3RoOmEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGgsbXVsdGlMYW5ndWFnZU1vZGU6YS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZU1vZGUsbXVsdGlMYW5ndWFnZVN0eWxlczphLmNvbmZpZy5zY2F5dF9tdWx0aUxhbmd1YWdlU3R5bGVzLGdyYXl0QXV0b1N0YXJ0dXA6YS5jb25maWcuZ3JheXRfYXV0b1N0YXJ0dXAsY2hhcnNUb09ic2VydmU6Yi5jaGFyc1RvT2JzZXJ2ZX07YS5jb25maWcuc2NheXRfc2VydmljZVByb3RvY29sJiZcbihsLnNlcnZpY2VfcHJvdG9jb2w9YS5jb25maWcuc2NheXRfc2VydmljZVByb3RvY29sKTthLmNvbmZpZy5zY2F5dF9zZXJ2aWNlSG9zdCYmKGwuc2VydmljZV9ob3N0PWEuY29uZmlnLnNjYXl0X3NlcnZpY2VIb3N0KTthLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUG9ydCYmKGwuc2VydmljZV9wb3J0PWEuY29uZmlnLnNjYXl0X3NlcnZpY2VQb3J0KTthLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUGF0aCYmKGwuc2VydmljZV9wYXRoPWEuY29uZmlnLnNjYXl0X3NlcnZpY2VQYXRoKTtcImJvb2xlYW5cIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMmJihsW1wiaWdub3JlLWFsbC1jYXBzLXdvcmRzXCJdPWEuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3Jkcyk7XCJib29sZWFuXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXMmJihsW1wiaWdub3JlLWRvbWFpbi1uYW1lc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcyk7XCJib29sZWFuXCI9PT1cbnR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzJiYobFtcImlnbm9yZS13b3Jkcy13aXRoLW1peGVkLWNhc2VzXCJdPWEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE1peGVkQ2FzZXMpO1wiYm9vbGVhblwiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE51bWJlcnMmJihsW1wiaWdub3JlLXdvcmRzLXdpdGgtbnVtYmVyc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzKTt2YXIgazt0cnl7az1kKGwpfWNhdGNoKGcpe2UuYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZSgpLGRlbGV0ZSBsLmNoYXJzVG9PYnNlcnZlLGs9ZChsKX1rLnN1YnNjcmliZShcInN1Z2dlc3Rpb25MaXN0U2VuZFwiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxjPVtdLGQ9MDtkPGEuc3VnZ2VzdGlvbkxpc3QubGVuZ3RoO2QrKyliW1wid29yZF9cIithLnN1Z2dlc3Rpb25MaXN0W2RdXXx8KGJbXCJ3b3JkX1wiK2Euc3VnZ2VzdGlvbkxpc3RbZF1dPVxuYS5zdWdnZXN0aW9uTGlzdFtkXSxjLnB1c2goYS5zdWdnZXN0aW9uTGlzdFtkXSkpO0NLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnM9Y30pO2suc3Vic2NyaWJlKFwic2VsZWN0aW9uSXNDaGFuZ2VkXCIsZnVuY3Rpb24oYil7YS5nZXRTZWxlY3Rpb24oKS5pc0xvY2tlZCYmXCJyZXN0b3JlU2VsZWN0aW9uXCIhPT1iLmFjdGlvbiYmYS5sb2NrU2VsZWN0aW9uKCk7XCJyZXN0b3JlU2VsZWN0aW9uXCI9PT1iLmFjdGlvbiYmYS5zZWxlY3Rpb25DaGFuZ2UoITApfSk7ay5zdWJzY3JpYmUoXCJncmF5dFN0YXRlQ2hhbmdlZFwiLGZ1bmN0aW9uKGQpe2Iuc3RhdGUuZ3JheXRbYS5uYW1lXT1kLnN0YXRlfSk7ay5hZGRNYXJrdXBIYW5kbGVyJiZrLmFkZE1hcmt1cEhhbmRsZXIoZnVuY3Rpb24oYil7dmFyIGQ9YS5lZGl0YWJsZSgpLGU9ZC5nZXRDdXN0b21EYXRhKGIuY2hhck5hbWUpO2UmJihlLiQ9Yi5ub2RlLGQuc2V0Q3VzdG9tRGF0YShiLmNoYXJOYW1lLGUpKX0pO2Euc2NheXQ9azthLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsXG5hLnJlYWRPbmx5P0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOkNLRURJVE9SLlRSSVNUQVRFX09OKX1lbHNlIGIuc3RhdGUuc2NheXRbYS5uYW1lXT0hMX0pfSxkZXN0cm95OmZ1bmN0aW9uKGEpe2Euc2NheXQmJmEuc2NheXQuZGVzdHJveSgpO2RlbGV0ZSBhLnNjYXl0O2EuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixDS0VESVRPUi5UUklTVEFURV9PRkYpfSxsb2FkU2NheXRMaWJyYXJ5OmZ1bmN0aW9uKGEsZSl7dmFyIGIsYz1mdW5jdGlvbigpe0NLRURJVE9SLmZpcmVPbmNlKFwic2NheXRSZWFkeVwiKTthLnNjYXl0fHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZSYmZShhKX07XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB3aW5kb3cuU0NBWVR8fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiB3aW5kb3cuU0NBWVQuQ0tTQ0FZVD8oYj1hLmNvbmZpZy5zY2F5dF9zcmNVcmwrXCI/XCIrdGhpcy5vbkxvYWRUaW1lc3RhbXAsQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoYixmdW5jdGlvbihhKXthJiZjKCl9KSk6XG53aW5kb3cuU0NBWVQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiB3aW5kb3cuU0NBWVQuQ0tTQ0FZVCYmYygpfX0sQ0tFRElUT1Iub24oXCJkaWFsb2dEZWZpbml0aW9uXCIsZnVuY3Rpb24oYSl7dmFyIGU9YS5kYXRhLm5hbWU7YT1hLmRhdGEuZGVmaW5pdGlvbi5kaWFsb2c7XCJzY2F5dERpYWxvZ1wiIT09ZSYmXCJjaGVja3NwZWxsXCIhPT1lJiYoYS5vbihcInNob3dcIixmdW5jdGlvbihhKXthPWEuc2VuZGVyJiZhLnNlbmRlci5nZXRQYXJlbnRFZGl0b3IoKTt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLnNjYXl0LGQ9YS5zY2F5dDtkJiZjLnN0YXRlLnNjYXl0W2EubmFtZV0mJmQuc2V0TWFya3VwUGF1c2VkJiZkLnNldE1hcmt1cFBhdXNlZCghMCl9KSxhLm9uKFwiaGlkZVwiLGZ1bmN0aW9uKGEpe2E9YS5zZW5kZXImJmEuc2VuZGVyLmdldFBhcmVudEVkaXRvcigpO3ZhciBjPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsZD1hLnNjYXl0O2QmJmMuc3RhdGUuc2NheXRbYS5uYW1lXSYmZC5zZXRNYXJrdXBQYXVzZWQmJlxuZC5zZXRNYXJrdXBQYXVzZWQoITEpfSkpO2lmKFwic2NheXREaWFsb2dcIj09PWUpYS5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpe3JldHVybiExfSx0aGlzLG51bGwsLTEpO2lmKFwiY2hlY2tzcGVsbFwiPT09ZSlhLm9uKFwiY2FuY2VsXCIsZnVuY3Rpb24oYSl7YT1hLnNlbmRlciYmYS5zZW5kZXIuZ2V0UGFyZW50RWRpdG9yKCk7dmFyIGM9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxkPWEuc2NheXQ7ZCYmYy5zdGF0ZS5zY2F5dFthLm5hbWVdJiZkLnNldE1hcmt1cFBhdXNlZCYmZC5zZXRNYXJrdXBQYXVzZWQoITEpO2EudW5sb2NrU2VsZWN0aW9uKCl9LHRoaXMsbnVsbCwtMik7aWYoXCJsaW5rXCI9PT1lKWEub24oXCJva1wiLGZ1bmN0aW9uKGEpe3ZhciBjPWEuc2VuZGVyJiZhLnNlbmRlci5nZXRQYXJlbnRFZGl0b3IoKTtjJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIix7cmVtb3ZlT3B0aW9uczp7cmVtb3ZlSW5zaWRlOiEwLGZvcmNlQm9va21hcms6ITB9LFxudGltZW91dDowfSl9LDApfSk7aWYoXCJyZXBsYWNlXCI9PT1lKWEub24oXCJoaWRlXCIsZnVuY3Rpb24oYSl7YT1hLnNlbmRlciYmYS5zZW5kZXIuZ2V0UGFyZW50RWRpdG9yKCk7dmFyIGM9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxkPWEuc2NheXQ7YSYmc2V0VGltZW91dChmdW5jdGlvbigpe2QmJihkLmZpcmUoXCJyZW1vdmVNYXJrdXBJbkRvY3VtZW50XCIse30pLGMucmVsb2FkTWFya3VwKGQpKX0sMCl9KX0pLENLRURJVE9SLm9uKFwic2NheXRSZWFkeVwiLGZ1bmN0aW9uKCl7aWYoITA9PT1DS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlQ2hlY2tEaXJ0eSl7dmFyIGE9Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZTthLmNoZWNrRGlydHk9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5jaGVja0RpcnR5LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPW51bGwsZD10aGlzLnNjYXl0O2lmKENLRURJVE9SLnBsdWdpbnMuc2NheXQmJkNLRURJVE9SLnBsdWdpbnMuc2NheXQuc3RhdGUuc2NheXRbdGhpcy5uYW1lXSYmXG50aGlzLnNjYXl0KXtpZihjPVwicmVhZHlcIj09dGhpcy5zdGF0dXMpdmFyIGU9ZC5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKHRoaXMuZ2V0U25hcHNob3QoKSksZD1kLnJlbW92ZU1hcmt1cEZyb21TdHJpbmcodGhpcy5fLnByZXZpb3VzVmFsdWUpLGM9YyYmZCE9PWV9ZWxzZSBjPWEuY2FsbCh0aGlzKTtyZXR1cm4gY319KTthLnJlc2V0RGlydHk9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5yZXNldERpcnR5LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPXRoaXMuc2NheXQ7Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFt0aGlzLm5hbWVdJiZ0aGlzLnNjYXl0P3RoaXMuXy5wcmV2aW91c1ZhbHVlPWMucmVtb3ZlTWFya3VwRnJvbVN0cmluZyh0aGlzLmdldFNuYXBzaG90KCkpOmEuY2FsbCh0aGlzKX19KX1pZighMD09PUNLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbyl7dmFyIGE9Q0tFRElUT1IucGx1Z2lucy51bmRvLkltYWdlLnByb3RvdHlwZSxcbmU9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5lcXVhbHNDb250ZW50P1wiZXF1YWxzQ29udGVudFwiOlwiZXF1YWxzXCI7YVtlXT1DS0VESVRPUi50b29scy5vdmVycmlkZShhW2VdLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1jLmVkaXRvci5zY2F5dCxlPXRoaXMuY29udGVudHMsaz1jLmNvbnRlbnRzLGc9bnVsbDtDS0VESVRPUi5wbHVnaW5zLnNjYXl0JiZDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN0YXRlLnNjYXl0W2MuZWRpdG9yLm5hbWVdJiZjLmVkaXRvci5zY2F5dCYmKHRoaXMuY29udGVudHM9ZC5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKGUpfHxcIlwiLGMuY29udGVudHM9ZC5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKGspfHxcIlwiKTtnPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29udGVudHM9ZTtjLmNvbnRlbnRzPWs7cmV0dXJuIGd9fSl9fSksZnVuY3Rpb24oKXt2YXIgYT17cHJlc2VydmVTdGF0ZTohMCxlZGl0b3JGb2N1czohMSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7dGhpcy50b2dnbGVTdGF0ZSgpO1xudGhpcy5yZWZyZXNoKGEpfSxyZWZyZXNoOmZ1bmN0aW9uKGEpe2lmKGEuZG9jdW1lbnQpe3ZhciBiPXRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OP1wiYXR0YWNoQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCI7YS5lZGl0YWJsZSgpW2JdKFwiY2tlX3Nob3dfYm9yZGVyc1wiKX19fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInNob3dib3JkZXJzXCIse21vZGVzOnt3eXNpd3lnOjF9LG9uTG9hZDpmdW5jdGlvbigpe3ZhciBhO2E9KENLRURJVE9SLmVudi5pZTZDb21wYXQ/W1wiLiUxIHRhYmxlLiUyLFwiLFwiLiUxIHRhYmxlLiUyIHRkLCAuJTEgdGFibGUuJTIgdGhcIixcIntcIixcImJvcmRlciA6ICNkM2QzZDMgMXB4IGRvdHRlZFwiLFwifVwiXTpcIi4lMSB0YWJsZS4lMiw7LiUxIHRhYmxlLiUyIFxceDNlIHRyIFxceDNlIHRkLCAuJTEgdGFibGUuJTIgXFx4M2UgdHIgXFx4M2UgdGgsOy4lMSB0YWJsZS4lMiBcXHgzZSB0Ym9keSBcXHgzZSB0ciBcXHgzZSB0ZCwgLiUxIHRhYmxlLiUyIFxceDNlIHRib2R5IFxceDNlIHRyIFxceDNlIHRoLDsuJTEgdGFibGUuJTIgXFx4M2UgdGhlYWQgXFx4M2UgdHIgXFx4M2UgdGQsIC4lMSB0YWJsZS4lMiBcXHgzZSB0aGVhZCBcXHgzZSB0ciBcXHgzZSB0aCw7LiUxIHRhYmxlLiUyIFxceDNlIHRmb290IFxceDNlIHRyIFxceDNlIHRkLCAuJTEgdGFibGUuJTIgXFx4M2UgdGZvb3QgXFx4M2UgdHIgXFx4M2UgdGg7eztib3JkZXIgOiAjZDNkM2QzIDFweCBkb3R0ZWQ7fVwiLnNwbGl0KFwiO1wiKSkuam9pbihcIlwiKS5yZXBsYWNlKC8lMi9nLFxuXCJja2Vfc2hvd19ib3JkZXJcIikucmVwbGFjZSgvJTEvZyxcImNrZV9zaG93X2JvcmRlcnMgXCIpO0NLRURJVE9SLmFkZENzcyhhKX0saW5pdDpmdW5jdGlvbihlKXt2YXIgYj1lLmFkZENvbW1hbmQoXCJzaG93Ym9yZGVyc1wiLGEpO2IuY2FuVW5kbz0hMTshMSE9PWUuY29uZmlnLnN0YXJ0dXBTaG93Qm9yZGVycyYmYi5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTik7ZS5vbihcIm1vZGVcIixmdW5jdGlvbigpe2Iuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZiLnJlZnJlc2goZSl9LG51bGwsbnVsbCwxMDApO2Uub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtiLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmYi5yZWZyZXNoKGUpfSk7ZS5vbihcInJlbW92ZUZvcm1hdENsZWFudXBcIixmdW5jdGlvbihhKXthPWEuZGF0YTtlLmdldENvbW1hbmQoXCJzaG93Ym9yZGVyc1wiKS5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJmEuaXMoXCJ0YWJsZVwiKSYmKCFhLmhhc0F0dHJpYnV0ZShcImJvcmRlclwiKXx8XG4wPj1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcImJvcmRlclwiKSwxMCkpJiZhLmFkZENsYXNzKFwiY2tlX3Nob3dfYm9yZGVyXCIpfSl9LGFmdGVySW5pdDpmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGFQcm9jZXNzb3I7YT1iJiZiLmRhdGFGaWx0ZXI7Yj1iJiZiLmh0bWxGaWx0ZXI7YSYmYS5hZGRSdWxlcyh7ZWxlbWVudHM6e3RhYmxlOmZ1bmN0aW9uKGEpe2E9YS5hdHRyaWJ1dGVzO3ZhciBiPWFbXCJjbGFzc1wiXSxlPXBhcnNlSW50KGEuYm9yZGVyLDEwKTtlJiYhKDA+PWUpfHxiJiYtMSE9Yi5pbmRleE9mKFwiY2tlX3Nob3dfYm9yZGVyXCIpfHwoYVtcImNsYXNzXCJdPShifHxcIlwiKStcIiBja2Vfc2hvd19ib3JkZXJcIil9fX0pO2ImJmIuYWRkUnVsZXMoe2VsZW1lbnRzOnt0YWJsZTpmdW5jdGlvbihhKXthPWEuYXR0cmlidXRlczt2YXIgYj1hW1wiY2xhc3NcIl07YiYmKGFbXCJjbGFzc1wiXT1iLnJlcGxhY2UoXCJja2Vfc2hvd19ib3JkZXJcIixcIlwiKS5yZXBsYWNlKC9cXHN7Mn0vLFwiIFwiKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC8sXG5cIlwiKSl9fX0pfX0pO0NLRURJVE9SLm9uKFwiZGlhbG9nRGVmaW5pdGlvblwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5uYW1lO2lmKFwidGFibGVcIj09Ynx8XCJ0YWJsZVByb3BlcnRpZXNcIj09YilpZihhPWEuZGF0YS5kZWZpbml0aW9uLGI9YS5nZXRDb250ZW50cyhcImluZm9cIikuZ2V0KFwidHh0Qm9yZGVyXCIpLGIuY29tbWl0PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGIuY29tbWl0LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGUpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBrPXBhcnNlSW50KHRoaXMuZ2V0VmFsdWUoKSwxMCk7ZVsha3x8MD49az9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImNrZV9zaG93X2JvcmRlclwiKX19KSxhPShhPWEuZ2V0Q29udGVudHMoXCJhZHZhbmNlZFwiKSkmJmEuZ2V0KFwiYWR2Q1NTQ2xhc3Nlc1wiKSlhLnNldHVwPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEuc2V0dXAsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YS5hcHBseSh0aGlzLFxuYXJndW1lbnRzKTt0aGlzLnNldFZhbHVlKHRoaXMuZ2V0VmFsdWUoKS5yZXBsYWNlKC9ja2Vfc2hvd19ib3JkZXIvLFwiXCIpKX19KSxhLmNvbW1pdD1DS0VESVRPUi50b29scy5vdmVycmlkZShhLmNvbW1pdCxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixlKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtwYXJzZUludChlLmdldEF0dHJpYnV0ZShcImJvcmRlclwiKSwxMCl8fGUuYWRkQ2xhc3MoXCJja2Vfc2hvd19ib3JkZXJcIil9fSl9KX0oKSxmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwic291cmNlYXJlYVwiLHtpbml0OmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGIoKXt2YXIgYT1kJiZ0aGlzLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSk7dGhpcy5oaWRlKCk7dGhpcy5zZXRTdHlsZShcImhlaWdodFwiLHRoaXMuZ2V0UGFyZW50KCkuJC5jbGllbnRIZWlnaHQrXCJweFwiKTt0aGlzLnNldFN0eWxlKFwid2lkdGhcIix0aGlzLmdldFBhcmVudCgpLiQuY2xpZW50V2lkdGgrXG5cInB4XCIpO3RoaXMuc2hvdygpO2EmJnRoaXMuZm9jdXMoKX1pZihlLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKXt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLnNvdXJjZWFyZWE7ZS5hZGRNb2RlKFwic291cmNlXCIsZnVuY3Rpb24oYyl7dmFyIGQ9ZS51aS5zcGFjZShcImNvbnRlbnRzXCIpLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO2Quc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmV4dGVuZCh7d2lkdGg6Q0tFRElUT1IuZW52LmllN0NvbXBhdD9cIjk5JVwiOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixyZXNpemU6XCJub25lXCIsb3V0bGluZTpcIm5vbmVcIixcInRleHQtYWxpZ25cIjpcImxlZnRcIn0sQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidGFiLXNpemVcIixlLmNvbmZpZy5zb3VyY2VBcmVhVGFiU2l6ZXx8NCkpKTtkLnNldEF0dHJpYnV0ZShcImRpclwiLFwibHRyXCIpO2QuYWRkQ2xhc3MoXCJja2Vfc291cmNlXCIpLmFkZENsYXNzKFwiY2tlX3Jlc2V0XCIpLmFkZENsYXNzKFwiY2tlX2VuYWJsZV9jb250ZXh0X21lbnVcIik7XG5lLnVpLnNwYWNlKFwiY29udGVudHNcIikuYXBwZW5kKGQpO2Q9ZS5lZGl0YWJsZShuZXcgYShlLGQpKTtkLnNldERhdGEoZS5nZXREYXRhKDEpKTtDS0VESVRPUi5lbnYuaWUmJihkLmF0dGFjaExpc3RlbmVyKGUsXCJyZXNpemVcIixiLGQpLGQuYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksXCJyZXNpemVcIixiLGQpLENLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYiwwLGQpKTtlLmZpcmUoXCJhcmlhV2lkZ2V0XCIsdGhpcyk7YygpfSk7ZS5hZGRDb21tYW5kKFwic291cmNlXCIsYy5jb21tYW5kcy5zb3VyY2UpO2UudWkuYWRkQnV0dG9uJiZlLnVpLmFkZEJ1dHRvbihcIlNvdXJjZVwiLHtsYWJlbDplLmxhbmcuc291cmNlYXJlYS50b29sYmFyLGNvbW1hbmQ6XCJzb3VyY2VcIix0b29sYmFyOlwibW9kZSwxMFwifSk7ZS5vbihcIm1vZGVcIixmdW5jdGlvbigpe2UuZ2V0Q29tbWFuZChcInNvdXJjZVwiKS5zZXRTdGF0ZShcInNvdXJjZVwiPT1lLm1vZGU/Q0tFRElUT1IuVFJJU1RBVEVfT046XG5DS0VESVRPUi5UUklTVEFURV9PRkYpfSk7dmFyIGQ9Q0tFRElUT1IuZW52LmllJiY5PT1DS0VESVRPUi5lbnYudmVyc2lvbn19fSk7dmFyIGE9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IuZWRpdGFibGUscHJvdG86e3NldERhdGE6ZnVuY3Rpb24oYSl7dGhpcy5zZXRWYWx1ZShhKTt0aGlzLnN0YXR1cz1cInJlYWR5XCI7dGhpcy5lZGl0b3IuZmlyZShcImRhdGFSZWFkeVwiKX0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCl9LGluc2VydEh0bWw6ZnVuY3Rpb24oKXt9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oKXt9LGluc2VydFRleHQ6ZnVuY3Rpb24oKXt9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKGEpe3RoaXNbKGE/XCJzZXRcIjpcInJlbW92ZVwiKStcIkF0dHJpYnV0ZVwiXShcInJlYWRPbmx5XCIsXCJyZWFkb25seVwiKX0sZGV0YWNoOmZ1bmN0aW9uKCl7YS5iYXNlUHJvdG8uZGV0YWNoLmNhbGwodGhpcyk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTtcbnRoaXMucmVtb3ZlKCl9fX0pfSgpLENLRURJVE9SLnBsdWdpbnMuc291cmNlYXJlYT17Y29tbWFuZHM6e3NvdXJjZTp7bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0sZWRpdG9yRm9jdXM6ITEscmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe1wid3lzaXd5Z1wiPT1hLm1vZGUmJmEuZmlyZShcInNhdmVTbmFwc2hvdFwiKTthLmdldENvbW1hbmQoXCJzb3VyY2VcIikuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2Euc2V0TW9kZShcInNvdXJjZVwiPT1hLm1vZGU/XCJ3eXNpd3lnXCI6XCJzb3VyY2VcIil9LGNhblVuZG86ITF9fX0sQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJzcGVjaWFsY2hhclwiLHthdmFpbGFibGVMYW5nczp7YWY6MSxhcjoxLGF6OjEsYmc6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXCJkZS1jaFwiOjEsZWw6MSxlbjoxLFwiZW4tYXVcIjoxLFwiZW4tY2FcIjoxLFwiZW4tZ2JcIjoxLGVvOjEsZXM6MSxcImVzLW14XCI6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZyOjEsXCJmci1jYVwiOjEsXG5nbDoxLGhlOjEsaHI6MSxodToxLGlkOjEsaXQ6MSxqYToxLGttOjEsa286MSxrdToxLGx0OjEsbHY6MSxuYjoxLG5sOjEsbm86MSxvYzoxLHBsOjEscHQ6MSxcInB0LWJyXCI6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxzdjoxLHRoOjEsdHI6MSx0dDoxLHVnOjEsdWs6MSx2aToxLHpoOjEsXCJ6aC1jblwiOjF9LHJlcXVpcmVzOlwiZGlhbG9nXCIsaW5pdDpmdW5jdGlvbihhKXt2YXIgZT10aGlzO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJzcGVjaWFsY2hhclwiLHRoaXMucGF0aCtcImRpYWxvZ3Mvc3BlY2lhbGNoYXIuanNcIik7YS5hZGRDb21tYW5kKFwic3BlY2lhbGNoYXJcIix7ZXhlYzpmdW5jdGlvbigpe3ZhciBiPWEubGFuZ0NvZGUsYj1lLmF2YWlsYWJsZUxhbmdzW2JdP2I6ZS5hdmFpbGFibGVMYW5nc1tiLnJlcGxhY2UoLy0uKi8sXCJcIildP2IucmVwbGFjZSgvLS4qLyxcIlwiKTpcImVuXCI7Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGUucGF0aCtcImRpYWxvZ3MvbGFuZy9cIitcbmIrXCIuanNcIiksZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5leHRlbmQoYS5sYW5nLnNwZWNpYWxjaGFyLGUubGFuZ0VudHJpZXNbYl0pO2Eub3BlbkRpYWxvZyhcInNwZWNpYWxjaGFyXCIpfSl9LG1vZGVzOnt3eXNpd3lnOjF9LGNhblVuZG86ITF9KTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJTcGVjaWFsQ2hhclwiLHtsYWJlbDphLmxhbmcuc3BlY2lhbGNoYXIudG9vbGJhcixjb21tYW5kOlwic3BlY2lhbGNoYXJcIix0b29sYmFyOlwiaW5zZXJ0LDUwXCJ9KX19KSxDS0VESVRPUi5jb25maWcuc3BlY2lhbENoYXJzPVwiISBcXHgyNnF1b3Q7ICMgJCAlIFxceDI2YW1wOyAnICggKSAqICsgLSAuIC8gMCAxIDIgMyA0IDUgNiA3IDggOSA6IDsgXFx4MjZsdDsgXFx4M2QgXFx4MjZndDsgPyBAIEEgQiBDIEQgRSBGIEcgSCBJIEogSyBMIE0gTiBPIFAgUSBSIFMgVCBVIFYgVyBYIFkgWiBbIF0gXiBfIGAgYSBiIGMgZCBlIGYgZyBoIGkgaiBrIGwgbSBuIG8gcCBxIHIgcyB0IHUgdiB3IHggeSB6IHsgfCB9IH4gXFx4MjZldXJvOyBcXHgyNmxzcXVvOyBcXHgyNnJzcXVvOyBcXHgyNmxkcXVvOyBcXHgyNnJkcXVvOyBcXHgyNm5kYXNoOyBcXHgyNm1kYXNoOyBcXHgyNmlleGNsOyBcXHgyNmNlbnQ7IFxceDI2cG91bmQ7IFxceDI2Y3VycmVuOyBcXHgyNnllbjsgXFx4MjZicnZiYXI7IFxceDI2c2VjdDsgXFx4MjZ1bWw7IFxceDI2Y29weTsgXFx4MjZvcmRmOyBcXHgyNmxhcXVvOyBcXHgyNm5vdDsgXFx4MjZyZWc7IFxceDI2bWFjcjsgXFx4MjZkZWc7IFxceDI2c3VwMjsgXFx4MjZzdXAzOyBcXHgyNmFjdXRlOyBcXHgyNm1pY3JvOyBcXHgyNnBhcmE7IFxceDI2bWlkZG90OyBcXHgyNmNlZGlsOyBcXHgyNnN1cDE7IFxceDI2b3JkbTsgXFx4MjZyYXF1bzsgXFx4MjZmcmFjMTQ7IFxceDI2ZnJhYzEyOyBcXHgyNmZyYWMzNDsgXFx4MjZpcXVlc3Q7IFxceDI2QWdyYXZlOyBcXHgyNkFhY3V0ZTsgXFx4MjZBY2lyYzsgXFx4MjZBdGlsZGU7IFxceDI2QXVtbDsgXFx4MjZBcmluZzsgXFx4MjZBRWxpZzsgXFx4MjZDY2VkaWw7IFxceDI2RWdyYXZlOyBcXHgyNkVhY3V0ZTsgXFx4MjZFY2lyYzsgXFx4MjZFdW1sOyBcXHgyNklncmF2ZTsgXFx4MjZJYWN1dGU7IFxceDI2SWNpcmM7IFxceDI2SXVtbDsgXFx4MjZFVEg7IFxceDI2TnRpbGRlOyBcXHgyNk9ncmF2ZTsgXFx4MjZPYWN1dGU7IFxceDI2T2NpcmM7IFxceDI2T3RpbGRlOyBcXHgyNk91bWw7IFxceDI2dGltZXM7IFxceDI2T3NsYXNoOyBcXHgyNlVncmF2ZTsgXFx4MjZVYWN1dGU7IFxceDI2VWNpcmM7IFxceDI2VXVtbDsgXFx4MjZZYWN1dGU7IFxceDI2VEhPUk47IFxceDI2c3psaWc7IFxceDI2YWdyYXZlOyBcXHgyNmFhY3V0ZTsgXFx4MjZhY2lyYzsgXFx4MjZhdGlsZGU7IFxceDI2YXVtbDsgXFx4MjZhcmluZzsgXFx4MjZhZWxpZzsgXFx4MjZjY2VkaWw7IFxceDI2ZWdyYXZlOyBcXHgyNmVhY3V0ZTsgXFx4MjZlY2lyYzsgXFx4MjZldW1sOyBcXHgyNmlncmF2ZTsgXFx4MjZpYWN1dGU7IFxceDI2aWNpcmM7IFxceDI2aXVtbDsgXFx4MjZldGg7IFxceDI2bnRpbGRlOyBcXHgyNm9ncmF2ZTsgXFx4MjZvYWN1dGU7IFxceDI2b2NpcmM7IFxceDI2b3RpbGRlOyBcXHgyNm91bWw7IFxceDI2ZGl2aWRlOyBcXHgyNm9zbGFzaDsgXFx4MjZ1Z3JhdmU7IFxceDI2dWFjdXRlOyBcXHgyNnVjaXJjOyBcXHgyNnV1bWw7IFxceDI2eWFjdXRlOyBcXHgyNnRob3JuOyBcXHgyNnl1bWw7IFxceDI2T0VsaWc7IFxceDI2b2VsaWc7IFxceDI2IzM3MjsgXFx4MjYjMzc0IFxceDI2IzM3MyBcXHgyNiMzNzU7IFxceDI2c2JxdW87IFxceDI2IzgyMTk7IFxceDI2YmRxdW87IFxceDI2aGVsbGlwOyBcXHgyNnRyYWRlOyBcXHgyNiM5NjU4OyBcXHgyNmJ1bGw7IFxceDI2cmFycjsgXFx4MjZyQXJyOyBcXHgyNmhBcnI7IFxceDI2ZGlhbXM7IFxceDI2YXN5bXA7XCIuc3BsaXQoXCIgXCIpLFxuZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZChcInN0eWxlc2NvbWJvXCIse3JlcXVpcmVzOlwicmljaGNvbWJvXCIsaW5pdDpmdW5jdGlvbihhKXt2YXIgZT1hLmNvbmZpZyxiPWEubGFuZy5zdHlsZXNjb21ibyxjPXt9LGQ9W10sbD1bXTthLm9uKFwic3R5bGVzU2V0XCIsZnVuY3Rpb24oYil7aWYoYj1iLmRhdGEuc3R5bGVzKXtmb3IodmFyIGcsaCxtLGY9MCxuPWIubGVuZ3RoO2Y8bjtmKyspKGc9YltmXSxhLmJsb2NrbGVzcyYmZy5lbGVtZW50IGluIENLRURJVE9SLmR0ZC4kYmxvY2t8fFwic3RyaW5nXCI9PXR5cGVvZiBnLnR5cGUmJiFDS0VESVRPUi5zdHlsZS5jdXN0b21IYW5kbGVyc1tnLnR5cGVdfHwoaD1nLm5hbWUsZz1uZXcgQ0tFRElUT1Iuc3R5bGUoZyksYS5maWx0ZXIuY3VzdG9tQ29uZmlnJiYhYS5maWx0ZXIuY2hlY2soZykpKXx8KGcuX25hbWU9aCxnLl8uZW50ZXJNb2RlPWUuZW50ZXJNb2RlLGcuXy50eXBlPW09Zy5hc3NpZ25lZFRvfHxnLnR5cGUsZy5fLndlaWdodD1cbmYrMUUzKihtPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/MTptPT1DS0VESVRPUi5TVFlMRV9CTE9DSz8yOjMpLGNbaF09ZyxkLnB1c2goZyksbC5wdXNoKGcpKTtkLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5fLndlaWdodC1iLl8ud2VpZ2h0fSl9fSk7YS51aS5hZGRSaWNoQ29tYm8oXCJTdHlsZXNcIix7bGFiZWw6Yi5sYWJlbCx0aXRsZTpiLnBhbmVsVGl0bGUsdG9vbGJhcjpcInN0eWxlcywxMFwiLGFsbG93ZWRDb250ZW50OmwscGFuZWw6e2NzczpbQ0tFRElUT1Iuc2tpbi5nZXRQYXRoKFwiZWRpdG9yXCIpXS5jb25jYXQoZS5jb250ZW50c0NzcyksbXVsdGlTZWxlY3Q6ITAsYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6Yi5wYW5lbFRpdGxlfX0saW5pdDpmdW5jdGlvbigpe3ZhciBhLGMsZSxtLGYsbDtmPTA7Zm9yKGw9ZC5sZW5ndGg7ZjxsO2YrKylhPWRbZl0sYz1hLl9uYW1lLG09YS5fLnR5cGUsbSE9ZSYmKHRoaXMuc3RhcnRHcm91cChiW1wicGFuZWxUaXRsZVwiK1N0cmluZyhtKV0pLFxuZT1tKSx0aGlzLmFkZChjLGEudHlwZT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUP2M6YS5idWlsZFByZXZpZXcoKSxjKTt0aGlzLmNvbW1pdCgpfSxvbkNsaWNrOmZ1bmN0aW9uKGIpe2EuZm9jdXMoKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Yj1jW2JdO3ZhciBkPWEuZWxlbWVudFBhdGgoKTtpZihiLmdyb3VwJiZiLnJlbW92ZVN0eWxlc0Zyb21TYW1lR3JvdXAoYSkpYS5hcHBseVN0eWxlKGIpO2Vsc2UgYVtiLmNoZWNrQWN0aXZlKGQsYSk/XCJyZW1vdmVTdHlsZVwiOlwiYXBwbHlTdHlsZVwiXShiKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuZ2V0VmFsdWUoKTtiPWIuZGF0YS5wYXRoLmVsZW1lbnRzO2Zvcih2YXIgZT0wLG09Yi5sZW5ndGgsZjtlPG07ZSsrKXtmPWJbZV07Zm9yKHZhciBsIGluIGMpaWYoY1tsXS5jaGVja0VsZW1lbnRSZW1vdmFibGUoZiwhMCxhKSl7bCE9XG5kJiZ0aGlzLnNldFZhbHVlKGwpO3JldHVybn19dGhpcy5zZXRWYWx1ZShcIlwiKX0sdGhpcyl9LG9uT3BlbjpmdW5jdGlvbigpe3ZhciBkPWEuZ2V0U2VsZWN0aW9uKCksZD1kLmdldFNlbGVjdGVkRWxlbWVudCgpfHxkLmdldFN0YXJ0RWxlbWVudCgpfHxhLmVkaXRhYmxlKCksZD1hLmVsZW1lbnRQYXRoKGQpLGU9WzAsMCwwLDBdO3RoaXMuc2hvd0FsbCgpO3RoaXMudW5tYXJrQWxsKCk7Zm9yKHZhciBoIGluIGMpe3ZhciBtPWNbaF0sZj1tLl8udHlwZTttLmNoZWNrQXBwbGljYWJsZShkLGEsYS5hY3RpdmVGaWx0ZXIpP2VbZl0rKzp0aGlzLmhpZGVJdGVtKGgpO20uY2hlY2tBY3RpdmUoZCxhKSYmdGhpcy5tYXJrKGgpfWVbQ0tFRElUT1IuU1RZTEVfQkxPQ0tdfHx0aGlzLmhpZGVHcm91cChiW1wicGFuZWxUaXRsZVwiK1N0cmluZyhDS0VESVRPUi5TVFlMRV9CTE9DSyldKTtlW0NLRURJVE9SLlNUWUxFX0lOTElORV18fHRoaXMuaGlkZUdyb3VwKGJbXCJwYW5lbFRpdGxlXCIrU3RyaW5nKENLRURJVE9SLlNUWUxFX0lOTElORSldKTtcbmVbQ0tFRElUT1IuU1RZTEVfT0JKRUNUXXx8dGhpcy5oaWRlR3JvdXAoYltcInBhbmVsVGl0bGVcIitTdHJpbmcoQ0tFRElUT1IuU1RZTEVfT0JKRUNUKV0pfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9YS5lbGVtZW50UGF0aCgpO2lmKGIpe2Zvcih2YXIgZCBpbiBjKWlmKGNbZF0uY2hlY2tBcHBsaWNhYmxlKGIsYSxhLmFjdGl2ZUZpbHRlcikpcmV0dXJuO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0scmVzZXQ6ZnVuY3Rpb24oKXtjPXt9O2Q9W119fSl9fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybntlZGl0b3JGb2N1czohMSxjYW5VbmRvOiExLG1vZGVzOnt3eXNpd3lnOjF9LGV4ZWM6ZnVuY3Rpb24oYil7aWYoYi5lZGl0YWJsZSgpLmhhc0ZvY3VzKXt2YXIgYz1iLmdldFNlbGVjdGlvbigpLGU7aWYoZT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmdldENvbW1vbkFuY2VzdG9yKCksYy5yb290KSkuY29udGFpbnMoe3RkOjEsXG50aDoxfSwxKSl7dmFyIGM9Yi5jcmVhdGVSYW5nZSgpLGg9Q0tFRElUT1IudG9vbHMudHJ5VGhlc2UoZnVuY3Rpb24oKXt2YXIgYj1lLmdldFBhcmVudCgpLiQuY2VsbHNbZS4kLmNlbGxJbmRleCsoYT8tMToxKV07Yi5wYXJlbnROb2RlLnBhcmVudE5vZGU7cmV0dXJuIGJ9LGZ1bmN0aW9uKCl7dmFyIGI9ZS5nZXRQYXJlbnQoKSxiPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuJC5yb3dzW2IuJC5yb3dJbmRleCsoYT8tMToxKV07cmV0dXJuIGIuY2VsbHNbYT9iLmNlbGxzLmxlbmd0aC0xOjBdfSk7aWYoaHx8YSlpZihoKWg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGgpLGMubW92ZVRvRWxlbWVudEVkaXRTdGFydChoKSxjLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmMuY2hlY2tFbmRPZkJsb2NrKCl8fGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGgpO2Vsc2UgcmV0dXJuITA7ZWxzZXtmb3IodmFyIG09ZS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKS4kLGg9ZS5nZXRQYXJlbnQoKS4kLmNlbGxzLG09XG5uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobS5pbnNlcnRSb3coLTEpLGIuZG9jdW1lbnQpLGY9MCxuPWgubGVuZ3RoO2Y8bjtmKyspbS5hcHBlbmQoKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChoW2ZdLGIuZG9jdW1lbnQpKS5jbG9uZSghMSwhMSkpLmFwcGVuZEJvZ3VzKCk7Yy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KG0pfWMuc2VsZWN0KCEwKTtyZXR1cm4hMH19cmV0dXJuITF9fX12YXIgZT17ZWRpdG9yRm9jdXM6ITEsbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19LGI9e2V4ZWM6ZnVuY3Rpb24oYSl7YS5jb250YWluZXIuZm9jdXNOZXh0KCEwLGEudGFiSW5kZXgpfX0sYz17ZXhlYzpmdW5jdGlvbihhKXthLmNvbnRhaW5lci5mb2N1c1ByZXZpb3VzKCEwLGEudGFiSW5kZXgpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0YWJcIix7aW5pdDpmdW5jdGlvbihkKXtmb3IodmFyIGw9ITEhPT1kLmNvbmZpZy5lbmFibGVUYWJLZXlUb29scyxrPWQuY29uZmlnLnRhYlNwYWNlc3x8MCxcbmc9XCJcIjtrLS07KWcrPVwiwqBcIjtpZihnKWQub24oXCJrZXlcIixmdW5jdGlvbihhKXs5PT1hLmRhdGEua2V5Q29kZSYmKGQuaW5zZXJ0VGV4dChnKSxhLmNhbmNlbCgpKX0pO2lmKGwpZC5vbihcImtleVwiLGZ1bmN0aW9uKGEpeyg5PT1hLmRhdGEua2V5Q29kZSYmZC5leGVjQ29tbWFuZChcInNlbGVjdE5leHRDZWxsXCIpfHxhLmRhdGEua2V5Q29kZT09Q0tFRElUT1IuU0hJRlQrOSYmZC5leGVjQ29tbWFuZChcInNlbGVjdFByZXZpb3VzQ2VsbFwiKSkmJmEuY2FuY2VsKCl9KTtkLmFkZENvbW1hbmQoXCJibHVyXCIsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGIsZSkpO2QuYWRkQ29tbWFuZChcImJsdXJCYWNrXCIsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGMsZSkpO2QuYWRkQ29tbWFuZChcInNlbGVjdE5leHRDZWxsXCIsYSgpKTtkLmFkZENvbW1hbmQoXCJzZWxlY3RQcmV2aW91c0NlbGxcIixhKCEwKSl9fSl9KCksQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzTmV4dD1mdW5jdGlvbihhLGUpe3ZhciBiPVxudm9pZCAwPT09ZT90aGlzLmdldFRhYkluZGV4KCk6ZSxjLGQsbCxrLGcsaDtpZigwPj1iKWZvcihnPXRoaXMuZ2V0TmV4dFNvdXJjZU5vZGUoYSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2c7KXtpZihnLmlzVmlzaWJsZSgpJiYwPT09Zy5nZXRUYWJJbmRleCgpKXtsPWc7YnJlYWt9Zz1nLmdldE5leHRTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCl9ZWxzZSBmb3IoZz10aGlzLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpLmdldEZpcnN0KCk7Zz1nLmdldE5leHRTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCk7KXtpZighYylpZighZCYmZy5lcXVhbHModGhpcykpe2lmKGQ9ITAsYSl7aWYoIShnPWcuZ2V0TmV4dFNvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSkpYnJlYWs7Yz0xfX1lbHNlIGQmJiF0aGlzLmNvbnRhaW5zKGcpJiYoYz0xKTtpZihnLmlzVmlzaWJsZSgpJiYhKDA+KGg9Zy5nZXRUYWJJbmRleCgpKSkpe2lmKGMmJmg9PWIpe2w9XG5nO2JyZWFrfWg+YiYmKCFsfHwha3x8aDxrKT8obD1nLGs9aCk6bHx8MCE9PWh8fChsPWcsaz1oKX19bCYmbC5mb2N1cygpfSxDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZm9jdXNQcmV2aW91cz1mdW5jdGlvbihhLGUpe2Zvcih2YXIgYj12b2lkIDA9PT1lP3RoaXMuZ2V0VGFiSW5kZXgoKTplLGMsZCxsLGs9MCxnLGg9dGhpcy5nZXREb2N1bWVudCgpLmdldEJvZHkoKS5nZXRMYXN0KCk7aD1oLmdldFByZXZpb3VzU291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpOyl7aWYoIWMpaWYoIWQmJmguZXF1YWxzKHRoaXMpKXtpZihkPSEwLGEpe2lmKCEoaD1oLmdldFByZXZpb3VzU291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpKSlicmVhaztjPTF9fWVsc2UgZCYmIXRoaXMuY29udGFpbnMoaCkmJihjPTEpO2lmKGguaXNWaXNpYmxlKCkmJiEoMD4oZz1oLmdldFRhYkluZGV4KCkpKSlpZigwPj1iKXtpZihjJiYwPT09Zyl7bD1oO2JyZWFrfWc+ayYmXG4obD1oLGs9Zyl9ZWxzZXtpZihjJiZnPT1iKXtsPWg7YnJlYWt9ZzxiJiYoIWx8fGc+aykmJihsPWgsaz1nKX19bCYmbC5mb2N1cygpfSxDS0VESVRPUi5wbHVnaW5zLmFkZChcInRhYmxlXCIse3JlcXVpcmVzOlwiZGlhbG9nXCIsaW5pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBlKGEpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoYXx8e30se2NvbnRleHRTZW5zaXRpdmU6MSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRTdGF0ZShiLmNvbnRhaW5zKFwidGFibGVcIiwxKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWlmKCFhLmJsb2NrbGVzcyl7dmFyIGI9YS5sYW5nLnRhYmxlO2EuYWRkQ29tbWFuZChcInRhYmxlXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJ0YWJsZVwiLHtjb250ZXh0OlwidGFibGVcIixhbGxvd2VkQ29udGVudDpcInRhYmxle3dpZHRoLGhlaWdodH1bYWxpZ24sYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLHN1bW1hcnldO2NhcHRpb24gdGJvZHkgdGhlYWQgdGZvb3Q7dGggdGQgdHJbc2NvcGVdO1wiK1xuKGEucGx1Z2lucy5kaWFsb2dhZHZ0YWI/XCJ0YWJsZVwiK2EucGx1Z2lucy5kaWFsb2dhZHZ0YWIuYWxsb3dlZENvbnRlbnQoKTpcIlwiKSxyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM6W1tcInRhYmxle3dpZHRofTogc2l6ZVRvU3R5bGVcIixcInRhYmxlW3dpZHRoXTogc2l6ZVRvQXR0cmlidXRlXCJdLFtcInRkOiBzcGxpdEJvcmRlclNob3J0aGFuZFwiXSxbe2VsZW1lbnQ6XCJ0YWJsZVwiLHJpZ2h0OmZ1bmN0aW9uKGEpe2lmKGEuc3R5bGVzKXt2YXIgYjtpZihhLnN0eWxlcy5ib3JkZXIpYj1DS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5ib3JkZXIoYS5zdHlsZXMuYm9yZGVyKTtlbHNlIGlmKENLRURJVE9SLmVudi5pZSYmOD09PUNLRURJVE9SLmVudi52ZXJzaW9uKXt2YXIgZT1hLnN0eWxlcztlW1wiYm9yZGVyLWxlZnRcIl0mJmVbXCJib3JkZXItbGVmdFwiXT09PWVbXCJib3JkZXItcmlnaHRcIl0mJmVbXCJib3JkZXItcmlnaHRcIl09PT1lW1wiYm9yZGVyLXRvcFwiXSYmXG5lW1wiYm9yZGVyLXRvcFwiXT09PWVbXCJib3JkZXItYm90dG9tXCJdJiYoYj1DS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5ib3JkZXIoZVtcImJvcmRlci10b3BcIl0pKX1iJiZiLnN0eWxlJiZcInNvbGlkXCI9PT1iLnN0eWxlJiZiLndpZHRoJiYwIT09cGFyc2VGbG9hdChiLndpZHRoKSYmKGEuYXR0cmlidXRlcy5ib3JkZXI9MSk7XCJjb2xsYXBzZVwiPT1hLnN0eWxlc1tcImJvcmRlci1jb2xsYXBzZVwiXSYmKGEuYXR0cmlidXRlcy5jZWxsc3BhY2luZz0wKX19fV1dfSkpO2EuYWRkQ29tbWFuZChcInRhYmxlUHJvcGVydGllc1wiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwidGFibGVQcm9wZXJ0aWVzXCIsZSgpKSk7YS5hZGRDb21tYW5kKFwidGFibGVEZWxldGVcIixlKHtleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZWxlbWVudFBhdGgoKS5jb250YWlucyhcInRhYmxlXCIsMSk7aWYoYil7dmFyIGU9Yi5nZXRQYXJlbnQoKSxrPWEuZWRpdGFibGUoKTsxIT1lLmdldENoaWxkQ291bnQoKXx8ZS5pcyhcInRkXCIsXG5cInRoXCIpfHxlLmVxdWFscyhrKXx8KGI9ZSk7YT1hLmNyZWF0ZVJhbmdlKCk7YS5tb3ZlVG9Qb3NpdGlvbihiLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7Yi5yZW1vdmUoKTthLnNlbGVjdCgpfX19KSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiVGFibGVcIix7bGFiZWw6Yi50b29sYmFyLGNvbW1hbmQ6XCJ0YWJsZVwiLHRvb2xiYXI6XCJpbnNlcnQsMzBcIn0pO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJ0YWJsZVwiLHRoaXMucGF0aCtcImRpYWxvZ3MvdGFibGUuanNcIik7Q0tFRElUT1IuZGlhbG9nLmFkZChcInRhYmxlUHJvcGVydGllc1wiLHRoaXMucGF0aCtcImRpYWxvZ3MvdGFibGUuanNcIik7YS5hZGRNZW51SXRlbXMmJmEuYWRkTWVudUl0ZW1zKHt0YWJsZTp7bGFiZWw6Yi5tZW51LGNvbW1hbmQ6XCJ0YWJsZVByb3BlcnRpZXNcIixncm91cDpcInRhYmxlXCIsb3JkZXI6NX0sdGFibGVkZWxldGU6e2xhYmVsOmIuZGVsZXRlVGFibGUsY29tbWFuZDpcInRhYmxlRGVsZXRlXCIsZ3JvdXA6XCJ0YWJsZVwiLFxub3JkZXI6MX19KTthLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihhKXthLmRhdGEuZWxlbWVudC5pcyhcInRhYmxlXCIpJiYoYS5kYXRhLmRpYWxvZz1cInRhYmxlUHJvcGVydGllc1wiKX0pO2EuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oKXtyZXR1cm57dGFibGVkZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlOkNLRURJVE9SLlRSSVNUQVRFX09GRn19KX19fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYj9iLmNvbnRhaW5zKGEpJiZhLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLmVxdWFscyhiKTohMH1mdW5jdGlvbiBkKGEpezA8ZS5sZW5ndGh8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhdi50ZXN0KGEuZ2V0TmFtZSgpKXx8YS5nZXRDdXN0b21EYXRhKFwic2VsZWN0ZWRfY2VsbFwiKXx8KENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihmLGEsXCJzZWxlY3RlZF9jZWxsXCIsXG4hMCksZS5wdXNoKGEpKX12YXIgZT1bXSxmPXt9O2lmKCFhKXJldHVybiBlO2Zvcih2YXIgZz1hLmdldFJhbmdlcygpLGg9MDtoPGcubGVuZ3RoO2grKyl7dmFyIGs9Z1toXTtpZihrLmNvbGxhcHNlZCkoaz1rLmdldENvbW1vbkFuY2VzdG9yKCkuZ2V0QXNjZW5kYW50KHt0ZDoxLHRoOjF9LCEwKSkmJmMoaykmJmUucHVzaChrKTtlbHNle3ZhciBrPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGspLG07Zm9yKGsuZ3VhcmQ9ZDttPWsubmV4dCgpOyltLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbS5pcyhDS0VESVRPUi5kdGQudGFibGUpfHwobT1tLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSwhMCkpJiYhbS5nZXRDdXN0b21EYXRhKFwic2VsZWN0ZWRfY2VsbFwiKSYmYyhtKSYmKENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihmLG0sXCJzZWxlY3RlZF9jZWxsXCIsITApLGUucHVzaChtKSl9fUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhmKTtyZXR1cm4gZX1cbmZ1bmN0aW9uIGUoYixjKXtmb3IodmFyIGQ9eChiKT9iOmEoYiksZT1kWzBdLGY9ZS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxlPWUuZ2V0RG9jdW1lbnQoKSxnPWRbMF0uZ2V0UGFyZW50KCksaD1nLiQucm93SW5kZXgsZD1kW2QubGVuZ3RoLTFdLGs9ZC5nZXRQYXJlbnQoKS4kLnJvd0luZGV4K2QuJC5yb3dTcGFuLTEsZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZi4kLnJvd3Nba10pLGg9Yz9oOmssZz1jP2c6ZCxkPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZiksZj1kW2hdLGg9Yz9kW2gtMV06ZFtoKzFdLGQ9ZFswXS5sZW5ndGgsZT1lLmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxrPTA7ZltrXSYmazxkO2srKyl7dmFyIG07MTxmW2tdLnJvd1NwYW4mJmgmJmZba109PWhba10/KG09ZltrXSxtLnJvd1NwYW4rPTEpOihtPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZltrXSkpLmNsb25lKCksbS5yZW1vdmVBdHRyaWJ1dGUoXCJyb3dTcGFuXCIpLG0uYXBwZW5kQm9ndXMoKSxlLmFwcGVuZChtKSxcbm09bS4kKTtrKz1tLmNvbFNwYW4tMX1jP2UuaW5zZXJ0QmVmb3JlKGcpOmUuaW5zZXJ0QWZ0ZXIoZyk7cmV0dXJuIGV9ZnVuY3Rpb24gYihjKXtpZihjIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7dmFyIGQ9Yy5nZXRSYW5nZXMoKSxlPWEoYyksZj1lWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGc9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxoPWVbMF0uZ2V0UGFyZW50KCkuJC5yb3dJbmRleCxlPWVbZS5sZW5ndGgtMV0saz1lLmdldFBhcmVudCgpLiQucm93SW5kZXgrZS4kLnJvd1NwYW4tMSxlPVtdO2MucmVzZXQoKTtmb3IoYz1oO2M8PWs7YysrKXtmb3IodmFyIG09Z1tjXSxsPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLiQucm93c1tjXSksbj0wO248bS5sZW5ndGg7bisrKXt2YXIgcD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobVtuXSkscj1wLmdldFBhcmVudCgpLiQucm93SW5kZXg7MT09cC4kLnJvd1NwYW4/cC5yZW1vdmUoKTooLS1wLiQucm93U3BhbixcbnI9PWMmJihyPWdbYysxXSxyW24tMV0/cC5pbnNlcnRBZnRlcihuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQocltuLTFdKSk6KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLiQucm93c1tjKzFdKSkuYXBwZW5kKHAsMSkpKTtuKz1wLiQuY29sU3Bhbi0xfWUucHVzaChsKX1nPWYuJC5yb3dzO2RbMF0ubW92ZVRvUG9zaXRpb24oZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2g9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGdbaysxXXx8KDA8aD9nW2gtMV06bnVsbCl8fGYuJC5wYXJlbnROb2RlKTtmb3IoYz1lLmxlbmd0aDswPD1jO2MtLSliKGVbY10pO3JldHVybiBmLiQucGFyZW50Tm9kZT9oOihkWzBdLnNlbGVjdCgpLG51bGwpfWMgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCYmKGY9Yy5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSwxPT1mLiQucm93cy5sZW5ndGg/Zi5yZW1vdmUoKTpjLnJlbW92ZSgpKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYj1cbmEuZ2V0UGFyZW50KCkuJC5jZWxscyxjPTAsZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdLGM9YytlLmNvbFNwYW47aWYoZT09YS4kKWJyZWFrfXJldHVybiBjLTF9ZnVuY3Rpb24gZChhLGIpe2Zvcih2YXIgZD1iP0luZmluaXR5OjAsZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZj1jKGFbZV0pO2lmKGI/ZjxkOmY+ZClkPWZ9cmV0dXJuIGR9ZnVuY3Rpb24gbChiLGMpe2Zvcih2YXIgZT14KGIpP2I6YShiKSxmPWVbMF0uZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZz1kKGUsMSksZT1kKGUpLGg9Yz9nOmUsaz1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGY9W10sZz1bXSxlPVtdLG09ay5sZW5ndGgsbD0wO2w8bTtsKyspZi5wdXNoKGtbbF1baF0pLGcucHVzaChjP2tbbF1baC0xXTprW2xdW2grMV0pO2ZvcihsPTA7bDxtO2wrKylmW2xdJiYoMTxmW2xdLmNvbFNwYW4mJmdbbF09PWZbbF0/KGs9ZltsXSxrLmNvbFNwYW4rPTEpOihoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmW2xdKSxcbms9aC5jbG9uZSgpLGsucmVtb3ZlQXR0cmlidXRlKFwiY29sU3BhblwiKSxrLmFwcGVuZEJvZ3VzKCksa1tjP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXS5jYWxsKGssaCksZS5wdXNoKGspLGs9ay4kKSxsKz1rLnJvd1NwYW4tMSk7cmV0dXJuIGV9ZnVuY3Rpb24gayhiKXtmdW5jdGlvbiBjKGEpe3ZhciBiLGQsZTtiPWEuZ2V0UmFuZ2VzKCk7aWYoMSE9PWIubGVuZ3RoKXJldHVybiBhO2I9YlswXTtpZihiLmNvbGxhcHNlZHx8MCE9PWIuZW5kT2Zmc2V0KXJldHVybiBhO2Q9Yi5lbmRDb250YWluZXI7ZT1kLmdldE5hbWUoKS50b0xvd2VyQ2FzZSgpO2lmKFwidGRcIiE9PWUmJlwidGhcIiE9PWUpcmV0dXJuIGE7Zm9yKChlPWQuZ2V0UHJldmlvdXMoKSl8fChlPWQuZ2V0UGFyZW50KCkuZ2V0UHJldmlvdXMoKS5nZXRMYXN0KCkpO2UudHlwZSE9PUNLRURJVE9SLk5PREVfVEVYVCYmXCJiclwiIT09ZS5nZXROYW1lKCkudG9Mb3dlckNhc2UoKTspaWYoZT1lLmdldExhc3QoKSwhZSlyZXR1cm4gYTtcbmIuc2V0RW5kQXQoZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtyZXR1cm4gYi5zZWxlY3QoKX1DS0VESVRPUi5lbnYud2Via2l0JiYhYi5pc0Zha2UmJihiPWMoYikpO3ZhciBkPWIuZ2V0UmFuZ2VzKCksZT1hKGIpLGY9ZVswXSxnPWVbZS5sZW5ndGgtMV0sZT1mLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGg9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChlKSxrLG0sbD1bXTtiLnJlc2V0KCk7dmFyIG49MDtmb3IoYj1oLmxlbmd0aDtuPGI7bisrKWZvcih2YXIgcD0wLHI9aFtuXS5sZW5ndGg7cDxyO3ArKyl2b2lkIDA9PT1rJiZoW25dW3BdPT1mLiQmJihrPXApLGhbbl1bcF09PWcuJCYmKG09cCk7Zm9yKG49aztuPD1tO24rKylmb3IocD0wO3A8aC5sZW5ndGg7cCsrKWc9aFtwXSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlLiQucm93c1twXSksZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZ1tuXSksZy4kJiYoMT09Zy4kLmNvbFNwYW4/Zy5yZW1vdmUoKTotLWcuJC5jb2xTcGFuLFxucCs9Zy4kLnJvd1NwYW4tMSxmLiQuY2VsbHMubGVuZ3RofHxsLnB1c2goZikpO2s9aFswXS5sZW5ndGgtMT5tP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChoWzBdW20rMV0pOmsmJi0xIT09aFswXVtrLTFdLmNlbGxJbmRleD9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoaFswXVtrLTFdKTpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZS4kLnBhcmVudE5vZGUpO2wubGVuZ3RoPT1iJiYoZFswXS5tb3ZlVG9Qb3NpdGlvbihlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZFswXS5zZWxlY3QoKSxlLnJlbW92ZSgpKTtyZXR1cm4ga31mdW5jdGlvbiBnKGEsYil7dmFyIGM9YS5nZXRTdGFydEVsZW1lbnQoKS5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApO2lmKGMpe3ZhciBkPWMuY2xvbmUoKTtkLmFwcGVuZEJvZ3VzKCk7Yj9kLmluc2VydEJlZm9yZShjKTpkLmluc2VydEFmdGVyKGMpfX1mdW5jdGlvbiBoKGIpe2lmKGIgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uc2VsZWN0aW9uKXt2YXIgYz1cbmIuZ2V0UmFuZ2VzKCksZD1hKGIpLGU9ZFswXSYmZFswXS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxmO2E6e3ZhciBnPTA7Zj1kLmxlbmd0aC0xO2Zvcih2YXIgaz17fSxsLG47bD1kW2crK107KUNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihrLGwsXCJkZWxldGVfY2VsbFwiLCEwKTtmb3IoZz0wO2w9ZFtnKytdOylpZigobj1sLmdldFByZXZpb3VzKCkpJiYhbi5nZXRDdXN0b21EYXRhKFwiZGVsZXRlX2NlbGxcIil8fChuPWwuZ2V0TmV4dCgpKSYmIW4uZ2V0Q3VzdG9tRGF0YShcImRlbGV0ZV9jZWxsXCIpKXtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoayk7Zj1uO2JyZWFrIGF9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGspO2c9ZFswXS5nZXRQYXJlbnQoKTsoZz1nLmdldFByZXZpb3VzKCkpP2Y9Zy5nZXRMYXN0KCk6KGc9ZFtmXS5nZXRQYXJlbnQoKSxmPShnPWcuZ2V0TmV4dCgpKT9nLmdldENoaWxkKDApOm51bGwpfWIucmVzZXQoKTtmb3IoYj1cbmQubGVuZ3RoLTE7MDw9YjtiLS0paChkW2JdKTtmP20oZiwhMCk6ZSYmKGNbMF0ubW92ZVRvUG9zaXRpb24oZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGNbMF0uc2VsZWN0KCksZS5yZW1vdmUoKSl9ZWxzZSBiIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQmJihjPWIuZ2V0UGFyZW50KCksMT09Yy5nZXRDaGlsZENvdW50KCk/Yy5yZW1vdmUoKTpiLnJlbW92ZSgpKX1mdW5jdGlvbiBtKGEsYil7dmFyIGM9YS5nZXREb2N1bWVudCgpLGQ9Q0tFRElUT1IuZG9jdW1lbnQ7Q0tFRElUT1IuZW52LmllJiYxMD09Q0tFRElUT1IuZW52LnZlcnNpb24mJihkLmZvY3VzKCksYy5mb2N1cygpKTtjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYyk7Y1tcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGI/XCJFbmRcIjpcIlN0YXJ0XCIpXShhKXx8KGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGMuY29sbGFwc2UoYj8hMTohMCkpO2Muc2VsZWN0KCEwKX1mdW5jdGlvbiBmKGEsYixjKXthPWFbYl07XG5pZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYylyZXR1cm4gYTtmb3IoYj0wO2EmJmI8YS5sZW5ndGg7YisrKXtpZihjLmlzJiZhW2JdPT1jLiQpcmV0dXJuIGI7aWYoYj09YylyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGFbYl0pfXJldHVybiBjLmlzPy0xOm51bGx9ZnVuY3Rpb24gbihiLGMsZCl7dmFyIGU9YShiKSxnO2lmKChjPzEhPWUubGVuZ3RoOjI+ZS5sZW5ndGgpfHwoZz1iLmdldENvbW1vbkFuY2VzdG9yKCkpJiZnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZy5pcyhcInRhYmxlXCIpKXJldHVybiExO3ZhciBoO2I9ZVswXTtnPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIik7dmFyIGs9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChnKSxtPWsubGVuZ3RoLGw9a1swXS5sZW5ndGgsbj1iLmdldFBhcmVudCgpLiQucm93SW5kZXgscD1mKGssbixiKTtpZihjKXt2YXIgcjt0cnl7dmFyIHY9cGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpLDEwKXx8MTtcbmg9cGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpLDEwKXx8MTtyPWtbXCJ1cFwiPT1jP24tdjpcImRvd25cIj09Yz9uK3Y6bl1bXCJsZWZ0XCI9PWM/cC1oOlwicmlnaHRcIj09Yz9wK2g6cF19Y2F0Y2goeCl7cmV0dXJuITF9aWYoIXJ8fGIuJD09cilyZXR1cm4hMTtlW1widXBcIj09Y3x8XCJsZWZ0XCI9PWM/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChyKSl9Yz1iLmdldERvY3VtZW50KCk7dmFyIEs9bix2PXI9MCxKPSFkJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYyksRD0wO2ZvcihjPTA7YzxlLmxlbmd0aDtjKyspe2g9ZVtjXTt2YXIgUj1oLmdldFBhcmVudCgpLE49aC5nZXRGaXJzdCgpLFM9aC4kLmNvbFNwYW4sTD1oLiQucm93U3BhbixSPVIuJC5yb3dJbmRleCxWPWYoayxSLGgpLEQ9RCtTKkwsdj1NYXRoLm1heCh2LFYtcCtTKTtyPU1hdGgubWF4KHIsUi1uK0wpO2R8fChTPWgsKEw9Uy5nZXRCb2d1cygpKSYmTC5yZW1vdmUoKSxcblMudHJpbSgpLGguZ2V0Q2hpbGRyZW4oKS5jb3VudCgpJiYoUj09S3x8IU58fE4uaXNCbG9ja0JvdW5kYXJ5JiZOLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pfHwoSz1KLmdldExhc3QoQ0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCkpLCFLfHxLLmlzJiZLLmlzKFwiYnJcIil8fEouYXBwZW5kKFwiYnJcIikpLGgubW92ZUNoaWxkcmVuKEopKSxjP2gucmVtb3ZlKCk6aC5zZXRIdG1sKFwiXCIpKTtLPVJ9aWYoZClyZXR1cm4gcip2PT1EO0oubW92ZUNoaWxkcmVuKGIpO2IuYXBwZW5kQm9ndXMoKTt2Pj1sP2IucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKTpiLiQucm93U3Bhbj1yO3I+PW0/Yi5yZW1vdmVBdHRyaWJ1dGUoXCJjb2xTcGFuXCIpOmIuJC5jb2xTcGFuPXY7ZD1uZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KGcuJC5yb3dzKTtlPWQuY291bnQoKTtmb3IoYz1lLTE7MDw9YztjLS0pZz1kLmdldEl0ZW0oYyksZy4kLmNlbGxzLmxlbmd0aHx8KGcucmVtb3ZlKCksZSsrKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIHAoYixjKXt2YXIgZD1hKGIpO2lmKDE8ZC5sZW5ndGgpcmV0dXJuITE7aWYoYylyZXR1cm4hMDt2YXIgZD1kWzBdLGU9ZC5nZXRQYXJlbnQoKSxnPWUuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksaD1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGcpLGs9ZS4kLnJvd0luZGV4LG09ZihoLGssZCksbD1kLiQucm93U3BhbixuO2lmKDE8bCl7bj1NYXRoLmNlaWwobC8yKTtmb3IodmFyIGw9TWF0aC5mbG9vcihsLzIpLGU9aytuLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGcuJC5yb3dzW2VdKSxoPWYoaCxlKSxwLGU9ZC5jbG9uZSgpLGs9MDtrPGgubGVuZ3RoO2srKylpZihwPWhba10scC5wYXJlbnROb2RlPT1nLiQmJms+bSl7ZS5pbnNlcnRCZWZvcmUobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHApKTticmVha31lbHNlIHA9bnVsbDtwfHxnLmFwcGVuZChlKX1lbHNlIGZvcihsPW49MSxnPWUuY2xvbmUoKSxnLmluc2VydEFmdGVyKGUpLGcuYXBwZW5kKGU9ZC5jbG9uZSgpKSxcbnA9ZihoLGspLG09MDttPHAubGVuZ3RoO20rKylwW21dLnJvd1NwYW4rKztlLmFwcGVuZEJvZ3VzKCk7ZC4kLnJvd1NwYW49bjtlLiQucm93U3Bhbj1sOzE9PW4mJmQucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKTsxPT1sJiZlLnJlbW92ZUF0dHJpYnV0ZShcInJvd1NwYW5cIik7cmV0dXJuIGV9ZnVuY3Rpb24gcihiLGMpe3ZhciBkPWEoYik7aWYoMTxkLmxlbmd0aClyZXR1cm4hMTtpZihjKXJldHVybiEwO3ZhciBkPWRbMF0sZT1kLmdldFBhcmVudCgpLGc9ZS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxnPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZyksaD1mKGcsZS4kLnJvd0luZGV4LGQpLGs9ZC4kLmNvbFNwYW47aWYoMTxrKWU9TWF0aC5jZWlsKGsvMiksaz1NYXRoLmZsb29yKGsvMik7ZWxzZXtmb3IodmFyIGs9ZT0xLG09W10sbD0wO2w8Zy5sZW5ndGg7bCsrKXt2YXIgbj1nW2xdO20ucHVzaChuW2hdKTsxPG5baF0ucm93U3BhbiYmKGwrPW5baF0ucm93U3Bhbi0xKX1mb3IoZz1cbjA7ZzxtLmxlbmd0aDtnKyspbVtnXS5jb2xTcGFuKyt9Zz1kLmNsb25lKCk7Zy5pbnNlcnRBZnRlcihkKTtnLmFwcGVuZEJvZ3VzKCk7ZC4kLmNvbFNwYW49ZTtnLiQuY29sU3Bhbj1rOzE9PWUmJmQucmVtb3ZlQXR0cmlidXRlKFwiY29sU3BhblwiKTsxPT1rJiZnLnJlbW92ZUF0dHJpYnV0ZShcImNvbFNwYW5cIik7cmV0dXJuIGd9dmFyIHY9L14oPzp0ZHx0aCkkLyx4PUNLRURJVE9SLnRvb2xzLmlzQXJyYXk7Q0tFRElUT1IucGx1Z2lucy50YWJsZXRvb2xzPXtyZXF1aXJlczpcInRhYmxlLGRpYWxvZyxjb250ZXh0bWVudVwiLGluaXQ6ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGF8fHt9LHtjb250ZXh0U2Vuc2l0aXZlOjEscmVmcmVzaDpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhdGUoYi5jb250YWlucyh7dGQ6MSx0aDoxfSwxKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWZ1bmN0aW9uIGYoYSxcbmIpe3ZhciBkPWMuYWRkQ29tbWFuZChhLGIpO2MuYWRkRmVhdHVyZShkKX12YXIgdj1jLmxhbmcudGFibGUseD1DS0VESVRPUi50b29scy5zdHlsZS5wYXJzZTtmKFwiY2VsbFByb3BlcnRpZXNcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImNlbGxQcm9wZXJ0aWVzXCIsZCh7YWxsb3dlZENvbnRlbnQ6XCJ0ZCB0aHt3aWR0aCxoZWlnaHQsYm9yZGVyLWNvbG9yLGJhY2tncm91bmQtY29sb3Isd2hpdGUtc3BhY2UsdmVydGljYWwtYWxpZ24sdGV4dC1hbGlnbn1bY29sc3Bhbixyb3dzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsY29udGVudFRyYW5zZm9ybWF0aW9uczpbW3tlbGVtZW50OlwidGRcIixsZWZ0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlcy5iYWNrZ3JvdW5kJiZ4LmJhY2tncm91bmQoYS5zdHlsZXMuYmFja2dyb3VuZCkuY29sb3J9LHJpZ2h0OmZ1bmN0aW9uKGEpe2Euc3R5bGVzW1wiYmFja2dyb3VuZC1jb2xvclwiXT14LmJhY2tncm91bmQoYS5zdHlsZXMuYmFja2dyb3VuZCkuY29sb3J9fSxcbntlbGVtZW50OlwidGRcIixjaGVjazpcInRke3ZlcnRpY2FsLWFsaWdufVwiLGxlZnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLnZhbGlnbn0scmlnaHQ6ZnVuY3Rpb24oYSl7YS5zdHlsZXNbXCJ2ZXJ0aWNhbC1hbGlnblwiXT1hLmF0dHJpYnV0ZXMudmFsaWduO2RlbGV0ZSBhLmF0dHJpYnV0ZXMudmFsaWdufX1dLFt7ZWxlbWVudDpcInRyXCIsY2hlY2s6XCJ0ZHtoZWlnaHR9XCIsbGVmdDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZXMmJmEuc3R5bGVzLmhlaWdodH0scmlnaHQ6ZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChhLmNoaWxkcmVuLGZ1bmN0aW9uKGIpe2IubmFtZSBpbnt0ZDoxLHRoOjF9JiYoYi5hdHRyaWJ1dGVzW1wiY2tlLXJvdy1oZWlnaHRcIl09YS5zdHlsZXMuaGVpZ2h0KX0pO2RlbGV0ZSBhLnN0eWxlcy5oZWlnaHR9fV0sW3tlbGVtZW50OlwidGRcIixjaGVjazpcInRke2hlaWdodH1cIixsZWZ0OmZ1bmN0aW9uKGEpe3JldHVybihhPVxuYS5hdHRyaWJ1dGVzKSYmYVtcImNrZS1yb3ctaGVpZ2h0XCJdfSxyaWdodDpmdW5jdGlvbihhKXthLnN0eWxlcy5oZWlnaHQ9YS5hdHRyaWJ1dGVzW1wiY2tlLXJvdy1oZWlnaHRcIl07ZGVsZXRlIGEuYXR0cmlidXRlc1tcImNrZS1yb3ctaGVpZ2h0XCJdfX1dXX0pKSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImNlbGxQcm9wZXJ0aWVzXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZUNlbGwuanNcIik7ZihcInJvd0RlbGV0ZVwiLGQoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7KGE9YihhKSkmJm0oYSl9fSkpO2YoXCJyb3dJbnNlcnRCZWZvcmVcIixkKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYil7Yj1iLmdldFNlbGVjdGlvbigpO2I9YShiKTtlKGIsITApfX0pKTtmKFwicm93SW5zZXJ0QWZ0ZXJcIixkKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYil7Yj1iLmdldFNlbGVjdGlvbigpO2I9YShiKTtcbmUoYil9fSkpO2YoXCJjb2x1bW5EZWxldGVcIixkKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpOyhhPWsoYSkpJiZtKGEsITApfX0pKTtmKFwiY29sdW1uSW5zZXJ0QmVmb3JlXCIsZCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGIpe2I9Yi5nZXRTZWxlY3Rpb24oKTtiPWEoYik7bChiLCEwKX19KSk7ZihcImNvbHVtbkluc2VydEFmdGVyXCIsZCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGIpe2I9Yi5nZXRTZWxlY3Rpb24oKTtiPWEoYik7bChiKX19KSk7ZihcImNlbGxEZWxldGVcIixkKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO2goYSl9fSkpO2YoXCJjZWxsTWVyZ2VcIixkKHthbGxvd2VkQ29udGVudDpcInRkW2NvbHNwYW4scm93c3Bhbl1cIixyZXF1aXJlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuLHJvd3NwYW5dXCIsZXhlYzpmdW5jdGlvbihhLFxuYil7Yi5jZWxsPW4oYS5nZXRTZWxlY3Rpb24oKSk7bShiLmNlbGwsITApfX0pKTtmKFwiY2VsbE1lcmdlUmlnaHRcIixkKHthbGxvd2VkQ29udGVudDpcInRkW2NvbHNwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEsYil7Yi5jZWxsPW4oYS5nZXRTZWxlY3Rpb24oKSxcInJpZ2h0XCIpO20oYi5jZWxsLCEwKX19KSk7ZihcImNlbGxNZXJnZURvd25cIixkKHthbGxvd2VkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbcm93c3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEsYil7Yi5jZWxsPW4oYS5nZXRTZWxlY3Rpb24oKSxcImRvd25cIik7bShiLmNlbGwsITApfX0pKTtmKFwiY2VsbFZlcnRpY2FsU3BsaXRcIixkKHthbGxvd2VkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbcm93c3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEpe20ocihhLmdldFNlbGVjdGlvbigpKSl9fSkpO2YoXCJjZWxsSG9yaXpvbnRhbFNwbGl0XCIsXG5kKHthbGxvd2VkQ29udGVudDpcInRkW2NvbHNwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEpe20ocChhLmdldFNlbGVjdGlvbigpKSl9fSkpO2YoXCJjZWxsSW5zZXJ0QmVmb3JlXCIsZCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtnKGEsITApfX0pKTtmKFwiY2VsbEluc2VydEFmdGVyXCIsZCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtnKGEpfX0pKTtjLmFkZE1lbnVJdGVtcyYmYy5hZGRNZW51SXRlbXMoe3RhYmxlY2VsbDp7bGFiZWw6di5jZWxsLm1lbnUsZ3JvdXA6XCJ0YWJsZWNlbGxcIixvcmRlcjoxLGdldEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGI9Yy5nZXRTZWxlY3Rpb24oKSxkPWEoYik7cmV0dXJue3RhYmxlY2VsbF9pbnNlcnRCZWZvcmU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY2VsbF9pbnNlcnRBZnRlcjpDS0VESVRPUi5UUklTVEFURV9PRkYsXG50YWJsZWNlbGxfZGVsZXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNlbGxfbWVyZ2U6bihiLG51bGwsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfbWVyZ2VfcmlnaHQ6bihiLFwicmlnaHRcIiwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9tZXJnZV9kb3duOm4oYixcImRvd25cIiwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9zcGxpdF92ZXJ0aWNhbDpyKGIsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfc3BsaXRfaG9yaXpvbnRhbDpwKGIsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfcHJvcGVydGllczowPGQubGVuZ3RoP0NLRURJVE9SLlRSSVNUQVRFX09GRjpcbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfX19LHRhYmxlY2VsbF9pbnNlcnRCZWZvcmU6e2xhYmVsOnYuY2VsbC5pbnNlcnRCZWZvcmUsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbEluc2VydEJlZm9yZVwiLG9yZGVyOjV9LHRhYmxlY2VsbF9pbnNlcnRBZnRlcjp7bGFiZWw6di5jZWxsLmluc2VydEFmdGVyLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxJbnNlcnRBZnRlclwiLG9yZGVyOjEwfSx0YWJsZWNlbGxfZGVsZXRlOntsYWJlbDp2LmNlbGwuZGVsZXRlQ2VsbCxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsRGVsZXRlXCIsb3JkZXI6MTV9LHRhYmxlY2VsbF9tZXJnZTp7bGFiZWw6di5jZWxsLm1lcmdlLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxNZXJnZVwiLG9yZGVyOjE2fSx0YWJsZWNlbGxfbWVyZ2VfcmlnaHQ6e2xhYmVsOnYuY2VsbC5tZXJnZVJpZ2h0LGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxNZXJnZVJpZ2h0XCIsXG5vcmRlcjoxN30sdGFibGVjZWxsX21lcmdlX2Rvd246e2xhYmVsOnYuY2VsbC5tZXJnZURvd24sZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbE1lcmdlRG93blwiLG9yZGVyOjE4fSx0YWJsZWNlbGxfc3BsaXRfaG9yaXpvbnRhbDp7bGFiZWw6di5jZWxsLnNwbGl0SG9yaXpvbnRhbCxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsSG9yaXpvbnRhbFNwbGl0XCIsb3JkZXI6MTl9LHRhYmxlY2VsbF9zcGxpdF92ZXJ0aWNhbDp7bGFiZWw6di5jZWxsLnNwbGl0VmVydGljYWwsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbFZlcnRpY2FsU3BsaXRcIixvcmRlcjoyMH0sdGFibGVjZWxsX3Byb3BlcnRpZXM6e2xhYmVsOnYuY2VsbC50aXRsZSxncm91cDpcInRhYmxlY2VsbHByb3BlcnRpZXNcIixjb21tYW5kOlwiY2VsbFByb3BlcnRpZXNcIixvcmRlcjoyMX0sdGFibGVyb3c6e2xhYmVsOnYucm93Lm1lbnUsZ3JvdXA6XCJ0YWJsZXJvd1wiLG9yZGVyOjEsZ2V0SXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm57dGFibGVyb3dfaW5zZXJ0QmVmb3JlOkNLRURJVE9SLlRSSVNUQVRFX09GRixcbnRhYmxlcm93X2luc2VydEFmdGVyOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZXJvd19kZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX19LHRhYmxlcm93X2luc2VydEJlZm9yZTp7bGFiZWw6di5yb3cuaW5zZXJ0QmVmb3JlLGdyb3VwOlwidGFibGVyb3dcIixjb21tYW5kOlwicm93SW5zZXJ0QmVmb3JlXCIsb3JkZXI6NX0sdGFibGVyb3dfaW5zZXJ0QWZ0ZXI6e2xhYmVsOnYucm93Lmluc2VydEFmdGVyLGdyb3VwOlwidGFibGVyb3dcIixjb21tYW5kOlwicm93SW5zZXJ0QWZ0ZXJcIixvcmRlcjoxMH0sdGFibGVyb3dfZGVsZXRlOntsYWJlbDp2LnJvdy5kZWxldGVSb3csZ3JvdXA6XCJ0YWJsZXJvd1wiLGNvbW1hbmQ6XCJyb3dEZWxldGVcIixvcmRlcjoxNX0sdGFibGVjb2x1bW46e2xhYmVsOnYuY29sdW1uLm1lbnUsZ3JvdXA6XCJ0YWJsZWNvbHVtblwiLG9yZGVyOjEsZ2V0SXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm57dGFibGVjb2x1bW5faW5zZXJ0QmVmb3JlOkNLRURJVE9SLlRSSVNUQVRFX09GRixcbnRhYmxlY29sdW1uX2luc2VydEFmdGVyOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNvbHVtbl9kZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX19LHRhYmxlY29sdW1uX2luc2VydEJlZm9yZTp7bGFiZWw6di5jb2x1bW4uaW5zZXJ0QmVmb3JlLGdyb3VwOlwidGFibGVjb2x1bW5cIixjb21tYW5kOlwiY29sdW1uSW5zZXJ0QmVmb3JlXCIsb3JkZXI6NX0sdGFibGVjb2x1bW5faW5zZXJ0QWZ0ZXI6e2xhYmVsOnYuY29sdW1uLmluc2VydEFmdGVyLGdyb3VwOlwidGFibGVjb2x1bW5cIixjb21tYW5kOlwiY29sdW1uSW5zZXJ0QWZ0ZXJcIixvcmRlcjoxMH0sdGFibGVjb2x1bW5fZGVsZXRlOntsYWJlbDp2LmNvbHVtbi5kZWxldGVDb2x1bW4sZ3JvdXA6XCJ0YWJsZWNvbHVtblwiLGNvbW1hbmQ6XCJjb2x1bW5EZWxldGVcIixvcmRlcjoxNX19KTtjLmNvbnRleHRNZW51JiZjLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4oYT1jLmNvbnRhaW5zKHt0ZDoxLHRoOjF9LFxuMSkpJiYhYS5pc1JlYWRPbmx5KCk/e3RhYmxlY2VsbDpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVyb3c6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY29sdW1uOkNLRURJVE9SLlRSSVNUQVRFX09GRn06bnVsbH0pfSxnZXRDZWxsQ29sSW5kZXg6YyxpbnNlcnRSb3c6ZSxpbnNlcnRDb2x1bW46bCxnZXRTZWxlY3RlZENlbGxzOmF9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidGFibGV0b29sc1wiLENLRURJVE9SLnBsdWdpbnMudGFibGV0b29scyl9KCksQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcD1mdW5jdGlvbihhLGUsYixjLGQpe2E9YS4kLnJvd3M7Yj1ifHwwO2M9XCJudW1iZXJcIj09PXR5cGVvZiBjP2M6YS5sZW5ndGgtMTtkPVwibnVtYmVyXCI9PT10eXBlb2YgZD9kOi0xO3ZhciBsPS0xLGs9W107Zm9yKGU9ZXx8MDtlPD1jO2UrKyl7bCsrOyFrW2xdJiYoa1tsXT1bXSk7Zm9yKHZhciBnPS0xLGg9YjtoPD0oLTE9PT1kP2FbZV0uY2VsbHMubGVuZ3RoLTE6ZCk7aCsrKXt2YXIgbT1cbmFbZV0uY2VsbHNbaF07aWYoIW0pYnJlYWs7Zm9yKGcrKztrW2xdW2ddOylnKys7Zm9yKHZhciBmPWlzTmFOKG0uY29sU3Bhbik/MTptLmNvbFNwYW4sbT1pc05hTihtLnJvd1NwYW4pPzE6bS5yb3dTcGFuLG49MDtuPG0mJiEoZStuPmMpO24rKyl7a1tsK25dfHwoa1tsK25dPVtdKTtmb3IodmFyIHA9MDtwPGY7cCsrKWtbbCtuXVtnK3BdPWFbZV0uY2VsbHNbaF19Zys9Zi0xO2lmKC0xIT09ZCYmZz49ZClicmVha319cmV0dXJuIGt9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gQ0tFRElUT1IucGx1Z2lucy53aWRnZXQmJkNLRURJVE9SLnBsdWdpbnMud2lkZ2V0LmlzRG9tV2lkZ2V0KGEpfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz1hLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGQ9Yi5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxlPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoYyksZj1tKGEpLGc9bShiKSxoPVtdLGs9e30sbCxuO2MuY29udGFpbnMoZCkmJihiPWIuZ2V0QXNjZW5kYW50KHt0ZDoxLFxudGg6MX0pLGc9bShiKSk7Zj5nJiYoYz1mLGY9ZyxnPWMsYz1hLGE9YixiPWMpO2ZvcihjPTA7YzxlW2ZdLmxlbmd0aDtjKyspaWYoYS4kPT09ZVtmXVtjXSl7bD1jO2JyZWFrfWZvcihjPTA7YzxlW2ddLmxlbmd0aDtjKyspaWYoYi4kPT09ZVtnXVtjXSl7bj1jO2JyZWFrfWw+biYmKGM9bCxsPW4sbj1jKTtmb3IoYz1mO2M8PWc7YysrKWZvcihmPWw7Zjw9bjtmKyspZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZVtjXVtmXSksZC4kJiYhZC5nZXRDdXN0b21EYXRhKFwic2VsZWN0ZWRfY2VsbFwiKSYmKGgucHVzaChkKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoayxkLFwic2VsZWN0ZWRfY2VsbFwiLCEwKSk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGspO3JldHVybiBofWZ1bmN0aW9uIGIoYSl7aWYoYSlyZXR1cm4gYT1hLmNsb25lKCksYS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCksKGE9YS5nZXRFbmNsb3NlZE5vZGUoKSkmJmEuaXMmJlxuYS5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4oYT1hLmVkaXRhYmxlKCkuZmluZE9uZShcIi5ja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uXCIpKSYmYS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKX1mdW5jdGlvbiBkKGEsYil7dmFyIGM9YS5lZGl0YWJsZSgpLmZpbmQoXCIuY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvblwiKSxkO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTthLmVkaXRhYmxlKCkucmVtb3ZlQ2xhc3MoXCJja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uLWVkaXRvclwiKTtmb3IoZD0wO2Q8Yy5jb3VudCgpO2QrKyljLmdldEl0ZW0oZCkucmVtb3ZlQ2xhc3MoXCJja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uXCIpOzA8Yy5jb3VudCgpJiZjLmdldEl0ZW0oMCkuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuZGF0YShcImNrZS10YWJsZS1mYWtlZC1zZWxlY3Rpb24tdGFibGVcIiwhMSk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7YiYmKHE9e2FjdGl2ZTohMX0sXG5hLmdldFNlbGVjdGlvbigpLmlzSW5UYWJsZSgpJiZhLmdldFNlbGVjdGlvbigpLnJlc2V0KCkpfWZ1bmN0aW9uIGwoYSxiKXt2YXIgYz1bXSxkLGU7Zm9yKGU9MDtlPGIubGVuZ3RoO2UrKylkPWEuY3JlYXRlUmFuZ2UoKSxkLnNldFN0YXJ0QmVmb3JlKGJbZV0pLGQuc2V0RW5kQWZ0ZXIoYltlXSksYy5wdXNoKGQpO2EuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKGMpfWZ1bmN0aW9uIGsoYSl7dmFyIGI9YS5lZGl0YWJsZSgpLmZpbmQoXCIuY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvblwiKTsxPmIuY291bnQoKXx8KGI9ZShiLmdldEl0ZW0oMCksYi5nZXRJdGVtKGIuY291bnQoKS0xKSksbChhLGIpKX1mdW5jdGlvbiBnKGIsYyxmKXt2YXIgZz11KGIuZ2V0U2VsZWN0aW9uKCEwKSk7Yz1jLmlzKFwidGFibGVcIik/bnVsbDpjO3ZhciBoOyhoPXEuYWN0aXZlJiYhcS5maXJzdCkmJiEoaD1jKSYmKGg9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxoPTE8Zy5sZW5ndGh8fGhbMF0mJlxuIWhbMF0uY29sbGFwc2VkPyEwOiExKTtpZihoKXEuZmlyc3Q9Y3x8Z1swXSxxLmRpcnR5PWM/ITE6MSE9PWcubGVuZ3RoO2Vsc2UgaWYocS5hY3RpdmUmJmMmJnEuZmlyc3QuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuZXF1YWxzKGMuZ2V0QXNjZW5kYW50KFwidGFibGVcIikpKXtnPWUocS5maXJzdCxjKTtpZighcS5kaXJ0eSYmMT09PWcubGVuZ3RoJiYhYShmLmRhdGEuZ2V0VGFyZ2V0KCkpKXJldHVybiBkKGIsXCJtb3VzZXVwXCI9PT1mLm5hbWUpO3EuZGlydHk9ITA7cS5sYXN0PWM7bChiLGcpfX1mdW5jdGlvbiBoKGEpe3ZhciBiPShhPWEuZWRpdG9yfHxhLnNlbmRlci5lZGl0b3IpJiZhLmdldFNlbGVjdGlvbigpLGM9YiYmYi5nZXRSYW5nZXMoKXx8W10sZTtpZihiJiYoZChhKSxiLmlzSW5UYWJsZSgpJiZiLmlzRmFrZSkpezE9PT1jLmxlbmd0aCYmY1swXS5fZ2V0VGFibGVFbGVtZW50KCkmJmNbMF0uX2dldFRhYmxlRWxlbWVudCgpLmlzKFwidGFibGVcIikmJihlPWNbMF0uX2dldFRhYmxlRWxlbWVudCgpKTtcbmU9dShiLGUpO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtmb3IoYj0wO2I8ZS5sZW5ndGg7YisrKWVbYl0uYWRkQ2xhc3MoXCJja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uXCIpOzA8ZS5sZW5ndGgmJihhLmVkaXRhYmxlKCkuYWRkQ2xhc3MoXCJja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uLWVkaXRvclwiKSxlWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLmRhdGEoXCJja2UtdGFibGUtZmFrZWQtc2VsZWN0aW9uLXRhYmxlXCIsXCJcIikpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfX1mdW5jdGlvbiBtKGEpe3JldHVybiBhLmdldEFzY2VuZGFudChcInRyXCIsITApLiQucm93SW5kZXh9ZnVuY3Rpb24gZihiKXtmdW5jdGlvbiBlKGEsYil7cmV0dXJuIGEmJmI/YS5lcXVhbHMoYil8fGEuY29udGFpbnMoYil8fGIuY29udGFpbnMoYSl8fGEuZ2V0Q29tbW9uQW5jZXN0b3IoYikuaXModCk6ITF9ZnVuY3Rpb24gaChhKXtyZXR1cm4hYS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSYmYS5nZXREb2N1bWVudCgpLmVxdWFscyhsLmRvY3VtZW50KX1cbmZ1bmN0aW9uIG0oYSxiLGMsZCl7cmV0dXJuKFwibW91c2Vkb3duXCIhPT1hLm5hbWV8fENLRURJVE9SLnRvb2xzLmdldE1vdXNlQnV0dG9uKGEpIT09Q0tFRElUT1IuTU9VU0VfQlVUVE9OX0xFRlQmJmQpJiYoXCJtb3VzZXVwXCIhPT1hLm5hbWV8fGgoYS5kYXRhLmdldFRhcmdldCgpKXx8ZShjLGQpKT8hMTohMH1pZihiLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0TmFtZSYmKFwibW91c2V1cFwiPT09Yi5uYW1lfHwhYShiLmRhdGEuZ2V0VGFyZ2V0KCkpKSl7dmFyIGw9Yi5lZGl0b3J8fGIubGlzdGVuZXJEYXRhLmVkaXRvcixuPWwuZ2V0U2VsZWN0aW9uKDEpLHA9YyhsKSx2PWIuZGF0YS5nZXRUYXJnZXQoKSxyPXYmJnYuZ2V0QXNjZW5kYW50KHt0ZDoxLHRoOjF9LCEwKSx2PXYmJnYuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksdD17dGFibGU6MSx0aGVhZDoxLHRib2R5OjEsdGZvb3Q6MSx0cjoxLHRkOjEsdGg6MX07bShiLG4scCx2KSYmZChsLCEwKTshcS5hY3RpdmUmJlwibW91c2Vkb3duXCI9PT1cbmIubmFtZSYmQ0tFRElUT1IudG9vbHMuZ2V0TW91c2VCdXR0b24oYik9PT1DS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVCYmdiYmKHE9e2FjdGl2ZTohMH0sQ0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsZixudWxsLHtlZGl0b3I6bH0pKTsocnx8dikmJmcobCxyfHx2LGIpO1wibW91c2V1cFwiPT09Yi5uYW1lJiYoQ0tFRElUT1IudG9vbHMuZ2V0TW91c2VCdXR0b24oYik9PT1DS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVCYmKGgoYi5kYXRhLmdldFRhcmdldCgpKXx8ZShwLHYpKSYmayhsKSxxPXthY3RpdmU6ITF9LENLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGYpKX19ZnVuY3Rpb24gbihhKXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0QXNjZW5kYW50KHt0ZDoxLHRoOjF9LCEwKTtiJiYhYi5oYXNDbGFzcyhcImNrZV90YWJsZS1mYWtlZC1zZWxlY3Rpb25cIikmJihhLmNhbmNlbCgpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX1mdW5jdGlvbiBwKGEsXG5iKXtmdW5jdGlvbiBjKGEpe2EuY2FuY2VsKCl9dmFyIGQ9YS5nZXRTZWxlY3Rpb24oKSxlPWQuY3JlYXRlQm9va21hcmtzKCksZj1hLmRvY3VtZW50LGc9YS5jcmVhdGVSYW5nZSgpLGg9Zi5nZXREb2N1bWVudEVsZW1lbnQoKS4kLGs9Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uLG09YS5ibG9ja2xlc3N8fENLRURJVE9SLmVudi5pZT9cInNwYW5cIjpcImRpdlwiLGwsbixwLHY7Zi5nZXRCeUlkKFwiY2tlX3RhYmxlX2NvcHliaW5cIil8fChsPWYuY3JlYXRlRWxlbWVudChtKSxuPWYuY3JlYXRlRWxlbWVudChtKSxuLnNldEF0dHJpYnV0ZXMoe2lkOlwiY2tlX3RhYmxlX2NvcHliaW5cIixcImRhdGEtY2tlLXRlbXBcIjpcIjFcIn0pLGwuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6XCIxcHhcIixoZWlnaHQ6XCIxcHhcIixvdmVyZmxvdzpcImhpZGRlblwifSksbC5zZXRTdHlsZShcImx0clwiPT1hLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XCJsZWZ0XCI6XCJyaWdodFwiLFxuXCItNTAwMHB4XCIpLGwuc2V0SHRtbChhLmdldFNlbGVjdGVkSHRtbCghMCkpLGEuZmlyZShcImxvY2tTbmFwc2hvdFwiKSxuLmFwcGVuZChsKSxhLmVkaXRhYmxlKCkuYXBwZW5kKG4pLHY9YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGMsbnVsbCxudWxsLDApLGsmJihwPWguc2Nyb2xsVG9wKSxnLnNlbGVjdE5vZGVDb250ZW50cyhsKSxnLnNlbGVjdCgpLGsmJihoLnNjcm9sbFRvcD1wKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5yZW1vdmUoKTtkLnNlbGVjdEJvb2ttYXJrcyhlKTt2LnJlbW92ZUxpc3RlbmVyKCk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7YiYmKGEuZXh0cmFjdFNlbGVjdGVkSHRtbCgpLGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSl9LDEwMCkpfWZ1bmN0aW9uIHIoYSl7dmFyIGI9YS5lZGl0b3J8fGEuc2VuZGVyLmVkaXRvcjtiLmdldFNlbGVjdGlvbigpLmlzSW5UYWJsZSgpJiZwKGIsXCJjdXRcIj09PWEubmFtZSl9ZnVuY3Rpb24gdihhKXt0aGlzLl9yZXNldCgpO2EmJnRoaXMuc2V0U2VsZWN0ZWRDZWxscyhhKX1cbmZ1bmN0aW9uIHgoYSxiLGMpe2Eub24oXCJiZWZvcmVDb21tYW5kRXhlY1wiLGZ1bmN0aW9uKGMpey0xIT09Q0tFRElUT1IudG9vbHMuYXJyYXkuaW5kZXhPZihiLGMuZGF0YS5uYW1lKSYmKGMuZGF0YS5zZWxlY3RlZENlbGxzPXUoYS5nZXRTZWxlY3Rpb24oKSkpfSk7YS5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihkKXstMSE9PUNLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2YoYixkLmRhdGEubmFtZSkmJmMoYSxkLmRhdGEpfSl9dmFyIHE9e2FjdGl2ZTohMX0sdCx1LEEseix3O3YucHJvdG90eXBlPXt9O3YucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe3RoaXMuY2VsbHM9e2ZpcnN0Om51bGwsbGFzdDpudWxsLGFsbDpbXX07dGhpcy5yb3dzPXtmaXJzdDpudWxsLGxhc3Q6bnVsbH19O3YucHJvdG90eXBlLnNldFNlbGVjdGVkQ2VsbHM9ZnVuY3Rpb24oYSl7dGhpcy5fcmVzZXQoKTthPWEuc2xpY2UoMCk7dGhpcy5fYXJyYXlTb3J0QnlET01PcmRlcihhKTt0aGlzLmNlbGxzLmFsbD1cbmE7dGhpcy5jZWxscy5maXJzdD1hWzBdO3RoaXMuY2VsbHMubGFzdD1hW2EubGVuZ3RoLTFdO3RoaXMucm93cy5maXJzdD1hWzBdLmdldEFzY2VuZGFudChcInRyXCIpO3RoaXMucm93cy5sYXN0PXRoaXMuY2VsbHMubGFzdC5nZXRBc2NlbmRhbnQoXCJ0clwiKX07di5wcm90b3R5cGUuZ2V0VGFibGVNYXA9ZnVuY3Rpb24oKXt2YXIgYT1BKHRoaXMuY2VsbHMuZmlyc3QpLGI7YTp7Yj10aGlzLmNlbGxzLmxhc3Q7dmFyIGM9Yi5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxkPW0oYiksYz1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGMpLGU7Zm9yKGU9MDtlPGNbZF0ubGVuZ3RoO2UrKylpZigobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGNbZF1bZV0pKS5lcXVhbHMoYikpe2I9ZTticmVhayBhfWI9dm9pZCAwfXJldHVybiBDS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKHRoaXMuX2dldFRhYmxlKCksbSh0aGlzLnJvd3MuZmlyc3QpLGEsbSh0aGlzLnJvd3MubGFzdCksYil9O3YucHJvdG90eXBlLl9nZXRUYWJsZT1cbmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm93cy5maXJzdC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKX07di5wcm90b3R5cGUuaW5zZXJ0Um93PWZ1bmN0aW9uKGEsYixjKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEpYT0xO2Vsc2UgaWYoMD49YSlyZXR1cm47Zm9yKHZhciBkPXRoaXMuY2VsbHMuZmlyc3QuJC5jZWxsSW5kZXgsZT10aGlzLmNlbGxzLmxhc3QuJC5jZWxsSW5kZXgsZj1jP1tdOnRoaXMuY2VsbHMuYWxsLGcsaD0wO2g8YTtoKyspZz16KGM/dGhpcy5jZWxscy5hbGw6ZixiKSxnPUNLRURJVE9SLnRvb2xzLmFycmF5LmZpbHRlcihnLmZpbmQoXCJ0ZCwgdGhcIikudG9BcnJheSgpLGZ1bmN0aW9uKGEpe3JldHVybiBjPyEwOmEuJC5jZWxsSW5kZXg+PWQmJmEuJC5jZWxsSW5kZXg8PWV9KSxmPWI/Zy5jb25jYXQoZik6Zi5jb25jYXQoZyk7dGhpcy5zZXRTZWxlY3RlZENlbGxzKGYpfTt2LnByb3RvdHlwZS5pbnNlcnRDb2x1bW49ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthPVxubShhKTtyZXR1cm4gYT49ZSYmYTw9Zn1pZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEpYT0xO2Vsc2UgaWYoMD49YSlyZXR1cm47Zm9yKHZhciBjPXRoaXMuY2VsbHMsZD1jLmFsbCxlPW0oYy5maXJzdCksZj1tKGMubGFzdCksYz0wO2M8YTtjKyspZD1kLmNvbmNhdChDS0VESVRPUi50b29scy5hcnJheS5maWx0ZXIodyhkKSxiKSk7dGhpcy5zZXRTZWxlY3RlZENlbGxzKGQpfTt2LnByb3RvdHlwZS5lbXB0eUNlbGxzPWZ1bmN0aW9uKGEpe2E9YXx8dGhpcy5jZWxscy5hbGw7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5zZXRIdG1sKFwiXCIpfTt2LnByb3RvdHlwZS5fYXJyYXlTb3J0QnlET01PcmRlcj1mdW5jdGlvbihhKXthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRQb3NpdGlvbihiKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc/LTE6MX0pfTt2YXIgQz17b25QYXN0ZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe3JldHVybiBNYXRoLm1heC5hcHBseShudWxsLFxuQ0tFRElUT1IudG9vbHMuYXJyYXkubWFwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RofSwwKSl9ZnVuY3Rpb24gZChhKXt2YXIgYj1mLmNyZWF0ZVJhbmdlKCk7Yi5zZWxlY3ROb2RlQ29udGVudHMoYSk7Yi5zZWxlY3QoKX12YXIgZj1hLmVkaXRvcixnPWYuZ2V0U2VsZWN0aW9uKCksaD11KGcpLGs9dGhpcy5maW5kVGFibGVJblBhc3RlZENvbnRlbnQoZixhLmRhdGEuZGF0YVZhbHVlKSxtPWcuaXNJblRhYmxlKCEwKSYmdGhpcy5pc0JvdW5kYXJ5U2VsZWN0aW9uKGcpLG4scDshaC5sZW5ndGh8fDE9PT1oLmxlbmd0aCYmIWIoZy5nZXRSYW5nZXMoKVswXSkmJiFtfHxtJiYha3x8KGg9aFswXS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxuPW5ldyB2KHUoZyxoKSksZi5vbmNlKFwiYWZ0ZXJQYXN0ZVwiLGZ1bmN0aW9uKCl7dmFyIGE7aWYocCl7YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQocFswXVswXSk7dmFyIGI9cFtwLmxlbmd0aC0xXTthPWUoYSxuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYltiLmxlbmd0aC1cbjFdKSl9ZWxzZSBhPW4uY2VsbHMuYWxsO2woZixhKX0pLGs/KGEuc3RvcCgpLG0/KG4uaW5zZXJ0Um93KDEsMT09PW0sITApLGcuc2VsZWN0RWxlbWVudChuLnJvd3MuZmlyc3QpKToobi5lbXB0eUNlbGxzKCksbChmLG4uY2VsbHMuYWxsKSksYT1uLmdldFRhYmxlTWFwKCkscD1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGspLG4uaW5zZXJ0Um93KHAubGVuZ3RoLWEubGVuZ3RoKSxuLmluc2VydENvbHVtbihjKHApLWMoYSkpLGE9bi5nZXRUYWJsZU1hcCgpLHRoaXMucGFzdGVUYWJsZShuLGEscCksZi5maXJlKFwic2F2ZVNuYXBzaG90XCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmZpcmUoXCJhZnRlclBhc3RlXCIpfSwwKSk6KGQobi5jZWxscy5maXJzdCksZi5vbmNlKFwiYWZ0ZXJQYXN0ZVwiLGZ1bmN0aW9uKCl7Zi5maXJlKFwibG9ja1NuYXBzaG90XCIpO24uZW1wdHlDZWxscyhuLmNlbGxzLmFsbC5zbGljZSgxKSk7bChmLG4uY2VsbHMuYWxsKTtmLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKX0pKSl9LFxuaXNCb3VuZGFyeVNlbGVjdGlvbjpmdW5jdGlvbihhKXthPWEuZ2V0UmFuZ2VzKClbMF07dmFyIGI9YS5lbmRDb250YWluZXIuZ2V0QXNjZW5kYW50KFwidHJcIiwhMCk7aWYoYiYmYS5jb2xsYXBzZWQpe2lmKGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChiLENLRURJVE9SLlNUQVJUKSlyZXR1cm4gMTtpZihhLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixDS0VESVRPUi5FTkQpKXJldHVybiAyfXJldHVybiAwfSxmaW5kVGFibGVJblBhc3RlZENvbnRlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmRhdGFQcm9jZXNzb3IsZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJib2R5XCIpO2N8fChjPW5ldyBDS0VESVRPUi5odG1sRGF0YVByb2Nlc3NvcihhKSk7ZC5zZXRIdG1sKGMudG9IdG1sKGIpLHtmaXhGb3JCb2R5OiExfSk7cmV0dXJuIDE8ZC5nZXRDaGlsZENvdW50KCk/bnVsbDpkLmZpbmRPbmUoXCJ0YWJsZVwiKX0scGFzdGVUYWJsZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT1BKGEuY2VsbHMuZmlyc3QpLFxuZj1hLl9nZXRUYWJsZSgpLGc9e30saCxrLG0sbDtmb3IobT0wO208Yy5sZW5ndGg7bSsrKWZvcihoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLiQucm93c1thLnJvd3MuZmlyc3QuJC5yb3dJbmRleCttXSksbD0wO2w8Y1ttXS5sZW5ndGg7bCsrKWlmKGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGNbbV1bbF0pLGQ9YlttXSYmYlttXVtsXT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYlttXVtsXSk6bnVsbCxrJiYhay5nZXRDdXN0b21EYXRhKFwicHJvY2Vzc2VkXCIpKXtpZihkJiZkLmdldFBhcmVudCgpKWsucmVwbGFjZShkKTtlbHNlIGlmKDA9PT1sfHxjW21dW2wtMV0pKGQ9MCE9PWw/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGNbbV1bbC0xXSk6bnVsbCkmJmguZXF1YWxzKGQuZ2V0UGFyZW50KCkpP2suaW5zZXJ0QWZ0ZXIoZCk6MDxlP2guJC5jZWxsc1tlXT9rLmluc2VydEFmdGVyKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChoLiQuY2VsbHNbZV0pKTpoLmFwcGVuZChrKTpcbmguYXBwZW5kKGssITApO0NLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihnLGssXCJwcm9jZXNzZWRcIiwhMCl9ZWxzZSBrLmdldEN1c3RvbURhdGEoXCJwcm9jZXNzZWRcIikmJmQmJmQucmVtb3ZlKCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGcpfX07Q0tFRElUT1IucGx1Z2lucy50YWJsZXNlbGVjdGlvbj17Z2V0Q2VsbHNCZXR3ZWVuOmUsa2V5Ym9hcmRJbnRlZ3JhdGlvbjpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBjPWEuZ2V0RW5jbG9zZWROb2RlKCk7YyYmYy5pcyh7dGQ6MSx0aDoxfSk/YS5nZXRFbmNsb3NlZE5vZGUoKS5zZXRUZXh0KFwiXCIpOmEuZGVsZXRlQ29udGVudHMoKTtDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGEuX2ZpbmQoXCJ0ZFwiKSxmdW5jdGlvbihhKXthLmFwcGVuZEJvZ3VzKCl9KX12YXIgYz1hLmVkaXRhYmxlKCk7Yy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYixkKXtpZighZC5sZW5ndGgpcmV0dXJuIG51bGw7XG52YXIgZj1hLmNyZWF0ZVJhbmdlKCksZz1DS0VESVRPUi5kb20ucmFuZ2UubWVyZ2VSYW5nZXMoZCk7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChnLGZ1bmN0aW9uKGEpe2EuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQpfSk7dmFyIGg9Z1swXS5nZXRCb3VuZGFyeU5vZGVzKCksaz1oLnN0YXJ0Tm9kZSxoPWguZW5kTm9kZTtpZihrJiZrLmlzJiZrLmlzKGUpKXtmb3IodmFyIG09ay5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxsPWsuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCxtKSxuPSExLHA9ZnVuY3Rpb24oYSl7cmV0dXJuIWsuY29udGFpbnMoYSkmJmEuaXMmJmEuaXMoXCJ0ZFwiLFwidGhcIil9O2wmJiFwKGwpOylsPWwuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCxtKTshbCYmaCYmaC5pcyYmIWguaXMoXCJ0YWJsZVwiKSYmaC5nZXROZXh0KCkmJihsPWguZ2V0TmV4dCgpLmZpbmRPbmUoXCJ0ZCwgdGhcIiksXG5uPSEwKTtpZihsKWZbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhuP1wiU3RhcnRcIjpcIkVuZFwiKV0obCk7ZWxzZSBmLnNldFN0YXJ0QmVmb3JlKGsuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCkpLGYuY29sbGFwc2UoITApO2dbMF0uZGVsZXRlQ29udGVudHMoKTtyZXR1cm5bZl19aWYoaylyZXR1cm4gZi5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihrKSxbZl19dmFyIGQ9ezM3OjEsMzg6MSwzOToxLDQwOjEsODoxLDQ2OjF9LGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt0YWJsZToxfSxDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCk7ZGVsZXRlIGUudGQ7ZGVsZXRlIGUudGg7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBmPWUuZGF0YS5nZXRLZXkoKSxnLGg9Mzc9PT1mfHwzOD09ZixrLG0sbDtpZihkW2ZdJiYoZz1hLmdldFNlbGVjdGlvbigpKSYmZy5pc0luVGFibGUoKSYmZy5pc0Zha2UpaWYoaz1nLmdldFJhbmdlcygpLG09a1swXS5fZ2V0VGFibGVFbGVtZW50KCksbD1rW2subGVuZ3RoLVxuMV0uX2dldFRhYmxlRWxlbWVudCgpLGUuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLGUuY2FuY2VsKCksODxmJiY0Nj5mKWtbMF0ubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oaD9tOmwsIWgpLGcuc2VsZWN0UmFuZ2VzKFtrWzBdXSk7ZWxzZXtmb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKWIoa1tlXSk7KGU9YyhtLGspKT9rPWU6a1swXS5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihtKTtnLnNlbGVjdFJhbmdlcyhrKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9fX0oYSksbnVsbCxudWxsLC0xKTtjLmF0dGFjaExpc3RlbmVyKGMsXCJrZXlwcmVzc1wiLGZ1bmN0aW9uKGMpe3ZhciBkPWEuZ2V0U2VsZWN0aW9uKCksZT1jLmRhdGEuJC5jaGFyQ29kZXx8MTM9PT1jLmRhdGEuZ2V0S2V5KCksZjtpZihkJiZkLmlzSW5UYWJsZSgpJiZkLmlzRmFrZSYmZSYmIShjLmRhdGEuZ2V0S2V5c3Ryb2tlKCkmQ0tFRElUT1IuQ1RSTCkpe2M9ZC5nZXRSYW5nZXMoKTtlPWNbMF0uZ2V0RW5jbG9zZWROb2RlKCkuZ2V0QXNjZW5kYW50KHt0ZDoxLFxudGg6MX0sITApO2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspYihjW2ZdKTtlJiYoY1swXS5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihlKSxkLnNlbGVjdFJhbmdlcyhbY1swXV0pKX19LG51bGwsbnVsbCwtMSl9LGlzU3VwcG9ydGVkRW52aXJvbm1lbnQ6IShDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uKX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0YWJsZXNlbGVjdGlvblwiLHtyZXF1aXJlczpcImNsaXBib2FyZCx0YWJsZXRvb2xzXCIsb25Mb2FkOmZ1bmN0aW9uKCl7dD1DS0VESVRPUi5wbHVnaW5zLnRhYmxldG9vbHM7dT10LmdldFNlbGVjdGVkQ2VsbHM7QT10LmdldENlbGxDb2xJbmRleDt6PXQuaW5zZXJ0Um93O3c9dC5pbnNlcnRDb2x1bW47Q0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldCh0aGlzLnBhdGgrXCJzdHlsZXMvdGFibGVzZWxlY3Rpb24uY3NzXCIpfSxpbml0OmZ1bmN0aW9uKGEpe0NLRURJVE9SLnBsdWdpbnMudGFibGVzZWxlY3Rpb24uaXNTdXBwb3J0ZWRFbnZpcm9ubWVudCYmXG4oYS5hZGRDb250ZW50c0NzcyYmYS5hZGRDb250ZW50c0Nzcyh0aGlzLnBhdGgrXCJzdHlsZXMvdGFibGVzZWxlY3Rpb24uY3NzXCIpLGEub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXt2YXIgYj1hLmVkaXRhYmxlKCksYz1iLmlzSW5saW5lKCk/YjphLmRvY3VtZW50LGQ9e2VkaXRvcjphfTtiLmF0dGFjaExpc3RlbmVyKGMsXCJtb3VzZWRvd25cIixmLG51bGwsZCk7Yi5hdHRhY2hMaXN0ZW5lcihjLFwibW91c2Vtb3ZlXCIsZixudWxsLGQpO2IuYXR0YWNoTGlzdGVuZXIoYyxcIm1vdXNldXBcIixmLG51bGwsZCk7Yi5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ3N0YXJ0XCIsbik7Yi5hdHRhY2hMaXN0ZW5lcihhLFwic2VsZWN0aW9uQ2hlY2tcIixoKTtDS0VESVRPUi5wbHVnaW5zLnRhYmxlc2VsZWN0aW9uLmtleWJvYXJkSW50ZWdyYXRpb24oYSk7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQmJiFDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQmJihiLmF0dGFjaExpc3RlbmVyKGIsXG5cImN1dFwiLHIpLGIuYXR0YWNoTGlzdGVuZXIoYixcImNvcHlcIixyKSl9KSxhLm9uKFwicGFzdGVcIixDLm9uUGFzdGUsQykseChhLFwicm93SW5zZXJ0QmVmb3JlIHJvd0luc2VydEFmdGVyIGNvbHVtbkluc2VydEJlZm9yZSBjb2x1bW5JbnNlcnRBZnRlciBjZWxsSW5zZXJ0QmVmb3JlIGNlbGxJbnNlcnRBZnRlclwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe2woYSxiLnNlbGVjdGVkQ2VsbHMpfSkseChhLFtcImNlbGxNZXJnZVwiLFwiY2VsbE1lcmdlUmlnaHRcIixcImNlbGxNZXJnZURvd25cIl0sZnVuY3Rpb24oYSxiKXtsKGEsW2IuY29tbWFuZERhdGEuY2VsbF0pfSkseChhLFtcImNlbGxEZWxldGVcIl0sZnVuY3Rpb24oYSl7ZChhLCEwKX0pKX19KX0oKSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe3ZhciBhPVtDS0VESVRPUi5DVFJMKzkwLENLRURJVE9SLkNUUkwrODksQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs5MF0sZT17ODoxLDQ2OjF9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidW5kb1wiLFxue2luaXQ6ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZChhKXtmLmVuYWJsZWQmJiExIT09YS5kYXRhLmNvbW1hbmQuY2FuVW5kbyYmZi5zYXZlKCl9ZnVuY3Rpb24gZSgpe2YuZW5hYmxlZD1jLnJlYWRPbmx5PyExOlwid3lzaXd5Z1wiPT1jLm1vZGU7Zi5vbkNoYW5nZSgpfXZhciBmPWMudW5kb01hbmFnZXI9bmV3IGIoYyksaz1mLmVkaXRpbmdIYW5kbGVyPW5ldyBsKGYpLHA9Yy5hZGRDb21tYW5kKFwidW5kb1wiLHtleGVjOmZ1bmN0aW9uKCl7Zi51bmRvKCkmJihjLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyVW5kb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pLHI9Yy5hZGRDb21tYW5kKFwicmVkb1wiLHtleGVjOmZ1bmN0aW9uKCl7Zi5yZWRvKCkmJihjLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyUmVkb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pO2Muc2V0S2V5c3Ryb2tlKFtbYVswXSxcInVuZG9cIl0sW2FbMV0sXCJyZWRvXCJdLFthWzJdLFxuXCJyZWRvXCJdXSk7Zi5vbkNoYW5nZT1mdW5jdGlvbigpe3Auc2V0U3RhdGUoZi51bmRvYWJsZSgpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7ci5zZXRTdGF0ZShmLnJlZG9hYmxlKCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX07Yy5vbihcImJlZm9yZUNvbW1hbmRFeGVjXCIsZCk7Yy5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixkKTtjLm9uKFwic2F2ZVNuYXBzaG90XCIsZnVuY3Rpb24oYSl7Zi5zYXZlKGEuZGF0YSYmYS5kYXRhLmNvbnRlbnRPbmx5KX0pO2Mub24oXCJjb250ZW50RG9tXCIsay5hdHRhY2hMaXN0ZW5lcnMsayk7Yy5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbigpe2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0pO2Mub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oKXtcInd5c2l3eWdcIj09Yy5tb2RlJiZmLnNhdmUoITApfSk7Yy5vbihcIm1vZGVcIixlKTtjLm9uKFwicmVhZE9ubHlcIixlKTtcbmMudWkuYWRkQnV0dG9uJiYoYy51aS5hZGRCdXR0b24oXCJVbmRvXCIse2xhYmVsOmMubGFuZy51bmRvLnVuZG8sY29tbWFuZDpcInVuZG9cIix0b29sYmFyOlwidW5kbywxMFwifSksYy51aS5hZGRCdXR0b24oXCJSZWRvXCIse2xhYmVsOmMubGFuZy51bmRvLnJlZG8sY29tbWFuZDpcInJlZG9cIix0b29sYmFyOlwidW5kbywyMFwifSkpO2MucmVzZXRVbmRvPWZ1bmN0aW9uKCl7Zi5yZXNldCgpO2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKX07Yy5vbihcInVwZGF0ZVNuYXBzaG90XCIsZnVuY3Rpb24oKXtmLmN1cnJlbnRJbWFnZSYmZi51cGRhdGUoKX0pO2Mub24oXCJsb2NrU25hcHNob3RcIixmdW5jdGlvbihhKXthPWEuZGF0YTtmLmxvY2soYSYmYS5kb250VXBkYXRlLGEmJmEuZm9yY2VVcGRhdGUpfSk7Yy5vbihcInVubG9ja1NuYXBzaG90XCIsZi51bmxvY2ssZil9fSk7Q0tFRElUT1IucGx1Z2lucy51bmRvPXt9O3ZhciBiPUNLRURJVE9SLnBsdWdpbnMudW5kby5VbmRvTWFuYWdlcj1mdW5jdGlvbihhKXt0aGlzLnN0cm9rZXNSZWNvcmRlZD1cblswLDBdO3RoaXMubG9ja2VkPW51bGw7dGhpcy5wcmV2aW91c0tleUdyb3VwPS0xO3RoaXMubGltaXQ9YS5jb25maWcudW5kb1N0YWNrU2l6ZXx8MjA7dGhpcy5zdHJva2VzTGltaXQ9MjU7dGhpcy5lZGl0b3I9YTt0aGlzLnJlc2V0KCl9O2IucHJvdG90eXBlPXt0eXBlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yi5nZXRLZXlHcm91cChhKSxlPXRoaXMuc3Ryb2tlc1JlY29yZGVkW2RdKzE7Yz1jfHxlPj10aGlzLnN0cm9rZXNMaW1pdDt0aGlzLnR5cGluZ3x8KHRoaXMuaGFzVW5kbz10aGlzLnR5cGluZz0hMCx0aGlzLmhhc1JlZG89ITEsdGhpcy5vbkNoYW5nZSgpKTtjPyhlPTAsdGhpcy5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKSk6dGhpcy5lZGl0b3IuZmlyZShcImNoYW5nZVwiKTt0aGlzLnN0cm9rZXNSZWNvcmRlZFtkXT1lO3RoaXMucHJldmlvdXNLZXlHcm91cD1kfSxrZXlHcm91cENoYW5nZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuZ2V0S2V5R3JvdXAoYSkhPXRoaXMucHJldmlvdXNLZXlHcm91cH0sXG5yZXNldDpmdW5jdGlvbigpe3RoaXMuc25hcHNob3RzPVtdO3RoaXMuaW5kZXg9LTE7dGhpcy5jdXJyZW50SW1hZ2U9bnVsbDt0aGlzLmhhc1JlZG89dGhpcy5oYXNVbmRvPSExO3RoaXMubG9ja2VkPW51bGw7dGhpcy5yZXNldFR5cGUoKX0scmVzZXRUeXBlOmZ1bmN0aW9uKCl7dGhpcy5zdHJva2VzUmVjb3JkZWQ9WzAsMF07dGhpcy50eXBpbmc9ITE7dGhpcy5wcmV2aW91c0tleUdyb3VwPS0xfSxyZWZyZXNoU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLmhhc1VuZG89ISF0aGlzLmdldE5leHRJbWFnZSghMCk7dGhpcy5oYXNSZWRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITEpO3RoaXMucmVzZXRUeXBlKCk7dGhpcy5vbkNoYW5nZSgpfSxzYXZlOmZ1bmN0aW9uKGEsYixkKXt2YXIgZT10aGlzLmVkaXRvcjtpZih0aGlzLmxvY2tlZHx8XCJyZWFkeVwiIT1lLnN0YXR1c3x8XCJ3eXNpd3lnXCIhPWUubW9kZSlyZXR1cm4hMTt2YXIgaz1lLmVkaXRhYmxlKCk7aWYoIWt8fFwicmVhZHlcIiE9ay5zdGF0dXMpcmV0dXJuITE7XG5rPXRoaXMuc25hcHNob3RzO2J8fChiPW5ldyBjKGUpKTtpZighMT09PWIuY29udGVudHMpcmV0dXJuITE7aWYodGhpcy5jdXJyZW50SW1hZ2UpaWYoYi5lcXVhbHNDb250ZW50KHRoaXMuY3VycmVudEltYWdlKSl7aWYoYXx8Yi5lcXVhbHNTZWxlY3Rpb24odGhpcy5jdXJyZW50SW1hZ2UpKXJldHVybiExfWVsc2UhMSE9PWQmJmUuZmlyZShcImNoYW5nZVwiKTtrLnNwbGljZSh0aGlzLmluZGV4KzEsay5sZW5ndGgtdGhpcy5pbmRleC0xKTtrLmxlbmd0aD09dGhpcy5saW1pdCYmay5zaGlmdCgpO3RoaXMuaW5kZXg9ay5wdXNoKGIpLTE7dGhpcy5jdXJyZW50SW1hZ2U9YjshMSE9PWQmJnRoaXMucmVmcmVzaFN0YXRlKCk7cmV0dXJuITB9LHJlc3RvcmVJbWFnZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvcixjO2EuYm9va21hcmtzJiYoYi5mb2N1cygpLGM9Yi5nZXRTZWxlY3Rpb24oKSk7dGhpcy5sb2NrZWQ9e2xldmVsOjk5OX07dGhpcy5lZGl0b3IubG9hZFNuYXBzaG90KGEuY29udGVudHMpO1xuYS5ib29rbWFya3M/Yy5zZWxlY3RCb29rbWFya3MoYS5ib29rbWFya3MpOkNLRURJVE9SLmVudi5pZSYmKGM9dGhpcy5lZGl0b3IuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuY3JlYXRlVGV4dFJhbmdlKCksYy5jb2xsYXBzZSghMCksYy5zZWxlY3QoKSk7dGhpcy5sb2NrZWQ9bnVsbDt0aGlzLmluZGV4PWEuaW5kZXg7dGhpcy5jdXJyZW50SW1hZ2U9dGhpcy5zbmFwc2hvdHNbdGhpcy5pbmRleF07dGhpcy51cGRhdGUoKTt0aGlzLnJlZnJlc2hTdGF0ZSgpO2IuZmlyZShcImNoYW5nZVwiKX0sZ2V0TmV4dEltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc25hcHNob3RzLGM9dGhpcy5jdXJyZW50SW1hZ2UsZDtpZihjKWlmKGEpZm9yKGQ9dGhpcy5pbmRleC0xOzA8PWQ7ZC0tKXtpZihhPWJbZF0sIWMuZXF1YWxzQ29udGVudChhKSlyZXR1cm4gYS5pbmRleD1kLGF9ZWxzZSBmb3IoZD10aGlzLmluZGV4KzE7ZDxiLmxlbmd0aDtkKyspaWYoYT1iW2RdLCFjLmVxdWFsc0NvbnRlbnQoYSkpcmV0dXJuIGEuaW5kZXg9XG5kLGE7cmV0dXJuIG51bGx9LHJlZG9hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZCYmdGhpcy5oYXNSZWRvfSx1bmRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJnRoaXMuaGFzVW5kb30sdW5kbzpmdW5jdGlvbigpe2lmKHRoaXMudW5kb2FibGUoKSl7dGhpcy5zYXZlKCEwKTt2YXIgYT10aGlzLmdldE5leHRJbWFnZSghMCk7aWYoYSlyZXR1cm4gdGhpcy5yZXN0b3JlSW1hZ2UoYSksITB9cmV0dXJuITF9LHJlZG86ZnVuY3Rpb24oKXtpZih0aGlzLnJlZG9hYmxlKCkmJih0aGlzLnNhdmUoITApLHRoaXMucmVkb2FibGUoKSkpe3ZhciBhPXRoaXMuZ2V0TmV4dEltYWdlKCExKTtpZihhKXJldHVybiB0aGlzLnJlc3RvcmVJbWFnZShhKSwhMH1yZXR1cm4hMX0sdXBkYXRlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmxvY2tlZCl7YXx8KGE9bmV3IGModGhpcy5lZGl0b3IpKTtmb3IodmFyIGI9dGhpcy5pbmRleCxkPXRoaXMuc25hcHNob3RzOzA8YiYmdGhpcy5jdXJyZW50SW1hZ2UuZXF1YWxzQ29udGVudChkW2ItXG4xXSk7KS0tYjtkLnNwbGljZShiLHRoaXMuaW5kZXgtYisxLGEpO3RoaXMuaW5kZXg9Yjt0aGlzLmN1cnJlbnRJbWFnZT1hfX0sdXBkYXRlU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLnNuYXBzaG90cy5sZW5ndGgpcmV0dXJuITE7dmFyIGI9dGhpcy5zbmFwc2hvdHMsYz1iW2IubGVuZ3RoLTFdO3JldHVybiBjLmVxdWFsc0NvbnRlbnQoYSkmJiFjLmVxdWFsc1NlbGVjdGlvbihhKT8odGhpcy5jdXJyZW50SW1hZ2U9YltiLmxlbmd0aC0xXT1hLCEwKTohMX0sbG9jazpmdW5jdGlvbihhLGIpe2lmKHRoaXMubG9ja2VkKXRoaXMubG9ja2VkLmxldmVsKys7ZWxzZSBpZihhKXRoaXMubG9ja2VkPXtsZXZlbDoxfTtlbHNle3ZhciBkPW51bGw7aWYoYilkPSEwO2Vsc2V7dmFyIGU9bmV3IGModGhpcy5lZGl0b3IsITApO3RoaXMuY3VycmVudEltYWdlJiZ0aGlzLmN1cnJlbnRJbWFnZS5lcXVhbHNDb250ZW50KGUpJiYoZD1lKX10aGlzLmxvY2tlZD17dXBkYXRlOmQsbGV2ZWw6MX19fSxcbnVubG9jazpmdW5jdGlvbigpe2lmKHRoaXMubG9ja2VkJiYhLS10aGlzLmxvY2tlZC5sZXZlbCl7dmFyIGE9dGhpcy5sb2NrZWQudXBkYXRlO3RoaXMubG9ja2VkPW51bGw7aWYoITA9PT1hKXRoaXMudXBkYXRlKCk7ZWxzZSBpZihhKXt2YXIgYj1uZXcgYyh0aGlzLmVkaXRvciwhMCk7YS5lcXVhbHNDb250ZW50KGIpfHx0aGlzLnVwZGF0ZSgpfX19fTtiLm5hdmlnYXRpb25LZXlDb2Rlcz17Mzc6MSwzODoxLDM5OjEsNDA6MSwzNjoxLDM1OjEsMzM6MSwzNDoxfTtiLmtleUdyb3Vwcz17UFJJTlRBQkxFOjAsRlVOQ1RJT05BTDoxfTtiLmlzTmF2aWdhdGlvbktleT1mdW5jdGlvbihhKXtyZXR1cm4hIWIubmF2aWdhdGlvbktleUNvZGVzW2FdfTtiLmdldEtleUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBjPWIua2V5R3JvdXBzO3JldHVybiBlW2FdP2MuRlVOQ1RJT05BTDpjLlBSSU5UQUJMRX07Yi5nZXRPcHBvc2l0ZUtleUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBjPWIua2V5R3JvdXBzO3JldHVybiBhPT1cbmMuRlVOQ1RJT05BTD9jLlBSSU5UQUJMRTpjLkZVTkNUSU9OQUx9O2IuaWVGdW5jdGlvbmFsS2V5c0J1Zz1mdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiZiLmdldEtleUdyb3VwKGEpPT1iLmtleUdyb3Vwcy5GVU5DVElPTkFMfTt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLnVuZG8uSW1hZ2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmVkaXRvcj1hO2EuZmlyZShcImJlZm9yZVVuZG9JbWFnZVwiKTt2YXIgYz1hLmdldFNuYXBzaG90KCk7Q0tFRElUT1IuZW52LmllJiZjJiYoYz1jLnJlcGxhY2UoL1xccytkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKSk7dGhpcy5jb250ZW50cz1jO2J8fCh0aGlzLmJvb2ttYXJrcz0oYz1jJiZhLmdldFNlbGVjdGlvbigpKSYmYy5jcmVhdGVCb29rbWFya3MyKCEwKSk7YS5maXJlKFwiYWZ0ZXJVbmRvSW1hZ2VcIil9LGQ9L1xcYig/OmhyZWZ8c3JjfG5hbWUpPVwiW15cIl0qP1wiL2dpO2MucHJvdG90eXBlPXtlcXVhbHNDb250ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPVxudGhpcy5jb250ZW50czthPWEuY29udGVudHM7Q0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcykmJihiPWIucmVwbGFjZShkLFwiXCIpLGE9YS5yZXBsYWNlKGQsXCJcIikpO3JldHVybiBiIT1hPyExOiEwfSxlcXVhbHNTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ib29rbWFya3M7YT1hLmJvb2ttYXJrcztpZihifHxhKXtpZighYnx8IWF8fGIubGVuZ3RoIT1hLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXSxlPWFbY107aWYoZC5zdGFydE9mZnNldCE9ZS5zdGFydE9mZnNldHx8ZC5lbmRPZmZzZXQhPWUuZW5kT2Zmc2V0fHwhQ0tFRElUT1IudG9vbHMuYXJyYXlDb21wYXJlKGQuc3RhcnQsZS5zdGFydCl8fCFDS0VESVRPUi50b29scy5hcnJheUNvbXBhcmUoZC5lbmQsZS5lbmQpKXJldHVybiExfX1yZXR1cm4hMH19O3ZhciBsPUNLRURJVE9SLnBsdWdpbnMudW5kby5OYXRpdmVFZGl0aW5nSGFuZGxlcj1cbmZ1bmN0aW9uKGEpe3RoaXMudW5kb01hbmFnZXI9YTt0aGlzLmlnbm9yZUlucHV0RXZlbnQ9ITE7dGhpcy5rZXlFdmVudHNTdGFjaz1uZXcgazt0aGlzLmxhc3RLZXlkb3duSW1hZ2U9bnVsbH07bC5wcm90b3R5cGU9e29uS2V5ZG93bjpmdW5jdGlvbihkKXt2YXIgZT1kLmRhdGEuZ2V0S2V5KCk7aWYoMjI5IT09ZSlpZigtMTxDS0VESVRPUi50b29scy5pbmRleE9mKGEsZC5kYXRhLmdldEtleXN0cm9rZSgpKSlkLmRhdGEucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKHRoaXMua2V5RXZlbnRzU3RhY2suY2xlYW5VcChkKSxkPXRoaXMudW5kb01hbmFnZXIsdGhpcy5rZXlFdmVudHNTdGFjay5nZXRMYXN0KGUpfHx0aGlzLmtleUV2ZW50c1N0YWNrLnB1c2goZSksdGhpcy5sYXN0S2V5ZG93bkltYWdlPW5ldyBjKGQuZWRpdG9yKSxiLmlzTmF2aWdhdGlvbktleShlKXx8dGhpcy51bmRvTWFuYWdlci5rZXlHcm91cENoYW5nZWQoZSkpaWYoZC5zdHJva2VzUmVjb3JkZWRbMF18fGQuc3Ryb2tlc1JlY29yZGVkWzFdKWQuc2F2ZSghMSxcbnRoaXMubGFzdEtleWRvd25JbWFnZSwhMSksZC5yZXNldFR5cGUoKX0sb25JbnB1dDpmdW5jdGlvbigpe2lmKHRoaXMuaWdub3JlSW5wdXRFdmVudCl0aGlzLmlnbm9yZUlucHV0RXZlbnQ9ITE7ZWxzZXt2YXIgYT10aGlzLmtleUV2ZW50c1N0YWNrLmdldExhc3QoKTthfHwoYT10aGlzLmtleUV2ZW50c1N0YWNrLnB1c2goMCkpO3RoaXMua2V5RXZlbnRzU3RhY2suaW5jcmVtZW50KGEua2V5Q29kZSk7dGhpcy5rZXlFdmVudHNTdGFjay5nZXRUb3RhbElucHV0cygpPj10aGlzLnVuZG9NYW5hZ2VyLnN0cm9rZXNMaW1pdCYmKHRoaXMudW5kb01hbmFnZXIudHlwZShhLmtleUNvZGUsITApLHRoaXMua2V5RXZlbnRzU3RhY2sucmVzZXRJbnB1dHMoKSl9fSxvbktleXVwOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMudW5kb01hbmFnZXI7YT1hLmRhdGEuZ2V0S2V5KCk7dmFyIGU9dGhpcy5rZXlFdmVudHNTdGFjay5nZXRUb3RhbElucHV0cygpO3RoaXMua2V5RXZlbnRzU3RhY2sucmVtb3ZlKGEpO1xuaWYoIShiLmllRnVuY3Rpb25hbEtleXNCdWcoYSkmJnRoaXMubGFzdEtleWRvd25JbWFnZSYmdGhpcy5sYXN0S2V5ZG93bkltYWdlLmVxdWFsc0NvbnRlbnQobmV3IGMoZC5lZGl0b3IsITApKSkpaWYoMDxlKWQudHlwZShhKTtlbHNlIGlmKGIuaXNOYXZpZ2F0aW9uS2V5KGEpKXRoaXMub25OYXZpZ2F0aW9uS2V5KCEwKX0sb25OYXZpZ2F0aW9uS2V5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudW5kb01hbmFnZXI7IWEmJmIuc2F2ZSghMCxudWxsLCExKXx8Yi51cGRhdGVTZWxlY3Rpb24obmV3IGMoYi5lZGl0b3IpKTtiLnJlc2V0VHlwZSgpfSxpZ25vcmVJbnB1dEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZUlucHV0RXZlbnQ9ITB9LGFjdGl2YXRlSW5wdXRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSExfSxhdHRhY2hMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnVuZG9NYW5hZ2VyLmVkaXRvcixjPWEuZWRpdGFibGUoKSxcbmQ9dGhpcztjLmF0dGFjaExpc3RlbmVyKGMsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7ZC5vbktleWRvd24oYSk7aWYoYi5pZUZ1bmN0aW9uYWxLZXlzQnVnKGEuZGF0YS5nZXRLZXkoKSkpZC5vbklucHV0KCl9LG51bGwsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYyxDS0VESVRPUi5lbnYuaWU/XCJrZXlwcmVzc1wiOlwiaW5wdXRcIixkLm9uSW5wdXQsZCxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5dXBcIixkLm9uS2V5dXAsZCxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcihjLFwicGFzdGVcIixkLmlnbm9yZUlucHV0RXZlbnRMaXN0ZW5lcixkLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMsXCJkcm9wXCIsZC5pZ25vcmVJbnB1dEV2ZW50TGlzdGVuZXIsZCxudWxsLDk5OSk7YS5vbihcImFmdGVyUGFzdGVcIixkLmFjdGl2YXRlSW5wdXRFdmVudExpc3RlbmVyLGQsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYy5pc0lubGluZSgpP2M6YS5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKSxcblwiY2xpY2tcIixmdW5jdGlvbigpe2Qub25OYXZpZ2F0aW9uS2V5KCl9LG51bGwsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIodGhpcy51bmRvTWFuYWdlci5lZGl0b3IsXCJibHVyXCIsZnVuY3Rpb24oKXtkLmtleUV2ZW50c1N0YWNrLnJlbW92ZSg5KX0sbnVsbCxudWxsLDk5OSl9fTt2YXIgaz1DS0VESVRPUi5wbHVnaW5zLnVuZG8uS2V5RXZlbnRzU3RhY2s9ZnVuY3Rpb24oKXt0aGlzLnN0YWNrPVtdfTtrLnByb3RvdHlwZT17cHVzaDpmdW5jdGlvbihhKXthPXRoaXMuc3RhY2sucHVzaCh7a2V5Q29kZTphLGlucHV0czowfSk7cmV0dXJuIHRoaXMuc3RhY2tbYS0xXX0sZ2V0TGFzdEluZGV4OmZ1bmN0aW9uKGEpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBhKXJldHVybiB0aGlzLnN0YWNrLmxlbmd0aC0xO2Zvcih2YXIgYj10aGlzLnN0YWNrLmxlbmd0aDtiLS07KWlmKHRoaXMuc3RhY2tbYl0ua2V5Q29kZT09YSlyZXR1cm4gYjtyZXR1cm4tMX0sZ2V0TGFzdDpmdW5jdGlvbihhKXthPXRoaXMuZ2V0TGFzdEluZGV4KGEpO1xucmV0dXJuLTEhPWE/dGhpcy5zdGFja1thXTpudWxsfSxpbmNyZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5nZXRMYXN0KGEpLmlucHV0cysrfSxyZW1vdmU6ZnVuY3Rpb24oYSl7YT10aGlzLmdldExhc3RJbmRleChhKTstMSE9YSYmdGhpcy5zdGFjay5zcGxpY2UoYSwxKX0scmVzZXRJbnB1dHM6ZnVuY3Rpb24oYSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGEpdGhpcy5nZXRMYXN0KGEpLmlucHV0cz0wO2Vsc2UgZm9yKGE9dGhpcy5zdGFjay5sZW5ndGg7YS0tOyl0aGlzLnN0YWNrW2FdLmlucHV0cz0wfSxnZXRUb3RhbElucHV0czpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnN0YWNrLmxlbmd0aCxiPTA7YS0tOyliKz10aGlzLnN0YWNrW2FdLmlucHV0cztyZXR1cm4gYn0sY2xlYW5VcDpmdW5jdGlvbihhKXthPWEuZGF0YS4kO2EuY3RybEtleXx8YS5tZXRhS2V5fHx0aGlzLnJlbW92ZSgxNyk7YS5zaGlmdEtleXx8dGhpcy5yZW1vdmUoMTYpO2EuYWx0S2V5fHx0aGlzLnJlbW92ZSgxOCl9fX0oKSxcblwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLHtlZGl0b3I6YSxlZGl0YWJsZTphLmVkaXRhYmxlKCksZG9jOmEuZG9jdW1lbnQsd2luOmEud2luZG93fSxiLCEwKTt0aGlzLmlubGluZT10aGlzLmVkaXRhYmxlLmlzSW5saW5lKCk7dGhpcy5pbmxpbmV8fCh0aGlzLmZyYW1lPXRoaXMud2luLmdldEZyYW1lKCkpO3RoaXMudGFyZ2V0PXRoaXNbdGhpcy5pbmxpbmU/XCJlZGl0YWJsZVwiOlwiZG9jXCJdfWZ1bmN0aW9uIGUoYSxiKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiLHtlZGl0b3I6YX0sITApfWZ1bmN0aW9uIGIoYSxiKXt2YXIgYz1hLmVkaXRhYmxlKCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMse2VkaXRvcjphLGVkaXRhYmxlOmMsaW5saW5lOmMuaXNJbmxpbmUoKSxkb2M6YS5kb2N1bWVudCx3aW46YS53aW5kb3csY29udGFpbmVyOkNLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSx3aW5Ub3A6Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCl9LFxuYiwhMCk7dGhpcy5oaWRkZW49e307dGhpcy52aXNpYmxlPXt9O3RoaXMuaW5saW5lfHwodGhpcy5mcmFtZT10aGlzLndpbi5nZXRGcmFtZSgpKTt0aGlzLnF1ZXJ5Vmlld3BvcnQoKTt2YXIgZT1DS0VESVRPUi50b29scy5iaW5kKHRoaXMucXVlcnlWaWV3cG9ydCx0aGlzKSxnPUNLRURJVE9SLnRvb2xzLmJpbmQodGhpcy5oaWRlVmlzaWJsZSx0aGlzKSxrPUNLRURJVE9SLnRvb2xzLmJpbmQodGhpcy5yZW1vdmVBbGwsdGhpcyk7Yy5hdHRhY2hMaXN0ZW5lcih0aGlzLndpblRvcCxcInJlc2l6ZVwiLGUpO2MuYXR0YWNoTGlzdGVuZXIodGhpcy53aW5Ub3AsXCJzY3JvbGxcIixlKTtjLmF0dGFjaExpc3RlbmVyKHRoaXMud2luVG9wLFwicmVzaXplXCIsZyk7Yy5hdHRhY2hMaXN0ZW5lcih0aGlzLndpbixcInNjcm9sbFwiLGcpO2MuYXR0YWNoTGlzdGVuZXIodGhpcy5pbmxpbmU/Yzp0aGlzLmZyYW1lLFwibW91c2VvdXRcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuJC5jbGllbnRYO2E9YS5kYXRhLiQuY2xpZW50WTtcbnRoaXMucXVlcnlWaWV3cG9ydCgpOyhiPD10aGlzLnJlY3QubGVmdHx8Yj49dGhpcy5yZWN0LnJpZ2h0fHxhPD10aGlzLnJlY3QudG9wfHxhPj10aGlzLnJlY3QuYm90dG9tKSYmdGhpcy5oaWRlVmlzaWJsZSgpOygwPj1ifHxiPj10aGlzLndpblRvcFBhbmUud2lkdGh8fDA+PWF8fGE+PXRoaXMud2luVG9wUGFuZS5oZWlnaHQpJiZ0aGlzLmhpZGVWaXNpYmxlKCl9LHRoaXMpO2MuYXR0YWNoTGlzdGVuZXIoYSxcInJlc2l6ZVwiLGUpO2MuYXR0YWNoTGlzdGVuZXIoYSxcIm1vZGVcIixrKTthLm9uKFwiZGVzdHJveVwiLGspO3RoaXMubGluZVRwbD0obmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY2RpdiBkYXRhLWNrZS1saW5ldXRpbHMtbGluZVxceDNkXCIxXCIgY2xhc3NcXHgzZFwiY2tlX3Jlc2V0X2FsbFwiIHN0eWxlXFx4M2RcIntsaW5lU3R5bGV9XCJcXHgzZVxceDNjc3BhbiBzdHlsZVxceDNkXCJ7dGlwTGVmdFN0eWxlfVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIHN0eWxlXFx4M2RcInt0aXBSaWdodFN0eWxlfVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXFx4M2MvZGl2XFx4M2UnKSkub3V0cHV0KHtsaW5lU3R5bGU6Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxcbmwsdGhpcy5saW5lU3R5bGUsITApKSx0aXBMZWZ0U3R5bGU6Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxkLHtsZWZ0OlwiMHB4XCIsXCJib3JkZXItbGVmdC1jb2xvclwiOlwicmVkXCIsXCJib3JkZXItd2lkdGhcIjpcIjZweCAwIDZweCA2cHhcIn0sdGhpcy50aXBDc3MsdGhpcy50aXBMZWZ0U3R5bGUsITApKSx0aXBSaWdodFN0eWxlOkNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChDS0VESVRPUi50b29scy5leHRlbmQoe30sZCx7cmlnaHQ6XCIwcHhcIixcImJvcmRlci1yaWdodC1jb2xvclwiOlwicmVkXCIsXCJib3JkZXItd2lkdGhcIjpcIjZweCA2cHggNnB4IDBcIn0sdGhpcy50aXBDc3MsdGhpcy50aXBSaWdodFN0eWxlLCEwKSl9KX1mdW5jdGlvbiBjKGEpe3ZhciBiO2lmKGI9YSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpYj0hKGtbYS5nZXRDb21wdXRlZFN0eWxlKFwiZmxvYXRcIildfHxrW2EuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIildKTtyZXR1cm4gYiYmXG4hZ1thLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKV19Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaW5ldXRpbHNcIik7Q0tFRElUT1IuTElORVVUSUxTX0JFRk9SRT0xO0NLRURJVE9SLkxJTkVVVElMU19BRlRFUj0yO0NLRURJVE9SLkxJTkVVVElMU19JTlNJREU9NDthLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMuZWRpdG9yLGQ9dGhpcy5kb2MsZSxnLGssbCxxPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcig1MCxmdW5jdGlvbigpe2MucmVhZE9ubHl8fFwid3lzaXd5Z1wiIT1jLm1vZGV8fChiLnJlbGF0aW9ucz17fSwoZz1kLiQuZWxlbWVudEZyb21Qb2ludChrLGwpKSYmZy5ub2RlVHlwZSYmKGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGcpLGIudHJhdmVyc2VTZWFyY2goZSksaXNOYU4oaytsKXx8Yi5waXhlbFNlYXJjaChlLGssbCksYSYmYShiLnJlbGF0aW9ucyxrLGwpKSl9KTt0aGlzLmxpc3RlbmVyPXRoaXMuZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIodGhpcy50YXJnZXQsXG5cIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGEpe2s9YS5kYXRhLiQuY2xpZW50WDtsPWEuZGF0YS4kLmNsaWVudFk7cS5pbnB1dCgpfSk7dGhpcy5lZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcih0aGlzLmlubGluZT90aGlzLmVkaXRhYmxlOnRoaXMuZnJhbWUsXCJtb3VzZW91dFwiLGZ1bmN0aW9uKCl7cS5yZXNldCgpfSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmxpc3RlbmVyJiZ0aGlzLmxpc3RlbmVyLnJlbW92ZUxpc3RlbmVyKCl9LGdldFJhbmdlOmZ1bmN0aW9uKCl7dmFyIGE9e307YVtDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFXT1DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ7YVtDS0VESVRPUi5MSU5FVVRJTFNfQUZURVJdPUNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDthW0NLRURJVE9SLkxJTkVVVElMU19JTlNJREVdPUNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUO3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVkaXRvci5jcmVhdGVSYW5nZSgpO2MubW92ZVRvUG9zaXRpb24odGhpcy5yZWxhdGlvbnNbYi51aWRdLmVsZW1lbnQsXG5hW2IudHlwZV0pO3JldHVybiBjfX0oKSxzdG9yZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjLGQpe3ZhciBlPWIuZ2V0VW5pcXVlSWQoKTtlIGluIGQ/ZFtlXS50eXBlfD1jOmRbZV09e2VsZW1lbnQ6Yix0eXBlOmN9fXJldHVybiBmdW5jdGlvbihiLGQpe3ZhciBlO2QmQ0tFRElUT1IuTElORVVUSUxTX0FGVEVSJiZjKGU9Yi5nZXROZXh0KCkpJiZlLmlzVmlzaWJsZSgpJiYoYShlLENLRURJVE9SLkxJTkVVVElMU19CRUZPUkUsdGhpcy5yZWxhdGlvbnMpLGRePUNLRURJVE9SLkxJTkVVVElMU19BRlRFUik7ZCZDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFJiZjKGU9Yi5nZXRGaXJzdCgpKSYmZS5pc1Zpc2libGUoKSYmKGEoZSxDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFLHRoaXMucmVsYXRpb25zKSxkXj1DS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFKTthKGIsZCx0aGlzLnJlbGF0aW9ucyl9fSgpLHRyYXZlcnNlU2VhcmNoOmZ1bmN0aW9uKGEpe3ZhciBiLGQsZTtkbyBpZihlPWEuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl0sXG4hKGUmJmUgaW4gdGhpcy5yZWxhdGlvbnMpKXtpZihhLmVxdWFscyh0aGlzLmVkaXRhYmxlKSlicmVhaztpZihjKGEpKWZvcihiIGluIHRoaXMubG9va3VwcykoZD10aGlzLmxvb2t1cHNbYl0oYSkpJiZ0aGlzLnN0b3JlKGEsZCl9d2hpbGUoKCFhfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XCJ0cnVlXCIhPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSYmKGE9YS5nZXRQYXJlbnQoKSkpfSxwaXhlbFNlYXJjaDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoZCxlLGcsaCxrKXtmb3IodmFyIGw9MCxxO2soZyk7KXtnKz1oO2lmKDI1PT0rK2wpYnJlYWs7aWYocT10aGlzLmRvYy4kLmVsZW1lbnRGcm9tUG9pbnQoZSxnKSlpZihxPT1kKWw9MDtlbHNlIGlmKGIoZCxxKSYmKGw9MCxjKHE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHEpKSkpcmV0dXJuIHF9fXZhciBiPUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LndlYmtpdD9mdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbnRhaW5zKGIpfTpcbmZ1bmN0aW9uKGEsYil7cmV0dXJuISEoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSYxNil9O3JldHVybiBmdW5jdGlvbihiLGQsZSl7dmFyIGc9dGhpcy53aW4uZ2V0Vmlld1BhbmVTaXplKCkuaGVpZ2h0LGs9YS5jYWxsKHRoaXMsYi4kLGQsZSwtMSxmdW5jdGlvbihhKXtyZXR1cm4gMDxhfSk7ZD1hLmNhbGwodGhpcyxiLiQsZCxlLDEsZnVuY3Rpb24oYSl7cmV0dXJuIGE8Z30pO2lmKGspZm9yKHRoaXMudHJhdmVyc2VTZWFyY2goayk7IWsuZ2V0UGFyZW50KCkuZXF1YWxzKGIpOylrPWsuZ2V0UGFyZW50KCk7aWYoZClmb3IodGhpcy50cmF2ZXJzZVNlYXJjaChkKTshZC5nZXRQYXJlbnQoKS5lcXVhbHMoYik7KWQ9ZC5nZXRQYXJlbnQoKTtmb3IoO2t8fGQ7KXtrJiYoaz1rLmdldE5leHQoYykpO2lmKCFrfHxrLmVxdWFscyhkKSlicmVhazt0aGlzLnRyYXZlcnNlU2VhcmNoKGspO2QmJihkPWQuZ2V0UHJldmlvdXMoYykpO2lmKCFkfHxkLmVxdWFscyhrKSlicmVhazt0aGlzLnRyYXZlcnNlU2VhcmNoKGQpfX19KCksXG5ncmVlZHlTZWFyY2g6ZnVuY3Rpb24oKXt0aGlzLnJlbGF0aW9ucz17fTtmb3IodmFyIGE9dGhpcy5lZGl0YWJsZS5nZXRFbGVtZW50c0J5VGFnKFwiKlwiKSxiPTAsZCxlLGc7ZD1hLmdldEl0ZW0oYisrKTspaWYoIWQuZXF1YWxzKHRoaXMuZWRpdGFibGUpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGQuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHwhZC5pc1JlYWRPbmx5KCkpJiZjKGQpJiZkLmlzVmlzaWJsZSgpKWZvcihnIGluIHRoaXMubG9va3VwcykoZT10aGlzLmxvb2t1cHNbZ10oZCkpJiZ0aGlzLnN0b3JlKGQsZSk7cmV0dXJuIHRoaXMucmVsYXRpb25zfX07ZS5wcm90b3R5cGU9e2xvY2F0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkKXt2YXIgZT1iLmVsZW1lbnRbZD09PUNLRURJVE9SLkxJTkVVVElMU19CRUZPUkU/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXSgpO3JldHVybiBlJiZjKGUpPyhiLnNpYmxpbmdSZWN0PWUuZ2V0Q2xpZW50UmVjdCgpLFxuZD09Q0tFRElUT1IuTElORVVUSUxTX0JFRk9SRT8oYi5zaWJsaW5nUmVjdC5ib3R0b20rYi5lbGVtZW50UmVjdC50b3ApLzI6KGIuZWxlbWVudFJlY3QuYm90dG9tK2Iuc2libGluZ1JlY3QudG9wKS8yKTpkPT1DS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFP2IuZWxlbWVudFJlY3QudG9wOmIuZWxlbWVudFJlY3QuYm90dG9tfXJldHVybiBmdW5jdGlvbihiKXt2YXIgYzt0aGlzLmxvY2F0aW9ucz17fTtmb3IodmFyIGQgaW4gYiljPWJbZF0sYy5lbGVtZW50UmVjdD1jLmVsZW1lbnQuZ2V0Q2xpZW50UmVjdCgpLGMudHlwZSZDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFJiZ0aGlzLnN0b3JlKGQsQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSxhKGMsQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSkpLGMudHlwZSZDS0VESVRPUi5MSU5FVVRJTFNfQUZURVImJnRoaXMuc3RvcmUoZCxDS0VESVRPUi5MSU5FVVRJTFNfQUZURVIsYShjLENLRURJVE9SLkxJTkVVVElMU19BRlRFUikpLGMudHlwZSZcbkNLRURJVE9SLkxJTkVVVElMU19JTlNJREUmJnRoaXMuc3RvcmUoZCxDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFLChjLmVsZW1lbnRSZWN0LnRvcCtjLmVsZW1lbnRSZWN0LmJvdHRvbSkvMik7cmV0dXJuIHRoaXMubG9jYXRpb25zfX0oKSxzb3J0OmZ1bmN0aW9uKCl7dmFyIGEsYixjLGQ7cmV0dXJuIGZ1bmN0aW9uKGUsZyl7YT10aGlzLmxvY2F0aW9ucztiPVtdO2Zvcih2YXIgayBpbiBhKWZvcih2YXIgbCBpbiBhW2tdKWlmKGM9TWF0aC5hYnMoZS1hW2tdW2xdKSxiLmxlbmd0aCl7Zm9yKGQ9MDtkPGIubGVuZ3RoO2QrKylpZihjPGJbZF0uZGlzdCl7Yi5zcGxpY2UoZCwwLHt1aWQ6K2ssdHlwZTpsLGRpc3Q6Y30pO2JyZWFrfWQ9PWIubGVuZ3RoJiZiLnB1c2goe3VpZDorayx0eXBlOmwsZGlzdDpjfSl9ZWxzZSBiLnB1c2goe3VpZDorayx0eXBlOmwsZGlzdDpjfSk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGc/Yi5zbGljZSgwLGcpOmJ9fSgpLHN0b3JlOmZ1bmN0aW9uKGEsXG5iLGMpe3RoaXMubG9jYXRpb25zW2FdfHwodGhpcy5sb2NhdGlvbnNbYV09e30pO3RoaXMubG9jYXRpb25zW2FdW2JdPWN9fTt2YXIgZD17ZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6XCIwcHhcIixoZWlnaHQ6XCIwcHhcIixcImJvcmRlci1jb2xvclwiOlwidHJhbnNwYXJlbnRcIixcImJvcmRlci1zdHlsZVwiOlwic29saWRcIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiLTZweFwifSxsPXtoZWlnaHQ6XCIwcHhcIixcImJvcmRlci10b3BcIjpcIjFweCBkYXNoZWQgcmVkXCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLFwiei1pbmRleFwiOjk5OTl9O2IucHJvdG90eXBlPXtyZW1vdmVBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5oaWRkZW4pdGhpcy5oaWRkZW5bYV0ucmVtb3ZlKCksZGVsZXRlIHRoaXMuaGlkZGVuW2FdO2ZvcihhIGluIHRoaXMudmlzaWJsZSl0aGlzLnZpc2libGVbYV0ucmVtb3ZlKCksZGVsZXRlIHRoaXMudmlzaWJsZVthXX0saGlkZUxpbmU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRVbmlxdWVJZCgpO1xuYS5oaWRlKCk7dGhpcy5oaWRkZW5bYl09YTtkZWxldGUgdGhpcy52aXNpYmxlW2JdfSxzaG93TGluZTpmdW5jdGlvbihhKXt2YXIgYj1hLmdldFVuaXF1ZUlkKCk7YS5zaG93KCk7dGhpcy52aXNpYmxlW2JdPWE7ZGVsZXRlIHRoaXMuaGlkZGVuW2JdfSxoaWRlVmlzaWJsZTpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLnZpc2libGUpdGhpcy5oaWRlTGluZSh0aGlzLnZpc2libGVbYV0pfSxwbGFjZUxpbmU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU7aWYoYz10aGlzLmdldFN0eWxlKGEudWlkLGEudHlwZSkpe2ZvcihlIGluIHRoaXMudmlzaWJsZSlpZih0aGlzLnZpc2libGVbZV0uZ2V0Q3VzdG9tRGF0YShcImhhc2hcIikhPT10aGlzLmhhc2gpe2Q9dGhpcy52aXNpYmxlW2VdO2JyZWFrfWlmKCFkKWZvcihlIGluIHRoaXMuaGlkZGVuKWlmKHRoaXMuaGlkZGVuW2VdLmdldEN1c3RvbURhdGEoXCJoYXNoXCIpIT09dGhpcy5oYXNoKXt0aGlzLnNob3dMaW5lKGQ9dGhpcy5oaWRkZW5bZV0pO1xuYnJlYWt9ZHx8dGhpcy5zaG93TGluZShkPXRoaXMuYWRkTGluZSgpKTtkLnNldEN1c3RvbURhdGEoXCJoYXNoXCIsdGhpcy5oYXNoKTt0aGlzLnZpc2libGVbZC5nZXRVbmlxdWVJZCgpXT1kO2Quc2V0U3R5bGVzKGMpO2ImJmIoZCl9fSxnZXRTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVsYXRpb25zW2FdLGQ9dGhpcy5sb2NhdGlvbnNbYV1bYl0sZT17fTtlLndpZHRoPWMuc2libGluZ1JlY3Q/TWF0aC5tYXgoYy5zaWJsaW5nUmVjdC53aWR0aCxjLmVsZW1lbnRSZWN0LndpZHRoKTpjLmVsZW1lbnRSZWN0LndpZHRoO2UudG9wPXRoaXMuaW5saW5lP2QrdGhpcy53aW5Ub3BTY3JvbGwueS10aGlzLnJlY3QucmVsYXRpdmVZOnRoaXMucmVjdC50b3ArdGhpcy53aW5Ub3BTY3JvbGwueStkO2lmKGUudG9wLXRoaXMud2luVG9wU2Nyb2xsLnk8dGhpcy5yZWN0LnRvcHx8ZS50b3AtdGhpcy53aW5Ub3BTY3JvbGwueT50aGlzLnJlY3QuYm90dG9tKXJldHVybiExO3RoaXMuaW5saW5lP1xuZS5sZWZ0PWMuZWxlbWVudFJlY3QubGVmdC10aGlzLnJlY3QucmVsYXRpdmVYOigwPGMuZWxlbWVudFJlY3QubGVmdD9lLmxlZnQ9dGhpcy5yZWN0LmxlZnQrYy5lbGVtZW50UmVjdC5sZWZ0OihlLndpZHRoKz1jLmVsZW1lbnRSZWN0LmxlZnQsZS5sZWZ0PXRoaXMucmVjdC5sZWZ0KSwwPChjPWUubGVmdCtlLndpZHRoLSh0aGlzLnJlY3QubGVmdCt0aGlzLndpblBhbmUud2lkdGgpKSYmKGUud2lkdGgtPWMpKTtlLmxlZnQrPXRoaXMud2luVG9wU2Nyb2xsLng7Zm9yKHZhciBnIGluIGUpZVtnXT1DS0VESVRPUi50b29scy5jc3NMZW5ndGgoZVtnXSk7cmV0dXJuIGV9LGFkZExpbmU6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCh0aGlzLmxpbmVUcGwpO2EuYXBwZW5kVG8odGhpcy5jb250YWluZXIpO3JldHVybiBhfSxwcmVwYXJlOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWxhdGlvbnM9YTt0aGlzLmxvY2F0aW9ucz1iO3RoaXMuaGFzaD1NYXRoLnJhbmRvbSgpfSxcbmNsZWFudXA6ZnVuY3Rpb24oKXt2YXIgYSxiO2ZvcihiIGluIHRoaXMudmlzaWJsZSlhPXRoaXMudmlzaWJsZVtiXSxhLmdldEN1c3RvbURhdGEoXCJoYXNoXCIpIT09dGhpcy5oYXNoJiZ0aGlzLmhpZGVMaW5lKGEpfSxxdWVyeVZpZXdwb3J0OmZ1bmN0aW9uKCl7dGhpcy53aW5QYW5lPXRoaXMud2luLmdldFZpZXdQYW5lU2l6ZSgpO3RoaXMud2luVG9wU2Nyb2xsPXRoaXMud2luVG9wLmdldFNjcm9sbFBvc2l0aW9uKCk7dGhpcy53aW5Ub3BQYW5lPXRoaXMud2luVG9wLmdldFZpZXdQYW5lU2l6ZSgpO3RoaXMucmVjdD10aGlzLmdldENsaWVudFJlY3QodGhpcy5pbmxpbmU/dGhpcy5lZGl0YWJsZTp0aGlzLmZyYW1lKX0sZ2V0Q2xpZW50UmVjdDpmdW5jdGlvbihhKXthPWEuZ2V0Q2xpZW50UmVjdCgpO3ZhciBiPXRoaXMuY29udGFpbmVyLmdldERvY3VtZW50UG9zaXRpb24oKSxjPXRoaXMuY29udGFpbmVyLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKTthLnJlbGF0aXZlWD1hLnJlbGF0aXZlWT1cbjA7XCJzdGF0aWNcIiE9YyYmKGEucmVsYXRpdmVZPWIueSxhLnJlbGF0aXZlWD1iLngsYS50b3AtPWEucmVsYXRpdmVZLGEuYm90dG9tLT1hLnJlbGF0aXZlWSxhLmxlZnQtPWEucmVsYXRpdmVYLGEucmlnaHQtPWEucmVsYXRpdmVYKTtyZXR1cm4gYX19O3ZhciBrPXtsZWZ0OjEscmlnaHQ6MSxjZW50ZXI6MX0sZz17YWJzb2x1dGU6MSxmaXhlZDoxfTtDS0VESVRPUi5wbHVnaW5zLmxpbmV1dGlscz17ZmluZGVyOmEsbG9jYXRvcjplLGxpbmVyOmJ9fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5nZXROYW1lJiYhYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwid2lkZ2V0c2VsZWN0aW9uXCIse2luaXQ6ZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy53aWRnZXRzZWxlY3Rpb247YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbihhKXthPWEuZWRpdG9yO3ZhciBkPWEuZG9jdW1lbnQsXG5lPWEuZWRpdGFibGUoKTtlLmF0dGFjaExpc3RlbmVyKGQsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpPT1DS0VESVRPUi5DVFJMKzY1JiZDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5hZGRGaWxsZXJzKGUpfHxiLnJlbW92ZUZpbGxlcnMoZSl9LDApfSxudWxsLG51bGwsLTEpO2Eub24oXCJzZWxlY3Rpb25DaGVja1wiLGZ1bmN0aW9uKGEpe2IucmVtb3ZlRmlsbGVycyhhLmVkaXRvci5lZGl0YWJsZSgpKX0pO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWU9Yi5jbGVhblBhc3RlRGF0YShhLmRhdGEuZGF0YVZhbHVlKX0pO1wic2VsZWN0YWxsXCJpbiBhLnBsdWdpbnMmJmIuYWRkU2VsZWN0QWxsSW50ZWdyYXRpb24oYSl9KX19fSk7Q0tFRElUT1IucGx1Z2lucy53aWRnZXRzZWxlY3Rpb249e3N0YXJ0RmlsbGVyOm51bGwsZW5kRmlsbGVyOm51bGwsZmlsbGVyQXR0cmlidXRlOlwiZGF0YS1ja2UtZmlsbGVyLXdlYmtpdFwiLFxuZmlsbGVyQ29udGVudDpcIlxceDI2bmJzcDtcIixmaWxsZXJUYWdOYW1lOlwiZGl2XCIsYWRkRmlsbGVyczpmdW5jdGlvbihlKXt2YXIgYj1lLmVkaXRvcjtpZighdGhpcy5pc1dob2xlQ29udGVudFNlbGVjdGVkKGUpJiYwPGUuZ2V0Q2hpbGRDb3VudCgpKXt2YXIgYz1lLmdldEZpcnN0KGEpLGQ9ZS5nZXRMYXN0KGEpO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhYy5pc0VkaXRhYmxlKCkmJih0aGlzLnN0YXJ0RmlsbGVyPXRoaXMuY3JlYXRlRmlsbGVyKCksZS5hcHBlbmQodGhpcy5zdGFydEZpbGxlciwxKSk7ZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFkLmlzRWRpdGFibGUoKSYmKHRoaXMuZW5kRmlsbGVyPXRoaXMuY3JlYXRlRmlsbGVyKCEwKSxlLmFwcGVuZCh0aGlzLmVuZEZpbGxlciwwKSk7aWYodGhpcy5oYXNGaWxsZXIoZSkpcmV0dXJuIGI9Yi5jcmVhdGVSYW5nZSgpLGIuc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLGIuc2VsZWN0KCksITB9cmV0dXJuITF9LFxucmVtb3ZlRmlsbGVyczpmdW5jdGlvbihhKXtpZih0aGlzLmhhc0ZpbGxlcihhKSYmIXRoaXMuaXNXaG9sZUNvbnRlbnRTZWxlY3RlZChhKSl7dmFyIGI9YS5maW5kT25lKHRoaXMuZmlsbGVyVGFnTmFtZStcIltcIit0aGlzLmZpbGxlckF0dHJpYnV0ZStcIlxceDNkc3RhcnRdXCIpLGM9YS5maW5kT25lKHRoaXMuZmlsbGVyVGFnTmFtZStcIltcIit0aGlzLmZpbGxlckF0dHJpYnV0ZStcIlxceDNkZW5kXVwiKTt0aGlzLnN0YXJ0RmlsbGVyJiZiJiZ0aGlzLnN0YXJ0RmlsbGVyLmVxdWFscyhiKT90aGlzLnJlbW92ZUZpbGxlcih0aGlzLnN0YXJ0RmlsbGVyLGEpOnRoaXMuc3RhcnRGaWxsZXI9Yjt0aGlzLmVuZEZpbGxlciYmYyYmdGhpcy5lbmRGaWxsZXIuZXF1YWxzKGMpP3RoaXMucmVtb3ZlRmlsbGVyKHRoaXMuZW5kRmlsbGVyLGEpOnRoaXMuZW5kRmlsbGVyPWN9fSxjbGVhblBhc3RlRGF0YTpmdW5jdGlvbihhKXthJiZhLmxlbmd0aCYmKGE9YS5yZXBsYWNlKHRoaXMuY3JlYXRlRmlsbGVyUmVnZXgoKSxcblwiXCIpLnJlcGxhY2UodGhpcy5jcmVhdGVGaWxsZXJSZWdleCghMCksXCJcIikpO3JldHVybiBhfSxpc1dob2xlQ29udGVudFNlbGVjdGVkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO3JldHVybiFifHxiJiZiLmNvbGxhcHNlZD8hMTooYj1iLmNsb25lKCksYi5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCksISEoYiYmYSYmYi5zdGFydENvbnRhaW5lciYmYi5lbmRDb250YWluZXImJjA9PT1iLnN0YXJ0T2Zmc2V0JiZiLmVuZE9mZnNldD09PWEuZ2V0Q2hpbGRDb3VudCgpJiZiLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhhKSYmYi5lbmRDb250YWluZXIuZXF1YWxzKGEpKSl9LGhhc0ZpbGxlcjpmdW5jdGlvbihhKXtyZXR1cm4gMDxhLmZpbmQodGhpcy5maWxsZXJUYWdOYW1lK1wiW1wiK3RoaXMuZmlsbGVyQXR0cmlidXRlK1wiXVwiKS5jb3VudCgpfSxjcmVhdGVGaWxsZXI6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRoaXMuZmlsbGVyVGFnTmFtZSk7XG5iLnNldEh0bWwodGhpcy5maWxsZXJDb250ZW50KTtiLnNldEF0dHJpYnV0ZSh0aGlzLmZpbGxlckF0dHJpYnV0ZSxhP1wiZW5kXCI6XCJzdGFydFwiKTtiLnNldEF0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIiwxKTtiLnNldFN0eWxlcyh7ZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6MCxoZWlnaHQ6MCxwYWRkaW5nOjAsYm9yZGVyOjAsbWFyZ2luOjAscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6XCItOTk5OXB4XCIsb3BhY2l0eTowLG92ZXJmbG93OlwiaGlkZGVuXCJ9KTtyZXR1cm4gYn0scmVtb3ZlRmlsbGVyOmZ1bmN0aW9uKGEsYil7aWYoYSl7dmFyIGM9Yi5lZGl0b3IsZD1iLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXS5zdGFydFBhdGgoKSxsPWMuY3JlYXRlUmFuZ2UoKSxrLGc7ZC5jb250YWlucyhhKSYmKGs9YS5nZXRIdG1sKCksZz0hMCk7ZD1cInN0YXJ0XCI9PWEuZ2V0QXR0cmlidXRlKHRoaXMuZmlsbGVyQXR0cmlidXRlKTthLnJlbW92ZSgpO2smJjA8ay5sZW5ndGgmJlxuayE9dGhpcy5maWxsZXJDb250ZW50PyhiLmluc2VydEh0bWxJbnRvUmFuZ2UoayxjLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdKSxsLnNldFN0YXJ0QXQoYi5nZXRDaGlsZChiLmdldENoaWxkQ291bnQoKS0xKSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxjLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbbF0pKTpnJiYoZD9sLnNldFN0YXJ0QXQoYi5nZXRGaXJzdCgpLmdldE5leHQoKSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk6bC5zZXRFbmRBdChiLmdldExhc3QoKS5nZXRQcmV2aW91cygpLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGIuZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbbF0pKX19LGNyZWF0ZUZpbGxlclJlZ2V4OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRmlsbGVyKGEpLmdldE91dGVySHRtbCgpLnJlcGxhY2UoL3N0eWxlPVwiW15cIl0qXCIvZ2ksJ3N0eWxlXFx4M2RcIlteXCJdKlwiJykucmVwbGFjZSgvPltePF0qPC9naSxcblwiXFx4M2VbXlxceDNjXSpcXHgzY1wiKTtyZXR1cm4gbmV3IFJlZ0V4cCgoYT9cIlwiOlwiXlwiKStiKyhhP1wiJFwiOlwiXCIpKX0sYWRkU2VsZWN0QWxsSW50ZWdyYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthLmVkaXRhYmxlKCkuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUNvbW1hbmRFeGVjXCIsZnVuY3Rpb24oYyl7dmFyIGQ9YS5lZGl0YWJsZSgpO1wic2VsZWN0QWxsXCI9PWMuZGF0YS5uYW1lJiZkJiZiLmFkZEZpbGxlcnMoZCl9LG51bGwsbnVsbCw5OTk5KX19fSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLmVkaXRvcj1hO3RoaXMucmVnaXN0ZXJlZD17fTt0aGlzLmluc3RhbmNlcz17fTt0aGlzLnNlbGVjdGVkPVtdO3RoaXMud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT10aGlzLmZvY3VzZWQ9bnVsbDt0aGlzLl89e25leHRJZDowLHVwY2FzdHM6W10sdXBjYXN0Q2FsbGJhY2tzOltdLGZpbHRlcnM6e319O0codGhpcyk7Qih0aGlzKTt0aGlzLm9uKFwiY2hlY2tXaWRnZXRzXCIsXG5rKTt0aGlzLmVkaXRvci5vbihcImNvbnRlbnREb21JbnZhbGlkYXRlZFwiLHRoaXMuY2hlY2tXaWRnZXRzLHRoaXMpO3kodGhpcyk7eih0aGlzKTt3KHRoaXMpO0EodGhpcyk7Qyh0aGlzKX1mdW5jdGlvbiBlKGEsYixjLGQsZil7dmFyIGc9YS5lZGl0b3I7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZCx7ZWRpdG9yOmcsaWQ6YixpbmxpbmU6XCJzcGFuXCI9PWMuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpLGVsZW1lbnQ6YyxkYXRhOkNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkLmRlZmF1bHRzP2QuZGVmYXVsdHMoKTpkLmRlZmF1bHRzKSxkYXRhUmVhZHk6ITEsaW5pdGVkOiExLHJlYWR5OiExLGVkaXQ6ZS5wcm90b3R5cGUuZWRpdCxmb2N1c2VkRWRpdGFibGU6bnVsbCxkZWZpbml0aW9uOmQscmVwb3NpdG9yeTphLGRyYWdnYWJsZTohMSE9PWQuZHJhZ2dhYmxlLF86e2Rvd25jYXN0Rm46ZC5kb3duY2FzdCYmXCJzdHJpbmdcIj09dHlwZW9mIGQuZG93bmNhc3Q/XG5kLmRvd25jYXN0c1tkLmRvd25jYXN0XTpkLmRvd25jYXN0fX0sITApO2EuZmlyZShcImluc3RhbmNlQ3JlYXRlZFwiLHRoaXMpO2RhKHRoaXMsZCk7dGhpcy5pbml0JiZ0aGlzLmluaXQoKTt0aGlzLmluaXRlZD0hMDsoYT10aGlzLmVsZW1lbnQuZGF0YShcImNrZS13aWRnZXQtZGF0YVwiKSkmJnRoaXMuc2V0RGF0YShKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChhKSkpO2YmJnRoaXMuc2V0RGF0YShmKTt0aGlzLmRhdGEuY2xhc3Nlc3x8dGhpcy5zZXREYXRhKFwiY2xhc3Nlc1wiLHRoaXMuZ2V0Q2xhc3NlcygpKTt0aGlzLmRhdGFSZWFkeT0hMDtRKHRoaXMpO3RoaXMuZmlyZShcImRhdGFcIix0aGlzLmRhdGEpO3RoaXMuaXNJbml0ZWQoKSYmZy5lZGl0YWJsZSgpLmNvbnRhaW5zKHRoaXMud3JhcHBlcikmJih0aGlzLnJlYWR5PSEwLHRoaXMuZmlyZShcInJlYWR5XCIpKX1mdW5jdGlvbiBiKGEsYixjKXtDS0VESVRPUi5kb20uZWxlbWVudC5jYWxsKHRoaXMsYi4kKTt0aGlzLmVkaXRvcj1hO1xudGhpcy5fPXt9O2I9dGhpcy5maWx0ZXI9Yy5maWx0ZXI7Q0tFRElUT1IuZHRkW3RoaXMuZ2V0TmFtZSgpXS5wPyh0aGlzLmVudGVyTW9kZT1iP2IuZ2V0QWxsb3dlZEVudGVyTW9kZShhLmVudGVyTW9kZSk6YS5lbnRlck1vZGUsdGhpcy5zaGlmdEVudGVyTW9kZT1iP2IuZ2V0QWxsb3dlZEVudGVyTW9kZShhLnNoaWZ0RW50ZXJNb2RlLCEwKTphLnNoaWZ0RW50ZXJNb2RlKTp0aGlzLmVudGVyTW9kZT10aGlzLnNoaWZ0RW50ZXJNb2RlPUNLRURJVE9SLkVOVEVSX0JSfWZ1bmN0aW9uIGMoYSxiKXthLmFkZENvbW1hbmQoYi5uYW1lLHtleGVjOmZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZCgpe2Eud2lkZ2V0cy5maW5hbGl6ZUNyZWF0aW9uKGgpfXZhciBlPWEud2lkZ2V0cy5mb2N1c2VkO2lmKGUmJmUubmFtZT09Yi5uYW1lKWUuZWRpdCgpO2Vsc2UgaWYoYi5pbnNlcnQpYi5pbnNlcnQoKTtlbHNlIGlmKGIudGVtcGxhdGUpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGIuZGVmYXVsdHM/XG5iLmRlZmF1bHRzKCk6Yi5kZWZhdWx0cyxlPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGIudGVtcGxhdGUub3V0cHV0KGUpKSxmLGc9YS53aWRnZXRzLndyYXBFbGVtZW50KGUsYi5uYW1lKSxoPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChnLmdldERvY3VtZW50KCkpO2guYXBwZW5kKGcpOyhmPWEud2lkZ2V0cy5pbml0T24oZSxiLGMmJmMuc3RhcnR1cERhdGEpKT8oZT1mLm9uY2UoXCJlZGl0XCIsZnVuY3Rpb24oYil7aWYoYi5kYXRhLmRpYWxvZylmLm9uY2UoXCJkaWFsb2dcIixmdW5jdGlvbihiKXtiPWIuZGF0YTt2YXIgYyxlO2M9Yi5vbmNlKFwib2tcIixkLG51bGwsbnVsbCwyMCk7ZT1iLm9uY2UoXCJjYW5jZWxcIixmdW5jdGlvbihiKXtiLmRhdGEmJiExPT09Yi5kYXRhLmhpZGV8fGEud2lkZ2V0cy5kZXN0cm95KGYsITApfSk7Yi5vbmNlKFwiaGlkZVwiLGZ1bmN0aW9uKCl7Yy5yZW1vdmVMaXN0ZW5lcigpO2UucmVtb3ZlTGlzdGVuZXIoKX0pfSk7ZWxzZSBkKCl9LFxubnVsbCxudWxsLDk5OSksZi5lZGl0KCksZS5yZW1vdmVMaXN0ZW5lcigpKTpkKCl9fSxhbGxvd2VkQ29udGVudDpiLmFsbG93ZWRDb250ZW50LHJlcXVpcmVkQ29udGVudDpiLnJlcXVpcmVkQ29udGVudCxjb250ZW50Rm9ybXM6Yi5jb250ZW50Rm9ybXMsY29udGVudFRyYW5zZm9ybWF0aW9uczpiLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnN9KX1mdW5jdGlvbiBkKGEsYil7ZnVuY3Rpb24gYyhhLGQpe3ZhciBlPWIudXBjYXN0LnNwbGl0KFwiLFwiKSxmLGc7Zm9yKGc9MDtnPGUubGVuZ3RoO2crKylpZihmPWVbZ10sZj09PWEubmFtZSlyZXR1cm4gYi51cGNhc3RzW2ZdLmNhbGwodGhpcyxhLGQpO3JldHVybiExfWZ1bmN0aW9uIGQoYixjLGUpe3ZhciBmPUNLRURJVE9SLnRvb2xzLmdldEluZGV4KGEuXy51cGNhc3RzLGZ1bmN0aW9uKGEpe3JldHVybiBhWzJdPmV9KTswPmYmJihmPWEuXy51cGNhc3RzLmxlbmd0aCk7YS5fLnVwY2FzdHMuc3BsaWNlKGYsMCxbQ0tFRElUT1IudG9vbHMuYmluZChiLFxuYyksYy5uYW1lLGVdKX12YXIgZT1iLnVwY2FzdCxmPWIudXBjYXN0UHJpb3JpdHl8fDEwO2UmJihcInN0cmluZ1wiPT10eXBlb2YgZT9kKGMsYixmKTpkKGUsYixmKSl9ZnVuY3Rpb24gbChhLGIpe2EuZm9jdXNlZD1udWxsO2lmKGIuaXNJbml0ZWQoKSl7dmFyIGM9Yi5lZGl0b3IuY2hlY2tEaXJ0eSgpO2EuZmlyZShcIndpZGdldEJsdXJyZWRcIix7d2lkZ2V0OmJ9KTtiLnNldEZvY3VzZWQoITEpOyFjJiZiLmVkaXRvci5yZXNldERpcnR5KCl9fWZ1bmN0aW9uIGsoYSl7YT1hLmRhdGE7aWYoXCJ3eXNpd3lnXCI9PXRoaXMuZWRpdG9yLm1vZGUpe3ZhciBiPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCksYz10aGlzLmluc3RhbmNlcyxkLGYsZyxoO2lmKGIpe2ZvcihkIGluIGMpY1tkXS5pc1JlYWR5KCkmJiFiLmNvbnRhaW5zKGNbZF0ud3JhcHBlcikmJnRoaXMuZGVzdHJveShjW2RdLCEwKTtpZihhJiZhLmluaXRPbmx5TmV3KWM9dGhpcy5pbml0T25BbGwoKTtlbHNle3ZhciBrPWIuZmluZChcIi5ja2Vfd2lkZ2V0X3dyYXBwZXJcIiksXG5jPVtdO2Q9MDtmb3IoZj1rLmNvdW50KCk7ZDxmO2QrKyl7Zz1rLmdldEl0ZW0oZCk7aWYoaD0hdGhpcy5nZXRCeUVsZW1lbnQoZywhMCkpe2E6e2g9eDtmb3IodmFyIGw9ZztsPWwuZ2V0UGFyZW50KCk7KWlmKGgobCkpe2g9ITA7YnJlYWsgYX1oPSExfWg9IWh9aCYmYi5jb250YWlucyhnKSYmKGcuYWRkQ2xhc3MoXCJja2Vfd2lkZ2V0X25ld1wiKSxjLnB1c2godGhpcy5pbml0T24oZy5nZXRGaXJzdChlLmlzRG9tV2lkZ2V0RWxlbWVudCkpKSl9fWEmJmEuZm9jdXNJbml0ZWQmJjE9PWMubGVuZ3RoJiZjWzBdLmZvY3VzKCl9fX1mdW5jdGlvbiBnKGEpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdKXt2YXIgYj1oKGEpLGM9bShhKSxkPSExO2ImJmIudmFsdWUmJmIudmFsdWUubWF0Y2goL15cXHMvZykmJihiLnBhcmVudC5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2hpdGUtc3BhY2UtZmlyc3RcIl09MSxiLnZhbHVlPWIudmFsdWUucmVwbGFjZSgvXlxccy9nLFxuXCJcXHgyNm5ic3A7XCIpLGQ9ITApO2MmJmMudmFsdWUmJmMudmFsdWUubWF0Y2goL1xccyQvZykmJihjLnBhcmVudC5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2hpdGUtc3BhY2UtbGFzdFwiXT0xLGMudmFsdWU9Yy52YWx1ZS5yZXBsYWNlKC9cXHMkL2csXCJcXHgyNm5ic3A7XCIpLGQ9ITApO2QmJihhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtd2hpdGUtc3BhY2VcIl09MSl9fWZ1bmN0aW9uIGgoYSl7cmV0dXJuIGEuZmluZChmdW5jdGlvbihhKXtyZXR1cm4gMz09PWEudHlwZX0sITApLnNoaWZ0KCl9ZnVuY3Rpb24gbShhKXtyZXR1cm4gYS5maW5kKGZ1bmN0aW9uKGEpe3JldHVybiAzPT09YS50eXBlfSwhMCkucG9wKCl9ZnVuY3Rpb24gZihhLGIsYyl7aWYoIWMuYWxsb3dlZENvbnRlbnQmJiFjLmRpc2FsbG93ZWRDb250ZW50KXJldHVybiBudWxsO3ZhciBkPXRoaXMuXy5maWx0ZXJzW2FdO2R8fCh0aGlzLl8uZmlsdGVyc1thXT1kPXt9KTthPWRbYl07YXx8KGE9Yy5hbGxvd2VkQ29udGVudD9cbm5ldyBDS0VESVRPUi5maWx0ZXIoYy5hbGxvd2VkQ29udGVudCk6dGhpcy5lZGl0b3IuZmlsdGVyLmNsb25lKCksZFtiXT1hLGMuZGlzYWxsb3dlZENvbnRlbnQmJmEuZGlzYWxsb3coYy5kaXNhbGxvd2VkQ29udGVudCkpO3JldHVybiBhfWZ1bmN0aW9uIG4oYSl7dmFyIGI9W10sYz1hLl8udXBjYXN0cyxkPWEuXy51cGNhc3RDYWxsYmFja3M7cmV0dXJue3RvQmVXcmFwcGVkOmIsaXRlcmF0b3I6ZnVuY3Rpb24oYSl7dmFyIGYsZyxoLGssbDtpZihcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJpbiBhLmF0dHJpYnV0ZXMpcmV0dXJuKGE9YS5nZXRGaXJzdChlLmlzUGFyc2VyV2lkZ2V0RWxlbWVudCkpJiZiLnB1c2goW2FdKSwhMTtpZihcImRhdGEtd2lkZ2V0XCJpbiBhLmF0dHJpYnV0ZXMpcmV0dXJuIGIucHVzaChbYV0pLCExO2lmKGw9Yy5sZW5ndGgpe2lmKGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC11cGNhc3RlZFwiXSlyZXR1cm4hMTtrPTA7Zm9yKGY9ZC5sZW5ndGg7azxmOysraylpZighMT09PVxuZFtrXShhKSlyZXR1cm47Zm9yKGs9MDtrPGw7KytrKWlmKGY9Y1trXSxoPXt9LGc9ZlswXShhLGgpKXJldHVybiBnIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50JiYoYT1nKSxhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtZGF0YVwiXT1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaCkpLGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC11cGNhc3RlZFwiXT0xLGIucHVzaChbYSxmWzFdXSksITF9fX19ZnVuY3Rpb24gcChhLGIpe3JldHVybnt0YWJpbmRleDotMSxjb250ZW50ZWRpdGFibGU6XCJmYWxzZVwiLFwiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIjoxLFwiZGF0YS1ja2UtZmlsdGVyXCI6XCJvZmZcIixcImNsYXNzXCI6XCJja2Vfd2lkZ2V0X3dyYXBwZXIgY2tlX3dpZGdldF9uZXcgY2tlX3dpZGdldF9cIisoYT9cImlubGluZVwiOlwiYmxvY2tcIikrKGI/XCIgY2tlX3dpZGdldF9cIitiOlwiXCIpfX1mdW5jdGlvbiByKGEsYixjKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7dmFyIGQ9XG5DS0VESVRPUi5kdGRbYS5uYW1lXTtpZihkJiYhZFtjLm5hbWVdKXt2YXIgZD1hLnNwbGl0KGIpLGU9YS5wYXJlbnQ7Yj1kLmdldEluZGV4KCk7YS5jaGlsZHJlbi5sZW5ndGh8fCgtLWIsYS5yZW1vdmUoKSk7ZC5jaGlsZHJlbi5sZW5ndGh8fGQucmVtb3ZlKCk7cmV0dXJuIHIoZSxiLGMpfX1hLmFkZChjLGIpfWZ1bmN0aW9uIHYoYSxiKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGEuaW5saW5lP2EuaW5saW5lOiEhQ0tFRElUT1IuZHRkLiRpbmxpbmVbYl19ZnVuY3Rpb24geChhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpfWZ1bmN0aW9uIHEoYSxiLGMsZCl7dmFyIGU9YS5lZGl0b3I7ZS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2M/KGQ9Yy5kYXRhKFwiY2tlLXdpZGdldC1lZGl0YWJsZVwiKSxkPWIuZWRpdGFibGVzW2RdLGEud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT1iLGIuZm9jdXNlZEVkaXRhYmxlPWQsYy5hZGRDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZFwiKSxcbmQuZmlsdGVyJiZlLnNldEFjdGl2ZUZpbHRlcihkLmZpbHRlciksZS5zZXRBY3RpdmVFbnRlck1vZGUoZC5lbnRlck1vZGUsZC5zaGlmdEVudGVyTW9kZSkpOihkfHxiLmZvY3VzZWRFZGl0YWJsZS5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZFwiKSxiLmZvY3VzZWRFZGl0YWJsZT1udWxsLGEud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT1udWxsLGUuc2V0QWN0aXZlRmlsdGVyKG51bGwpLGUuc2V0QWN0aXZlRW50ZXJNb2RlKG51bGwsbnVsbCkpO2UuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfWZ1bmN0aW9uIHQoYSl7YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihiKXtpZihiPWEud2lkZ2V0cy5nZXRCeUVsZW1lbnQoYiwhMCkpcmV0dXJuIGIuZmlyZShcImNvbnRleHRNZW51XCIse30pfSl9ZnVuY3Rpb24gdShhLGIpe3JldHVybiBDS0VESVRPUi50b29scy50cmltKGIpfWZ1bmN0aW9uIEEoYSl7dmFyIGI9YS5lZGl0b3IsXG5jPUNLRURJVE9SLnBsdWdpbnMubGluZXV0aWxzO2Iub24oXCJkcmFnc3RhcnRcIixmdW5jdGlvbihjKXt2YXIgZD1jLmRhdGEudGFyZ2V0O2UuaXNEb21EcmFnSGFuZGxlcihkKSYmKGQ9YS5nZXRCeUVsZW1lbnQoZCksYy5kYXRhLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiY2tlL3dpZGdldC1pZFwiLGQuaWQpLGIuZm9jdXMoKSxkLmZvY3VzKCkpfSk7Yi5vbihcImRyb3BcIixmdW5jdGlvbihjKXt2YXIgZD1jLmRhdGEuZGF0YVRyYW5zZmVyLGU9ZC5nZXREYXRhKFwiY2tlL3dpZGdldC1pZFwiKSxmPWQuZ2V0VHJhbnNmZXJUeXBlKGIpLGQ9Yi5jcmVhdGVSYW5nZSgpO1wiXCIhPT1lJiZmPT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTP2MuY2FuY2VsKCk6XCJcIiE9PWUmJmY9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUwmJihlPWEuaW5zdGFuY2VzW2VdKSYmKGQuc2V0U3RhcnRCZWZvcmUoZS53cmFwcGVyKSxkLnNldEVuZEFmdGVyKGUud3JhcHBlciksYy5kYXRhLmRyYWdSYW5nZT1cbmQsZGVsZXRlIENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmRyYWdTdGFydENvbnRhaW5lckNoaWxkQ291bnQsZGVsZXRlIENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmRyYWdFbmRDb250YWluZXJDaGlsZENvdW50LGMuZGF0YS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvaHRtbFwiLGIuZWRpdGFibGUoKS5nZXRIdG1sRnJvbVJhbmdlKGQpLmdldEh0bWwoKSksYi53aWRnZXRzLmRlc3Ryb3koZSwhMCkpfSk7Yi5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBkPWIuZWRpdGFibGUoKTtDS0VESVRPUi50b29scy5leHRlbmQoYSx7ZmluZGVyOm5ldyBjLmZpbmRlcihiLHtsb29rdXBzOntcImRlZmF1bHRcIjpmdW5jdGlvbihiKXtpZighYi5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmYi5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSYmIWUuaXNEb21OZXN0ZWRFZGl0YWJsZShiKSYmIWEuXy5kcmFnZ2VkV2lkZ2V0LndyYXBwZXIuY29udGFpbnMoYikpe3ZhciBjPWUuZ2V0TmVzdGVkRWRpdGFibGUoZCxcbmIpO2lmKGMpe2I9YS5fLmRyYWdnZWRXaWRnZXQ7aWYoYS5nZXRCeUVsZW1lbnQoYyk9PWIpcmV0dXJuO2M9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1tjLmRhdGEoXCJja2UtZmlsdGVyXCIpXTtiPWIucmVxdWlyZWRDb250ZW50O2lmKGMmJmImJiFjLmNoZWNrKGIpKXJldHVybn1yZXR1cm4gQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRXxDS0VESVRPUi5MSU5FVVRJTFNfQUZURVJ9fX19KSxsb2NhdG9yOm5ldyBjLmxvY2F0b3IoYiksbGluZXI6bmV3IGMubGluZXIoYix7bGluZVN0eWxlOntjdXJzb3I6XCJtb3ZlICFpbXBvcnRhbnRcIixcImJvcmRlci10b3AtY29sb3JcIjpcIiM2NjZcIn0sdGlwTGVmdFN0eWxlOntcImJvcmRlci1sZWZ0LWNvbG9yXCI6XCIjNjY2XCJ9LHRpcFJpZ2h0U3R5bGU6e1wiYm9yZGVyLXJpZ2h0LWNvbG9yXCI6XCIjNjY2XCJ9fSl9LCEwKX0pfWZ1bmN0aW9uIHooYSl7dmFyIGI9YS5lZGl0b3I7Yi5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBjPWIuZWRpdGFibGUoKSxcbmQ9Yy5pc0lubGluZSgpP2M6Yi5kb2N1bWVudCxmLGc7Yy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYyl7dmFyIGQ9Yy5kYXRhLmdldFRhcmdldCgpO2Y9ZCBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50P2EuZ2V0QnlFbGVtZW50KGQpOm51bGw7Zz0wO2YmJihmLmlubGluZSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWRyYWctaGFuZGxlclwiKT8oZz0xLGEuZm9jdXNlZCE9ZiYmYi5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKSk6ZS5nZXROZXN0ZWRFZGl0YWJsZShmLndyYXBwZXIsZCk/Zj1udWxsOihjLmRhdGEucHJldmVudERlZmF1bHQoKSxDS0VESVRPUi5lbnYuaWV8fGYuZm9jdXMoKSkpfSk7Yy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7ZyYmZiYmZi53cmFwcGVyJiYoZz0wLGYuZm9jdXMoKSl9KTtDS0VESVRPUi5lbnYuaWUmJmMuYXR0YWNoTGlzdGVuZXIoZCxcblwibW91c2V1cFwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2YmJmYud3JhcHBlciYmYy5jb250YWlucyhmLndyYXBwZXIpJiYoZi5mb2N1cygpLGY9bnVsbCl9KX0pfSk7Yi5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGM9YS5nZXRCeUVsZW1lbnQoYi5kYXRhLmVsZW1lbnQpO2lmKGMmJiFlLmdldE5lc3RlZEVkaXRhYmxlKGMud3JhcHBlcixiLmRhdGEuZWxlbWVudCkpcmV0dXJuIGMuZmlyZShcImRvdWJsZWNsaWNrXCIse2VsZW1lbnQ6Yi5kYXRhLmVsZW1lbnR9KX0sbnVsbCxudWxsLDEpfWZ1bmN0aW9uIHcoYSl7YS5lZGl0b3Iub24oXCJrZXlcIixmdW5jdGlvbihiKXt2YXIgYz1hLmZvY3VzZWQsZD1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGUsZTtjP2U9Yy5maXJlKFwia2V5XCIse2tleUNvZGU6Yi5kYXRhLmtleUNvZGV9KTpkJiYoYz1iLmRhdGEua2V5Q29kZSxiPWQuZm9jdXNlZEVkaXRhYmxlLGM9PUNLRURJVE9SLkNUUkwrNjU/KGM9Yi5nZXRCb2d1cygpLFxuZD1kLmVkaXRvci5jcmVhdGVSYW5nZSgpLGQuc2VsZWN0Tm9kZUNvbnRlbnRzKGIpLGMmJmQuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGQuc2VsZWN0KCksZT0hMSk6OD09Y3x8NDY9PWM/KGU9ZC5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksZD1lWzBdLGU9ISgxPT1lLmxlbmd0aCYmZC5jb2xsYXBzZWQmJmQuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChiLENLRURJVE9SWzg9PWM/XCJTVEFSVFwiOlwiRU5EXCJdKSkpOmU9dm9pZCAwKTtyZXR1cm4gZX0sbnVsbCxudWxsLDEpfWZ1bmN0aW9uIEMoYSl7ZnVuY3Rpb24gYihjKXthLmZvY3VzZWQmJkgoYS5mb2N1c2VkLFwiY3V0XCI9PWMubmFtZSl9dmFyIGM9YS5lZGl0b3I7Yy5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBhPWMuZWRpdGFibGUoKTthLmF0dGFjaExpc3RlbmVyKGEsXCJjb3B5XCIsYik7YS5hdHRhY2hMaXN0ZW5lcihhLFwiY3V0XCIsYil9KX1mdW5jdGlvbiB5KGEpe3ZhciBiPVxuYS5lZGl0b3I7Yi5vbihcInNlbGVjdGlvbkNoZWNrXCIsZnVuY3Rpb24oKXthLmZpcmUoXCJjaGVja1NlbGVjdGlvblwiKX0pO2Eub24oXCJjaGVja1NlbGVjdGlvblwiLGEuY2hlY2tTZWxlY3Rpb24sYSk7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGMpe3ZhciBkPShjPWUuZ2V0TmVzdGVkRWRpdGFibGUoYi5lZGl0YWJsZSgpLGMuZGF0YS5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50KCkpKSYmYS5nZXRCeUVsZW1lbnQoYyksZj1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGU7Zj9mPT09ZCYmZi5mb2N1c2VkRWRpdGFibGUuZXF1YWxzKGMpfHwocShhLGYsbnVsbCksZCYmYyYmcShhLGQsYykpOmQmJmMmJnEoYSxkLGMpfSk7Yi5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7RShhKS5jb21taXQoKX0pO2Iub24oXCJibHVyXCIsZnVuY3Rpb24oKXt2YXIgYjsoYj1hLmZvY3VzZWQpJiZsKGEsYik7KGI9YS53aWRnZXRIb2xkaW5nRm9jdXNlZEVkaXRhYmxlKSYmcShhLGIsbnVsbCl9KX1cbmZ1bmN0aW9uIEIoYSl7dmFyIGI9YS5lZGl0b3IsYz17fTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYil7dmFyIGQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGY9W107Yi5kYXRhLmRvd25jYXN0aW5nU2Vzc2lvbklkPWQ7Y1tkXT1mO2IuZGF0YS5kYXRhVmFsdWUuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1iLmF0dHJpYnV0ZXMsZDtpZihcImRhdGEtY2tlLXdpZGdldC13aGl0ZS1zcGFjZVwiaW4gYyl7ZD1oKGIpO3ZhciBnPW0oYik7ZC5wYXJlbnQuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdoaXRlLXNwYWNlLWZpcnN0XCJdJiYoZC52YWx1ZT1kLnZhbHVlLnJlcGxhY2UoL14mbmJzcDsvZyxcIiBcIikpO2cucGFyZW50LmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aGl0ZS1zcGFjZS1sYXN0XCJdJiYoZy52YWx1ZT1nLnZhbHVlLnJlcGxhY2UoLyZuYnNwOyQvZyxcIiBcIikpfWlmKFwiZGF0YS1ja2Utd2lkZ2V0LWlkXCJpbiBjKXtpZihjPWEuaW5zdGFuY2VzW2NbXCJkYXRhLWNrZS13aWRnZXQtaWRcIl1dKWQ9XG5iLmdldEZpcnN0KGUuaXNQYXJzZXJXaWRnZXRFbGVtZW50KSxmLnB1c2goe3dyYXBwZXI6YixlbGVtZW50OmQsd2lkZ2V0OmMsZWRpdGFibGVzOnt9fSksXCIxXCIhPWQuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC1rZWVwLWF0dHJcIl0mJmRlbGV0ZSBkLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXX1lbHNlIGlmKFwiZGF0YS1ja2Utd2lkZ2V0LWVkaXRhYmxlXCJpbiBjKXJldHVybiBmW2YubGVuZ3RoLTFdLmVkaXRhYmxlc1tjW1wiZGF0YS1ja2Utd2lkZ2V0LWVkaXRhYmxlXCJdXT1iLCExfSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfSxudWxsLG51bGwsOCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YS5kb3duY2FzdGluZ1Nlc3Npb25JZCl7YT1jW2EuZGF0YS5kb3duY2FzdGluZ1Nlc3Npb25JZF07Zm9yKHZhciBiLGQsZSxmLGcsaDtiPWEuc2hpZnQoKTspe2Q9Yi53aWRnZXQ7ZT1iLmVsZW1lbnQ7Zj1kLl8uZG93bmNhc3RGbiYmZC5fLmRvd25jYXN0Rm4uY2FsbChkLFxuZSk7Zm9yKGggaW4gYi5lZGl0YWJsZXMpZz1iLmVkaXRhYmxlc1toXSxkZWxldGUgZy5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZSxnLnNldEh0bWwoZC5lZGl0YWJsZXNbaF0uZ2V0RGF0YSgpKTtmfHwoZj1lKTtiLndyYXBwZXIucmVwbGFjZVdpdGgoZil9fX0sbnVsbCxudWxsLDEzKTtiLm9uKFwiY29udGVudERvbVVubG9hZFwiLGZ1bmN0aW9uKCl7YS5kZXN0cm95QWxsKCEwKX0pfWZ1bmN0aW9uIEcoYSl7dmFyIGI9YS5lZGl0b3IsYyxkO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihiKXt2YXIgZD1uKGEpLGY7Zm9yKGIuZGF0YS5kYXRhVmFsdWUuZm9yRWFjaChkLml0ZXJhdG9yLENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7Zj1kLnRvQmVXcmFwcGVkLnBvcCgpOyl7dmFyIGc9ZlswXSxoPWcucGFyZW50O2gudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtd3JhcHBlclwiXSYmaC5yZXBsYWNlV2l0aChnKTthLndyYXBFbGVtZW50KGZbMF0sXG5mWzFdKX1jPWIuZGF0YS5wcm90ZWN0ZWRXaGl0ZXNwYWNlcz8zPT1iLmRhdGEuZGF0YVZhbHVlLmNoaWxkcmVuLmxlbmd0aCYmZS5pc1BhcnNlcldpZGdldFdyYXBwZXIoYi5kYXRhLmRhdGFWYWx1ZS5jaGlsZHJlblsxXSk6MT09Yi5kYXRhLmRhdGFWYWx1ZS5jaGlsZHJlbi5sZW5ndGgmJmUuaXNQYXJzZXJXaWRnZXRXcmFwcGVyKGIuZGF0YS5kYXRhVmFsdWUuY2hpbGRyZW5bMF0pfSxudWxsLG51bGwsOCk7Yi5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7aWYoZClmb3IodmFyIGM9Yi5lZGl0YWJsZSgpLmZpbmQoXCIuY2tlX3dpZGdldF93cmFwcGVyXCIpLGYsZyxoPTAsaz1jLmNvdW50KCk7aDxrOysraClmPWMuZ2V0SXRlbShoKSxnPWYuZ2V0Rmlyc3QoZS5pc0RvbVdpZGdldEVsZW1lbnQpLGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmRhdGEoXCJ3aWRnZXRcIik/KGcucmVwbGFjZShmKSxhLndyYXBFbGVtZW50KGcpKTpmLnJlbW92ZSgpO2Q9MDthLmRlc3Ryb3lBbGwoITApO1xuYS5pbml0T25BbGwoKX0pO2Iub24oXCJsb2FkU25hcHNob3RcIixmdW5jdGlvbihiKXsvZGF0YS1ja2Utd2lkZ2V0Ly50ZXN0KGIuZGF0YSkmJihkPTEpO2EuZGVzdHJveUFsbCghMCl9LG51bGwsbnVsbCw5KTtiLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXthPWEuZGF0YTthLmRhdGFWYWx1ZT1hLmRhdGFWYWx1ZS5yZXBsYWNlKFUsdSk7YS5yYW5nZSYmKGE9ZS5nZXROZXN0ZWRFZGl0YWJsZShiLmVkaXRhYmxlKCksYS5yYW5nZS5zdGFydENvbnRhaW5lcikpJiYoYT1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW2EuZGF0YShcImNrZS1maWx0ZXJcIildKSYmYi5zZXRBY3RpdmVGaWx0ZXIoYSl9KTtiLm9uKFwiYWZ0ZXJJbnNlcnRIdG1sXCIsZnVuY3Rpb24oZCl7ZC5kYXRhLmludG9SYW5nZT9hLmNoZWNrV2lkZ2V0cyh7aW5pdE9ubHlOZXc6ITB9KTooYi5maXJlKFwibG9ja1NuYXBzaG90XCIpLGEuY2hlY2tXaWRnZXRzKHtpbml0T25seU5ldzohMCxmb2N1c0luaXRlZDpjfSksYi5maXJlKFwidW5sb2NrU25hcHNob3RcIikpfSl9XG5mdW5jdGlvbiBFKGEpe3ZhciBiPWEuc2VsZWN0ZWQsYz1bXSxkPWIuc2xpY2UoMCksZT1udWxsO3JldHVybntzZWxlY3Q6ZnVuY3Rpb24oYSl7MD5DS0VESVRPUi50b29scy5pbmRleE9mKGIsYSkmJmMucHVzaChhKTthPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZCxhKTswPD1hJiZkLnNwbGljZShhLDEpO3JldHVybiB0aGlzfSxmb2N1czpmdW5jdGlvbihhKXtlPWE7cmV0dXJuIHRoaXN9LGNvbW1pdDpmdW5jdGlvbigpe3ZhciBmPWEuZm9jdXNlZCE9PWUsZyxoO2EuZWRpdG9yLmZpcmUoXCJsb2NrU25hcHNob3RcIik7Zm9yKGYmJihnPWEuZm9jdXNlZCkmJmwoYSxnKTtnPWQucG9wKCk7KWIuc3BsaWNlKENLRURJVE9SLnRvb2xzLmluZGV4T2YoYixnKSwxKSxnLmlzSW5pdGVkKCkmJihoPWcuZWRpdG9yLmNoZWNrRGlydHkoKSxnLnNldFNlbGVjdGVkKCExKSwhaCYmZy5lZGl0b3IucmVzZXREaXJ0eSgpKTtmJiZlJiYoaD1hLmVkaXRvci5jaGVja0RpcnR5KCksYS5mb2N1c2VkPWUsYS5maXJlKFwid2lkZ2V0Rm9jdXNlZFwiLFxue3dpZGdldDplfSksZS5zZXRGb2N1c2VkKCEwKSwhaCYmYS5lZGl0b3IucmVzZXREaXJ0eSgpKTtmb3IoO2c9Yy5wb3AoKTspYi5wdXNoKGcpLGcuc2V0U2VsZWN0ZWQoITApO2EuZWRpdG9yLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKX19fWZ1bmN0aW9uIEYoYSxiLGMpe3ZhciBkPTA7Yj1LKGIpO3ZhciBlPWEuZGF0YS5jbGFzc2VzfHx7fSxmO2lmKGIpe2ZvcihlPUNLRURJVE9SLnRvb2xzLmNsb25lKGUpO2Y9Yi5wb3AoKTspYz9lW2ZdfHwoZD1lW2ZdPTEpOmVbZl0mJihkZWxldGUgZVtmXSxkPTEpO2QmJmEuc2V0RGF0YShcImNsYXNzZXNcIixlKX19ZnVuY3Rpb24gSShhKXthLmNhbmNlbCgpfWZ1bmN0aW9uIEgoYSxiKXt2YXIgYz1hLmVkaXRvcixkPWMuZG9jdW1lbnQsZT1DS0VESVRPUi5lbnYuZWRnZSYmMTY8PUNLRURJVE9SLmVudi52ZXJzaW9uO2lmKCFkLmdldEJ5SWQoXCJja2VfY29weWJpblwiKSl7dmFyIGY9IWMuYmxvY2tsZXNzJiYhQ0tFRElUT1IuZW52LmllfHxlP1wiZGl2XCI6XG5cInNwYW5cIixlPWQuY3JlYXRlRWxlbWVudChmKSxnPWQuY3JlYXRlRWxlbWVudChmKSxmPUNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbjtnLnNldEF0dHJpYnV0ZXMoe2lkOlwiY2tlX2NvcHliaW5cIixcImRhdGEtY2tlLXRlbXBcIjpcIjFcIn0pO2Uuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6XCIxcHhcIixoZWlnaHQ6XCIxcHhcIixvdmVyZmxvdzpcImhpZGRlblwifSk7ZS5zZXRTdHlsZShcImx0clwiPT1jLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XCJsZWZ0XCI6XCJyaWdodFwiLFwiLTUwMDBweFwiKTt2YXIgaD1jLmNyZWF0ZVJhbmdlKCk7aC5zZXRTdGFydEJlZm9yZShhLndyYXBwZXIpO2guc2V0RW5kQWZ0ZXIoYS53cmFwcGVyKTtlLnNldEh0bWwoJ1xceDNjc3BhbiBkYXRhLWNrZS1jb3B5YmluLXN0YXJ0XFx4M2RcIjFcIlxceDNl4oCLXFx4M2Mvc3BhblxceDNlJytjLmVkaXRhYmxlKCkuZ2V0SHRtbEZyb21SYW5nZShoKS5nZXRIdG1sKCkrJ1xceDNjc3BhbiBkYXRhLWNrZS1jb3B5YmluLWVuZFxceDNkXCIxXCJcXHgzZeKAi1xceDNjL3NwYW5cXHgzZScpO1xuYy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2MuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtnLmFwcGVuZChlKTtjLmVkaXRhYmxlKCkuYXBwZW5kKGcpO3ZhciBrPWMub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixJLG51bGwsbnVsbCwwKSxsPWEucmVwb3NpdG9yeS5vbihcImNoZWNrU2VsZWN0aW9uXCIsSSxudWxsLG51bGwsMCk7aWYoZil2YXIgbT1kLmdldERvY3VtZW50RWxlbWVudCgpLiQsbj1tLnNjcm9sbFRvcDtoPWMuY3JlYXRlUmFuZ2UoKTtoLnNlbGVjdE5vZGVDb250ZW50cyhlKTtoLnNlbGVjdCgpO2YmJihtLnNjcm9sbFRvcD1uKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Ynx8YS5mb2N1cygpO2cucmVtb3ZlKCk7ay5yZW1vdmVMaXN0ZW5lcigpO2wucmVtb3ZlTGlzdGVuZXIoKTtjLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTtiJiYhYy5yZWFkT25seSYmKGEucmVwb3NpdG9yeS5kZWwoYSksYy5maXJlKFwic2F2ZVNuYXBzaG90XCIpKX0sMTAwKX19ZnVuY3Rpb24gSyhhKXtyZXR1cm4oYT0oYT1hLmdldERlZmluaXRpb24oKS5hdHRyaWJ1dGVzKSYmXG5hW1wiY2xhc3NcIl0pP2Euc3BsaXQoL1xccysvKTpudWxsfWZ1bmN0aW9uIEooKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSxiPXRoaXMuZWRpdG9yLGM9Yi5lZGl0YWJsZSgpOyhjLmlzSW5saW5lKCk/YzpiLmRvY3VtZW50LmdldFdpbmRvdygpLmdldEZyYW1lKCkpLmVxdWFscyhhKSYmYi5mb2N1c01hbmFnZXIuZm9jdXMoYyl9ZnVuY3Rpb24gRCgpe0NLRURJVE9SLmVudi5nZWNrbyYmdGhpcy5lZGl0b3IudW5sb2NrU2VsZWN0aW9uKCk7Q0tFRElUT1IuZW52LndlYmtpdHx8KHRoaXMuZWRpdG9yLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCksdGhpcy5lZGl0b3Iuc2VsZWN0aW9uQ2hhbmdlKDEpKX1mdW5jdGlvbiBSKGEpe3ZhciBiPW51bGw7YS5vbihcImRhdGFcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGF0YS5jbGFzc2VzLGM7aWYoYiE9YSl7Zm9yKGMgaW4gYilhJiZhW2NdfHx0aGlzLnJlbW92ZUNsYXNzKGMpO2ZvcihjIGluIGEpdGhpcy5hZGRDbGFzcyhjKTtcbmI9YX19KX1mdW5jdGlvbiBOKGEpe2Eub24oXCJkYXRhXCIsZnVuY3Rpb24oKXtpZihhLndyYXBwZXIpe3ZhciBiPXRoaXMuZ2V0TGFiZWw/dGhpcy5nZXRMYWJlbCgpOnRoaXMuZWRpdG9yLmxhbmcud2lkZ2V0LmxhYmVsLnJlcGxhY2UoLyUxLyx0aGlzLnBhdGhOYW1lfHx0aGlzLmVsZW1lbnQuZ2V0TmFtZSgpKTthLndyYXBwZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicmVnaW9uXCIpO2Eud3JhcHBlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsYil9fSxudWxsLG51bGwsOTk5OSl9ZnVuY3Rpb24gUyhhKXtpZihhLmRyYWdnYWJsZSl7dmFyIGI9YS5lZGl0b3IsYz1hLndyYXBwZXIuZ2V0TGFzdChlLmlzRG9tRHJhZ0hhbmRsZXJDb250YWluZXIpLGQ7Yz9kPWMuZmluZE9uZShcImltZ1wiKTooYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIsYi5kb2N1bWVudCksYy5zZXRBdHRyaWJ1dGVzKHtcImNsYXNzXCI6XCJja2VfcmVzZXQgY2tlX3dpZGdldF9kcmFnX2hhbmRsZXJfY29udGFpbmVyXCIsXG5zdHlsZTpcImJhY2tncm91bmQ6cmdiYSgyMjAsMjIwLDIyMCwwLjUpO2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiK2IucGx1Z2lucy53aWRnZXQucGF0aCtcImltYWdlcy9oYW5kbGUucG5nKVwifSksZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJpbWdcIixiLmRvY3VtZW50KSxkLnNldEF0dHJpYnV0ZXMoe1wiY2xhc3NcIjpcImNrZV9yZXNldCBja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlclwiLFwiZGF0YS1ja2Utd2lkZ2V0LWRyYWctaGFuZGxlclwiOlwiMVwiLHNyYzpDS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSx3aWR0aDoxNSx0aXRsZTpiLmxhbmcud2lkZ2V0Lm1vdmUsaGVpZ2h0OjE1LHJvbGU6XCJwcmVzZW50YXRpb25cIn0pLGEuaW5saW5lJiZkLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLFwidHJ1ZVwiKSxjLmFwcGVuZChkKSxhLndyYXBwZXIuYXBwZW5kKGMpKTthLndyYXBwZXIub24oXCJkcmFnb3ZlclwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSk7YS53cmFwcGVyLm9uKFwibW91c2VlbnRlclwiLFxuYS51cGRhdGVEcmFnSGFuZGxlclBvc2l0aW9uLGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9uKFwiZGF0YVwiLGEudXBkYXRlRHJhZ0hhbmRsZXJQb3NpdGlvbixhKX0sNTApO2lmKCFhLmlubGluZSYmKGQub24oXCJtb3VzZWRvd25cIixMLGEpLENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbikpZC5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCl9KTthLmRyYWdIYW5kbGVyQ29udGFpbmVyPWN9fWZ1bmN0aW9uIEwoYSl7ZnVuY3Rpb24gYigpe3ZhciBjO2ZvcihwLnJlc2V0KCk7Yz1oLnBvcCgpOyljLnJlbW92ZUxpc3RlbmVyKCk7dmFyIGQ9aztjPWEuc2VuZGVyO3ZhciBlPXRoaXMucmVwb3NpdG9yeS5maW5kZXIsZj10aGlzLnJlcG9zaXRvcnkubGluZXIsZz10aGlzLmVkaXRvcixsPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCk7Q0tFRElUT1IudG9vbHMuaXNFbXB0eShmLnZpc2libGUpfHwoZD1lLmdldFJhbmdlKGRbMF0pLFxudGhpcy5mb2N1cygpLGcuZmlyZShcImRyb3BcIix7ZHJvcFJhbmdlOmQsdGFyZ2V0OmQuc3RhcnRDb250YWluZXJ9KSk7bC5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZHJhZ2dpbmdcIik7Zi5oaWRlVmlzaWJsZSgpO2cuZmlyZShcImRyYWdlbmRcIix7dGFyZ2V0OmN9KX1pZihDS0VESVRPUi50b29scy5nZXRNb3VzZUJ1dHRvbihhKT09PUNLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZUKXt2YXIgYz10aGlzLnJlcG9zaXRvcnkuZmluZGVyLGQ9dGhpcy5yZXBvc2l0b3J5LmxvY2F0b3IsZT10aGlzLnJlcG9zaXRvcnkubGluZXIsZj10aGlzLmVkaXRvcixnPWYuZWRpdGFibGUoKSxoPVtdLGs9W10sbCxtO3RoaXMucmVwb3NpdG9yeS5fLmRyYWdnZWRXaWRnZXQ9dGhpczt2YXIgbj1jLmdyZWVkeVNlYXJjaCgpLHA9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDUwLGZ1bmN0aW9uKCl7bD1kLmxvY2F0ZShuKTtrPWQuc29ydChtLDEpO2subGVuZ3RoJiYoZS5wcmVwYXJlKG4sbCksZS5wbGFjZUxpbmUoa1swXSksXG5lLmNsZWFudXAoKSl9KTtnLmFkZENsYXNzKFwiY2tlX3dpZGdldF9kcmFnZ2luZ1wiKTtoLnB1c2goZy5vbihcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGEpe209YS5kYXRhLiQuY2xpZW50WTtwLmlucHV0KCl9KSk7Zi5maXJlKFwiZHJhZ3N0YXJ0XCIse3RhcmdldDphLnNlbmRlcn0pO2gucHVzaChmLmRvY3VtZW50Lm9uY2UoXCJtb3VzZXVwXCIsYix0aGlzKSk7Zy5pc0lubGluZSgpfHxoLnB1c2goQ0tFRElUT1IuZG9jdW1lbnQub25jZShcIm1vdXNldXBcIixiLHRoaXMpKX19ZnVuY3Rpb24gVihhKXt2YXIgYixjLGQ9YS5lZGl0YWJsZXM7YS5lZGl0YWJsZXM9e307aWYoYS5lZGl0YWJsZXMpZm9yKGIgaW4gZCljPWRbYl0sYS5pbml0RWRpdGFibGUoYixcInN0cmluZ1wiPT10eXBlb2YgYz97c2VsZWN0b3I6Y306Yyl9ZnVuY3Rpb24gWihhKXtpZihhLm1hc2spe3ZhciBiPWEud3JhcHBlci5maW5kT25lKFwiLmNrZV93aWRnZXRfbWFza1wiKTtifHwoYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJpbWdcIixcbmEuZWRpdG9yLmRvY3VtZW50KSxiLnNldEF0dHJpYnV0ZXMoe3NyYzpDS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSxcImNsYXNzXCI6XCJja2VfcmVzZXQgY2tlX3dpZGdldF9tYXNrXCJ9KSxhLndyYXBwZXIuYXBwZW5kKGIpKTthLm1hc2s9Yn19ZnVuY3Rpb24gWChhKXtpZihhLnBhcnRzKXt2YXIgYj17fSxjLGQ7Zm9yKGQgaW4gYS5wYXJ0cyljPWEud3JhcHBlci5maW5kT25lKGEucGFydHNbZF0pLGJbZF09YzthLnBhcnRzPWJ9fWZ1bmN0aW9uIGRhKGEsYil7UChhKTtYKGEpO1YoYSk7WihhKTtTKGEpO1IoYSk7TihhKTtpZihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24pYS53cmFwcGVyLm9uKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmdldFRhcmdldCgpO2UuZ2V0TmVzdGVkRWRpdGFibGUoYSxjKXx8YS5pbmxpbmUmJmUuaXNEb21EcmFnSGFuZGxlcihjKXx8Yi5kYXRhLnByZXZlbnREZWZhdWx0KCl9KTthLndyYXBwZXIucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X25ld1wiKTtcbmEuZWxlbWVudC5hZGRDbGFzcyhcImNrZV93aWRnZXRfZWxlbWVudFwiKTthLm9uKFwia2V5XCIsZnVuY3Rpb24oYil7Yj1iLmRhdGEua2V5Q29kZTtpZigxMz09YilhLmVkaXQoKTtlbHNle2lmKGI9PUNLRURJVE9SLkNUUkwrNjd8fGI9PUNLRURJVE9SLkNUUkwrODgpe0goYSxiPT1DS0VESVRPUi5DVFJMKzg4KTtyZXR1cm59aWYoYiBpbiBUfHxDS0VESVRPUi5DVFJMJmJ8fENLRURJVE9SLkFMVCZiKXJldHVybn1yZXR1cm4hMX0sbnVsbCxudWxsLDk5OSk7YS5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYil7YS5lZGl0KCkmJmIuY2FuY2VsKCl9KTtpZihiLmRhdGEpYS5vbihcImRhdGFcIixiLmRhdGEpO2lmKGIuZWRpdClhLm9uKFwiZWRpdFwiLGIuZWRpdCl9ZnVuY3Rpb24gUChhKXsoYS53cmFwcGVyPWEuZWxlbWVudC5nZXRQYXJlbnQoKSkuc2V0QXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWlkXCIsYS5pZCl9ZnVuY3Rpb24gUShhKXthLmVsZW1lbnQuZGF0YShcImNrZS13aWRnZXQtZGF0YVwiLFxuZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGEuZGF0YSkpKX1mdW5jdGlvbiBNKCl7ZnVuY3Rpb24gYSgpe31mdW5jdGlvbiBiKGEsYyxkKXtyZXR1cm4gZCYmdGhpcy5jaGVja0VsZW1lbnQoYSk/KGE9ZC53aWRnZXRzLmdldEJ5RWxlbWVudChhLCEwKSkmJmEuY2hlY2tTdHlsZUFjdGl2ZSh0aGlzKTohMX12YXIgYz17fTtDS0VESVRPUi5zdHlsZS5hZGRDdXN0b21IYW5kbGVyKHt0eXBlOlwid2lkZ2V0XCIsc2V0dXA6ZnVuY3Rpb24oYSl7dGhpcy53aWRnZXQ9YS53aWRnZXQ7aWYodGhpcy5ncm91cD1cInN0cmluZ1wiPT10eXBlb2YgYS5ncm91cD9bYS5ncm91cF06YS5ncm91cCl7YT10aGlzLndpZGdldDt2YXIgYjtjW2FdfHwoY1thXT17fSk7Zm9yKHZhciBkPTAsZT10aGlzLmdyb3VwLmxlbmd0aDtkPGU7ZCsrKWI9dGhpcy5ncm91cFtkXSxjW2FdW2JdfHwoY1thXVtiXT1bXSksY1thXVtiXS5wdXNoKHRoaXMpfX0sYXBwbHk6ZnVuY3Rpb24oYSl7dmFyIGI7YSBpbnN0YW5jZW9mXG5DS0VESVRPUi5lZGl0b3ImJnRoaXMuY2hlY2tBcHBsaWNhYmxlKGEuZWxlbWVudFBhdGgoKSxhKSYmKGI9YS53aWRnZXRzLmZvY3VzZWQsdGhpcy5ncm91cCYmdGhpcy5yZW1vdmVTdHlsZXNGcm9tU2FtZUdyb3VwKGEpLGIuYXBwbHlTdHlsZSh0aGlzKSl9LHJlbW92ZTpmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdG9yJiZ0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksYSkmJmEud2lkZ2V0cy5mb2N1c2VkLnJlbW92ZVN0eWxlKHRoaXMpfSxyZW1vdmVTdHlsZXNGcm9tU2FtZUdyb3VwOmZ1bmN0aW9uKGEpe3ZhciBiLGQsZT0hMTtpZighKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3IpKXJldHVybiExO2Q9YS5lbGVtZW50UGF0aCgpO2lmKHRoaXMuY2hlY2tBcHBsaWNhYmxlKGQsYSkpZm9yKHZhciBmPTAsZz10aGlzLmdyb3VwLmxlbmd0aDtmPGc7ZisrKXtiPWNbdGhpcy53aWRnZXRdW3RoaXMuZ3JvdXBbZl1dO2Zvcih2YXIgaD0wO2g8XG5iLmxlbmd0aDtoKyspYltoXSE9PXRoaXMmJmJbaF0uY2hlY2tBY3RpdmUoZCxhKSYmKGEud2lkZ2V0cy5mb2N1c2VkLnJlbW92ZVN0eWxlKGJbaF0pLGU9ITApfXJldHVybiBlfSxjaGVja0FjdGl2ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNoZWNrRWxlbWVudE1hdGNoKGEubGFzdEVsZW1lbnQsMCxiKX0sY2hlY2tBcHBsaWNhYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3I/dGhpcy5jaGVja0VsZW1lbnQoYS5sYXN0RWxlbWVudCk6ITF9LGNoZWNrRWxlbWVudE1hdGNoOmIsY2hlY2tFbGVtZW50UmVtb3ZhYmxlOmIsY2hlY2tFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiBlLmlzRG9tV2lkZ2V0V3JhcHBlcihhKT8oYT1hLmdldEZpcnN0KGUuaXNEb21XaWRnZXRFbGVtZW50KSkmJmEuZGF0YShcIndpZGdldFwiKT09dGhpcy53aWRnZXQ6ITF9LGJ1aWxkUHJldmlldzpmdW5jdGlvbihhKXtyZXR1cm4gYXx8dGhpcy5fLmRlZmluaXRpb24ubmFtZX0sXG50b0FsbG93ZWRDb250ZW50UnVsZXM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1hLndpZGdldHMucmVnaXN0ZXJlZFt0aGlzLndpZGdldF07dmFyIGIsYz17fTtpZighYSlyZXR1cm4gbnVsbDtpZihhLnN0eWxlYWJsZUVsZW1lbnRzKXtiPXRoaXMuZ2V0Q2xhc3Nlc0FycmF5KCk7aWYoIWIpcmV0dXJuIG51bGw7Y1thLnN0eWxlYWJsZUVsZW1lbnRzXT17Y2xhc3NlczpiLHByb3BlcnRpZXNPbmx5OiEwfTtyZXR1cm4gY31yZXR1cm4gYS5zdHlsZVRvQWxsb3dlZENvbnRlbnRSdWxlcz9hLnN0eWxlVG9BbGxvd2VkQ29udGVudFJ1bGVzKHRoaXMpOm51bGx9LGdldENsYXNzZXNBcnJheTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5kZWZpbml0aW9uLmF0dHJpYnV0ZXMmJnRoaXMuXy5kZWZpbml0aW9uLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXTtyZXR1cm4gYT9DS0VESVRPUi50b29scy50cmltKGEpLnNwbGl0KC9cXHMrLyk6bnVsbH0sYXBwbHlUb1JhbmdlOmEscmVtb3ZlRnJvbVJhbmdlOmEsXG5hcHBseVRvT2JqZWN0OmF9KX1DS0VESVRPUi5wbHVnaW5zLmFkZChcIndpZGdldFwiLHtyZXF1aXJlczpcImxpbmV1dGlscyxjbGlwYm9hcmQsd2lkZ2V0c2VsZWN0aW9uXCIsb25Mb2FkOmZ1bmN0aW9uKCl7dm9pZCAwIT09Q0tFRElUT1IuZG9jdW1lbnQuJC5xdWVyeVNlbGVjdG9yQWxsJiYoQ0tFRElUT1IuYWRkQ3NzKFwiLmNrZV93aWRnZXRfd3JhcHBlcntwb3NpdGlvbjpyZWxhdGl2ZTtvdXRsaW5lOm5vbmV9LmNrZV93aWRnZXRfaW5saW5le2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5ja2Vfd2lkZ2V0X3dyYXBwZXI6aG92ZXJcXHgzZS5ja2Vfd2lkZ2V0X2VsZW1lbnR7b3V0bGluZToycHggc29saWQgI2ZmZDI1YztjdXJzb3I6ZGVmYXVsdH0uY2tlX3dpZGdldF93cmFwcGVyOmhvdmVyIC5ja2Vfd2lkZ2V0X2VkaXRhYmxle291dGxpbmU6MnB4IHNvbGlkICNmZmQyNWN9LmNrZV93aWRnZXRfd3JhcHBlci5ja2Vfd2lkZ2V0X2ZvY3VzZWRcXHgzZS5ja2Vfd2lkZ2V0X2VsZW1lbnQsLmNrZV93aWRnZXRfd3JhcHBlciAuY2tlX3dpZGdldF9lZGl0YWJsZS5ja2Vfd2lkZ2V0X2VkaXRhYmxlX2ZvY3VzZWR7b3V0bGluZToycHggc29saWQgIzQ3YTRmNX0uY2tlX3dpZGdldF9lZGl0YWJsZXtjdXJzb3I6dGV4dH0uY2tlX3dpZGdldF9kcmFnX2hhbmRsZXJfY29udGFpbmVye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjE1cHg7aGVpZ2h0OjA7ZGlzcGxheTpub25lO29wYWNpdHk6MC43NTt0cmFuc2l0aW9uOmhlaWdodCAwcyAwLjJzO2xpbmUtaGVpZ2h0OjB9LmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlclxceDNlLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcntoZWlnaHQ6MTVweDt0cmFuc2l0aW9uOm5vbmV9LmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcjpob3ZlcntvcGFjaXR5OjF9aW1nLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVye2N1cnNvcjptb3ZlO3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrZV93aWRnZXRfbWFza3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmJsb2NrfS5ja2VfZWRpdGFibGUuY2tlX3dpZGdldF9kcmFnZ2luZywgLmNrZV9lZGl0YWJsZS5ja2Vfd2lkZ2V0X2RyYWdnaW5nICp7Y3Vyc29yOm1vdmUgIWltcG9ydGFudH1cIiksXG5NKCkpfSxiZWZvcmVJbml0OmZ1bmN0aW9uKGIpe3ZvaWQgMCE9PUNLRURJVE9SLmRvY3VtZW50LiQucXVlcnlTZWxlY3RvckFsbCYmKGIud2lkZ2V0cz1uZXcgYShiKSl9LGFmdGVySW5pdDpmdW5jdGlvbihhKXtpZih2b2lkIDAhPT1DS0VESVRPUi5kb2N1bWVudC4kLnF1ZXJ5U2VsZWN0b3JBbGwpe3ZhciBiPWEud2lkZ2V0cy5yZWdpc3RlcmVkLGMsZCxlO2ZvcihkIGluIGIpYz1iW2RdLChlPWMuYnV0dG9uKSYmYS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKENLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUoYy5uYW1lLCEwKSx7bGFiZWw6ZSxjb21tYW5kOmMubmFtZSx0b29sYmFyOlwiaW5zZXJ0LDEwXCJ9KTt0KGEpfX19KTthLnByb3RvdHlwZT17TUlOX1NFTEVDVElPTl9DSEVDS19JTlRFUlZBTDo1MDAsYWRkOmZ1bmN0aW9uKGEsYil7Yj1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShiKTtiLm5hbWU9YTtiLl89Yi5ffHx7fTt0aGlzLmVkaXRvci5maXJlKFwid2lkZ2V0RGVmaW5pdGlvblwiLFxuYik7Yi50ZW1wbGF0ZSYmKGIudGVtcGxhdGU9bmV3IENLRURJVE9SLnRlbXBsYXRlKGIudGVtcGxhdGUpKTtjKHRoaXMuZWRpdG9yLGIpO2QodGhpcyxiKTtyZXR1cm4gdGhpcy5yZWdpc3RlcmVkW2FdPWJ9LGFkZFVwY2FzdENhbGxiYWNrOmZ1bmN0aW9uKGEpe3RoaXMuXy51cGNhc3RDYWxsYmFja3MucHVzaChhKX0sY2hlY2tTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKSxiPWEuZ2V0U2VsZWN0ZWRFbGVtZW50KCksYz1FKHRoaXMpLGQ7aWYoYiYmKGQ9dGhpcy5nZXRCeUVsZW1lbnQoYiwhMCkpKXJldHVybiBjLmZvY3VzKGQpLnNlbGVjdChkKS5jb21taXQoKTthPWEuZ2V0UmFuZ2VzKClbMF07aWYoIWF8fGEuY29sbGFwc2VkKXJldHVybiBjLmNvbW1pdCgpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSk7Zm9yKGEuZXZhbHVhdG9yPWUuaXNEb21XaWRnZXRXcmFwcGVyO2I9YS5uZXh0KCk7KWMuc2VsZWN0KHRoaXMuZ2V0QnlFbGVtZW50KGIpKTtcbmMuY29tbWl0KCl9LGNoZWNrV2lkZ2V0czpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJjaGVja1dpZGdldHNcIixDS0VESVRPUi50b29scy5jb3B5KGF8fHt9KSl9LGRlbDpmdW5jdGlvbihhKXtpZih0aGlzLmZvY3VzZWQ9PT1hKXt2YXIgYj1hLmVkaXRvcixjPWIuY3JlYXRlUmFuZ2UoKSxkOyhkPWMubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYS53cmFwcGVyLCEwKSl8fChkPWMubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYS53cmFwcGVyLCExKSk7ZCYmYi5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2NdKX1hLndyYXBwZXIucmVtb3ZlKCk7dGhpcy5kZXN0cm95KGEsITApfSxkZXN0cm95OmZ1bmN0aW9uKGEsYil7dGhpcy53aWRnZXRIb2xkaW5nRm9jdXNlZEVkaXRhYmxlPT09YSYmcSh0aGlzLGEsbnVsbCxiKTthLmRlc3Ryb3koYik7ZGVsZXRlIHRoaXMuaW5zdGFuY2VzW2EuaWRdO3RoaXMuZmlyZShcImluc3RhbmNlRGVzdHJveWVkXCIsYSl9LGRlc3Ryb3lBbGw6ZnVuY3Rpb24oYSxcbmIpe3ZhciBjLGQsZT10aGlzLmluc3RhbmNlcztpZihiJiYhYSl7ZD1iLmZpbmQoXCIuY2tlX3dpZGdldF93cmFwcGVyXCIpO2Zvcih2YXIgZT1kLmNvdW50KCksZj0wO2Y8ZTsrK2YpKGM9dGhpcy5nZXRCeUVsZW1lbnQoZC5nZXRJdGVtKGYpLCEwKSkmJnRoaXMuZGVzdHJveShjKX1lbHNlIGZvcihkIGluIGUpYz1lW2RdLHRoaXMuZGVzdHJveShjLGEpfSxmaW5hbGl6ZUNyZWF0aW9uOmZ1bmN0aW9uKGEpeyhhPWEuZ2V0Rmlyc3QoKSkmJmUuaXNEb21XaWRnZXRXcmFwcGVyKGEpJiYodGhpcy5lZGl0b3IuaW5zZXJ0RWxlbWVudChhKSxhPXRoaXMuZ2V0QnlFbGVtZW50KGEpLGEucmVhZHk9ITAsYS5maXJlKFwicmVhZHlcIiksYS5mb2N1cygpKX0sZ2V0QnlFbGVtZW50OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjKXtyZXR1cm4gYy5pcyhiKSYmYy5kYXRhKFwiY2tlLXdpZGdldC1pZFwiKX12YXIgYj17ZGl2OjEsc3BhbjoxfTtyZXR1cm4gZnVuY3Rpb24oYixjKXtpZighYilyZXR1cm4gbnVsbDtcbnZhciBkPWEoYik7aWYoIWMmJiFkKXt2YXIgZT10aGlzLmVkaXRvci5lZGl0YWJsZSgpO2RvIGI9Yi5nZXRQYXJlbnQoKTt3aGlsZShiJiYhYi5lcXVhbHMoZSkmJiEoZD1hKGIpKSl9cmV0dXJuIHRoaXMuaW5zdGFuY2VzW2RdfHxudWxsfX0oKSxpbml0T246ZnVuY3Rpb24oYSxiLGMpe2I/XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPXRoaXMucmVnaXN0ZXJlZFtiXSk6Yj10aGlzLnJlZ2lzdGVyZWRbYS5kYXRhKFwid2lkZ2V0XCIpXTtpZighYilyZXR1cm4gbnVsbDt2YXIgZD10aGlzLndyYXBFbGVtZW50KGEsYi5uYW1lKTtyZXR1cm4gZD9kLmhhc0NsYXNzKFwiY2tlX3dpZGdldF9uZXdcIik/KGE9bmV3IGUodGhpcyx0aGlzLl8ubmV4dElkKyssYSxiLGMpLGEuaXNJbml0ZWQoKT90aGlzLmluc3RhbmNlc1thLmlkXT1hOm51bGwpOnRoaXMuZ2V0QnlFbGVtZW50KGEpOm51bGx9LGluaXRPbkFsbDpmdW5jdGlvbihhKXthPShhfHx0aGlzLmVkaXRvci5lZGl0YWJsZSgpKS5maW5kKFwiLmNrZV93aWRnZXRfbmV3XCIpO1xuZm9yKHZhciBiPVtdLGMsZD1hLmNvdW50KCk7ZC0tOykoYz10aGlzLmluaXRPbihhLmdldEl0ZW0oZCkuZ2V0Rmlyc3QoZS5pc0RvbVdpZGdldEVsZW1lbnQpKSkmJmIucHVzaChjKTtyZXR1cm4gYn0sb25XaWRnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtiLnNoaWZ0KCk7Zm9yKHZhciBjIGluIHRoaXMuaW5zdGFuY2VzKXt2YXIgZD10aGlzLmluc3RhbmNlc1tjXTtkLm5hbWU9PWEmJmQub24uYXBwbHkoZCxiKX10aGlzLm9uKFwiaW5zdGFuY2VDcmVhdGVkXCIsZnVuY3Rpb24oYyl7Yz1jLmRhdGE7Yy5uYW1lPT1hJiZjLm9uLmFwcGx5KGMsYil9KX0scGFyc2VFbGVtZW50Q2xhc3NlczpmdW5jdGlvbihhKXtpZighYSlyZXR1cm4gbnVsbDthPUNLRURJVE9SLnRvb2xzLnRyaW0oYSkuc3BsaXQoL1xccysvKTtmb3IodmFyIGIsYz17fSxkPTA7Yj1hLnBvcCgpOyktMT09Yi5pbmRleE9mKFwiY2tlX1wiKSYmKGNbYl09ZD0xKTtyZXR1cm4gZD9cbmM6bnVsbH0sd3JhcEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQsZTtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQpe2I9Ynx8YS5kYXRhKFwid2lkZ2V0XCIpO2Q9dGhpcy5yZWdpc3RlcmVkW2JdO2lmKCFkKXJldHVybiBudWxsO2lmKChjPWEuZ2V0UGFyZW50KCkpJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5kYXRhKFwiY2tlLXdpZGdldC13cmFwcGVyXCIpKXJldHVybiBjO2EuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWtlZXAtYXR0clwiKXx8YS5kYXRhKFwiY2tlLXdpZGdldC1rZWVwLWF0dHJcIixhLmRhdGEoXCJ3aWRnZXRcIik/MTowKTthLmRhdGEoXCJ3aWRnZXRcIixiKTsoZT12KGQsYS5nZXROYW1lKCkpKSYmZyhhKTtjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlP1wic3BhblwiOlwiZGl2XCIpO2Muc2V0QXR0cmlidXRlcyhwKGUsYikpO2MuZGF0YShcImNrZS1kaXNwbGF5LW5hbWVcIixkLnBhdGhOYW1lP2QucGF0aE5hbWU6YS5nZXROYW1lKCkpO1xuYS5nZXRQYXJlbnQoITApJiZjLnJlcGxhY2UoYSk7YS5hcHBlbmRUbyhjKX1lbHNlIGlmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQpe2I9Ynx8YS5hdHRyaWJ1dGVzW1wiZGF0YS13aWRnZXRcIl07ZD10aGlzLnJlZ2lzdGVyZWRbYl07aWYoIWQpcmV0dXJuIG51bGw7aWYoKGM9YS5wYXJlbnQpJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIl0pcmV0dXJuIGM7XCJkYXRhLWNrZS13aWRnZXQta2VlcC1hdHRyXCJpbiBhLmF0dHJpYnV0ZXN8fChhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQta2VlcC1hdHRyXCJdPWEuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdPzE6MCk7YiYmKGEuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdPWIpOyhlPXYoZCxhLm5hbWUpKSYmZyhhKTtjPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZT9cInNwYW5cIjpcImRpdlwiLHAoZSxiKSk7Yy5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZGlzcGxheS1uYW1lXCJdPVxuZC5wYXRoTmFtZT9kLnBhdGhOYW1lOmEubmFtZTtkPWEucGFyZW50O3ZhciBmO2QmJihmPWEuZ2V0SW5kZXgoKSxhLnJlbW92ZSgpKTtjLmFkZChhKTtkJiZyKGQsZixjKX1yZXR1cm4gY30sX3Rlc3RzX2NyZWF0ZUVkaXRhYmxlRmlsdGVyOmZ9O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGEucHJvdG90eXBlKTtlLnByb3RvdHlwZT17YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmFkZENsYXNzKGEpO3RoaXMud3JhcHBlci5hZGRDbGFzcyhlLldSQVBQRVJfQ0xBU1NfUFJFRklYK2EpfSxhcHBseVN0eWxlOmZ1bmN0aW9uKGEpe0YodGhpcyxhLDEpfSxjaGVja1N0eWxlQWN0aXZlOmZ1bmN0aW9uKGEpe2E9SyhhKTt2YXIgYjtpZighYSlyZXR1cm4hMTtmb3IoO2I9YS5wb3AoKTspaWYoIXRoaXMuaGFzQ2xhc3MoYikpcmV0dXJuITE7cmV0dXJuITB9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiZGVzdHJveVwiKTtpZih0aGlzLmVkaXRhYmxlcylmb3IodmFyIGIgaW4gdGhpcy5lZGl0YWJsZXMpdGhpcy5kZXN0cm95RWRpdGFibGUoYixcbmEpO2F8fChcIjBcIj09dGhpcy5lbGVtZW50LmRhdGEoXCJja2Utd2lkZ2V0LWtlZXAtYXR0clwiKSYmdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtd2lkZ2V0XCIpLHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGVzKFtcImRhdGEtY2tlLXdpZGdldC1kYXRhXCIsXCJkYXRhLWNrZS13aWRnZXQta2VlcC1hdHRyXCJdKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X2VsZW1lbnRcIiksdGhpcy5lbGVtZW50LnJlcGxhY2UodGhpcy53cmFwcGVyKSk7dGhpcy53cmFwcGVyPW51bGx9LGRlc3Ryb3lFZGl0YWJsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZWRpdGFibGVzW2FdO2MucmVtb3ZlTGlzdGVuZXIoXCJmb2N1c1wiLEQpO2MucmVtb3ZlTGlzdGVuZXIoXCJibHVyXCIsSik7dGhpcy5lZGl0b3IuZm9jdXNNYW5hZ2VyLnJlbW92ZShjKTtifHwodGhpcy5yZXBvc2l0b3J5LmRlc3Ryb3lBbGwoITEsYyksYy5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVcIiksXG5jLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZV9mb2N1c2VkXCIpLGMucmVtb3ZlQXR0cmlidXRlcyhbXCJjb250ZW50ZWRpdGFibGVcIixcImRhdGEtY2tlLXdpZGdldC1lZGl0YWJsZVwiLFwiZGF0YS1ja2UtZW50ZXItbW9kZVwiXSkpO2RlbGV0ZSB0aGlzLmVkaXRhYmxlc1thXX0sZWRpdDpmdW5jdGlvbigpe3ZhciBhPXtkaWFsb2c6dGhpcy5kaWFsb2d9LGI9dGhpcztpZighMT09PXRoaXMuZmlyZShcImVkaXRcIixhKXx8IWEuZGlhbG9nKXJldHVybiExO3RoaXMuZWRpdG9yLm9wZW5EaWFsb2coYS5kaWFsb2csZnVuY3Rpb24oYSl7dmFyIGMsZDshMSE9PWIuZmlyZShcImRpYWxvZ1wiLGEpJiYoYz1hLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7YS5zZXR1cENvbnRlbnQoYil9KSxkPWEub24oXCJva1wiLGZ1bmN0aW9uKCl7dmFyIGMsZD1iLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGEpe2M9MTthLmNhbmNlbCgpfSxudWxsLG51bGwsMCk7Yi5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKTthLmNvbW1pdENvbnRlbnQoYik7XG5kLnJlbW92ZUxpc3RlbmVyKCk7YyYmKGIuZmlyZShcImRhdGFcIixiLmRhdGEpLGIuZWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIikpfSksYS5vbmNlKFwiaGlkZVwiLGZ1bmN0aW9uKCl7Yy5yZW1vdmVMaXN0ZW5lcigpO2QucmVtb3ZlTGlzdGVuZXIoKX0pKX0pO3JldHVybiEwfSxnZXRDbGFzc2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwb3NpdG9yeS5wYXJzZUVsZW1lbnRDbGFzc2VzKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoYSl9LGluaXRFZGl0YWJsZTpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuX2ZpbmRPbmVOb3ROZXN0ZWQoYy5zZWxlY3Rvcik7cmV0dXJuIGQmJmQuaXMoQ0tFRElUT1IuZHRkLiRlZGl0YWJsZSk/KGQ9bmV3IGIodGhpcy5lZGl0b3IsZCx7ZmlsdGVyOmYuY2FsbCh0aGlzLnJlcG9zaXRvcnksdGhpcy5uYW1lLGEsYyl9KSx0aGlzLmVkaXRhYmxlc1thXT1cbmQsZC5zZXRBdHRyaWJ1dGVzKHtjb250ZW50ZWRpdGFibGU6XCJ0cnVlXCIsXCJkYXRhLWNrZS13aWRnZXQtZWRpdGFibGVcIjphLFwiZGF0YS1ja2UtZW50ZXItbW9kZVwiOmQuZW50ZXJNb2RlfSksZC5maWx0ZXImJmQuZGF0YShcImNrZS1maWx0ZXJcIixkLmZpbHRlci5pZCksZC5hZGRDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVcIiksZC5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZFwiKSxjLnBhdGhOYW1lJiZkLmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIsYy5wYXRoTmFtZSksdGhpcy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmFkZChkKSxkLm9uKFwiZm9jdXNcIixELHRoaXMpLENLRURJVE9SLmVudi5pZSYmZC5vbihcImJsdXJcIixKLHRoaXMpLGQuXy5pbml0aWFsU2V0RGF0YT0hMCxkLnNldERhdGEoZC5nZXRIdG1sKCkpLCEwKTohMX0sX2ZpbmRPbmVOb3ROZXN0ZWQ6ZnVuY3Rpb24oYSl7YT10aGlzLndyYXBwZXIuZmluZChhKTtmb3IodmFyIGIsYyxkPTA7ZDxhLmNvdW50KCk7ZCsrKWlmKGI9XG5hLmdldEl0ZW0oZCksYz1iLmdldEFzY2VuZGFudChlLmlzRG9tV2lkZ2V0V3JhcHBlciksdGhpcy53cmFwcGVyLmVxdWFscyhjKSlyZXR1cm4gYjtyZXR1cm4gbnVsbH0saXNJbml0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLndyYXBwZXJ8fCF0aGlzLmluaXRlZCl9LGlzUmVhZHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0luaXRlZCgpJiZ0aGlzLnJlYWR5fSxmb2N1czpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpO2lmKGEpe3ZhciBiPXRoaXMuZWRpdG9yLmNoZWNrRGlydHkoKTthLmZha2UodGhpcy53cmFwcGVyKTshYiYmdGhpcy5lZGl0b3IucmVzZXREaXJ0eSgpfXRoaXMuZWRpdG9yLmZvY3VzKCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhhKTt0aGlzLndyYXBwZXIucmVtb3ZlQ2xhc3MoZS5XUkFQUEVSX0NMQVNTX1BSRUZJWCthKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oYSl7Rih0aGlzLFxuYSwwKX0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZGF0YSxkPTA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpY1thXSE9PWImJihjW2FdPWIsZD0xKTtlbHNle3ZhciBlPWE7Zm9yKGEgaW4gZSljW2FdIT09ZVthXSYmKGQ9MSxjW2FdPWVbYV0pfWQmJnRoaXMuZGF0YVJlYWR5JiYoUSh0aGlzKSx0aGlzLmZpcmUoXCJkYXRhXCIsYykpO3JldHVybiB0aGlzfSxzZXRGb2N1c2VkOmZ1bmN0aW9uKGEpe3RoaXMud3JhcHBlclthP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwiY2tlX3dpZGdldF9mb2N1c2VkXCIpO3RoaXMuZmlyZShhP1wiZm9jdXNcIjpcImJsdXJcIik7cmV0dXJuIHRoaXN9LHNldFNlbGVjdGVkOmZ1bmN0aW9uKGEpe3RoaXMud3JhcHBlclthP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwiY2tlX3dpZGdldF9zZWxlY3RlZFwiKTt0aGlzLmZpcmUoYT9cInNlbGVjdFwiOlwiZGVzZWxlY3RcIik7cmV0dXJuIHRoaXN9LHVwZGF0ZURyYWdIYW5kbGVyUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuZWRpdG9yLGI9dGhpcy5lbGVtZW50LiQsYz10aGlzLl8uZHJhZ0hhbmRsZXJPZmZzZXQsYj17eDpiLm9mZnNldExlZnQseTpiLm9mZnNldFRvcC0xNX07YyYmYi54PT1jLngmJmIueT09Yy55fHwoYz1hLmNoZWNrRGlydHkoKSxhLmZpcmUoXCJsb2NrU25hcHNob3RcIiksdGhpcy5kcmFnSGFuZGxlckNvbnRhaW5lci5zZXRTdHlsZXMoe3RvcDpiLnkrXCJweFwiLGxlZnQ6Yi54K1wicHhcIixkaXNwbGF5OlwiYmxvY2tcIn0pLGEuZmlyZShcInVubG9ja1NuYXBzaG90XCIpLCFjJiZhLnJlc2V0RGlydHkoKSx0aGlzLl8uZHJhZ0hhbmRsZXJPZmZzZXQ9Yil9fTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihlLnByb3RvdHlwZSk7ZS5nZXROZXN0ZWRFZGl0YWJsZT1mdW5jdGlvbihhLGIpe3JldHVybiFifHxiLmVxdWFscyhhKT9udWxsOmUuaXNEb21OZXN0ZWRFZGl0YWJsZShiKT9iOmUuZ2V0TmVzdGVkRWRpdGFibGUoYSxiLmdldFBhcmVudCgpKX07ZS5pc0RvbURyYWdIYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1kcmFnLWhhbmRsZXJcIil9O2UuaXNEb21EcmFnSGFuZGxlckNvbnRhaW5lcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQ2xhc3MoXCJja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlcl9jb250YWluZXJcIil9O2UuaXNEb21OZXN0ZWRFZGl0YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWVkaXRhYmxlXCIpfTtlLmlzRG9tV2lkZ2V0RWxlbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiZGF0YS13aWRnZXRcIil9O2UuaXNEb21XaWRnZXRXcmFwcGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS13aWRnZXQtd3JhcHBlclwiKX07XG5lLmlzRG9tV2lkZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuaXNEb21XaWRnZXRXcmFwcGVyKGEpfHx0aGlzLmlzRG9tV2lkZ2V0RWxlbWVudChhKTohMX07ZS5pc1BhcnNlcldpZGdldEVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhIWEuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdfTtlLmlzUGFyc2VyV2lkZ2V0V3JhcHBlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiEhYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIl19O2UuV1JBUFBFUl9DTEFTU19QUkVGSVg9XCJja2Vfd2lkZ2V0X3dyYXBwZXJfXCI7Yi5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSkse3NldERhdGE6ZnVuY3Rpb24oYSl7dGhpcy5fLmluaXRpYWxTZXREYXRhfHxcbnRoaXMuZWRpdG9yLndpZGdldHMuZGVzdHJveUFsbCghMSx0aGlzKTt0aGlzLl8uaW5pdGlhbFNldERhdGE9ITE7YT10aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvSHRtbChhLHtjb250ZXh0OnRoaXMuZ2V0TmFtZSgpLGZpbHRlcjp0aGlzLmZpbHRlcixlbnRlck1vZGU6dGhpcy5lbnRlck1vZGV9KTt0aGlzLnNldEh0bWwoYSk7dGhpcy5lZGl0b3Iud2lkZ2V0cy5pbml0T25BbGwodGhpcyl9LGdldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQodGhpcy5nZXRIdG1sKCkse2NvbnRleHQ6dGhpcy5nZXROYW1lKCksZmlsdGVyOnRoaXMuZmlsdGVyLGVudGVyTW9kZTp0aGlzLmVudGVyTW9kZX0pfX0pO3ZhciBVPS9eKD86PCg/OmRpdnxzcGFuKSg/OiBkYXRhLWNrZS10ZW1wPVwiMVwiKT8oPzogaWQ9XCJja2VfY29weWJpblwiKT8oPzogZGF0YS1ja2UtdGVtcD1cIjFcIik/Pik/KD86PCg/OmRpdnxzcGFuKSg/OiBzdHlsZT1cIlteXCJdK1wiKT8+KT88c3BhbiBbXj5dKmRhdGEtY2tlLWNvcHliaW4tc3RhcnQ9XCIxXCJbXj5dKj4uPzxcXC9zcGFuPihbXFxzXFxTXSspPHNwYW4gW14+XSpkYXRhLWNrZS1jb3B5YmluLWVuZD1cIjFcIltePl0qPi4/PFxcL3NwYW4+KD86PFxcLyg/OmRpdnxzcGFuKT4pPyg/OjxcXC8oPzpkaXZ8c3Bhbik+KT8kL2ksXG5UPXszNzoxLDM4OjEsMzk6MSw0MDoxLDg6MSw0NjoxfTtDS0VESVRPUi5wbHVnaW5zLndpZGdldD1lO2UucmVwb3NpdG9yeT1hO2UubmVzdGVkRWRpdGFibGU9Yn0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjLGQpe3RoaXMuZWRpdG9yPWE7dGhpcy5ub3RpZmljYXRpb249bnVsbDt0aGlzLl9tZXNzYWdlPW5ldyBDS0VESVRPUi50ZW1wbGF0ZShjKTt0aGlzLl9zaW5ndWxhck1lc3NhZ2U9ZD9uZXcgQ0tFRElUT1IudGVtcGxhdGUoZCk6bnVsbDt0aGlzLl90YXNrcz1bXTt0aGlzLl9kb25lVGFza3M9dGhpcy5fZG9uZVdlaWdodHM9dGhpcy5fdG90YWxXZWlnaHRzPTB9ZnVuY3Rpb24gZShhKXt0aGlzLl93ZWlnaHQ9YXx8MTt0aGlzLl9kb25lV2VpZ2h0PTA7dGhpcy5faXNDYW5jZWxlZD0hMX1DS0VESVRPUi5wbHVnaW5zLmFkZChcIm5vdGlmaWNhdGlvbmFnZ3JlZ2F0b3JcIix7cmVxdWlyZXM6XCJub3RpZmljYXRpb25cIn0pO2EucHJvdG90eXBlPXtjcmVhdGVUYXNrOmZ1bmN0aW9uKGEpe2E9XG5hfHx7fTt2YXIgYz0hdGhpcy5ub3RpZmljYXRpb24sZDtjJiYodGhpcy5ub3RpZmljYXRpb249dGhpcy5fY3JlYXRlTm90aWZpY2F0aW9uKCkpO2Q9dGhpcy5fYWRkVGFzayhhKTtkLm9uKFwidXBkYXRlZFwiLHRoaXMuX29uVGFza1VwZGF0ZSx0aGlzKTtkLm9uKFwiZG9uZVwiLHRoaXMuX29uVGFza0RvbmUsdGhpcyk7ZC5vbihcImNhbmNlbGVkXCIsZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVUYXNrKGQpfSx0aGlzKTt0aGlzLnVwZGF0ZSgpO2MmJnRoaXMubm90aWZpY2F0aW9uLnNob3coKTtyZXR1cm4gZH0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlTm90aWZpY2F0aW9uKCk7dGhpcy5pc0ZpbmlzaGVkKCkmJnRoaXMuZmlyZShcImZpbmlzaGVkXCIpfSxnZXRQZXJjZW50YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmdldFRhc2tDb3VudCgpPzE6dGhpcy5fZG9uZVdlaWdodHMvdGhpcy5fdG90YWxXZWlnaHRzfSxpc0ZpbmlzaGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9uZVRhc2tDb3VudCgpPT09XG50aGlzLmdldFRhc2tDb3VudCgpfSxnZXRUYXNrQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFza3MubGVuZ3RofSxnZXREb25lVGFza0NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvbmVUYXNrc30sX3VwZGF0ZU5vdGlmaWNhdGlvbjpmdW5jdGlvbigpe3RoaXMubm90aWZpY2F0aW9uLnVwZGF0ZSh7bWVzc2FnZTp0aGlzLl9nZXROb3RpZmljYXRpb25NZXNzYWdlKCkscHJvZ3Jlc3M6dGhpcy5nZXRQZXJjZW50YWdlKCl9KX0sX2dldE5vdGlmaWNhdGlvbk1lc3NhZ2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFRhc2tDb3VudCgpLGM9e2N1cnJlbnQ6dGhpcy5nZXREb25lVGFza0NvdW50KCksbWF4OmEscGVyY2VudGFnZTpNYXRoLnJvdW5kKDEwMCp0aGlzLmdldFBlcmNlbnRhZ2UoKSl9O3JldHVybigxPT1hJiZ0aGlzLl9zaW5ndWxhck1lc3NhZ2U/dGhpcy5fc2luZ3VsYXJNZXNzYWdlOnRoaXMuX21lc3NhZ2UpLm91dHB1dChjKX0sX2NyZWF0ZU5vdGlmaWNhdGlvbjpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IucGx1Z2lucy5ub3RpZmljYXRpb24odGhpcy5lZGl0b3IsXG57dHlwZTpcInByb2dyZXNzXCJ9KX0sX2FkZFRhc2s6ZnVuY3Rpb24oYSl7YT1uZXcgZShhLndlaWdodCk7dGhpcy5fdGFza3MucHVzaChhKTt0aGlzLl90b3RhbFdlaWdodHMrPWEuX3dlaWdodDtyZXR1cm4gYX0sX3JlbW92ZVRhc2s6ZnVuY3Rpb24oYSl7dmFyIGM9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl90YXNrcyxhKTstMSE9PWMmJihhLl9kb25lV2VpZ2h0JiYodGhpcy5fZG9uZVdlaWdodHMtPWEuX2RvbmVXZWlnaHQpLHRoaXMuX3RvdGFsV2VpZ2h0cy09YS5fd2VpZ2h0LHRoaXMuX3Rhc2tzLnNwbGljZShjLDEpLHRoaXMudXBkYXRlKCkpfSxfb25UYXNrVXBkYXRlOmZ1bmN0aW9uKGEpe3RoaXMuX2RvbmVXZWlnaHRzKz1hLmRhdGE7dGhpcy51cGRhdGUoKX0sX29uVGFza0RvbmU6ZnVuY3Rpb24oKXt0aGlzLl9kb25lVGFza3MrPTE7dGhpcy51cGRhdGUoKX19O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGEucHJvdG90eXBlKTtlLnByb3RvdHlwZT17ZG9uZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlKHRoaXMuX3dlaWdodCl9LFxudXBkYXRlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzRG9uZSgpJiYhdGhpcy5pc0NhbmNlbGVkKCkpe2E9TWF0aC5taW4odGhpcy5fd2VpZ2h0LGEpO3ZhciBjPWEtdGhpcy5fZG9uZVdlaWdodDt0aGlzLl9kb25lV2VpZ2h0PWE7dGhpcy5maXJlKFwidXBkYXRlZFwiLGMpO3RoaXMuaXNEb25lKCkmJnRoaXMuZmlyZShcImRvbmVcIil9fSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmlzRG9uZSgpfHx0aGlzLmlzQ2FuY2VsZWQoKXx8KHRoaXMuX2lzQ2FuY2VsZWQ9ITAsdGhpcy5maXJlKFwiY2FuY2VsZWRcIikpfSxpc0RvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2VpZ2h0PT09dGhpcy5fZG9uZVdlaWdodH0saXNDYW5jZWxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0NhbmNlbGVkfX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oZS5wcm90b3R5cGUpO0NLRURJVE9SLnBsdWdpbnMubm90aWZpY2F0aW9uQWdncmVnYXRvcj1hO0NLRURJVE9SLnBsdWdpbnMubm90aWZpY2F0aW9uQWdncmVnYXRvci50YXNrPVxuZX0oKSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidXBsb2Fkd2lkZ2V0XCIse3JlcXVpcmVzOlwid2lkZ2V0LGNsaXBib2FyZCxmaWxldG9vbHMsbm90aWZpY2F0aW9uYWdncmVnYXRvclwiLGluaXQ6ZnVuY3Rpb24oYSl7YS5maWx0ZXIuYWxsb3coXCIqWyFkYXRhLXdpZGdldCwhZGF0YS1ja2UtdXBsb2FkLWlkXVwiKX19KTtDS0VESVRPUi5maWxlVG9vbHN8fChDS0VESVRPUi5maWxlVG9vbHM9e30pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5maWxlVG9vbHMse2FkZFVwbG9hZFdpZGdldDpmdW5jdGlvbihhLGUsYil7dmFyIGM9Q0tFRElUT1IuZmlsZVRvb2xzLGQ9YS51cGxvYWRSZXBvc2l0b3J5LGw9Yi5zdXBwb3J0ZWRUeXBlcz8xMDoyMDtpZihiLmZpbGVUb0VsZW1lbnQpYS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGE7dmFyIGc9YS53aWRnZXRzLnJlZ2lzdGVyZWRbZV0saD1iLmRhdGFUcmFuc2ZlcixsPWguZ2V0RmlsZXNDb3VudCgpLFxuZj1nLmxvYWRNZXRob2R8fFwibG9hZEFuZFVwbG9hZFwiLG4scDtpZighYi5kYXRhVmFsdWUmJmwpZm9yKHA9MDtwPGw7cCsrKWlmKG49aC5nZXRGaWxlKHApLCFnLnN1cHBvcnRlZFR5cGVzfHxjLmlzVHlwZVN1cHBvcnRlZChuLGcuc3VwcG9ydGVkVHlwZXMpKXt2YXIgcj1nLmZpbGVUb0VsZW1lbnQobik7bj1kLmNyZWF0ZShuLHZvaWQgMCxnLmxvYWRlclR5cGUpO3ImJihuW2ZdKGcudXBsb2FkVXJsLGcuYWRkaXRpb25hbFJlcXVlc3RQYXJhbWV0ZXJzKSxDS0VESVRPUi5maWxlVG9vbHMubWFya0VsZW1lbnQocixlLG4uaWQpLFwibG9hZEFuZFVwbG9hZFwiIT1mJiZcInVwbG9hZFwiIT1mfHxnLnNraXBOb3RpZmljYXRpb25zfHxDS0VESVRPUi5maWxlVG9vbHMuYmluZE5vdGlmaWNhdGlvbnMoYSxuKSxiLmRhdGFWYWx1ZSs9ci5nZXRPdXRlckh0bWwoKSl9fSxudWxsLG51bGwsbCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGIse2Rvd25jYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoXCJcIil9LFxuaW5pdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLndyYXBwZXIuZmluZE9uZShcIltkYXRhLWNrZS11cGxvYWQtaWRdXCIpLmRhdGEoXCJja2UtdXBsb2FkLWlkXCIpLGU9ZC5sb2FkZXJzW2NdLGw9Q0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZSxmLG47ZS5vbihcInVwZGF0ZVwiLGZ1bmN0aW9uKGQpe2lmKGIud3JhcHBlciYmYi53cmFwcGVyLmdldFBhcmVudCgpKXthLmZpcmUoXCJsb2NrU25hcHNob3RcIik7ZD1cIm9uXCIrbChlLnN0YXR1cyk7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIGJbZF18fCExIT09YltkXShlKSluPVwiY2tlX3VwbG9hZF9cIitlLnN0YXR1cyxiLndyYXBwZXImJm4hPWYmJihmJiZiLndyYXBwZXIucmVtb3ZlQ2xhc3MoZiksYi53cmFwcGVyLmFkZENsYXNzKG4pLGY9biksXCJlcnJvclwiIT1lLnN0YXR1cyYmXCJhYm9ydFwiIT1lLnN0YXR1c3x8YS53aWRnZXRzLmRlbChiKTthLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKX1lbHNlIGEuZWRpdGFibGUoKS5maW5kKCdbZGF0YS1ja2UtdXBsb2FkLWlkXFx4M2RcIicrXG5jKydcIl0nKS5jb3VudCgpfHxlLmFib3J0KCksZC5yZW1vdmVMaXN0ZW5lcigpfSk7ZS51cGRhdGUoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYixjKXtpZihcIlwiPT09Yi50cmltKCkpYS53aWRnZXRzLmRlbCh0aGlzKTtlbHNle3ZhciBkPXRoaXM9PWEud2lkZ2V0cy5mb2N1c2VkLGU9YS5lZGl0YWJsZSgpLGY9YS5jcmVhdGVSYW5nZSgpLGwscDtkfHwocD1hLmdldFNlbGVjdGlvbigpLmNyZWF0ZUJvb2ttYXJrcygpKTtmLnNldFN0YXJ0QmVmb3JlKHRoaXMud3JhcHBlcik7Zi5zZXRFbmRBZnRlcih0aGlzLndyYXBwZXIpO2QmJihsPWYuY3JlYXRlQm9va21hcmsoKSk7ZS5pbnNlcnRIdG1sSW50b1JhbmdlKGIsZixjKTthLndpZGdldHMuY2hlY2tXaWRnZXRzKHtpbml0T25seU5ldzohMH0pO2Eud2lkZ2V0cy5kZXN0cm95KHRoaXMsITApO2Q/KGYubW92ZVRvQm9va21hcmsobCksZi5zZWxlY3QoKSk6YS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RCb29rbWFya3MocCl9fSxfZ2V0TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLndyYXBwZXIuZmluZE9uZShcIltkYXRhLWNrZS11cGxvYWQtaWRdXCIpO3JldHVybiBhP3RoaXMuZWRpdG9yLnVwbG9hZFJlcG9zaXRvcnkubG9hZGVyc1thLmRhdGEoXCJja2UtdXBsb2FkLWlkXCIpXTpudWxsfX0pO2Eud2lkZ2V0cy5hZGQoZSxiKX0sbWFya0VsZW1lbnQ6ZnVuY3Rpb24oYSxlLGIpe2Euc2V0QXR0cmlidXRlcyh7XCJkYXRhLWNrZS11cGxvYWQtaWRcIjpiLFwiZGF0YS13aWRnZXRcIjplfSl9LGJpbmROb3RpZmljYXRpb25zOmZ1bmN0aW9uKGEsZSl7ZnVuY3Rpb24gYigpe2M9YS5fLnVwbG9hZFdpZGdldE5vdGlmaWNhaW9uQWdncmVnYXRvcjtpZighY3x8Yy5pc0ZpbmlzaGVkKCkpYz1hLl8udXBsb2FkV2lkZ2V0Tm90aWZpY2Fpb25BZ2dyZWdhdG9yPW5ldyBDS0VESVRPUi5wbHVnaW5zLm5vdGlmaWNhdGlvbkFnZ3JlZ2F0b3IoYSxhLmxhbmcudXBsb2Fkd2lkZ2V0LnVwbG9hZE1hbnksYS5sYW5nLnVwbG9hZHdpZGdldC51cGxvYWRPbmUpLGMub25jZShcImZpbmlzaGVkXCIsXG5mdW5jdGlvbigpe3ZhciBiPWMuZ2V0VGFza0NvdW50KCk7MD09PWI/Yy5ub3RpZmljYXRpb24uaGlkZSgpOmMubm90aWZpY2F0aW9uLnVwZGF0ZSh7bWVzc2FnZToxPT1iP2EubGFuZy51cGxvYWR3aWRnZXQuZG9uZU9uZTphLmxhbmcudXBsb2Fkd2lkZ2V0LmRvbmVNYW55LnJlcGxhY2UoXCIlMVwiLGIpLHR5cGU6XCJzdWNjZXNzXCIsaW1wb3J0YW50OjF9KX0pfXZhciBjLGQ9bnVsbDtlLm9uKFwidXBkYXRlXCIsZnVuY3Rpb24oKXshZCYmZS51cGxvYWRUb3RhbCYmKGIoKSxkPWMuY3JlYXRlVGFzayh7d2VpZ2h0OmUudXBsb2FkVG90YWx9KSk7ZCYmXCJ1cGxvYWRpbmdcIj09ZS5zdGF0dXMmJmQudXBkYXRlKGUudXBsb2FkZWQpfSk7ZS5vbihcInVwbG9hZGVkXCIsZnVuY3Rpb24oKXtkJiZkLmRvbmUoKX0pO2Uub24oXCJlcnJvclwiLGZ1bmN0aW9uKCl7ZCYmZC5jYW5jZWwoKTthLnNob3dOb3RpZmljYXRpb24oZS5tZXNzYWdlLFwid2FybmluZ1wiKX0pO2Uub24oXCJhYm9ydFwiLGZ1bmN0aW9uKCl7ZCYmXG5kLmNhbmNlbCgpO2Euc2hvd05vdGlmaWNhdGlvbihhLmxhbmcudXBsb2Fkd2lkZ2V0LmFib3J0LFwiaW5mb1wiKX0pfX0pfSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXs5Pj1hJiYoYT1cIjBcIithKTtyZXR1cm4gU3RyaW5nKGEpfWZ1bmN0aW9uIGUoYyl7dmFyIGQ9bmV3IERhdGUsZD1bZC5nZXRGdWxsWWVhcigpLGQuZ2V0TW9udGgoKSsxLGQuZ2V0RGF0ZSgpLGQuZ2V0SG91cnMoKSxkLmdldE1pbnV0ZXMoKSxkLmdldFNlY29uZHMoKV07Yis9MTtyZXR1cm5cImltYWdlLVwiK0NLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChkLGEpLmpvaW4oXCJcIikrXCItXCIrYitcIi5cIitjfXZhciBiPTA7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ1cGxvYWRpbWFnZVwiLHtyZXF1aXJlczpcInVwbG9hZHdpZGdldFwiLG9uTG9hZDpmdW5jdGlvbigpe0NLRURJVE9SLmFkZENzcyhcIi5ja2VfdXBsb2FkX3VwbG9hZGluZyBpbWd7b3BhY2l0eTogMC4zfVwiKX0saW5pdDpmdW5jdGlvbihhKXtpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0ZpbGVBcGlTdXBwb3J0ZWQpe3ZhciBiPVxuQ0tFRElUT1IuZmlsZVRvb2xzLGw9Yi5nZXRVcGxvYWRVcmwoYS5jb25maWcsXCJpbWFnZVwiKTtsJiYoYi5hZGRVcGxvYWRXaWRnZXQoYSxcInVwbG9hZGltYWdlXCIse3N1cHBvcnRlZFR5cGVzOi9pbWFnZVxcLyhqcGVnfHBuZ3xnaWZ8Ym1wKS8sdXBsb2FkVXJsOmwsZmlsZVRvRWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImltZ1wiKTthLnNldEF0dHJpYnV0ZShcInNyY1wiLFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRGdBT0FJQUFBQUFBQVAvLy95SDVCQUFBQUFBQUxBQUFBQUFPQUE0QUFBSU1oSStweSswUG81eTAycXNLQURzXFx4M2RcIik7cmV0dXJuIGF9LHBhcnRzOntpbWc6XCJpbWdcIn0sb25VcGxvYWRpbmc6ZnVuY3Rpb24oYSl7dGhpcy5wYXJ0cy5pbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsYS5kYXRhKX0sb25VcGxvYWRlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnBhcnRzLmltZy4kO3RoaXMucmVwbGFjZVdpdGgoJ1xceDNjaW1nIHNyY1xceDNkXCInK1xuYS51cmwrJ1wiIHdpZHRoXFx4M2RcIicrKGEucmVzcG9uc2VEYXRhLndpZHRofHxiLm5hdHVyYWxXaWR0aCkrJ1wiIGhlaWdodFxceDNkXCInKyhhLnJlc3BvbnNlRGF0YS5oZWlnaHR8fGIubmF0dXJhbEhlaWdodCkrJ1wiXFx4M2UnKX19KSxhLm9uKFwicGFzdGVcIixmdW5jdGlvbihrKXtpZihrLmRhdGEuZGF0YVZhbHVlLm1hdGNoKC88aW1nW1xcc1xcU10rZGF0YTovaSkpe2s9ay5kYXRhO3ZhciBnPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChnLmJvZHkpLGgsbSxmO2cuZGF0YShcImNrZS1lZGl0YWJsZVwiLDEpO2cuYXBwZW5kSHRtbChrLmRhdGFWYWx1ZSk7aD1nLmZpbmQoXCJpbWdcIik7Zm9yKGY9MDtmPGguY291bnQoKTtmKyspe209aC5nZXRJdGVtKGYpO3ZhciBuPW0uZ2V0QXR0cmlidXRlKFwic3JjXCIpLHA9biYmXCJkYXRhOlwiPT1uLnN1YnN0cmluZygwLDUpLHI9bnVsbD09PW0uZGF0YShcImNrZS1yZWFsZWxlbWVudFwiKTtcbnAmJnImJiFtLmRhdGEoXCJja2UtdXBsb2FkLWlkXCIpJiYhbS5pc1JlYWRPbmx5KDEpJiYocD0ocD1uLm1hdGNoKC9pbWFnZVxcLyhbYS16XSs/KTsvaSkpJiZwWzFdfHxcImpwZ1wiLG49YS51cGxvYWRSZXBvc2l0b3J5LmNyZWF0ZShuLGUocCkpLG4udXBsb2FkKGwpLGIubWFya0VsZW1lbnQobSxcInVwbG9hZGltYWdlXCIsbi5pZCksYi5iaW5kTm90aWZpY2F0aW9ucyhhLG4pKX1rLmRhdGFWYWx1ZT1nLmdldEh0bWwoKX19KSl9fX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwid3NjXCIse3JlcXVpcmVzOlwiZGlhbG9nXCIscGFyc2VBcGk6ZnVuY3Rpb24oYSl7YS5jb25maWcud3NjX29uRmluaXNoPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmNvbmZpZy53c2Nfb25GaW5pc2g/YS5jb25maWcud3NjX29uRmluaXNoOmZ1bmN0aW9uKCl7fTthLmNvbmZpZy53c2Nfb25DbG9zZT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5jb25maWcud3NjX29uQ2xvc2U/YS5jb25maWcud3NjX29uQ2xvc2U6ZnVuY3Rpb24oKXt9fSxcbnBhcnNlQ29uZmlnOmZ1bmN0aW9uKGEpe2EuY29uZmlnLndzY19jdXN0b21lcklkPWEuY29uZmlnLndzY19jdXN0b21lcklkfHxDS0VESVRPUi5jb25maWcud3NjX2N1c3RvbWVySWR8fFwiMTp1YTN4dzEtMlh5R0ozLUdXcnVEMy02T0ZOVDEtb1hjdUIxLW5SNkJwNC1oZ1FIYy1FY1luZzMtc2RSWEczLU5PZkZrXCI7YS5jb25maWcud3NjX2N1c3RvbURpY3Rpb25hcnlJZHM9YS5jb25maWcud3NjX2N1c3RvbURpY3Rpb25hcnlJZHN8fENLRURJVE9SLmNvbmZpZy53c2NfY3VzdG9tRGljdGlvbmFyeUlkc3x8XCJcIjthLmNvbmZpZy53c2NfdXNlckRpY3Rpb25hcnlOYW1lPWEuY29uZmlnLndzY191c2VyRGljdGlvbmFyeU5hbWV8fENLRURJVE9SLmNvbmZpZy53c2NfdXNlckRpY3Rpb25hcnlOYW1lfHxcIlwiO2EuY29uZmlnLndzY19jdXN0b21Mb2FkZXJTY3JpcHQ9YS5jb25maWcud3NjX2N1c3RvbUxvYWRlclNjcmlwdHx8Q0tFRElUT1IuY29uZmlnLndzY19jdXN0b21Mb2FkZXJTY3JpcHQ7YS5jb25maWcud3NjX2ludGVyZmFjZUxhbmc9XG5hLmNvbmZpZy53c2NfaW50ZXJmYWNlTGFuZztDS0VESVRPUi5jb25maWcud3NjX2NtZD1hLmNvbmZpZy53c2NfY21kfHxDS0VESVRPUi5jb25maWcud3NjX2NtZHx8XCJzcGVsbFwiO0NLRURJVE9SLmNvbmZpZy53c2NfdmVyc2lvbj1cInY0LjMuMC1tYXN0ZXItZDc2OTIzM1wiO0NLRURJVE9SLmNvbmZpZy53c2NfcmVtb3ZlR2xvYmFsVmFyaWFibGU9ITB9LG9uTG9hZDpmdW5jdGlvbihhKXtcIm1vb25vLWxpc2FcIj09KENLRURJVE9SLnNraW5OYW1lfHxhLmNvbmZpZy5za2luKSYmQ0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldCh0aGlzLnBhdGgrXCJza2lucy9cIitDS0VESVRPUi5za2luLm5hbWUrXCIvd3NjLmNzc1wiKX0saW5pdDpmdW5jdGlvbihhKXt2YXIgZT1DS0VESVRPUi5lbnY7dGhpcy5wYXJzZUNvbmZpZyhhKTt0aGlzLnBhcnNlQXBpKGEpO2EuYWRkQ29tbWFuZChcImNoZWNrc3BlbGxcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImNoZWNrc3BlbGxcIikpLm1vZGVzPVxue3d5c2l3eWc6IUNLRURJVE9SLmVudi5vcGVyYSYmIUNLRURJVE9SLmVudi5haXImJmRvY3VtZW50LmRvbWFpbj09d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lJiYhKGUuaWUmJig4PmUudmVyc2lvbnx8ZS5xdWlya3MpKX07XCJ1bmRlZmluZWRcIj09dHlwZW9mIGEucGx1Z2lucy5zY2F5dCYmYS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiU3BlbGxDaGVja2VyXCIse2xhYmVsOmEubGFuZy53c2MudG9vbGJhcixjbGljazpmdW5jdGlvbihhKXt2YXIgYz1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuY29udGFpbmVyLmdldFRleHQoKTphLmRvY3VtZW50LmdldEJvZHkoKS5nZXRUZXh0KCk7KGM9Yy5yZXBsYWNlKC9cXHMvZyxcIlwiKSk/YS5leGVjQ29tbWFuZChcImNoZWNrc3BlbGxcIik6YWxlcnQoXCJOb3RoaW5nIHRvIGNoZWNrIVwiKX0sdG9vbGJhcjpcInNwZWxsY2hlY2tlciwxMFwifSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImNoZWNrc3BlbGxcIix0aGlzLnBhdGgrXG4oQ0tFRElUT1IuZW52LmllJiY3Pj1DS0VESVRPUi5lbnYudmVyc2lvbj9cImRpYWxvZ3Mvd3NjX2llLmpzXCI6d2luZG93LnBvc3RNZXNzYWdlP1wiZGlhbG9ncy93c2MuanNcIjpcImRpYWxvZ3Mvd3NjX2llLmpzXCIpKX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYihhKXt2YXIgYz0hMTtmLmF0dGFjaExpc3RlbmVyKGYsXCJrZXlkb3duXCIsZnVuY3Rpb24oKXt2YXIgYj1nLmdldEJvZHkoKS5nZXRFbGVtZW50c0J5VGFnKGEpO2lmKCFjKXtmb3IodmFyIGQ9MDtkPGIuY291bnQoKTtkKyspYi5nZXRJdGVtKGQpLnNldEN1c3RvbURhdGEoXCJyZXRhaW5cIiwhMCk7Yz0hMH19LG51bGwsbnVsbCwxKTtmLmF0dGFjaExpc3RlbmVyKGYsXCJrZXl1cFwiLGZ1bmN0aW9uKCl7dmFyIGI9Zy5nZXRFbGVtZW50c0J5VGFnKGEpO2MmJigxPT1iLmNvdW50KCkmJiFiLmdldEl0ZW0oMCkuZ2V0Q3VzdG9tRGF0YShcInJldGFpblwiKSYmQ0tFRElUT1IudG9vbHMuaXNFbXB0eShiLmdldEl0ZW0oMCkuZ2V0QXR0cmlidXRlcygpKSYmXG5iLmdldEl0ZW0oMCkucmVtb3ZlKDEpLGM9ITEpfSl9dmFyIGM9dGhpcy5lZGl0b3IsZz1hLmRvY3VtZW50LGg9Zy5ib2R5LG09Zy5nZXRFbGVtZW50QnlJZChcImNrZV9hY3RzY3JwdFwiKTttJiZtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobSk7KG09Zy5nZXRFbGVtZW50QnlJZChcImNrZV9zaGltc2NycHRcIikpJiZtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobSk7KG09Zy5nZXRFbGVtZW50QnlJZChcImNrZV9iYXNldGFnc2NycHRcIikpJiZtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobSk7aC5jb250ZW50RWRpdGFibGU9ITA7Q0tFRElUT1IuZW52LmllJiYoaC5oaWRlRm9jdXM9ITAsaC5kaXNhYmxlZD0hMCxoLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtkZWxldGUgdGhpcy5fLmlzTG9hZGluZ0RhdGE7dGhpcy4kPWg7Zz1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGcpO3RoaXMuc2V0dXAoKTt0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKTt2YXIgZj10aGlzO0NLRURJVE9SLmVudi5pZSYmXG4hQ0tFRElUT1IuZW52LmVkZ2UmJmcuZ2V0RG9jdW1lbnRFbGVtZW50KCkuYWRkQ2xhc3MoZy4kLmNvbXBhdE1vZGUpO0NLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlJiZjLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfUD9iKFwicFwiKTpDS0VESVRPUi5lbnYuZWRnZSYmMTU+Q0tFRElUT1IuZW52LnZlcnNpb24mJmMuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9ESVYmJmIoXCJkaXZcIik7aWYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmllJiYxMDxDS0VESVRPUi5lbnYudmVyc2lvbilnLmdldERvY3VtZW50RWxlbWVudCgpLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldFRhcmdldCgpLmlzKFwiaHRtbFwiKSYmc2V0VGltZW91dChmdW5jdGlvbigpe2MuZWRpdGFibGUoKS5mb2N1cygpfSl9KTtlKGMpO3RyeXtjLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoXCIyRC1wb3NpdGlvblwiLCExLCEwKX1jYXRjaChuKXt9KENLRURJVE9SLmVudi5nZWNrb3x8XG5DS0VESVRPUi5lbnYuaWUmJlwiQ1NTMUNvbXBhdFwiPT1jLmRvY3VtZW50LiQuY29tcGF0TW9kZSkmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImtleWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7aWYoMzM9PWJ8fDM0PT1iKWlmKENLRURJVE9SLmVudi5pZSlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpfSwwKTtlbHNlIGlmKGMud2luZG93LiQuaW5uZXJIZWlnaHQ+dGhpcy4kLm9mZnNldEhlaWdodCl7dmFyIGQ9Yy5jcmVhdGVSYW5nZSgpO2RbMzM9PWI/XCJtb3ZlVG9FbGVtZW50RWRpdFN0YXJ0XCI6XCJtb3ZlVG9FbGVtZW50RWRpdEVuZFwiXSh0aGlzKTtkLnNlbGVjdCgpO2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfX0pO0NLRURJVE9SLmVudi5pZSYmdGhpcy5hdHRhY2hMaXN0ZW5lcihnLFwiYmx1clwiLGZ1bmN0aW9uKCl7dHJ5e2cuJC5zZWxlY3Rpb24uZW1wdHkoKX1jYXRjaChhKXt9fSk7Q0tFRElUT1IuZW52LmlPUyYmXG50aGlzLmF0dGFjaExpc3RlbmVyKGcsXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKCl7YS5mb2N1cygpfSk7aD1jLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJ0aXRsZVwiKS5nZXRJdGVtKDApO2guZGF0YShcImNrZS10aXRsZVwiLGguZ2V0VGV4dCgpKTtDS0VESVRPUi5lbnYuaWUmJihjLmRvY3VtZW50LiQudGl0bGU9dGhpcy5fLmRvY1RpdGxlKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJ1bmxvYWRlZFwiPT10aGlzLnN0YXR1cyYmKHRoaXMuc3RhdHVzPVwicmVhZHlcIik7Yy5maXJlKFwiY29udGVudERvbVwiKTt0aGlzLl8uaXNQZW5kaW5nRm9jdXMmJihjLmZvY3VzKCksdGhpcy5fLmlzUGVuZGluZ0ZvY3VzPSExKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5maXJlKFwiZGF0YVJlYWR5XCIpfSwwKX0sMCx0aGlzKX1mdW5jdGlvbiBlKGEpe2Z1bmN0aW9uIGIoKXt2YXIgZTthLmVkaXRhYmxlKCkuYXR0YWNoTGlzdGVuZXIoYSxcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKCl7dmFyIGI9XG5hLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpO2ImJihlJiYoZS5kZXRhY2hFdmVudChcIm9ucmVzaXplc3RhcnRcIixjKSxlPW51bGwpLGIuJC5hdHRhY2hFdmVudChcIm9ucmVzaXplc3RhcnRcIixjKSxlPWIuJCl9KX1mdW5jdGlvbiBjKGEpe2EucmV0dXJuVmFsdWU9ITF9aWYoQ0tFRElUT1IuZW52LmdlY2tvKXRyeXt2YXIgZT1hLmRvY3VtZW50LiQ7ZS5leGVjQ29tbWFuZChcImVuYWJsZU9iamVjdFJlc2l6aW5nXCIsITEsIWEuY29uZmlnLmRpc2FibGVPYmplY3RSZXNpemluZyk7ZS5leGVjQ29tbWFuZChcImVuYWJsZUlubGluZVRhYmxlRWRpdGluZ1wiLCExLCFhLmNvbmZpZy5kaXNhYmxlTmF0aXZlVGFibGVIYW5kbGVzKX1jYXRjaChoKXt9ZWxzZSBDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uJiZhLmNvbmZpZy5kaXNhYmxlT2JqZWN0UmVzaXppbmcmJmIoYSl9ZnVuY3Rpb24gYigpe3ZhciBhPVtdO2lmKDg8PUNLRURJVE9SLmRvY3VtZW50LiQuZG9jdW1lbnRNb2RlKXthLnB1c2goXCJodG1sLkNTUzFDb21wYXQgW2NvbnRlbnRlZGl0YWJsZVxceDNkZmFsc2Vde21pbi1oZWlnaHQ6MCAhaW1wb3J0YW50fVwiKTtcbnZhciBiPVtdLGM7Zm9yKGMgaW4gQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eSliLnB1c2goXCJodG1sLkNTUzFDb21wYXQgXCIrYytcIltjb250ZW50ZWRpdGFibGVcXHgzZGZhbHNlXVwiKTthLnB1c2goYi5qb2luKFwiLFwiKStcIntkaXNwbGF5OmlubGluZS1ibG9ja31cIil9ZWxzZSBDS0VESVRPUi5lbnYuZ2Vja28mJihhLnB1c2goXCJodG1se2hlaWdodDoxMDAlICFpbXBvcnRhbnR9XCIpLGEucHVzaChcImltZzotbW96LWJyb2tlbnstbW96LWZvcmNlLWJyb2tlbi1pbWFnZS1pY29uOjE7bWluLXdpZHRoOjI0cHg7bWluLWhlaWdodDoyNHB4fVwiKSk7YS5wdXNoKFwiaHRtbHtjdXJzb3I6dGV4dDsqY3Vyc29yOmF1dG99XCIpO2EucHVzaChcImltZyxpbnB1dCx0ZXh0YXJlYXtjdXJzb3I6ZGVmYXVsdH1cIik7cmV0dXJuIGEuam9pbihcIlxcblwiKX12YXIgYztDS0VESVRPUi5wbHVnaW5zLmFkZChcInd5c2l3eWdhcmVhXCIse2luaXQ6ZnVuY3Rpb24oYSl7YS5jb25maWcuZnVsbFBhZ2UmJmEuYWRkRmVhdHVyZSh7YWxsb3dlZENvbnRlbnQ6XCJodG1sIGhlYWQgdGl0bGU7IHN0eWxlIFttZWRpYSx0eXBlXTsgYm9keSAoKilbaWRdOyBtZXRhIGxpbmsgWypdXCIsXG5yZXF1aXJlZENvbnRlbnQ6XCJib2R5XCJ9KTthLmFkZE1vZGUoXCJ3eXNpd3lnXCIsZnVuY3Rpb24oYil7ZnVuY3Rpb24gZShmKXtmJiZmLnJlbW92ZUxpc3RlbmVyKCk7YS5lZGl0YWJsZShuZXcgYyhhLGguJC5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkpKTthLnNldERhdGEoYS5nZXREYXRhKDEpLGIpfXZhciBnPVwiZG9jdW1lbnQub3BlbigpO1wiKyhDS0VESVRPUi5lbnYuaWU/XCIoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO1wiOlwiXCIpK1wiZG9jdW1lbnQuY2xvc2UoKTtcIixnPUNLRURJVE9SLmVudi5haXI/XCJqYXZhc2NyaXB0OnZvaWQoMClcIjpDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9cImphdmFzY3JpcHQ6dm9pZChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChnKStcIn0oKSlcIjpcIlwiLGg9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjaWZyYW1lIHNyY1xceDNkXCInK2crJ1wiIGZyYW1lQm9yZGVyXFx4M2RcIjBcIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKTtcbmguc2V0U3R5bGVzKHt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9KTtoLmFkZENsYXNzKFwiY2tlX3d5c2l3eWdfZnJhbWVcIikuYWRkQ2xhc3MoXCJja2VfcmVzZXRcIik7Zz1hLnVpLnNwYWNlKFwiY29udGVudHNcIik7Zy5hcHBlbmQoaCk7dmFyIG09Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2V8fENLRURJVE9SLmVudi5nZWNrbztpZihtKWgub24oXCJsb2FkXCIsZSk7dmFyIGY9YS50aXRsZSxuPWEuZmlyZShcImFyaWFFZGl0b3JIZWxwTGFiZWxcIix7fSkubGFiZWw7ZiYmKENLRURJVE9SLmVudi5pZSYmbiYmKGYrPVwiLCBcIituKSxoLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZikpO2lmKG4pe3ZhciBmPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLHA9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjc3BhbiBpZFxceDNkXCInK2YrJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnK24rXCJcXHgzYy9zcGFuXFx4M2VcIik7Zy5hcHBlbmQocCwxKTtoLnNldEF0dHJpYnV0ZShcImFyaWEtZGVzY3JpYmVkYnlcIixcbmYpfWEub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpO3AmJnAucmVtb3ZlKCl9KTtoLnNldEF0dHJpYnV0ZXMoe3RhYkluZGV4OmEudGFiSW5kZXgsYWxsb3dUcmFuc3BhcmVuY3k6XCJ0cnVlXCJ9KTshbSYmZSgpO2EuZmlyZShcImFyaWFXaWRnZXRcIixoKX0pfX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkQ29udGVudHNDc3M9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb25maWcsYz1iLmNvbnRlbnRzQ3NzO0NLRURJVE9SLnRvb2xzLmlzQXJyYXkoYyl8fChiLmNvbnRlbnRzQ3NzPWM/W2NdOltdKTtiLmNvbnRlbnRzQ3NzLnB1c2goYSl9O2M9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oKXt0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuXy5mcmFtZUxvYWRlZEhhbmRsZXI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYil7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChhLFxuMCx0aGlzLGIpfSx0aGlzKTt0aGlzLl8uZG9jVGl0bGU9dGhpcy5nZXRXaW5kb3coKS5nZXRGcmFtZSgpLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpfSxiYXNlOkNLRURJVE9SLmVkaXRhYmxlLHByb3RvOntzZXREYXRhOmZ1bmN0aW9uKGEsYyl7dmFyIGU9dGhpcy5lZGl0b3I7aWYoYyl0aGlzLnNldEh0bWwoYSksdGhpcy5maXhJbml0aWFsU2VsZWN0aW9uKCksZS5maXJlKFwiZGF0YVJlYWR5XCIpO2Vsc2V7dGhpcy5fLmlzTG9hZGluZ0RhdGE9ITA7ZS5fLmRhdGFTdG9yZT17aWQ6MX07dmFyIGc9ZS5jb25maWcsaD1nLmZ1bGxQYWdlLG09Zy5kb2NUeXBlLGY9Q0tFRElUT1IudG9vbHMuYnVpbGRTdHlsZUh0bWwoYigpKS5yZXBsYWNlKC88c3R5bGU+LywnXFx4M2NzdHlsZSBkYXRhLWNrZS10ZW1wXFx4M2RcIjFcIlxceDNlJyk7aHx8KGYrPUNLRURJVE9SLnRvb2xzLmJ1aWxkU3R5bGVIdG1sKGUuY29uZmlnLmNvbnRlbnRzQ3NzKSk7dmFyIG49Zy5iYXNlSHJlZj8nXFx4M2NiYXNlIGhyZWZcXHgzZFwiJytcbmcuYmFzZUhyZWYrJ1wiIGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiIC9cXHgzZSc6XCJcIjtoJiYoYT1hLnJlcGxhY2UoLzwhRE9DVFlQRVtePl0qPi9pLGZ1bmN0aW9uKGEpe2UuZG9jVHlwZT1tPWE7cmV0dXJuXCJcIn0pLnJlcGxhY2UoLzxcXD94bWxcXHNbXlxcP10qXFw/Pi9pLGZ1bmN0aW9uKGEpe2UueG1sRGVjbGFyYXRpb249YTtyZXR1cm5cIlwifSkpO2E9ZS5kYXRhUHJvY2Vzc29yLnRvSHRtbChhKTtoPygvPGJvZHlbXFxzfD5dLy50ZXN0KGEpfHwoYT1cIlxceDNjYm9keVxceDNlXCIrYSksLzxodG1sW1xcc3w+XS8udGVzdChhKXx8KGE9XCJcXHgzY2h0bWxcXHgzZVwiK2ErXCJcXHgzYy9odG1sXFx4M2VcIiksLzxoZWFkW1xcc3w+XS8udGVzdChhKT8vPHRpdGxlW1xcc3w+XS8udGVzdChhKXx8KGE9YS5yZXBsYWNlKC88aGVhZFtePl0qPi8sXCIkXFx4MjZcXHgzY3RpdGxlXFx4M2VcXHgzYy90aXRsZVxceDNlXCIpKTphPWEucmVwbGFjZSgvPGh0bWxbXj5dKj4vLFwiJFxceDI2XFx4M2NoZWFkXFx4M2VcXHgzY3RpdGxlXFx4M2VcXHgzYy90aXRsZVxceDNlXFx4M2MvaGVhZFxceDNlXCIpLFxubiYmKGE9YS5yZXBsYWNlKC88aGVhZFtePl0qPz4vLFwiJFxceDI2XCIrbikpLGE9YS5yZXBsYWNlKC88XFwvaGVhZFxccyo+LyxmK1wiJFxceDI2XCIpLGE9bSthKTphPWcuZG9jVHlwZSsnXFx4M2NodG1sIGRpclxceDNkXCInK2cuY29udGVudHNMYW5nRGlyZWN0aW9uKydcIiBsYW5nXFx4M2RcIicrKGcuY29udGVudHNMYW5ndWFnZXx8ZS5sYW5nQ29kZSkrJ1wiXFx4M2VcXHgzY2hlYWRcXHgzZVxceDNjdGl0bGVcXHgzZScrdGhpcy5fLmRvY1RpdGxlK1wiXFx4M2MvdGl0bGVcXHgzZVwiK24rZitcIlxceDNjL2hlYWRcXHgzZVxceDNjYm9keVwiKyhnLmJvZHlJZD8nIGlkXFx4M2RcIicrZy5ib2R5SWQrJ1wiJzpcIlwiKSsoZy5ib2R5Q2xhc3M/JyBjbGFzc1xceDNkXCInK2cuYm9keUNsYXNzKydcIic6XCJcIikrXCJcXHgzZVwiK2ErXCJcXHgzYy9ib2R5XFx4M2VcXHgzYy9odG1sXFx4M2VcIjtDS0VESVRPUi5lbnYuZ2Vja28mJihhPWEucmVwbGFjZSgvPGJvZHkvLCdcXHgzY2JvZHkgY29udGVudGVkaXRhYmxlXFx4M2RcInRydWVcIiAnKSwyRTQ+Q0tFRElUT1IuZW52LnZlcnNpb24mJlxuKGE9YS5yZXBsYWNlKC88Ym9keVtePl0qPi8sXCIkXFx4MjZcXHgzYyEtLSBja2UtY29udGVudC1zdGFydCAtLVxceDNlXCIpKSk7Zz0nXFx4M2NzY3JpcHQgaWRcXHgzZFwiY2tlX2FjdHNjcnB0XCIgdHlwZVxceDNkXCJ0ZXh0L2phdmFzY3JpcHRcIicrKENLRURJVE9SLmVudi5pZT8nIGRlZmVyXFx4M2RcImRlZmVyXCIgJzpcIlwiKStcIlxceDNldmFyIHdhc0xvYWRlZFxceDNkMDtmdW5jdGlvbiBvbmxvYWQoKXtpZighd2FzTG9hZGVkKXdpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK3RoaXMuXy5mcmFtZUxvYWRlZEhhbmRsZXIrXCIsd2luZG93KTt3YXNMb2FkZWRcXHgzZDE7fVwiKyhDS0VESVRPUi5lbnYuaWU/XCJvbmxvYWQoKTtcIjonZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgb25sb2FkLCBmYWxzZSApOycpK1wiXFx4M2Mvc2NyaXB0XFx4M2VcIjtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJihnKz0nXFx4M2NzY3JpcHQgaWRcXHgzZFwiY2tlX3NoaW1zY3JwdFwiXFx4M2V3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmVuYWJsZUh0bWw1RWxlbWVudHMoZG9jdW1lbnQpXFx4M2Mvc2NyaXB0XFx4M2UnKTtcbm4mJkNLRURJVE9SLmVudi5pZSYmMTA+Q0tFRElUT1IuZW52LnZlcnNpb24mJihnKz0nXFx4M2NzY3JpcHQgaWRcXHgzZFwiY2tlX2Jhc2V0YWdzY3JwdFwiXFx4M2V2YXIgYmFzZVRhZyBcXHgzZCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBcImJhc2VcIiApO2Jhc2VUYWcuaHJlZiBcXHgzZCBiYXNlVGFnLmhyZWY7XFx4M2Mvc2NyaXB0XFx4M2UnKTthPWEucmVwbGFjZSgvKD89XFxzKjxcXC8oOj9oZWFkKT4pLyxnKTt0aGlzLmNsZWFyQ3VzdG9tRGF0YSgpO3RoaXMuY2xlYXJMaXN0ZW5lcnMoKTtlLmZpcmUoXCJjb250ZW50RG9tVW5sb2FkXCIpO3ZhciBwPXRoaXMuZ2V0RG9jdW1lbnQoKTt0cnl7cC53cml0ZShhKX1jYXRjaChyKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cC53cml0ZShhKX0sMCl9fX0sZ2V0RGF0YTpmdW5jdGlvbihhKXtpZihhKXJldHVybiB0aGlzLmdldEh0bWwoKTthPXRoaXMuZWRpdG9yO3ZhciBiPWEuY29uZmlnLGM9Yi5mdWxsUGFnZSxlPWMmJmEuZG9jVHlwZSxoPWMmJmEueG1sRGVjbGFyYXRpb24sXG5tPXRoaXMuZ2V0RG9jdW1lbnQoKSxjPWM/bS5nZXREb2N1bWVudEVsZW1lbnQoKS5nZXRPdXRlckh0bWwoKTptLmdldEJvZHkoKS5nZXRIdG1sKCk7Q0tFRElUT1IuZW52LmdlY2tvJiZiLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihjPWMucmVwbGFjZSgvPGJyPig/PVxccyooOj8kfDxcXC9ib2R5PikpLyxcIlwiKSk7Yz1hLmRhdGFQcm9jZXNzb3IudG9EYXRhRm9ybWF0KGMpO2gmJihjPWgrXCJcXG5cIitjKTtlJiYoYz1lK1wiXFxuXCIrYyk7cmV0dXJuIGN9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fLmlzTG9hZGluZ0RhdGE/dGhpcy5fLmlzUGVuZGluZ0ZvY3VzPSEwOmMuYmFzZVByb3RvLmZvY3VzLmNhbGwodGhpcyl9LGRldGFjaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLGI9YS5kb2N1bWVudCxlO3RyeXtlPWEud2luZG93LmdldEZyYW1lKCl9Y2F0Y2goZyl7fWMuYmFzZVByb3RvLmRldGFjaC5jYWxsKHRoaXMpO3RoaXMuY2xlYXJDdXN0b21EYXRhKCk7Yi5nZXREb2N1bWVudEVsZW1lbnQoKS5jbGVhckN1c3RvbURhdGEoKTtcbkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHRoaXMuXy5mcmFtZUxvYWRlZEhhbmRsZXIpO2UmJmUuZ2V0UGFyZW50KCk/KGUuY2xlYXJDdXN0b21EYXRhKCksKGE9ZS5yZW1vdmVDdXN0b21EYXRhKFwib25SZXNpemVcIikpJiZhLnJlbW92ZUxpc3RlbmVyKCksZS5yZW1vdmUoKSk6Q0tFRElUT1Iud2FybihcImVkaXRvci1kZXN0cm95LWlmcmFtZVwiKX19fSl9KCksQ0tFRElUT1IuY29uZmlnLmRpc2FibGVPYmplY3RSZXNpemluZz0hMSxDS0VESVRPUi5jb25maWcuZGlzYWJsZU5hdGl2ZVRhYmxlSGFuZGxlcz0hMCxDS0VESVRPUi5jb25maWcuZGlzYWJsZU5hdGl2ZVNwZWxsQ2hlY2tlcj0hMCxDS0VESVRPUi5jb25maWcucGx1Z2lucz1cImRpYWxvZ3VpLGRpYWxvZyxhMTF5aGVscCxhYm91dCxiYXNpY3N0eWxlcyxibG9ja3F1b3RlLG5vdGlmaWNhdGlvbixidXR0b24sdG9vbGJhcixjbGlwYm9hcmQscGFuZWwsZmxvYXRwYW5lbCxtZW51LGNvbnRleHRtZW51LGVsZW1lbnRzcGF0aCxpbmRlbnQsaW5kZW50bGlzdCxsaXN0LGVudGVya2V5LGVudGl0aWVzLHBvcHVwLGZpbGV0b29scyxmaWxlYnJvd3NlcixmbG9hdGluZ3NwYWNlLGxpc3RibG9jayxyaWNoY29tYm8sZm9ybWF0LGhvcml6b250YWxydWxlLGh0bWx3cml0ZXIsaW1hZ2UsZmFrZW9iamVjdHMsbGluayxtYWdpY2xpbmUsbWF4aW1pemUscGFzdGVmcm9td29yZCxwYXN0ZXRleHQscmVtb3ZlZm9ybWF0LHJlc2l6ZSxtZW51YnV0dG9uLHNjYXl0LHNob3dib3JkZXJzLHNvdXJjZWFyZWEsc3BlY2lhbGNoYXIsc3R5bGVzY29tYm8sdGFiLHRhYmxlLHRhYmxldG9vbHMsdGFibGVzZWxlY3Rpb24sdW5kbyxsaW5ldXRpbHMsd2lkZ2V0c2VsZWN0aW9uLHdpZGdldCxub3RpZmljYXRpb25hZ2dyZWdhdG9yLHVwbG9hZHdpZGdldCx1cGxvYWRpbWFnZSx3c2Msd3lzaXd5Z2FyZWFcIixcbkNLRURJVE9SLmNvbmZpZy5za2luPVwibW9vbm8tbGlzYVwiLGZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1DS0VESVRPUi5nZXRVcmwoXCJwbHVnaW5zL1wiK2IpO2E9YS5zcGxpdChcIixcIik7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspQ0tFRElUT1Iuc2tpbi5pY29uc1thW2RdXT17cGF0aDpjLG9mZnNldDotYVsrK2RdLGJnc2l6ZTphWysrZF19fTtDS0VESVRPUi5lbnYuaGlkcGk/YShcImFib3V0LDAsLGJvbGQsMjQsLGl0YWxpYyw0OCwsc3RyaWtlLDcyLCxzdWJzY3JpcHQsOTYsLHN1cGVyc2NyaXB0LDEyMCwsdW5kZXJsaW5lLDE0NCwsYmlkaWx0ciwxNjgsLGJpZGlydGwsMTkyLCxibG9ja3F1b3RlLDIxNiwsY29weS1ydGwsMjQwLCxjb3B5LDI2NCwsY3V0LXJ0bCwyODgsLGN1dCwzMTIsLHBhc3RlLXJ0bCwzMzYsLHBhc3RlLDM2MCwsY29kZXNuaXBwZXQsMzg0LCxiZ2NvbG9yLDQwOCwsdGV4dGNvbG9yLDQzMiwsY29weWZvcm1hdHRpbmcsNDU2LCxjcmVhdGVkaXYsNDgwLCxkb2Nwcm9wcy1ydGwsNTA0LCxkb2Nwcm9wcyw1MjgsLGVhc3lpbWFnZWFsaWduY2VudGVyLDU1MiwsZWFzeWltYWdlYWxpZ25sZWZ0LDU3NiwsZWFzeWltYWdlYWxpZ25yaWdodCw2MDAsLGVhc3lpbWFnZWFsdCw2MjQsLGVhc3lpbWFnZWZ1bGwsNjQ4LCxlYXN5aW1hZ2VzaWRlLDY3MiwsZWFzeWltYWdldXBsb2FkLDY5NiwsZW1iZWQsNzIwLCxlbWJlZHNlbWFudGljLDc0NCwsZmluZC1ydGwsNzY4LCxmaW5kLDc5MiwscmVwbGFjZSw4MTYsLGZsYXNoLDg0MCwsYnV0dG9uLDg2NCwsY2hlY2tib3gsODg4LCxmb3JtLDkxMiwsaGlkZGVuZmllbGQsOTM2LCxpbWFnZWJ1dHRvbiw5NjAsLHJhZGlvLDk4NCwsc2VsZWN0LXJ0bCwxMDA4LCxzZWxlY3QsMTAzMiwsdGV4dGFyZWEtcnRsLDEwNTYsLHRleHRhcmVhLDEwODAsLHRleHRmaWVsZC1ydGwsMTEwNCwsdGV4dGZpZWxkLDExMjgsLGhvcml6b250YWxydWxlLDExNTIsLGlmcmFtZSwxMTc2LCxpbWFnZSwxMjAwLCxpbmRlbnQtcnRsLDEyMjQsLGluZGVudCwxMjQ4LCxvdXRkZW50LXJ0bCwxMjcyLCxvdXRkZW50LDEyOTYsLGp1c3RpZnlibG9jaywxMzIwLCxqdXN0aWZ5Y2VudGVyLDEzNDQsLGp1c3RpZnlsZWZ0LDEzNjgsLGp1c3RpZnlyaWdodCwxMzkyLCxsYW5ndWFnZSwxNDE2LCxhbmNob3ItcnRsLDE0NDAsLGFuY2hvciwxNDY0LCxsaW5rLDE0ODgsLHVubGluaywxNTEyLCxidWxsZXRlZGxpc3QtcnRsLDE1MzYsLGJ1bGxldGVkbGlzdCwxNTYwLCxudW1iZXJlZGxpc3QtcnRsLDE1ODQsLG51bWJlcmVkbGlzdCwxNjA4LCxtYXRoamF4LDE2MzIsLG1heGltaXplLDE2NTYsLG5ld3BhZ2UtcnRsLDE2ODAsLG5ld3BhZ2UsMTcwNCwscGFnZWJyZWFrLXJ0bCwxNzI4LCxwYWdlYnJlYWssMTc1MiwscGFzdGVmcm9td29yZC1ydGwsMTc3NiwscGFzdGVmcm9td29yZCwxODAwLCxwYXN0ZXRleHQtcnRsLDE4MjQsLHBhc3RldGV4dCwxODQ4LCxwbGFjZWhvbGRlciwxODcyLCxwcmV2aWV3LXJ0bCwxODk2LCxwcmV2aWV3LDE5MjAsLHByaW50LDE5NDQsLHJlbW92ZWZvcm1hdCwxOTY4LCxzYXZlLDE5OTIsLHNjYXl0LDIwMTYsLHNlbGVjdGFsbCwyMDQwLCxzaG93YmxvY2tzLXJ0bCwyMDY0LCxzaG93YmxvY2tzLDIwODgsLHNtaWxleSwyMTEyLCxzb3VyY2UtcnRsLDIxMzYsLHNvdXJjZSwyMTYwLCxzb3VyY2VkaWFsb2ctcnRsLDIxODQsLHNvdXJjZWRpYWxvZywyMjA4LCxzcGVjaWFsY2hhciwyMjMyLCx0YWJsZSwyMjU2LCx0ZW1wbGF0ZXMtcnRsLDIyODAsLHRlbXBsYXRlcywyMzA0LCx1aWNvbG9yLDIzMjgsLHJlZG8tcnRsLDIzNTIsLHJlZG8sMjM3NiwsdW5kby1ydGwsMjQwMCwsdW5kbywyNDI0LCxzaW1wbGVib3gsNDg5NixhdXRvLHNwZWxsY2hlY2tlciwyNDcyLFwiLFxuXCJpY29uc19oaWRwaS5wbmdcIik6YShcImFib3V0LDAsYXV0byxib2xkLDI0LGF1dG8saXRhbGljLDQ4LGF1dG8sc3RyaWtlLDcyLGF1dG8sc3Vic2NyaXB0LDk2LGF1dG8sc3VwZXJzY3JpcHQsMTIwLGF1dG8sdW5kZXJsaW5lLDE0NCxhdXRvLGJpZGlsdHIsMTY4LGF1dG8sYmlkaXJ0bCwxOTIsYXV0byxibG9ja3F1b3RlLDIxNixhdXRvLGNvcHktcnRsLDI0MCxhdXRvLGNvcHksMjY0LGF1dG8sY3V0LXJ0bCwyODgsYXV0byxjdXQsMzEyLGF1dG8scGFzdGUtcnRsLDMzNixhdXRvLHBhc3RlLDM2MCxhdXRvLGNvZGVzbmlwcGV0LDM4NCxhdXRvLGJnY29sb3IsNDA4LGF1dG8sdGV4dGNvbG9yLDQzMixhdXRvLGNvcHlmb3JtYXR0aW5nLDQ1NixhdXRvLGNyZWF0ZWRpdiw0ODAsYXV0byxkb2Nwcm9wcy1ydGwsNTA0LGF1dG8sZG9jcHJvcHMsNTI4LGF1dG8sZWFzeWltYWdlYWxpZ25jZW50ZXIsNTUyLGF1dG8sZWFzeWltYWdlYWxpZ25sZWZ0LDU3NixhdXRvLGVhc3lpbWFnZWFsaWducmlnaHQsNjAwLGF1dG8sZWFzeWltYWdlYWx0LDYyNCxhdXRvLGVhc3lpbWFnZWZ1bGwsNjQ4LGF1dG8sZWFzeWltYWdlc2lkZSw2NzIsYXV0byxlYXN5aW1hZ2V1cGxvYWQsNjk2LGF1dG8sZW1iZWQsNzIwLGF1dG8sZW1iZWRzZW1hbnRpYyw3NDQsYXV0byxmaW5kLXJ0bCw3NjgsYXV0byxmaW5kLDc5MixhdXRvLHJlcGxhY2UsODE2LGF1dG8sZmxhc2gsODQwLGF1dG8sYnV0dG9uLDg2NCxhdXRvLGNoZWNrYm94LDg4OCxhdXRvLGZvcm0sOTEyLGF1dG8saGlkZGVuZmllbGQsOTM2LGF1dG8saW1hZ2VidXR0b24sOTYwLGF1dG8scmFkaW8sOTg0LGF1dG8sc2VsZWN0LXJ0bCwxMDA4LGF1dG8sc2VsZWN0LDEwMzIsYXV0byx0ZXh0YXJlYS1ydGwsMTA1NixhdXRvLHRleHRhcmVhLDEwODAsYXV0byx0ZXh0ZmllbGQtcnRsLDExMDQsYXV0byx0ZXh0ZmllbGQsMTEyOCxhdXRvLGhvcml6b250YWxydWxlLDExNTIsYXV0byxpZnJhbWUsMTE3NixhdXRvLGltYWdlLDEyMDAsYXV0byxpbmRlbnQtcnRsLDEyMjQsYXV0byxpbmRlbnQsMTI0OCxhdXRvLG91dGRlbnQtcnRsLDEyNzIsYXV0byxvdXRkZW50LDEyOTYsYXV0byxqdXN0aWZ5YmxvY2ssMTMyMCxhdXRvLGp1c3RpZnljZW50ZXIsMTM0NCxhdXRvLGp1c3RpZnlsZWZ0LDEzNjgsYXV0byxqdXN0aWZ5cmlnaHQsMTM5MixhdXRvLGxhbmd1YWdlLDE0MTYsYXV0byxhbmNob3ItcnRsLDE0NDAsYXV0byxhbmNob3IsMTQ2NCxhdXRvLGxpbmssMTQ4OCxhdXRvLHVubGluaywxNTEyLGF1dG8sYnVsbGV0ZWRsaXN0LXJ0bCwxNTM2LGF1dG8sYnVsbGV0ZWRsaXN0LDE1NjAsYXV0byxudW1iZXJlZGxpc3QtcnRsLDE1ODQsYXV0byxudW1iZXJlZGxpc3QsMTYwOCxhdXRvLG1hdGhqYXgsMTYzMixhdXRvLG1heGltaXplLDE2NTYsYXV0byxuZXdwYWdlLXJ0bCwxNjgwLGF1dG8sbmV3cGFnZSwxNzA0LGF1dG8scGFnZWJyZWFrLXJ0bCwxNzI4LGF1dG8scGFnZWJyZWFrLDE3NTIsYXV0byxwYXN0ZWZyb213b3JkLXJ0bCwxNzc2LGF1dG8scGFzdGVmcm9td29yZCwxODAwLGF1dG8scGFzdGV0ZXh0LXJ0bCwxODI0LGF1dG8scGFzdGV0ZXh0LDE4NDgsYXV0byxwbGFjZWhvbGRlciwxODcyLGF1dG8scHJldmlldy1ydGwsMTg5NixhdXRvLHByZXZpZXcsMTkyMCxhdXRvLHByaW50LDE5NDQsYXV0byxyZW1vdmVmb3JtYXQsMTk2OCxhdXRvLHNhdmUsMTk5MixhdXRvLHNjYXl0LDIwMTYsYXV0byxzZWxlY3RhbGwsMjA0MCxhdXRvLHNob3dibG9ja3MtcnRsLDIwNjQsYXV0byxzaG93YmxvY2tzLDIwODgsYXV0byxzbWlsZXksMjExMixhdXRvLHNvdXJjZS1ydGwsMjEzNixhdXRvLHNvdXJjZSwyMTYwLGF1dG8sc291cmNlZGlhbG9nLXJ0bCwyMTg0LGF1dG8sc291cmNlZGlhbG9nLDIyMDgsYXV0byxzcGVjaWFsY2hhciwyMjMyLGF1dG8sdGFibGUsMjI1NixhdXRvLHRlbXBsYXRlcy1ydGwsMjI4MCxhdXRvLHRlbXBsYXRlcywyMzA0LGF1dG8sdWljb2xvciwyMzI4LGF1dG8scmVkby1ydGwsMjM1MixhdXRvLHJlZG8sMjM3NixhdXRvLHVuZG8tcnRsLDI0MDAsYXV0byx1bmRvLDI0MjQsYXV0byxzaW1wbGVib3gsMjQ0OCxhdXRvLHNwZWxsY2hlY2tlciwyNDcyLGF1dG9cIixcblwiaWNvbnMucG5nXCIpfSgpKX0pKCk7IiwiLyohXG4gKiBtb25leS5qcyAvIGZ4KCkgdjAuMlxuICogQ29weXJpZ2h0IDIwMTQgT3BlbiBFeGNoYW5nZSBSYXRlc1xuICpcbiAqIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgcmVhbHRpbWUgY3VycmVuY3kgY29udmVyc2lvbiBhbmQgZXhjaGFuZ2UgcmF0ZSBjYWxjdWxhdGlvbi5cbiAqXG4gKiBGcmVlbHkgZGlzdHJpYnV0YWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBQb3J0aW9ucyBvZiBtb25leS5qcyBhcmUgaW5zcGlyZWQgYnkgb3IgYm9ycm93ZWQgZnJvbSB1bmRlcnNjb3JlLmpzXG4gKlxuICogRm9yIGRldGFpbHMsIGV4YW1wbGVzIGFuZCBkb2N1bWVudGF0aW9uOlxuICogaHR0cDovL29wZW5leGNoYW5nZXJhdGVzLmdpdGh1Yi5pby9tb25leS5qcy9cbiAqL1xuKGZ1bmN0aW9uKHJvb3QsIHVuZGVmaW5lZCkge1xuXG5cdC8vIENyZWF0ZSBhIHNhZmUgcmVmZXJlbmNlIHRvIHRoZSBtb25leS5qcyBvYmplY3QgZm9yIHVzZSBiZWxvdy5cblx0dmFyIGZ4ID0gZnVuY3Rpb24ob2JqKSB7XG5cdFx0cmV0dXJuIG5ldyBmeFdyYXBwZXIob2JqKTtcblx0fTtcblxuXHQvLyBDdXJyZW50IHZlcnNpb24uXG5cdGZ4LnZlcnNpb24gPSAnMC4yJztcblxuXG5cdC8qIC0tLSBTZXR1cCAtLS0gKi9cblxuXHQvLyBmeFNldHVwIGNhbiBiZSBkZWZpbmVkIGJlZm9yZSBsb2FkaW5nIG1vbmV5LmpzLCB0byBzZXQgdGhlIGV4Y2hhbmdlIHJhdGVzIGFuZCB0aGUgYmFzZVxuXHQvLyAoYW5kIGRlZmF1bHQgZnJvbS90bykgY3VycmVuY2llcyAtIG9yIHRoZSByYXRlcyBjYW4gYmUgbG9hZGVkIGluIGxhdGVyIGlmIG5lZWRlZC5cblx0dmFyIGZ4U2V0dXAgPSByb290LmZ4U2V0dXAgfHwge1xuXHRcdHJhdGVzIDoge30sXG5cdFx0YmFzZSA6IFwiXCJcblx0fTtcblxuXHQvLyBPYmplY3QgY29udGFpbmluZyBleGNoYW5nZSByYXRlcyByZWxhdGl2ZSB0byB0aGUgZnguYmFzZSBjdXJyZW5jeSwgZWcgeyBcIkdCUFwiIDogXCIwLjY0XCIgfVxuXHRmeC5yYXRlcyA9IGZ4U2V0dXAucmF0ZXM7XG5cblx0Ly8gRGVmYXVsdCBleGNoYW5nZSByYXRlIGJhc2UgY3VycmVuY3kgKGVnIFwiVVNEXCIpLCB3aGljaCBhbGwgdGhlIGV4Y2hhbmdlIHJhdGVzIGFyZSByZWxhdGl2ZSB0b1xuXHRmeC5iYXNlID0gZnhTZXR1cC5iYXNlO1xuXG5cdC8vIERlZmF1bHQgZnJvbSAvIHRvIGN1cnJlbmNpZXMgZm9yIGNvbnZlcnNpb24gdmlhIGZ4LmNvbnZlcnQoKTpcblx0Znguc2V0dGluZ3MgPSB7XG5cdFx0ZnJvbSA6IGZ4U2V0dXAuZnJvbSB8fCBmeC5iYXNlLFxuXHRcdHRvIDogZnhTZXR1cC50byB8fCBmeC5iYXNlXG5cdH07XG5cblxuXHQvKiAtLS0gQ29udmVyc2lvbiAtLS0gKi9cblxuXHQvLyBUaGUgYmFzZSBmdW5jdGlvbiBvZiB0aGUgbGlicmFyeTogY29udmVydHMgYSB2YWx1ZSBmcm9tIG9uZSBjdXJyZW5jeSB0byBhbm90aGVyXG5cdHZhciBjb252ZXJ0ID0gZnguY29udmVydCA9IGZ1bmN0aW9uKHZhbCwgb3B0cykge1xuXHRcdC8vIENvbnZlcnQgYXJyYXlzIHJlY3Vyc2l2ZWx5XG5cdFx0aWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbC5sZW5ndGgpIHtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpPCB2YWwubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdHZhbFtpXSA9IGNvbnZlcnQodmFsW2ldLCBvcHRzKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHdlIGdvdHMgc29tZSBvcHRzXG5cdFx0b3B0cyA9IG9wdHMgfHwge307XG5cblx0XHQvLyBXZSBuZWVkIHRvIGtub3cgdGhlIGBmcm9tYCBhbmQgYHRvYCBjdXJyZW5jaWVzXG5cdFx0aWYoICFvcHRzLmZyb20gKSBvcHRzLmZyb20gPSBmeC5zZXR0aW5ncy5mcm9tO1xuXHRcdGlmKCAhb3B0cy50byApIG9wdHMudG8gPSBmeC5zZXR0aW5ncy50bztcblxuXHRcdC8vIE11bHRpcGxlIHRoZSB2YWx1ZSBieSB0aGUgZXhjaGFuZ2UgcmF0ZVxuXHRcdHJldHVybiB2YWwgKiBnZXRSYXRlKCBvcHRzLnRvLCBvcHRzLmZyb20gKTtcblx0fTtcblxuXHQvLyBSZXR1cm5zIHRoZSBleGNoYW5nZSByYXRlIHRvIGB0YXJnZXRgIGN1cnJlbmN5IGZyb20gYGJhc2VgIGN1cnJlbmN5XG5cdHZhciBnZXRSYXRlID0gZnVuY3Rpb24odG8sIGZyb20pIHtcblx0XHQvLyBTYXZlIGJ5dGVzIGluIG1pbmlmaWVkIHZlcnNpb25cblx0XHR2YXIgcmF0ZXMgPSBmeC5yYXRlcztcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgYmFzZSByYXRlIGlzIGluIHRoZSByYXRlcyBvYmplY3Q6XG5cdFx0cmF0ZXNbZnguYmFzZV0gPSAxO1xuXG5cdFx0Ly8gVGhyb3cgYW4gZXJyb3IgaWYgZWl0aGVyIHJhdGUgaXNuJ3QgaW4gdGhlIHJhdGVzIGFycmF5XG5cdFx0aWYgKCAhcmF0ZXNbdG9dIHx8ICFyYXRlc1tmcm9tXSApIHRocm93IFwiZnggZXJyb3JcIjtcblxuXHRcdC8vIElmIGBmcm9tYCBjdXJyZW5jeSA9PT0gZnguYmFzZSwgcmV0dXJuIHRoZSBiYXNpYyBleGNoYW5nZSByYXRlIGZvciB0aGUgYHRvYCBjdXJyZW5jeVxuXHRcdGlmICggZnJvbSA9PT0gZnguYmFzZSApIHtcblx0XHRcdHJldHVybiByYXRlc1t0b107XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYHRvYCBjdXJyZW5jeSA9PT0gZnguYmFzZSwgcmV0dXJuIHRoZSBiYXNpYyBpbnZlcnNlIHJhdGUgb2YgdGhlIGBmcm9tYCBjdXJyZW5jeVxuXHRcdGlmICggdG8gPT09IGZ4LmJhc2UgKSB7XG5cdFx0XHRyZXR1cm4gMSAvIHJhdGVzW2Zyb21dO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSwgcmV0dXJuIHRoZSBgdG9gIHJhdGUgbXVsdGlwbGVkIGJ5IHRoZSBpbnZlcnNlIG9mIHRoZSBgZnJvbWAgcmF0ZSB0byBnZXQgdGhlXG5cdFx0Ly8gcmVsYXRpdmUgZXhjaGFuZ2UgcmF0ZSBiZXR3ZWVuIHRoZSB0d28gY3VycmVuY2llc1xuXHRcdHJldHVybiByYXRlc1t0b10gKiAoMSAvIHJhdGVzW2Zyb21dKTtcblx0fTtcblxuXG5cdC8qIC0tLSBPT1Agd3JhcHBlciBhbmQgY2hhaW5pbmcgLS0tICovXG5cblx0Ly8gSWYgZngodmFsKSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgT08tc3R5bGVcblx0dmFyIGZ4V3JhcHBlciA9IGZ1bmN0aW9uKHZhbCkge1xuXHRcdC8vIEV4cGVyaW1lbnRhbDogcGFyc2Ugc3RyaW5ncyB0byBwdWxsIG91dCBjdXJyZW5jeSBjb2RlIGFuZCB2YWx1ZTpcblx0XHRpZiAoIHR5cGVvZlx0dmFsID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dGhpcy5fdiA9IHBhcnNlRmxvYXQodmFsLnJlcGxhY2UoL1teMC05LS5dL2csIFwiXCIpKTtcblx0XHRcdHRoaXMuX2Z4ID0gdmFsLnJlcGxhY2UoLyhbXkEtWmEtel0pL2csIFwiXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl92ID0gdmFsO1xuXHRcdH1cblx0fTtcblxuXHQvLyBFeHBvc2UgYHdyYXBwZXIucHJvdG90eXBlYCBhcyBgZngucHJvdG90eXBlYFxuXHR2YXIgZnhQcm90byA9IGZ4LnByb3RvdHlwZSA9IGZ4V3JhcHBlci5wcm90b3R5cGU7XG5cblx0Ly8gZngodmFsKS5jb252ZXJ0KG9wdHMpIGRvZXMgdGhlIHNhbWUgdGhpbmcgYXMgZnguY29udmVydCh2YWwsIG9wdHMpXG5cdGZ4UHJvdG8uY29udmVydCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0XHRhcmdzLnVuc2hpZnQodGhpcy5fdik7XG5cdFx0cmV0dXJuIGNvbnZlcnQuYXBwbHkoZngsIGFyZ3MpO1xuXHR9O1xuXG5cdC8vIGZ4KHZhbCkuZnJvbShjdXJyZW5jeSkgcmV0dXJucyBhIHdyYXBwZWQgYGZ4YCB3aGVyZSB0aGUgdmFsdWUgaGFzIGJlZW4gY29udmVydGVkIGZyb21cblx0Ly8gYGN1cnJlbmN5YCB0byB0aGUgYGZ4LmJhc2VgIGN1cnJlbmN5LiBTaG91bGQgYmUgZm9sbG93ZWQgYnkgYC50byhvdGhlckN1cnJlbmN5KWBcblx0ZnhQcm90by5mcm9tID0gZnVuY3Rpb24oY3VycmVuY3kpIHtcblx0XHR2YXIgd3JhcHBlZCA9IGZ4KGNvbnZlcnQodGhpcy5fdiwge2Zyb206IGN1cnJlbmN5LCB0bzogZnguYmFzZX0pKTtcblx0XHR3cmFwcGVkLl9meCA9IGZ4LmJhc2U7XG5cdFx0cmV0dXJuIHdyYXBwZWQ7XG5cdH07XG5cblx0Ly8gZngodmFsKS50byhjdXJyZW5jeSkgcmV0dXJucyB0aGUgdmFsdWUsIGNvbnZlcnRlZCBmcm9tIGBmeC5iYXNlYCB0byBgY3VycmVuY3lgXG5cdGZ4UHJvdG8udG8gPSBmdW5jdGlvbihjdXJyZW5jeSkge1xuXHRcdHJldHVybiBjb252ZXJ0KHRoaXMuX3YsIHtmcm9tOiB0aGlzLl9meCA/IHRoaXMuX2Z4IDogZnguc2V0dGluZ3MuZnJvbSwgdG86IGN1cnJlbmN5fSk7XG5cdH07XG5cblxuXHQvKiAtLS0gTW9kdWxlIERlZmluaXRpb24gLS0tICovXG5cblx0Ly8gRXhwb3J0IHRoZSBmeCBvYmplY3QgZm9yIENvbW1vbkpTLiBJZiBiZWluZyBsb2FkZWQgYXMgYW4gQU1EIG1vZHVsZSwgZGVmaW5lIGl0IGFzIHN1Y2guXG5cdC8vIE90aGVyd2lzZSwganVzdCBhZGQgYGZ4YCB0byB0aGUgZ2xvYmFsIG9iamVjdFxuXHRpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0XHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmeDtcblx0XHR9XG5cdFx0ZXhwb3J0cy5meCA9IGZ4O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIFJldHVybiB0aGUgbGlicmFyeSBhcyBhbiBBTUQgbW9kdWxlOlxuXHRcdGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZng7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gVXNlIGZ4Lm5vQ29uZmxpY3QgdG8gcmVzdG9yZSBgZnhgIGJhY2sgdG8gaXRzIG9yaWdpbmFsIHZhbHVlIGJlZm9yZSBtb25leS5qcyBsb2FkZWQuXG5cdFx0Ly8gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgbGlicmFyeSdzIGBmeGAgb2JqZWN0OyBlLmcuIGB2YXIgbW9uZXkgPSBmeC5ub0NvbmZsaWN0KCk7YFxuXHRcdGZ4Lm5vQ29uZmxpY3QgPSAoZnVuY3Rpb24ocHJldmlvdXNGeCkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvLyBSZXNldCB0aGUgdmFsdWUgb2YgdGhlIHJvb3QncyBgZnhgIHZhcmlhYmxlOlxuXHRcdFx0XHRyb290LmZ4ID0gcHJldmlvdXNGeDtcblx0XHRcdFx0Ly8gRGVsZXRlIHRoZSBub0NvbmZsaWN0IGZ1bmN0aW9uOlxuXHRcdFx0XHRmeC5ub0NvbmZsaWN0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHQvLyBSZXR1cm4gcmVmZXJlbmNlIHRvIHRoZSBsaWJyYXJ5IHRvIHJlLWFzc2lnbiBpdDpcblx0XHRcdFx0cmV0dXJuIGZ4O1xuXHRcdFx0fTtcblx0XHR9KShyb290LmZ4KTtcblxuXHRcdC8vIERlY2xhcmUgYGZ4YCBvbiB0aGUgcm9vdCAoZ2xvYmFsL3dpbmRvdykgb2JqZWN0OlxuXHRcdHJvb3RbJ2Z4J10gPSBmeDtcblx0fVxuXG5cdC8vIFJvb3Qgd2lsbCBiZSBgd2luZG93YCBpbiBicm93c2VyIG9yIGBnbG9iYWxgIG9uIHRoZSBzZXJ2ZXI6XG59KHRoaXMpKTtcbiJdfQ=="}